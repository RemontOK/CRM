import{_ as S,b as Yo,d as Bm,a as Ae,r as f,j as s,u as Hm,e as Wm,B,T as j,D as Ms,L as Gr,A as Gm,f as Um,I as Be,M as qm,g as bl,N as us,h as st,i as Aa,k as Km,l as le,m as Qm,n as Xm,o as Ym,p as Po,q as ko,s as vl,G as Zm,t as Jm,v as Yu,S as Zu,C as eg,w as Se,x as Ju,y as Ee,z as tg,E as re,F as bt,H as yl,V as ng,J as ts,K as rg,O as ge,Q as A,U as cn,W as sg,X as un,Y as ds,Z as at,$ as og,a0 as Cl,a1 as ed,a2 as td,a3 as ig,a4 as He,a5 as $e,a6 as ve,a7 as sn,a8 as Da,a9 as Yt,aa as Cr,ab as Zo,ac as br,ad as $t,ae as nd,af as ut,ag as rd,ah as lg,ai as Xt,aj as wl,ak as sd,al as ag,am as Sl,an as en,ao as jl,ap as $r,aq as cg,ar as ug,as as hs,at as dg,au as et,av as ze,aw as hg,ax as fg,ay as Oa,az as Is,aA as mg,aB as Ln,aC as tt,aD as gg,aE as od,aF as pg,aG as id,P as X,aH as bi,aI as vt,aJ as yt,aK as Pl,aL as Ct,aM as xg,aN as wt,aO as ld,aP as Eo,aQ as ps,aR as xs,aS as bs,aT as Kt,aU as Ie,aV as vs,aW as _a,aX as Zs,aY as bg,aZ as vg,a_ as gr,a$ as Jo,b0 as Vs,b1 as ad,b2 as yg,b3 as Cg,b4 as Qr,b5 as Xr,b6 as Va,b7 as $a,b8 as La,b9 as Hi,ba as kl,bb as wg,bc as vi,bd as Sg,be as El,bf as jg,bg as Pg,bh as kg,bi as Ra,bj as cd,bk as gn,bl as Eg,bm as Mg,bn as Ig,bo as Js,bp as Vn,bq as Na,br as Fg,bs as Tg,bt as Ag,bu as Dg,bv as Og}from"./mui-DddEib6v.js";import{a as _g,g as ud}from"./vendor-Ckhrjn13.js";import{u as Vg,a as $g,R as Lg,b as an,N as za,B as Rg}from"./router-C72OQjNT.js";import{R as Lr,L as dd,C as fo,X as mo,Y as go,T as Rr,a as hd,P as fd,b as md,c as gd,A as Ng,d as zg,B as Bg,e as Hg}from"./charts-XLGU9-64.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var eo={},Ba;function Wg(){if(Ba)return eo;Ba=1;var e=_g();return eo.createRoot=e.createRoot,eo.hydrateRoot=e.hydrateRoot,eo}var Gg=Wg();const Ug=ud(Gg);var ei=(function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var o=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){o.listeners=o.listeners.filter(function(l){return l!==i}),o.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e})(),pd=typeof window>"u";function At(){}function qg(e,t){return typeof e=="function"?e(t):e}function Kg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Mo(e){return Array.isArray(e)?e:[e]}function Qg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yi(e,t,n){return ti(e)?typeof t=="function"?S({},n,{queryKey:e,queryFn:t}):S({},t,{queryKey:e}):e}function zn(e,t,n){return ti(e)?[S({},t,{queryKey:e}),n]:[e||{},t]}function Xg(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function Ha(e,t){var n=e.active,r=e.exact,o=e.fetching,i=e.inactive,l=e.predicate,a=e.queryKey,c=e.stale;if(ti(a)){if(r){if(t.queryHash!==Ml(a,t.options))return!1}else if(!Io(t.queryKey,a))return!1}var u=Xg(n,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof o=="boolean"&&t.isFetching()!==o||l&&!l(t))}function Wa(e,t){var n=e.exact,r=e.fetching,o=e.predicate,i=e.mutationKey;if(ti(i)){if(!t.options.mutationKey)return!1;if(n){if(ur(t.options.mutationKey)!==ur(i))return!1}else if(!Io(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||o&&!o(t))}function Ml(e,t){var n=t?.queryKeyHashFn||ur;return n(e)}function ur(e){var t=Mo(e);return Yg(t)}function Yg(e){return JSON.stringify(e,function(t,n){return Wi(n)?Object.keys(n).sort().reduce(function(r,o){return r[o]=n[o],r},{}):n})}function Io(e,t){return xd(Mo(e),Mo(t))}function xd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!xd(e[n],t[n])}):!1}function bd(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||Wi(e)&&Wi(t)){for(var r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},a=0,c=0;c<i;c++){var u=n?c:o[c];l[u]=bd(e[u],t[u]),l[u]===e[u]&&a++}return r===i&&a===r?e:l}return t}function Wi(e){if(!Ga(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!Ga(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ga(e){return Object.prototype.toString.call(e)==="[object Object]"}function ti(e){return typeof e=="string"||Array.isArray(e)}function Zg(e){return new Promise(function(t){setTimeout(t,e)})}function Ua(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function vd(){if(typeof AbortController=="function")return new AbortController}var Jg=(function(e){Yo(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!pd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setFocused(a):l.onFocus()})},n.setFocused=function(o){this.focused=o,o&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(o){o()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t})(ei),po=new Jg,ep=(function(e){Yo(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!pd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setOnline(a):l.onOnline()})},n.setOnline=function(o){this.online=o,o&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(o){o()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t})(ei),xo=new ep;function tp(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Fo(e){return typeof e?.cancel=="function"}var yd=function(t){this.revert=t?.revert,this.silent=t?.silent};function Ci(e){return e instanceof yd}var Cd=function(t){var n=this,r=!1,o,i,l,a;this.abort=t.abort,this.cancel=function(m){return o?.(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,p){l=m,a=p});var c=function(p){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(p),i?.(),l(p))},u=function(p){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(p),i?.(),a(p))},d=function(){return new Promise(function(p){i=p,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},h=function m(){if(!n.isResolved){var p;try{p=t.fn()}catch(w){p=Promise.reject(w)}o=function(b){if(!n.isResolved&&(u(new yd(b)),n.abort==null||n.abort(),Fo(p)))try{p.cancel()}catch{}},n.isTransportCancelable=Fo(p),Promise.resolve(p).then(c).catch(function(w){var b,v;if(!n.isResolved){var C=(b=t.retry)!=null?b:3,x=(v=t.retryDelay)!=null?v:tp,y=typeof x=="function"?x(n.failureCount,w):x,g=C===!0||typeof C=="number"&&n.failureCount<C||typeof C=="function"&&C(n.failureCount,w);if(r||!g){u(w);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,w),Zg(y).then(function(){if(!po.isFocused()||!xo.isOnline())return d()}).then(function(){r?u(w):m()})}})}};h()},np=(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var o;this.transactions++;try{o=r()}finally{this.transactions--,this.transactions||this.flush()}return o},t.schedule=function(r){var o=this;this.transactions?this.queue.push(r):Ua(function(){o.notifyFn(r)})},t.batchCalls=function(r){var o=this;return function(){for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];o.schedule(function(){r.apply(void 0,l)})}},t.flush=function(){var r=this,o=this.queue;this.queue=[],o.length&&Ua(function(){r.batchNotifyFn(function(){o.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e})(),kt=new np,wd=console;function Sd(){return wd}function rp(e){wd=e}var sp=(function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var o;this.options=S({},this.defaultOptions,r),this.meta=r?.meta,this.cacheTime=Math.max(this.cacheTime||0,(o=this.options.cacheTime)!=null?o:300*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Kg(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,o){var i,l,a=this.state.data,c=qg(r,a);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,a,c)?c=a:this.options.structuralSharing!==!1&&(c=bd(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:o?.updatedAt}),c},t.setState=function(r,o){this.dispatch({type:"setState",state:r,setStateOptions:o})},t.cancel=function(r){var o,i=this.promise;return(o=this.retryer)==null||o.cancel(r),i?i.then(At).catch(At):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Qg(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnReconnect()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(o){return o!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,o){var i=this,l,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&o?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(x){return x.options.queryFn});d&&this.setOptions(d.options)}var h=Mo(this.queryKey),m=vd(),p={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(m)return i.abortSignalConsumed=!0,m.signal}});var w=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(p)):Promise.reject("Missing queryFn")},b={fetchOptions:o,options:this.options,queryKey:h,state:this.state,fetchFn:w,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=b.fetchOptions)==null?void 0:a.meta)){var C;this.dispatch({type:"fetch",meta:(C=b.fetchOptions)==null?void 0:C.meta})}return this.retryer=new Cd({fn:b.fetchFn,abort:m==null||(c=m.abort)==null?void 0:c.bind(m),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){Ci(y)&&y.silent||i.dispatch({type:"error",error:y}),Ci(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),Sd().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var o=this;this.state=this.reducer(this.state,r),kt.batch(function(){o.observers.forEach(function(i){i.onQueryUpdate(r)}),o.cache.notify({query:o,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var o=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",l=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof o<"u";return{data:o,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(r,o){var i,l;switch(o.type){case"failed":return S({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return S({},r,{isPaused:!0});case"continue":return S({},r,{isPaused:!1});case"fetch":return S({},r,{fetchFailureCount:0,fetchMeta:(i=o.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return S({},r,{data:o.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=o.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=o.error;return Ci(a)&&a.revert&&this.revertState?S({},this.revertState):S({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return S({},r,{isInvalidated:!0});case"setState":return S({},r,o.state);default:return r}},e})(),op=(function(e){Yo(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.queries=[],o.queriesMap={},o}var n=t.prototype;return n.build=function(o,i,l){var a,c=i.queryKey,u=(a=i.queryHash)!=null?a:Ml(c,i),d=this.get(u);return d||(d=new sp({cache:this,queryKey:c,queryHash:u,options:o.defaultQueryOptions(i),state:l,defaultOptions:o.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},n.add=function(o){this.queriesMap[o.queryHash]||(this.queriesMap[o.queryHash]=o,this.queries.push(o),this.notify({type:"queryAdded",query:o}))},n.remove=function(o){var i=this.queriesMap[o.queryHash];i&&(o.destroy(),this.queries=this.queries.filter(function(l){return l!==o}),i===o&&delete this.queriesMap[o.queryHash],this.notify({type:"queryRemoved",query:o}))},n.clear=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){o.remove(i)})})},n.get=function(o){return this.queriesMap[o]},n.getAll=function(){return this.queries},n.find=function(o,i){var l=zn(o,i),a=l[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return Ha(a,c)})},n.findAll=function(o,i){var l=zn(o,i),a=l[0];return Object.keys(a).length>0?this.queries.filter(function(c){return Ha(a,c)}):this.queries},n.notify=function(o){var i=this;kt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){i.onOnline()})})},t})(ei),ip=(function(){function e(n){this.options=S({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||lp(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(o){return o!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(At).catch(At)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,o,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),l.then(function(){return r.executeMutation()}).then(function(a){o=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(o,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(o,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:o}),o}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Sd().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var r=this,o;return this.retryer=new Cd({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var o=this;this.state=ap(this.state,r),kt.batch(function(){o.observers.forEach(function(i){i.onMutationUpdate(r)}),o.mutationCache.notify(o)})},e})();function lp(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function ap(e,t){switch(t.type){case"failed":return S({},e,{failureCount:e.failureCount+1});case"pause":return S({},e,{isPaused:!0});case"continue":return S({},e,{isPaused:!1});case"loading":return S({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return S({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return S({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return S({},e,t.state);default:return e}}var cp=(function(e){Yo(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.mutations=[],o.mutationId=0,o}var n=t.prototype;return n.build=function(o,i,l){var a=new ip({mutationCache:this,mutationId:++this.mutationId,options:o.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?o.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(o){this.mutations.push(o),this.notify(o)},n.remove=function(o){this.mutations=this.mutations.filter(function(i){return i!==o}),o.cancel(),this.notify(o)},n.clear=function(){var o=this;kt.batch(function(){o.mutations.forEach(function(i){o.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(o){return typeof o.exact>"u"&&(o.exact=!0),this.mutations.find(function(i){return Wa(o,i)})},n.findAll=function(o){return this.mutations.filter(function(i){return Wa(o,i)})},n.notify=function(o){var i=this;kt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var o=this.mutations.filter(function(i){return i.state.isPaused});return kt.batch(function(){return o.reduce(function(i,l){return i.then(function(){return l.continue().catch(At)})},Promise.resolve())})},t})(ei);function up(){return{onFetch:function(t){t.fetchFn=function(){var n,r,o,i,l,a,c=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(o=t.fetchOptions)==null||(i=o.meta)==null?void 0:i.fetchMore,d=u?.pageParam,h=u?.direction==="forward",m=u?.direction==="backward",p=((l=t.state.data)==null?void 0:l.pages)||[],w=((a=t.state.data)==null?void 0:a.pageParams)||[],b=vd(),v=b?.signal,C=w,x=!1,y=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},g=function(M,I,V,H){return C=H?[I].concat(C):[].concat(C,[I]),H?[V].concat(M):[].concat(M,[V])},E=function(M,I,V,H){if(x)return Promise.reject("Cancelled");if(typeof V>"u"&&!I&&M.length)return Promise.resolve(M);var R={queryKey:t.queryKey,signal:v,pageParam:V,meta:t.meta},N=y(R),G=Promise.resolve(N).then(function(Z){return g(M,V,Z,H)});if(Fo(N)){var K=G;K.cancel=N.cancel}return G},D;if(!p.length)D=E([]);else if(h){var P=typeof d<"u",k=P?d:qa(t.options,p);D=E(p,P,k)}else if(m){var F=typeof d<"u",_=F?d:dp(t.options,p);D=E(p,F,_,!0)}else(function(){C=[];var $=typeof t.options.getNextPageParam>"u",M=c&&p[0]?c(p[0],0,p):!0;D=M?E([],$,w[0]):Promise.resolve(g([],w[0],p[0]));for(var I=function(R){D=D.then(function(N){var G=c&&p[R]?c(p[R],R,p):!0;if(G){var K=$?w[R]:qa(t.options,N);return E(N,$,K)}return Promise.resolve(g(N,w[R],p[R]))})},V=1;V<p.length;V++)I(V)})();var O=D.then(function($){return{pages:$,pageParams:C}}),z=O;return z.cancel=function(){x=!0,b?.abort(),Fo(D)&&D.cancel()},O}}}}function qa(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function dp(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var hp=(function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new op,this.mutationCache=n.mutationCache||new cp,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=po.subscribe(function(){po.isFocused()&&xo.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=xo.subscribe(function(){po.isFocused()&&xo.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,o;(r=this.unsubscribeFocus)==null||r.call(this),(o=this.unsubscribeOnline)==null||o.call(this)},t.isFetching=function(r,o){var i=zn(r,o),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(r){return this.mutationCache.findAll(S({},r,{fetching:!0})).length},t.getQueryData=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(o){var i=o.queryKey,l=o.state,a=l.data;return[i,a]})},t.setQueryData=function(r,o,i){var l=yi(r),a=this.defaultQueryOptions(l);return this.queryCache.build(this,a).setData(o,i)},t.setQueriesData=function(r,o,i){var l=this;return kt.batch(function(){return l.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,l.setQueryData(c,o,i)]})})},t.getQueryState=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state},t.removeQueries=function(r,o){var i=zn(r,o),l=i[0],a=this.queryCache;kt.batch(function(){a.findAll(l).forEach(function(c){a.remove(c)})})},t.resetQueries=function(r,o,i){var l=this,a=zn(r,o,i),c=a[0],u=a[1],d=this.queryCache,h=S({},c,{active:!0});return kt.batch(function(){return d.findAll(c).forEach(function(m){m.reset()}),l.refetchQueries(h,u)})},t.cancelQueries=function(r,o,i){var l=this,a=zn(r,o,i),c=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=kt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.cancel(d)})});return Promise.all(h).then(At).catch(At)},t.invalidateQueries=function(r,o,i){var l,a,c,u=this,d=zn(r,o,i),h=d[0],m=d[1],p=S({},h,{active:(l=(a=h.refetchActive)!=null?a:h.active)!=null?l:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return kt.batch(function(){return u.queryCache.findAll(h).forEach(function(w){w.invalidate()}),u.refetchQueries(p,m)})},t.refetchQueries=function(r,o,i){var l=this,a=zn(r,o,i),c=a[0],u=a[1],d=kt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.fetch(void 0,S({},u,{meta:{refetchPage:c?.refetchPage}}))})}),h=Promise.all(d).then(At);return u?.throwOnError||(h=h.catch(At)),h},t.fetchQuery=function(r,o,i){var l=yi(r,o,i),a=this.defaultQueryOptions(l);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},t.prefetchQuery=function(r,o,i){return this.fetchQuery(r,o,i).then(At).catch(At)},t.fetchInfiniteQuery=function(r,o,i){var l=yi(r,o,i);return l.behavior=up(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(r,o,i){return this.fetchInfiniteQuery(r,o,i).then(At).catch(At)},t.cancelMutations=function(){var r=this,o=kt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(o).then(At).catch(At)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,o){var i=this.queryDefaults.find(function(l){return ur(r)===ur(l.queryKey)});i?i.defaultOptions=o:this.queryDefaults.push({queryKey:r,defaultOptions:o})},t.getQueryDefaults=function(r){var o;return r?(o=this.queryDefaults.find(function(i){return Io(r,i.queryKey)}))==null?void 0:o.defaultOptions:void 0},t.setMutationDefaults=function(r,o){var i=this.mutationDefaults.find(function(l){return ur(r)===ur(l.mutationKey)});i?i.defaultOptions=o:this.mutationDefaults.push({mutationKey:r,defaultOptions:o})},t.getMutationDefaults=function(r){var o;return r?(o=this.mutationDefaults.find(function(i){return Io(r,i.mutationKey)}))==null?void 0:o.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r?._defaulted)return r;var o=S({},this.defaultOptions.queries,this.getQueryDefaults(r?.queryKey),r,{_defaulted:!0});return!o.queryHash&&o.queryKey&&(o.queryHash=Ml(o.queryKey,o)),o},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r?._defaulted?r:S({},this.defaultOptions.mutations,this.getMutationDefaults(r?.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e})(),fp=Bm.unstable_batchedUpdates;kt.setBatchNotifyFunction(fp);var mp=console;rp(mp);var Ka=Ae.createContext(void 0),gp=Ae.createContext(!1);function pp(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ka),window.ReactQueryClientContext):Ka}var xp=function(t){var n=t.client,r=t.contextSharing,o=r===void 0?!1:r,i=t.children;Ae.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var l=pp(o);return Ae.createElement(gp.Provider,{value:o},Ae.createElement(l.Provider,{value:n},i))};let bp={data:""},vp=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||bp},yp=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Cp=/\/\*[^]*?\*\/|  +/g,Qa=/\n+/g,Un=(e,t)=>{let n="",r="",o="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":r+=i[1]=="f"?Un(l,i):i+"{"+Un(l,i[1]=="k"?"":t)+"}":typeof l=="object"?r+=Un(l,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Un.p?Un.p(i,l):i+":"+l+";")}return n+(t&&o?t+"{"+o+"}":o)+r},yn={},jd=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+jd(e[n]);return t}return e},wp=(e,t,n,r,o)=>{let i=jd(e),l=yn[i]||(yn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!yn[l]){let c=i!==e?e:(u=>{let d,h,m=[{}];for(;d=yp.exec(u.replace(Cp,""));)d[4]?m.shift():d[3]?(h=d[3].replace(Qa," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(Qa," ").trim();return m[0]})(e);yn[l]=Un(o?{["@keyframes "+l]:c}:c,n?"":"."+l)}let a=n&&yn.g?yn.g:null;return n&&(yn.g=yn[l]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(yn[l],t,r,a),l},Sp=(e,t,n)=>e.reduce((r,o,i)=>{let l=t[i];if(l&&l.call){let a=l(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=c?"."+c:a&&typeof a=="object"?a.props?"":Un(a,""):a===!1?"":a}return r+o+(l??"")},"");function ni(e){let t=this||{},n=e.call?e(t.p):e;return wp(n.unshift?n.raw?Sp(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,vp(t.target),t.g,t.o,t.k)}let Pd,Gi,Ui;ni.bind({g:1});let An=ni.bind({k:1});function jp(e,t,n,r){Un.p=t,Pd=e,Gi=n,Ui=r}function nr(e,t){let n=this||{};return function(){let r=arguments;function o(i,l){let a=Object.assign({},i),c=a.className||o.className;n.p=Object.assign({theme:Gi&&Gi()},a),n.o=/ *go\d+/.test(c),a.className=ni.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Ui&&u[0]&&Ui(a),Pd(u,a)}return o}}var Pp=e=>typeof e=="function",To=(e,t)=>Pp(e)?e(t):e,kp=(()=>{let e=0;return()=>(++e).toString()})(),kd=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ep=20,Il="default",Ed=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return Ed(e,{type:e.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(l=>l.id===o||o===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},bo=[],Md={toasts:[],pausedAt:void 0,settings:{toastLimit:Ep}},pn={},Id=(e,t=Il)=>{pn[t]=Ed(pn[t]||Md,e),bo.forEach(([n,r])=>{n===t&&r(pn[t])})},Fd=e=>Object.keys(pn).forEach(t=>Id(e,t)),Mp=e=>Object.keys(pn).find(t=>pn[t].toasts.some(n=>n.id===e)),ri=(e=Il)=>t=>{Id(t,e)},Ip={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fp=(e={},t=Il)=>{let[n,r]=f.useState(pn[t]||Md),o=f.useRef(pn[t]);f.useEffect(()=>(o.current!==pn[t]&&r(pn[t]),bo.push([t,r]),()=>{let l=bo.findIndex(([a])=>a===t);l>-1&&bo.splice(l,1)}),[t]);let i=n.toasts.map(l=>{var a,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((a=e[l.type])==null?void 0:a.removeDelay)||e?.removeDelay,duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||e?.duration||Ip[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...n,toasts:i}},Tp=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||kp()}),$s=e=>(t,n)=>{let r=Tp(t,e,n);return ri(r.toasterId||Mp(r.id))({type:2,toast:r}),r.id},St=(e,t)=>$s("blank")(e,t);St.error=$s("error");St.success=$s("success");St.loading=$s("loading");St.custom=$s("custom");St.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ri(t)(n):Fd(n)};St.dismissAll=e=>St.dismiss(void 0,e);St.remove=(e,t)=>{let n={type:4,toastId:e};t?ri(t)(n):Fd(n)};St.removeAll=e=>St.remove(void 0,e);St.promise=(e,t,n)=>{let r=St.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let i=t.success?To(t.success,o):void 0;return i?St.success(i,{id:r,...n,...n?.success}):St.dismiss(r),o}).catch(o=>{let i=t.error?To(t.error,o):void 0;i?St.error(i,{id:r,...n,...n?.error}):St.dismiss(r)}),e};var Ap=1e3,Dp=(e,t="default")=>{let{toasts:n,pausedAt:r}=Fp(e,t),o=f.useRef(new Map).current,i=f.useCallback((h,m=Ap)=>{if(o.has(h))return;let p=setTimeout(()=>{o.delete(h),l({type:4,toastId:h})},m);o.set(h,p)},[]);f.useEffect(()=>{if(r)return;let h=Date.now(),m=n.map(p=>{if(p.duration===1/0)return;let w=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(w<0){p.visible&&St.dismiss(p.id);return}return setTimeout(()=>St.dismiss(p.id,t),w)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[n,r,t]);let l=f.useCallback(ri(t),[t]),a=f.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=f.useCallback((h,m)=>{l({type:1,toast:{id:h,height:m}})},[l]),u=f.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),d=f.useCallback((h,m)=>{let{reverseOrder:p=!1,gutter:w=8,defaultPosition:b}=m||{},v=n.filter(y=>(y.position||b)===(h.position||b)&&y.height),C=v.findIndex(y=>y.id===h.id),x=v.filter((y,g)=>g<C&&y.visible).length;return v.filter(y=>y.visible).slice(...p?[x+1]:[0,x]).reduce((y,g)=>y+(g.height||0)+w,0)},[n]);return f.useEffect(()=>{n.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let m=o.get(h.id);m&&(clearTimeout(m),o.delete(h.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:a,endPause:u,calculateOffset:d}}},Op=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_p=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vp=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$p=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Op} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_p} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vp} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lp=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Rp=nr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Lp} 1s linear infinite;
`,Np=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,zp=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Bp=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Np} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${zp} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hp=nr("div")`
  position: absolute;
`,Wp=nr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gp=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Up=nr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gp} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qp=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?f.createElement(Up,null,t):t:n==="blank"?null:f.createElement(Wp,null,f.createElement(Rp,{...r}),n!=="loading"&&f.createElement(Hp,null,n==="error"?f.createElement($p,{...r}):f.createElement(Bp,{...r})))},Kp=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Qp=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xp="0%{opacity:0;} 100%{opacity:1;}",Yp="0%{opacity:1;} 100%{opacity:0;}",Zp=nr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jp=nr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ex=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=kd()?[Xp,Yp]:[Kp(n),Qp(n)];return{animation:t?`${An(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tx=f.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?ex(e.position||t||"top-center",e.visible):{opacity:0},i=f.createElement(qp,{toast:e}),l=f.createElement(Jp,{...e.ariaProps},To(e.message,e));return f.createElement(Zp,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:i,message:l}):f.createElement(f.Fragment,null,i,l))});jp(f.createElement);var nx=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let i=f.useCallback(l=>{if(l){let a=()=>{let c=l.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return f.createElement("div",{ref:i,className:t,style:n},o)},rx=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},sx=ni`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,to=16,ox=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,toasterId:i,containerStyle:l,containerClassName:a})=>{let{toasts:c,handlers:u}=Dp(n,i);return f.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:to,left:to,right:to,bottom:to,pointerEvents:"none",...l},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||t,m=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),p=rx(h,m);return f.createElement(nx,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?sx:"",style:p},d.type==="custom"?To(d.message,d):o?o(d):f.createElement(tx,{toast:d,position:h}))}))},ke=St;const Td=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),si=f.createContext({}),Fl=f.createContext(null),oi=typeof document<"u",ix=oi?f.useLayoutEffect:f.useEffect,Ad=f.createContext({strict:!1}),Tl=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),lx="framerAppearId",Dd="data-"+Tl(lx);function ax(e,t,n,r){const{visualElement:o}=f.useContext(si),i=f.useContext(Ad),l=f.useContext(Fl),a=f.useContext(Td).reducedMotion,c=f.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;f.useInsertionEffect(()=>{u&&u.update(n,l)});const d=f.useRef(!!(n[Dd]&&!window.HandoffComplete));return ix(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Nr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cx(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Nr(n)&&(n.current=r))},[t])}function Fs(e){return typeof e=="string"||Array.isArray(e)}function ii(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Al=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dl=["initial",...Al];function li(e){return ii(e.animate)||Dl.some(t=>Fs(e[t]))}function Od(e){return!!(li(e)||e.variants)}function ux(e,t){if(li(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fs(n)?n:void 0,animate:Fs(r)?r:void 0}}return e.inherit!==!1?t:{}}function dx(e){const{initial:t,animate:n}=ux(e,f.useContext(si));return f.useMemo(()=>({initial:t,animate:n}),[Xa(t),Xa(n)])}function Xa(e){return Array.isArray(e)?e.join(" "):e}const Ya={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ts={};for(const e in Ya)Ts[e]={isEnabled:t=>Ya[e].some(n=>!!t[n])};function hx(e){for(const t in e)Ts[t]={...Ts[t],...e[t]}}const _d=f.createContext({}),Vd=f.createContext({}),fx=Symbol.for("motionComponentSymbol");function mx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&hx(e);function i(a,c){let u;const d={...f.useContext(Td),...a,layoutId:gx(a)},{isStatic:h}=d,m=dx(a),p=r(a,h);if(!h&&oi){m.visualElement=ax(o,p,d,t);const w=f.useContext(Vd),b=f.useContext(Ad).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,b,e,w))}return f.createElement(si.Provider,{value:m},u&&m.visualElement?f.createElement(u,{visualElement:m.visualElement,...d}):null,n(o,a,cx(p,m.visualElement,c),p,h,m.visualElement))}const l=f.forwardRef(i);return l[fx]=o,l}function gx({layoutId:e}){const t=f.useContext(_d).id;return t&&e!==void 0?t+"-"+e:e}function px(e){function t(r,o={}){return mx(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const xx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ol(e){return typeof e!="string"||e.includes("-")?!1:!!(xx.indexOf(e)>-1||/[A-Z]/.test(e))}const Ao={};function bx(e){Object.assign(Ao,e)}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wr=new Set(Ls);function $d(e,{layout:t,layoutId:n}){return wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ao[e]||e==="opacity")}const zt=e=>!!(e&&e.getVelocity),vx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yx=Ls.length;function Cx(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let l=0;l<yx;l++){const a=Ls[l];if(e[a]!==void 0){const c=vx[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Ld=e=>t=>typeof t=="string"&&t.startsWith(e),Rd=Ld("--"),qi=Ld("var(--"),wx=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Sx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yn=(e,t,n)=>Math.min(Math.max(n,e),t),Sr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ys={...Sr,transform:e=>Yn(0,1,e)},no={...Sr,default:1},Cs=e=>Math.round(e*1e5)/1e5,ai=/(-)?([\d]*\.?[\d])+/g,Nd=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rs(e){return typeof e=="string"}const Ns=e=>({test:t=>Rs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rn=Ns("deg"),xn=Ns("%"),Me=Ns("px"),Px=Ns("vh"),kx=Ns("vw"),Za={...xn,parse:e=>xn.parse(e)/100,transform:e=>xn.transform(e*100)},Ja={...Sr,transform:Math.round},zd={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,size:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:no,scaleX:no,scaleY:no,scaleZ:no,skew:Rn,skewX:Rn,skewY:Rn,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:ys,originX:Za,originY:Za,originZ:Me,zIndex:Ja,fillOpacity:ys,strokeOpacity:ys,numOctaves:Ja};function _l(e,t,n,r){const{style:o,vars:i,transform:l,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const h in t){const m=t[h];if(Rd(h)){i[h]=m;continue}const p=zd[h],w=Sx(m,p);if(wr.has(h)){if(c=!0,l[h]=w,!d)continue;m!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=w):o[h]=w}if(t.transform||(c||r?o.transform=Cx(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;o.transformOrigin=`${h} ${m} ${p}`}}const Vl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bd(e,t,n){for(const r in t)!zt(t[r])&&!$d(r,n)&&(e[r]=t[r])}function Ex({transformTemplate:e},t,n){return f.useMemo(()=>{const r=Vl();return _l(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Mx(e,t,n){const r=e.style||{},o={};return Bd(o,r,e),Object.assign(o,Ex(e,t,n)),e.transformValues?e.transformValues(o):o}function Ix(e,t,n){const r={},o=Mx(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Fx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Do(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fx.has(e)}let Hd=e=>!Do(e);function Tx(e){e&&(Hd=t=>t.startsWith("on")?!Do(t):e(t))}try{Tx(require("@emotion/is-prop-valid").default)}catch{}function Ax(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Hd(o)||n===!0&&Do(o)||!t&&!Do(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function ec(e,t,n){return typeof e=="string"?e:Me.transform(t+n*e)}function Dx(e,t,n){const r=ec(t,e.x,e.width),o=ec(n,e.y,e.height);return`${r} ${o}`}const Ox={offset:"stroke-dashoffset",array:"stroke-dasharray"},_x={offset:"strokeDashoffset",array:"strokeDasharray"};function Vx(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?Ox:_x;e[i.offset]=Me.transform(-r);const l=Me.transform(t),a=Me.transform(n);e[i.array]=`${l} ${a}`}function $l(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:l,pathSpacing:a=1,pathOffset:c=0,...u},d,h,m){if(_l(e,u,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:w,dimensions:b}=e;p.transform&&(b&&(w.transform=p.transform),delete p.transform),b&&(o!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=Dx(b,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),l!==void 0&&Vx(p,l,a,c,!1)}const Wd=()=>({...Vl(),attrs:{}}),Ll=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $x(e,t,n,r){const o=f.useMemo(()=>{const i=Wd();return $l(i,t,{enableHardwareAcceleration:!1},Ll(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Bd(i,e.style,e),o.style={...i,...o.style}}return o}function Lx(e=!1){return(n,r,o,{latestValues:i},l)=>{const c=(Ol(n)?$x:Ix)(r,i,l,n),d={...Ax(r,typeof n=="string",e),...c,ref:o},{children:h}=r,m=f.useMemo(()=>zt(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function Gd(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Ud=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qd(e,t,n,r){Gd(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Ud.has(o)?o:Tl(o),t.attrs[o])}function Rl(e,t){const{style:n}=e,r={};for(const o in n)(zt(n[o])||t.style&&zt(t.style[o])||$d(o,e))&&(r[o]=n[o]);return r}function Kd(e,t){const n=Rl(e,t);for(const r in e)if(zt(e[r])||zt(t[r])){const o=Ls.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Nl(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Rx(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const Oo=e=>Array.isArray(e),Nx=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zx=e=>Oo(e)?e[e.length-1]||0:e;function vo(e){const t=zt(e)?e.get():e;return Nx(t)?t.toValue():t}function Bx({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const l={latestValues:Hx(r,o,i,e),renderState:t()};return n&&(l.mount=a=>n(r,a,l)),l}const Qd=e=>(t,n)=>{const r=f.useContext(si),o=f.useContext(Fl),i=()=>Bx(e,t,r,o);return n?i():Rx(i)};function Hx(e,t,n,r){const o={},i=r(e,{});for(const m in i)o[m]=vo(i[m]);let{initial:l,animate:a}=e;const c=li(e),u=Od(e);t&&u&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const h=d?a:l;return h&&typeof h!="boolean"&&!ii(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const w=Nl(e,p);if(!w)return;const{transitionEnd:b,transition:v,...C}=w;for(const x in C){let y=C[x];if(Array.isArray(y)){const g=d?y.length-1:0;y=y[g]}y!==null&&(o[x]=y)}for(const x in b)o[x]=b[x]}),o}const ht=e=>e;class tc{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Wx(e){let t=new tc,n=new tc,r=0,o=!1,i=!1;const l=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const h=d&&o,m=h?t:n;return u&&l.add(c),m.add(c)&&h&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),l.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),l.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const ro=["prepare","read","update","preRender","render","postRender"],Gx=40;function Ux(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=ro.reduce((h,m)=>(h[m]=Wx(()=>n=!0),h),{}),l=h=>i[h].process(o),a=()=>{const h=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(h-o.timestamp,Gx),1),o.timestamp=h,o.isProcessing=!0,ro.forEach(l),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:ro.reduce((h,m)=>{const p=i[m];return h[m]=(w,b=!1,v=!1)=>(n||c(),p.schedule(w,b,v)),h},{}),cancel:h=>ro.forEach(m=>i[m].cancel(h)),state:o,steps:i}}const{schedule:ot,cancel:Dn,state:Et,steps:wi}=Ux(typeof requestAnimationFrame<"u"?requestAnimationFrame:ht,!0),qx={useVisualState:Qd({scrapeMotionValuesFromProps:Kd,createRenderState:Wd,onMount:(e,t,{renderState:n,latestValues:r})=>{ot.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{$l(n,r,{enableHardwareAcceleration:!1},Ll(t.tagName),e.transformTemplate),qd(t,n)})}})},Kx={useVisualState:Qd({scrapeMotionValuesFromProps:Rl,createRenderState:Vl})};function Qx(e,{forwardMotionProps:t=!1},n,r){return{...Ol(e)?qx:Kx,preloadedFeatures:n,useRender:Lx(t),createVisualElement:r,Component:e}}function En(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Xd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function ci(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Xx=e=>t=>Xd(t)&&e(t,ci(t));function In(e,t,n,r){return En(e,t,Xx(n),r)}const Yx=(e,t)=>n=>t(e(n)),Qn=(...e)=>e.reduce(Yx);function Yd(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nc=Yd("dragHorizontal"),rc=Yd("dragVertical");function Zd(e){let t=!1;if(e==="y")t=rc();else if(e==="x")t=nc();else{const n=nc(),r=rc();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Jd(){const e=Zd(!0);return e?(e(),!1):!0}class rr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function sc(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,l)=>{if(i.pointerType==="touch"||Jd())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ot.update(()=>a[r](i,l))};return In(e.current,n,o,{passive:!e.getProps()[r]})}class Zx extends rr{mount(){this.unmount=Qn(sc(this.node,!0),sc(this.node,!1))}unmount(){}}class Jx extends rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qn(En(this.node.current,"focus",()=>this.onFocus()),En(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eh=(e,t)=>t?e===t?!0:eh(e,t.parentElement):!1;function Si(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,ci(n))}class eb extends rr{constructor(){super(...arguments),this.removeStartListeners=ht,this.removeEndListeners=ht,this.removeAccessibleListeners=ht,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=In(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ot.update(()=>{!h&&!eh(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),l=In(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Qn(i,l),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=a=>{a.key!=="Enter"||!this.checkPressEnd()||Si("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ot.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=En(this.node.current,"keyup",l),Si("down",(a,c)=>{this.startPress(a,c)})},n=En(this.node.current,"keydown",t),r=()=>{this.isPressing&&Si("cancel",(i,l)=>this.cancelPress(i,l))},o=En(this.node.current,"blur",r);this.removeAccessibleListeners=Qn(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Jd()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=In(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=En(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ki=new WeakMap,ji=new WeakMap,tb=e=>{const t=Ki.get(e.target);t&&t(e)},nb=e=>{e.forEach(tb)};function rb({root:e,...t}){const n=e||document;ji.has(n)||ji.set(n,{});const r=ji.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(nb,{root:e,...t})),r[o]}function sb(e,t,n){const r=rb(t);return Ki.set(e,n),r.observe(e),()=>{Ki.delete(e),r.unobserve(e)}}const ob={some:0,all:1};class ib extends rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ob[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return sb(this.node.current,l,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(lb(t,n))&&this.startObserver()}unmount(){}}function lb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ab={inView:{Feature:ib},tap:{Feature:eb},focus:{Feature:Jx},hover:{Feature:Zx}};function th(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function cb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ub(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function ui(e,t,n){const r=e.getProps();return Nl(r,t,n!==void 0?n:r.custom,cb(e),ub(e))}let zl=ht;const pr=e=>e*1e3,Fn=e=>e/1e3,db={current:!1},nh=e=>Array.isArray(e)&&typeof e[0]=="number";function rh(e){return!!(!e||typeof e=="string"&&sh[e]||nh(e)||Array.isArray(e)&&e.every(rh))}const fs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fs([0,.65,.55,1]),circOut:fs([.55,0,1,.45]),backIn:fs([.31,.01,.66,-.59]),backOut:fs([.33,1.53,.69,.99])};function oh(e){if(e)return nh(e)?fs(e):Array.isArray(e)?e.map(oh):sh[e]}function hb(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:l="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=oh(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function fb(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const ih=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mb=1e-7,gb=12;function pb(e,t,n,r,o){let i,l,a=0;do l=t+(n-t)/2,i=ih(l,r,o)-e,i>0?n=l:t=l;while(Math.abs(i)>mb&&++a<gb);return l}function zs(e,t,n,r){if(e===t&&n===r)return ht;const o=i=>pb(i,0,1,e,n);return i=>i===0||i===1?i:ih(o(i),t,r)}const xb=zs(.42,0,1,1),bb=zs(0,0,.58,1),lh=zs(.42,0,.58,1),vb=e=>Array.isArray(e)&&typeof e[0]!="number",ah=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ch=e=>t=>1-e(1-t),Bl=e=>1-Math.sin(Math.acos(e)),uh=ch(Bl),yb=ah(Bl),dh=zs(.33,1.53,.69,.99),Hl=ch(dh),Cb=ah(Hl),wb=e=>(e*=2)<1?.5*Hl(e):.5*(2-Math.pow(2,-10*(e-1))),Sb={linear:ht,easeIn:xb,easeInOut:lh,easeOut:bb,circIn:Bl,circInOut:yb,circOut:uh,backIn:Hl,backInOut:Cb,backOut:dh,anticipate:wb},oc=e=>{if(Array.isArray(e)){zl(e.length===4);const[t,n,r,o]=e;return zs(t,n,r,o)}else if(typeof e=="string")return Sb[e];return e},Wl=(e,t)=>n=>!!(Rs(n)&&jx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),hh=(e,t,n)=>r=>{if(!Rs(r))return r;const[o,i,l,a]=r.match(ai);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(l),alpha:a!==void 0?parseFloat(a):1}},jb=e=>Yn(0,255,e),Pi={...Sr,transform:e=>Math.round(jb(e))},dr={test:Wl("rgb","red"),parse:hh("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pi.transform(e)+", "+Pi.transform(t)+", "+Pi.transform(n)+", "+Cs(ys.transform(r))+")"};function Pb(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Qi={test:Wl("#"),parse:Pb,transform:dr.transform},zr={test:Wl("hsl","hue"),parse:hh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xn.transform(Cs(t))+", "+xn.transform(Cs(n))+", "+Cs(ys.transform(r))+")"},Dt={test:e=>dr.test(e)||Qi.test(e)||zr.test(e),parse:e=>dr.test(e)?dr.parse(e):zr.test(e)?zr.parse(e):Qi.parse(e),transform:e=>Rs(e)?e:e.hasOwnProperty("red")?dr.transform(e):zr.transform(e)},ct=(e,t,n)=>-n*e+n*t+e;function ki(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,l=0;if(!t)o=i=l=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=ki(c,a,e+1/3),i=ki(c,a,e),l=ki(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}const Ei=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Eb=[Qi,dr,zr],Mb=e=>Eb.find(t=>t.test(e));function ic(e){const t=Mb(e);let n=t.parse(e);return t===zr&&(n=kb(n)),n}const fh=(e,t)=>{const n=ic(e),r=ic(t),o={...n};return i=>(o.red=Ei(n.red,r.red,i),o.green=Ei(n.green,r.green,i),o.blue=Ei(n.blue,r.blue,i),o.alpha=ct(n.alpha,r.alpha,i),dr.transform(o))};function Ib(e){var t,n;return isNaN(e)&&Rs(e)&&(((t=e.match(ai))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Nd))===null||n===void 0?void 0:n.length)||0)>0}const mh={regex:wx,countKey:"Vars",token:"${v}",parse:ht},gh={regex:Nd,countKey:"Colors",token:"${c}",parse:Dt.parse},ph={regex:ai,countKey:"Numbers",token:"${n}",parse:Sr.parse};function Mi(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function _o(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Mi(n,mh),Mi(n,gh),Mi(n,ph),n}function xh(e){return _o(e).values}function bh(e){const{values:t,numColors:n,numVars:r,tokenised:o}=_o(e),i=t.length;return l=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(mh.token,l[c]):c<r+n?a=a.replace(gh.token,Dt.transform(l[c])):a=a.replace(ph.token,Cs(l[c]));return a}}const Fb=e=>typeof e=="number"?0:e;function Tb(e){const t=xh(e);return bh(e)(t.map(Fb))}const Zn={test:Ib,parse:xh,createTransformer:bh,getAnimatableNone:Tb},vh=(e,t)=>n=>`${n>0?t:e}`;function yh(e,t){return typeof e=="number"?n=>ct(e,t,n):Dt.test(e)?fh(e,t):e.startsWith("var(")?vh(e,t):wh(e,t)}const Ch=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,l)=>yh(i,t[l]));return i=>{for(let l=0;l<r;l++)n[l]=o[l](i);return n}},Ab=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=yh(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},wh=(e,t)=>{const n=Zn.createTransformer(t),r=_o(e),o=_o(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Qn(Ch(r.values,o.values),n):vh(e,t)},As=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},lc=(e,t)=>n=>ct(e,t,n);function Db(e){return typeof e=="number"?lc:typeof e=="string"?Dt.test(e)?fh:wh:Array.isArray(e)?Ch:typeof e=="object"?Ab:lc}function Ob(e,t,n){const r=[],o=n||Db(e[0]),i=e.length-1;for(let l=0;l<i;l++){let a=o(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||ht:t;a=Qn(c,a)}r.push(a)}return r}function Sh(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(zl(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ob(t,r,o),a=l.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=As(e[d],e[d+1],u);return l[d](h)};return n?u=>c(Yn(e[0],e[i-1],u)):c}function _b(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=As(0,t,r);e.push(ct(n,1,o))}}function Vb(e){const t=[0];return _b(t,e.length-1),t}function $b(e,t){return e.map(n=>n*t)}function Lb(e,t){return e.map(()=>t||lh).splice(0,e.length-1)}function Vo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=vb(r)?r.map(oc):oc(r),i={done:!1,value:t[0]},l=$b(n&&n.length===t.length?n:Vb(t),e),a=Sh(l,t,{ease:Array.isArray(o)?o:Lb(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function jh(e,t){return t?e*(1e3/t):0}const Rb=5;function Ph(e,t,n){const r=Math.max(t-Rb,0);return jh(n-e(r),t-r)}const Ii=.001,Nb=.01,zb=10,Bb=.05,Hb=1;function Wb({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i,l=1-t;l=Yn(Bb,Hb,l),e=Yn(Nb,zb,Fn(e)),l<1?(o=u=>{const d=u*l,h=d*e,m=d-n,p=Xi(u,l),w=Math.exp(-h);return Ii-m/p*w},i=u=>{const h=u*l*e,m=h*n+n,p=Math.pow(l,2)*Math.pow(u,2)*e,w=Math.exp(-h),b=Xi(Math.pow(u,2),l);return(-o(u)+Ii>0?-1:1)*((m-p)*w)/b}):(o=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Ii+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,c=Ub(o,i,a);if(e=pr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:l*2*Math.sqrt(r*u),duration:e}}}const Gb=12;function Ub(e,t,n){let r=n;for(let o=1;o<Gb;o++)r=r-e(r)/t(r);return r}function Xi(e,t){return e*Math.sqrt(1-t*t)}const qb=["duration","bounce"],Kb=["stiffness","damping","mass"];function ac(e,t){return t.some(n=>e[n]!==void 0)}function Qb(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ac(e,Kb)&&ac(e,qb)){const n=Wb(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function kh({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],l={done:!1,value:o},{stiffness:a,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=Qb({...r,velocity:-Fn(r.velocity||0)}),p=h||0,w=c/(2*Math.sqrt(a*u)),b=i-o,v=Fn(Math.sqrt(a/u)),C=Math.abs(b)<5;n||(n=C?.01:2),t||(t=C?.005:.5);let x;if(w<1){const y=Xi(v,w);x=g=>{const E=Math.exp(-w*v*g);return i-E*((p+w*v*b)/y*Math.sin(y*g)+b*Math.cos(y*g))}}else if(w===1)x=y=>i-Math.exp(-v*y)*(b+(p+v*b)*y);else{const y=v*Math.sqrt(w*w-1);x=g=>{const E=Math.exp(-w*v*g),D=Math.min(y*g,300);return i-E*((p+w*v*b)*Math.sinh(D)+y*b*Math.cosh(D))/y}}return{calculatedDuration:m&&d||null,next:y=>{const g=x(y);if(m)l.done=y>=d;else{let E=p;y!==0&&(w<1?E=Ph(x,y,g):E=0);const D=Math.abs(E)<=n,P=Math.abs(i-g)<=t;l.done=D&&P}return l.value=l.done?i:g,l}}}function cc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:l,min:a,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},p=k=>a!==void 0&&k<a||c!==void 0&&k>c,w=k=>a===void 0?c:c===void 0||Math.abs(a-k)<Math.abs(c-k)?a:c;let b=n*t;const v=h+b,C=l===void 0?v:l(v);C!==v&&(b=C-h);const x=k=>-b*Math.exp(-k/r),y=k=>C+x(k),g=k=>{const F=x(k),_=y(k);m.done=Math.abs(F)<=u,m.value=m.done?C:_};let E,D;const P=k=>{p(m.value)&&(E=k,D=kh({keyframes:[m.value,w(m.value)],velocity:Ph(y,k,m.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:k=>{let F=!1;return!D&&E===void 0&&(F=!0,g(k),P(k)),E!==void 0&&k>E?D.next(k-E):(!F&&g(k),m)}}}const Xb=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ot.update(t,!0),stop:()=>Dn(t),now:()=>Et.isProcessing?Et.timestamp:performance.now()}},uc=2e4;function dc(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uc;)t+=n,r=e.next(t);return t>=uc?1/0:t}const Yb={decay:cc,inertia:cc,tween:Vo,keyframes:Vo,spring:kh};function $o({autoplay:e=!0,delay:t=0,driver:n=Xb,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...m}){let p=1,w=!1,b,v;const C=()=>{v=new Promise(K=>{b=K})};C();let x;const y=Yb[o]||Vo;let g;y!==Vo&&typeof r[0]!="number"&&(g=Sh([0,100],r,{clamp:!1}),r=[0,100]);const E=y({...m,keyframes:r});let D;a==="mirror"&&(D=y({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",k=null,F=null,_=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=dc(E));const{calculatedDuration:O}=E;let z=1/0,$=1/0;O!==null&&(z=O+l,$=z*(i+1)-l);let M=0;const I=K=>{if(F===null)return;p>0&&(F=Math.min(F,K)),p<0&&(F=Math.min(K-$/p,F)),k!==null?M=k:M=Math.round(K-F)*p;const Z=M-t*(p>=0?1:-1),se=p>=0?Z<0:Z>$;M=Math.max(Z,0),P==="finished"&&k===null&&(M=$);let te=M,fe=E;if(i){const ce=Math.min(M,$)/z;let ae=Math.floor(ce),we=ce%1;!we&&ce>=1&&(we=1),we===1&&ae--,ae=Math.min(ae,i+1),!!(ae%2)&&(a==="reverse"?(we=1-we,l&&(we-=l/z)):a==="mirror"&&(fe=D)),te=Yn(0,1,we)*z}const oe=se?{done:!1,value:r[0]}:fe.next(te);g&&(oe.value=g(oe.value));let{done:me}=oe;!se&&O!==null&&(me=p>=0?M>=$:M<=0);const J=k===null&&(P==="finished"||P==="running"&&me);return h&&h(oe.value),J&&R(),oe},V=()=>{x&&x.stop(),x=void 0},H=()=>{P="idle",V(),b(),C(),F=_=null},R=()=>{P="finished",d&&d(),V(),b()},N=()=>{if(w)return;x||(x=n(I));const K=x.now();c&&c(),k!==null?F=K-k:(!F||P==="finished")&&(F=K),P==="finished"&&C(),_=F,k=null,P="running",x.start()};e&&N();const G={then(K,Z){return v.then(K,Z)},get time(){return Fn(M)},set time(K){K=pr(K),M=K,k!==null||!x||p===0?k=K:F=x.now()-K/p},get duration(){const K=E.calculatedDuration===null?dc(E):E.calculatedDuration;return Fn(K)},get speed(){return p},set speed(K){K===p||!x||(p=K,G.time=Fn(M))},get state(){return P},play:N,pause:()=>{P="paused",k=M},stop:()=>{w=!0,P!=="idle"&&(P="idle",u&&u(),H())},cancel:()=>{_!==null&&I(_),H()},complete:()=>{P="finished"},sample:K=>(F=0,I(K))};return G}function Zb(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jb=Zb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ev=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),so=10,tv=2e4,nv=(e,t)=>t.type==="spring"||e==="backgroundColor"||!rh(t.ease);function rv(e,t,{onUpdate:n,onComplete:r,...o}){if(!(Jb()&&ev.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let l=!1,a,c,u=!1;const d=()=>{c=new Promise(y=>{a=y})};d();let{keyframes:h,duration:m=300,ease:p,times:w}=o;if(nv(t,o)){const y=$o({...o,repeat:0,delay:0});let g={done:!1,value:h[0]};const E=[];let D=0;for(;!g.done&&D<tv;)g=y.sample(D),E.push(g.value),D+=so;w=void 0,h=E,m=D-so,p="linear"}const b=hb(e.owner.current,t,h,{...o,duration:m,ease:p,times:w}),v=()=>{u=!1,b.cancel()},C=()=>{u=!0,ot.update(v),a(),d()};return b.onfinish=()=>{u||(e.set(fb(h,o)),r&&r(),C())},{then(y,g){return c.then(y,g)},attachTimeline(y){return b.timeline=y,b.onfinish=null,ht},get time(){return Fn(b.currentTime||0)},set time(y){b.currentTime=pr(y)},get speed(){return b.playbackRate},set speed(y){b.playbackRate=y},get duration(){return Fn(m)},play:()=>{l||(b.play(),Dn(v))},pause:()=>b.pause(),stop:()=>{if(l=!0,b.playState==="idle")return;const{currentTime:y}=b;if(y){const g=$o({...o,autoplay:!1});e.setWithVelocity(g.sample(y-so).value,g.sample(y).value,so)}C()},complete:()=>{u||b.finish()},cancel:C}}function sv({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ht,pause:ht,stop:ht,then:i=>(i(),Promise.resolve()),cancel:ht,complete:ht});return t?$o({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const ov={type:"spring",stiffness:500,damping:25,restSpeed:10},iv=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lv={type:"keyframes",duration:.8},av={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cv=(e,{keyframes:t})=>t.length>2?lv:wr.has(e)?e.startsWith("scale")?iv(t[1]):ov:av,Yi=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zn.test(t)||t==="0")&&!t.startsWith("url(")),uv=new Set(["brightness","contrast","saturate","opacity"]);function dv(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ai)||[];if(!r)return e;const o=n.replace(r,"");let i=uv.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const hv=/([a-z-]*)\(.*?\)/g,Zi={...Zn,getAnimatableNone:e=>{const t=e.match(hv);return t?t.map(dv).join(" "):e}},fv={...zd,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Zi,WebkitFilter:Zi},Gl=e=>fv[e];function Eh(e,t){let n=Gl(e);return n!==Zi&&(n=Zn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Mh=e=>/^0[^.\s]+$/.test(e);function mv(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Mh(e)}function gv(e,t,n,r){const o=Yi(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const l=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?l:i[u-1]),mv(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Eh(t,a)}return i}function pv({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:l,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Ul(e,t){return e[t]||e.default||e}const xv={skipAnimations:!1},ql=(e,t,n,r={})=>o=>{const i=Ul(r,e)||{},l=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-pr(l);const c=gv(t,e,n,i),u=c[0],d=c[c.length-1],h=Yi(e,u),m=Yi(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(pv(i)||(p={...p,...cv(e,p)}),p.duration&&(p.duration=pr(p.duration)),p.repeatDelay&&(p.repeatDelay=pr(p.repeatDelay)),!h||!m||db.current||i.type===!1||xv.skipAnimations)return sv(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=rv(t,e,p);if(w)return w}return $o(p)};function Lo(e){return!!(zt(e)&&e.add)}const Ih=e=>/^\-?\d*\.?\d+$/.test(e);function Kl(e,t){e.indexOf(t)===-1&&e.push(t)}function Ql(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xl{constructor(){this.subscriptions=[]}add(t){return Kl(this.subscriptions,t),()=>Ql(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const l=this.subscriptions[i];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bv=e=>!isNaN(parseFloat(e));class vv{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:l}=Et;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=bv(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Xl);const r=this.events[t].add(n);return t==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?jh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yr(e,t){return new vv(e,t)}const Fh=e=>t=>t.test(e),yv={test:e=>e==="auto",parse:e=>e},Th=[Sr,Me,xn,Rn,kx,Px,yv],os=e=>Th.find(Fh(e)),Cv=[...Th,Dt,Zn],wv=e=>Cv.find(Fh(e));function Sv(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yr(n))}function jv(e,t){const n=ui(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const l in i){const a=zx(i[l]);Sv(e,l,a)}}function Pv(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),l=i.length;if(l)for(let a=0;a<l;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Ih(d)||Mh(d))?d=parseFloat(d):!wv(d)&&Zn.test(u)&&(d=Eh(c,u)),e.addValue(c,Yr(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function kv(e,t){return t?(t[e]||t.default||t).from:void 0}function Ev(e,t,n){const r={};for(const o in e){const i=kv(o,t);if(i!==void 0)r[o]=i;else{const l=n.getValue(o);l&&(r[o]=l.get())}}return r}function Mv({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Iv(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Ah(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const h in a){const m=e.getValue(h),p=a[h];if(!m||p===void 0||d&&Mv(d,h))continue;const w={delay:n,elapsed:0,...Ul(i||{},h)};if(window.HandoffAppearAnimations){const C=e.getProps()[Dd];if(C){const x=window.HandoffAppearAnimations(C,h,m,ot);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let b=!w.isHandoff&&!Iv(m,p);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(ql(h,m,p,e.shouldReduceMotion&&wr.has(h)?{type:!1}:w));const v=m.animation;Lo(c)&&(c.add(h),v.then(()=>c.remove(h))),u.push(v)}return l&&Promise.all(u).then(()=>{l&&jv(e,l)}),u}function Ji(e,t,n={}){const r=ui(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Ah(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=o;return Fv(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,l]:[l,i];return c().then(()=>u())}else return Promise.all([i(),l(n.delay)])}function Fv(e,t,n=0,r=0,o=1,i){const l=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Tv).forEach((u,d)=>{u.notify("AnimationStart",t),l.push(Ji(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(l)}function Tv(e,t){return e.sortNodePosition(t)}function Av(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>Ji(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=Ji(e,t,n);else{const o=typeof t=="function"?ui(e,t,n.custom):t;r=Promise.all(Ah(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Dv=[...Al].reverse(),Ov=Al.length;function _v(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Av(e,n,r)))}function Vv(e){let t=_v(e);const n=Lv();let r=!0;const o=(c,u)=>{const d=ui(e,u);if(d){const{transition:h,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function i(c){t=c(e)}function l(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},m=[],p=new Set;let w={},b=1/0;for(let C=0;C<Ov;C++){const x=Dv[C],y=n[x],g=d[x]!==void 0?d[x]:h[x],E=Fs(g),D=x===u?y.isActive:null;D===!1&&(b=C);let P=g===h[x]&&g!==d[x]&&E;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),y.protectedKeys={...w},!y.isActive&&D===null||!g&&!y.prevProp||ii(g)||typeof g=="boolean")continue;let F=$v(y.prevProp,g)||x===u&&y.isActive&&!P&&E||C>b&&E,_=!1;const O=Array.isArray(g)?g:[g];let z=O.reduce(o,{});D===!1&&(z={});const{prevResolvedValues:$={}}=y,M={...$,...z},I=V=>{F=!0,p.has(V)&&(_=!0,p.delete(V)),y.needsAnimating[V]=!0};for(const V in M){const H=z[V],R=$[V];if(w.hasOwnProperty(V))continue;let N=!1;Oo(H)&&Oo(R)?N=!th(H,R):N=H!==R,N?H!==void 0?I(V):p.add(V):H!==void 0&&p.has(V)?I(V):y.protectedKeys[V]=!0}y.prevProp=g,y.prevResolvedValues=z,y.isActive&&(w={...w,...z}),r&&e.blockInitialAnimation&&(F=!1),F&&(!P||_)&&m.push(...O.map(V=>({animation:V,options:{type:x,...c}})))}if(p.size){const C={};p.forEach(x=>{const y=e.getBaseTarget(x);y!==void 0&&(C[x]=y)}),m.push({animation:C})}let v=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(m):Promise.resolve()}function a(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var w;return(w=p.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const m=l(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:l,setActive:a,setAnimateFunction:i,getState:()=>n}}function $v(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!th(t,e):!1}function ir(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lv(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class Rv extends rr{constructor(t){super(t),t.animationState||(t.animationState=Vv(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ii(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Nv=0;class zv extends rr{constructor(){super(...arguments),this.id=Nv++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Bv={animation:{Feature:Rv},exit:{Feature:zv}},hc=(e,t)=>Math.abs(e-t);function Hv(e,t){const n=hc(e.x,t.x),r=hc(e.y,t.y);return Math.sqrt(n**2+r**2)}class Dh{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ti(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=Hv(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:w}=h,{timestamp:b}=Et;this.history.push({...w,timestamp:b});const{onStart:v,onMove:C}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fi(m,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ti(h.type==="pointercancel"?this.lastMoveEventInfo:Fi(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),w&&w(h,v)},!Xd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const l=ci(t),a=Fi(l,this.transformPagePoint),{point:c}=a,{timestamp:u}=Et;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ti(a,this.history)),this.removeListeners=Qn(In(this.contextWindow,"pointermove",this.handlePointerMove),In(this.contextWindow,"pointerup",this.handlePointerUp),In(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Fi(e,t){return t?{point:t(e.point)}:e}function fc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ti({point:e},t){return{point:e,delta:fc(e,Oh(t)),offset:fc(e,Wv(t)),velocity:Gv(t,.1)}}function Wv(e){return e[0]}function Oh(e){return e[e.length-1]}function Gv(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Oh(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>pr(t)));)n--;if(!r)return{x:0,y:0};const i=Fn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Gt(e){return e.max-e.min}function el(e,t=0,n=.01){return Math.abs(e-t)<=n}function mc(e,t,n,r=.5){e.origin=r,e.originPoint=ct(t.min,t.max,e.origin),e.scale=Gt(n)/Gt(t),(el(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ct(n.min,n.max,e.origin)-e.originPoint,(el(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){mc(e.x,t.x,n.x,r?r.originX:void 0),mc(e.y,t.y,n.y,r?r.originY:void 0)}function gc(e,t,n){e.min=n.min+t.min,e.max=e.min+Gt(t)}function Uv(e,t,n){gc(e.x,t.x,n.x),gc(e.y,t.y,n.y)}function pc(e,t,n){e.min=t.min-n.min,e.max=e.min+Gt(t)}function Ss(e,t,n){pc(e.x,t.x,n.x),pc(e.y,t.y,n.y)}function qv(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ct(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ct(n,e,r.max):Math.min(e,n)),e}function xc(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Kv(e,{top:t,left:n,bottom:r,right:o}){return{x:xc(e.x,n,o),y:xc(e.y,t,r)}}function bc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Qv(e,t){return{x:bc(e.x,t.x),y:bc(e.y,t.y)}}function Xv(e,t){let n=.5;const r=Gt(e),o=Gt(t);return o>r?n=As(t.min,t.max-r,e.min):r>o&&(n=As(e.min,e.max-o,t.min)),Yn(0,1,n)}function Yv(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tl=.35;function Zv(e=tl){return e===!1?e=0:e===!0&&(e=tl),{x:vc(e,"left","right"),y:vc(e,"top","bottom")}}function vc(e,t,n){return{min:yc(e,t),max:yc(e,n)}}function yc(e,t){return typeof e=="number"?e:e[t]||0}const Cc=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Cc(),y:Cc()}),wc=()=>({min:0,max:0}),mt=()=>({x:wc(),y:wc()});function qt(e){return[e("x"),e("y")]}function _h({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Jv({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ey(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ai(e){return e===void 0||e===1}function nl({scale:e,scaleX:t,scaleY:n}){return!Ai(e)||!Ai(t)||!Ai(n)}function ar(e){return nl(e)||Vh(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Vh(e){return Sc(e.x)||Sc(e.y)}function Sc(e){return e&&e!=="0%"}function Ro(e,t,n){const r=e-n,o=t*r;return n+o}function jc(e,t,n,r,o){return o!==void 0&&(e=Ro(e,o,r)),Ro(e,n,r)+t}function rl(e,t=0,n=1,r,o){e.min=jc(e.min,t,n,r,o),e.max=jc(e.max,t,n,r,o)}function $h(e,{x:t,y:n}){rl(e.x,t.translate,t.scale,t.originPoint),rl(e.y,n.translate,n.scale,n.originPoint)}function ty(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,l;for(let a=0;a<o;a++){i=n[a],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,$h(e,l)),r&&ar(i.latestValues)&&Hr(e,i.latestValues))}t.x=Pc(t.x),t.y=Pc(t.y)}function Pc(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Bn(e,t){e.min=e.min+t,e.max=e.max+t}function kc(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,l=ct(e.min,e.max,i);rl(e,t[n],t[r],l,t.scale)}const ny=["x","scaleX","originX"],ry=["y","scaleY","originY"];function Hr(e,t){kc(e.x,t,ny),kc(e.y,t,ry)}function Lh(e,t){return _h(ey(e.getBoundingClientRect(),t))}function sy(e,t,n){const r=Lh(e,n),{scroll:o}=t;return o&&(Bn(r.x,o.offset.x),Bn(r.y,o.offset.y)),r}const Rh=({current:e})=>e?e.ownerDocument.defaultView:null,oy=new WeakMap;class iy{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ci(d,"page").point)},i=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:w}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zd(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(v=>{let C=this.getAxisMotionValue(v).get()||0;if(xn.test(C)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[v];y&&(C=Gt(y)*(parseFloat(C)/100))}}this.originPoint[v]=C}),w&&ot.update(()=>w(d,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:w,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=ly(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),c=()=>qt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Dh(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Rh(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ot.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!oo(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=qv(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Nr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Kv(o.layoutBox,n):this.constraints=!1,this.elastic=Zv(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&qt(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=Yv(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Nr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=sy(r,o.root,this.visualElement.getTransformPagePoint());let l=Qv(o.layout.layoutBox,i);if(n){const a=n(Jv(l));this.hasMutatedConstraints=!!a,a&&(l=_h(a))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=qt(d=>{if(!oo(d,n,this.currentDirection))return;let h=c&&c[d]||{};l&&(h={min:0,max:0});const m=o?200:1e6,p=o?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(ql(t,r,0,n))}stopAnimation(){qt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qt(n=>{const{drag:r}=this.getProps();if(!oo(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:a}=o.layout.layoutBox[n];i.set(t[n]-ct(l,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Nr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qt(l=>{const a=this.getAxisMotionValue(l);if(a){const c=a.get();o[l]=Xv({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qt(l=>{if(!oo(l,t,null))return;const a=this.getAxisMotionValue(l),{min:c,max:u}=this.constraints[l];a.set(ct(c,u,o[l]))})}addListeners(){if(!this.visualElement.current)return;oy.set(this.visualElement,this);const t=this.visualElement.current,n=In(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Nr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const l=En(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(qt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())}));return()=>{l(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:l=tl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:l,dragMomentum:a}}}function oo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ly(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class ay extends rr{constructor(t){super(t),this.removeGroupControls=ht,this.removeListeners=ht,this.controls=new iy(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ec=e=>(t,n)=>{e&&ot.update(()=>e(t,n))};class cy extends rr{constructor(){super(...arguments),this.removePointerDownListener=ht}onPointerDown(t){this.session=new Dh(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ec(t),onStart:Ec(n),onMove:r,onEnd:(i,l)=>{delete this.session,o&&ot.update(()=>o(i,l))}}}mount(){this.removePointerDownListener=In(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function uy(){const e=f.useContext(Fl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=f.useId();return f.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const n=Mc(e,t.target.x),r=Mc(e,t.target.y);return`${n}% ${r}%`}},dy={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Zn.parse(e);if(o.length>5)return r;const i=Zn.createTransformer(e),l=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=a,o[1+l]/=c;const u=ct(a,c,.5);return typeof o[2+l]=="number"&&(o[2+l]/=u),typeof o[3+l]=="number"&&(o[3+l]/=u),i(o)}};class hy extends Ae.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;bx(fy),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,l=r.projection;return l&&(l.isPresent=i,o||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||ot.postRender(()=>{const a=l.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nh(e){const[t,n]=uy(),r=f.useContext(_d);return Ae.createElement(hy,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Vd),isPresent:t,safeToRemove:n})}const fy={borderRadius:{...is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:is,borderTopRightRadius:is,borderBottomLeftRadius:is,borderBottomRightRadius:is,boxShadow:dy},zh=["TopLeft","TopRight","BottomLeft","BottomRight"],my=zh.length,Ic=e=>typeof e=="string"?parseFloat(e):e,Fc=e=>typeof e=="number"||Me.test(e);function gy(e,t,n,r,o,i){o?(e.opacity=ct(0,n.opacity!==void 0?n.opacity:1,py(r)),e.opacityExit=ct(t.opacity!==void 0?t.opacity:1,0,xy(r))):i&&(e.opacity=ct(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<my;l++){const a=`border${zh[l]}Radius`;let c=Tc(t,a),u=Tc(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Fc(c)===Fc(u)?(e[a]=Math.max(ct(Ic(c),Ic(u),r),0),(xn.test(u)||xn.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ct(t.rotate||0,n.rotate||0,r))}function Tc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const py=Bh(0,.5,uh),xy=Bh(.5,.95,ht);function Bh(e,t,n){return r=>r<e?0:r>t?1:n(As(e,t,r))}function Ac(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){Ac(e.x,t.x),Ac(e.y,t.y)}function Dc(e,t,n,r,o){return e-=t,e=Ro(e,1/n,r),o!==void 0&&(e=Ro(e,1/o,r)),e}function by(e,t=0,n=1,r=.5,o,i=e,l=e){if(xn.test(t)&&(t=parseFloat(t),t=ct(l.min,l.max,t/100)-l.min),typeof t!="number")return;let a=ct(i.min,i.max,r);e===i&&(a-=t),e.min=Dc(e.min,t,n,a,o),e.max=Dc(e.max,t,n,a,o)}function Oc(e,t,[n,r,o],i,l){by(e,t[n],t[r],t[o],t.scale,i,l)}const vy=["x","scaleX","originX"],yy=["y","scaleY","originY"];function _c(e,t,n,r){Oc(e.x,t,vy,n?n.x:void 0,r?r.x:void 0),Oc(e.y,t,yy,n?n.y:void 0,r?r.y:void 0)}function Vc(e){return e.translate===0&&e.scale===1}function Hh(e){return Vc(e.x)&&Vc(e.y)}function Cy(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Wh(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function $c(e){return Gt(e.x)/Gt(e.y)}class wy{constructor(){this.members=[]}add(t){Kl(this.members,t),t.scheduleRender()}remove(t){if(Ql(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lc(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const l=e.x.scale*t.x,a=e.y.scale*t.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const Sy=(e,t)=>e.depth-t.depth;class jy{constructor(){this.children=[],this.isDirty=!1}add(t){Kl(this.children,t),this.isDirty=!0}remove(t){Ql(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Sy),this.isDirty=!1,this.children.forEach(t)}}function Py(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Dn(r),e(i-t))};return ot.read(r,!0),()=>Dn(r)}function ky(e){window.MotionDebug&&window.MotionDebug.record(e)}function Ey(e){return e instanceof SVGElement&&e.tagName!=="svg"}function My(e,t,n){const r=zt(e)?e:Yr(e);return r.start(ql("",r,t,n)),r.animation}const Rc=["","X","Y","Z"],Iy={visibility:"hidden"},Nc=1e3;let Fy=0;const cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Gh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},a=t?.()){this.id=Fy++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cr.totalNodes=cr.resolvedTargetDeltas=cr.recalculatedProjection=0,this.nodes.forEach(Dy),this.nodes.forEach(Ly),this.nodes.forEach(Ry),this.nodes.forEach(Oy),ky(cr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jy)}addEventListener(l,a){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Xl),this.eventHandlers.get(l).add(a)}notifyListeners(l,...a){const c=this.eventHandlers.get(l);c&&c.notify(...a)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ey(l),this.instance=l;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Py(m,250),yo.hasAnimatedSinceResize&&(yo.hasAnimatedSinceResize=!1,this.nodes.forEach(Bc))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Wy,{onLayoutAnimationStart:v,onLayoutAnimationComplete:C}=d.getProps(),x=!this.targetLayout||!Wh(this.targetLayout,w)||p,y=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const g={...Ul(b,"layout"),onPlay:v,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g)}else m||Bc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ny),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zc);return}this.isUpdating||this.nodes.forEach(Vy),this.isUpdating=!1,this.nodes.forEach($y),this.nodes.forEach(Ty),this.nodes.forEach(Ay),this.clearAllSnapshots();const a=performance.now();Et.delta=Yn(0,1e3/60,a-Et.timestamp),Et.timestamp=a,Et.isProcessing=!0,wi.update.process(Et),wi.preRender.process(Et),wi.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_y),this.sharedNodes.forEach(zy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Hh(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;l&&(a||ar(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return l&&(c=this.removeTransform(c)),Gy(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return mt();const a=l.measureViewportBox(),{scroll:c}=this.root;return c&&(Bn(a.x,c.offset.x),Bn(a.y,c.offset.y)),a}removeElementScroll(l){const a=mt();Ut(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Ut(a,l);const{scroll:m}=this.root;m&&(Bn(a.x,-m.offset.x),Bn(a.y,-m.offset.y))}Bn(a.x,d.offset.x),Bn(a.y,d.offset.y)}}return a}applyTransform(l,a=!1){const c=mt();Ut(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Hr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ar(d.latestValues)&&Hr(c,d.latestValues)}return ar(this.latestValues)&&Hr(c,this.latestValues),c}removeTransform(l){const a=mt();Ut(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ar(u.latestValues))continue;nl(u.latestValues)&&u.updateSnapshot();const d=mt(),h=u.measurePageBox();Ut(d,h),_c(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ar(this.latestValues)&&_c(a,this.latestValues),a}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ss(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Uv(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),$h(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ss(this.relativeTargetOrigin,this.target,p.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nl(this.parent.latestValues)||Vh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ut(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;ty(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=Br(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br());const b=this.projectionTransform;ws(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Lc(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=mt(),p=c?c.source:void 0,w=this.layout?this.layout.source:void 0,b=p!==w,v=this.getStack(),C=!v||v.members.length<=1,x=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(Hy));this.animationProgress=0;let y;this.mixTargetDelta=g=>{const E=g/1e3;Hc(h.x,l.x,E),Hc(h.y,l.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ss(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),By(this.relativeTarget,this.relativeTargetOrigin,m,E),y&&Cy(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=mt()),Ut(y,this.relativeTarget)),b&&(this.animationValues=d,gy(d,u,this.latestValues,E,x,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{yo.hasAnimatedSinceResize=!0,this.currentAnimation=My(0,Nc,{...l,onUpdate:a=>{this.mixTargetDelta(a),l.onUpdate&&l.onUpdate(a)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=l;if(!(!a||!c||!u)){if(this!==l&&this.layout&&u&&Uh(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||mt();const h=Gt(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const m=Gt(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+m}Ut(a,c),Hr(a,d),ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(l,a){this.sharedNodes.has(l)||this.sharedNodes.set(l,new wy),this.sharedNodes.get(l).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let a=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<Rc.length;d++){const h="rotate"+Rc[d];c[h]&&(u[h]=c[h],l.setStaticValue(h,0))}l.render();for(const d in u)l.setStaticValue(d,u[d]);l.scheduleRender()}getProjectionStyles(l){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Iy;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vo(l?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=vo(l?.pointerEvents)||""),this.hasProjected&&!ar(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Lc(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:w}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Ao){if(m[b]===void 0)continue;const{correct:v,applyTo:C}=Ao[b],x=u.transform==="none"?m[b]:v(m[b],h);if(C){const y=C.length;for(let g=0;g<y;g++)u[C[g]]=x}else u[b]=x}return this.options.layoutId&&(u.pointerEvents=h===this?vo(l?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var a;return(a=l.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zc),this.root.sharedNodes.clear()}}}function Ty(e){e.updateLayout()}function Ay(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,l=n.source!==e.layout.source;i==="size"?qt(h=>{const m=l?n.measuredBox[h]:n.layoutBox[h],p=Gt(m);m.min=r[h].min,m.max=m.min+p}):Uh(i,n.layoutBox,r)&&qt(h=>{const m=l?n.measuredBox[h]:n.layoutBox[h],p=Gt(r[h]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Br();ws(a,r,n.layoutBox);const c=Br();l?ws(c,e.applyTransform(o,!0),n.measuredBox):ws(c,r,n.layoutBox);const u=!Hh(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const w=mt();Ss(w,n.layoutBox,m.layoutBox);const b=mt();Ss(b,r,p.layoutBox),Wh(w,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Dy(e){cr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Oy(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _y(e){e.clearSnapshot()}function zc(e){e.clearMeasurements()}function Vy(e){e.isLayoutDirty=!1}function $y(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ly(e){e.resolveTargetDelta()}function Ry(e){e.calcProjection()}function Ny(e){e.resetRotation()}function zy(e){e.removeLeadSnapshot()}function Hc(e,t,n){e.translate=ct(t.translate,0,n),e.scale=ct(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wc(e,t,n,r){e.min=ct(t.min,n.min,r),e.max=ct(t.max,n.max,r)}function By(e,t,n,r){Wc(e.x,t.x,n.x,r),Wc(e.y,t.y,n.y,r)}function Hy(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Wy={duration:.45,ease:[.4,0,.1,1]},Gc=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Uc=Gc("applewebkit/")&&!Gc("chrome/")?Math.round:ht;function qc(e){e.min=Uc(e.min),e.max=Uc(e.max)}function Gy(e){qc(e.x),qc(e.y)}function Uh(e,t,n){return e==="position"||e==="preserve-aspect"&&!el($c(t),$c(n),.2)}const Uy=Gh({attachResizeListener:(e,t)=>En(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Di={current:void 0},qh=Gh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Di.current){const e=new Uy({});e.mount(window),e.setOptions({layoutScroll:!0}),Di.current=e}return Di.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qy={pan:{Feature:cy},drag:{Feature:ay,ProjectionNode:qh,MeasureLayout:Nh}},Ky=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Qy(e){const t=Ky.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function sl(e,t,n=1){const[r,o]=Qy(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return Ih(l)?parseFloat(l):l}else return qi(o)?sl(o,t,n+1):o}function Xy(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!qi(i))return;const l=sl(i,r);l&&o.set(l)});for(const o in t){const i=t[o];if(!qi(i))continue;const l=sl(i,r);l&&(t[o]=l,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const Yy=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Kh=e=>Yy.has(e),Zy=e=>Object.keys(e).some(Kh),Kc=e=>e===Sr||e===Me,Qc=(e,t)=>parseFloat(e.split(", ")[t]),Xc=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Qc(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Qc(i[1],e):0}},Jy=new Set(["x","y","z"]),eC=Ls.filter(e=>!Jy.has(e));function tC(e){const t=[];return eC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Zr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Xc(4,13),y:Xc(5,14)};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const nC=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:l}=i,a={};l==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Zr[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Zr[u](c,i)}),e},rC=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Kh);let i=[],l=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=os(d);const m=t[c];let p;if(Oo(m)){const w=m.length,b=m[0]===null?1:0;d=m[b],h=os(d);for(let v=b;v<w&&m[v]!==null;v++)p?zl(os(m[v])===p):p=os(m[v])}else p=os(m);if(h!==p)if(Kc(h)&&Kc(p)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===Me&&(t[c]=m.map(parseFloat))}else h?.transform&&p?.transform&&(d===0||m===0)?d===0?u.set(p.transform(d)):t[c]=h.transform(m):(l||(i=tC(e),l=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=nC(t,e,a);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),oi&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function sC(e,t,n,r){return Zy(t)?rC(e,t,n,r):{target:t,transitionEnd:r}}const oC=(e,t,n,r)=>{const o=Xy(e,t,r);return t=o.target,r=o.transitionEnd,sC(e,t,n,r)},ol={current:null},Qh={current:!1};function iC(){if(Qh.current=!0,!!oi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ol.current=e.matches;e.addListener(t),t()}else ol.current=!1}function lC(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],l=n[o];if(zt(i))e.addValue(o,i),Lo(r)&&r.add(o);else if(zt(l))e.addValue(o,Yr(i,{owner:e})),Lo(r)&&r.remove(o);else if(l!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Yr(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Yc=new WeakMap,Xh=Object.keys(Ts),aC=Xh.length,Zc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],cC=Dl.length;class uC{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.isControllingVariants=li(n),this.isVariantNode=Od(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const m=d[h];a[h]!==void 0&&zt(m)&&(m.set(a[h],!1),Lo(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Yc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Qh.current||iC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ol.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yc.delete(this.current),this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=wr.has(t),o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let l,a;for(let c=0;c<aC;c++){const u=Xh[c],{isEnabled:d,Feature:h,ProjectionNode:m,MeasureLayout:p}=Ts[u];m&&(l=m),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Nr(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zc.length;r++){const o=Zc[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=lC(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<cC;r++){const o=Dl[r],i=this.props[o];(Fs(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yr(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Nl(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!zt(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Xl),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Yh extends uC{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let l=Ev(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),l&&(l=o(l))),i){Pv(this,r,l);const a=oC(this,r,l,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function dC(e){return window.getComputedStyle(e)}class hC extends Yh{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(wr.has(n)){const r=Gl(n);return r&&r.default||0}else{const r=dC(t),o=(Rd(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Lh(t,n)}build(t,n,r,o){_l(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Rl(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){Gd(t,n,r,o)}}class fC extends Yh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wr.has(n)){const r=Gl(n);return r&&r.default||0}return n=Ud.has(n)?n:Tl(n),t.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(t,n){return Kd(t,n)}build(t,n,r,o){$l(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){qd(t,n,r,o)}mount(t){this.isSVGTag=Ll(t.tagName),super.mount(t)}}const mC=(e,t)=>Ol(e)?new fC(t,{enableHardwareAcceleration:!1}):new hC(t,{enableHardwareAcceleration:!0}),gC={layout:{ProjectionNode:qh,MeasureLayout:Nh}},pC={...Bv,...ab,...qy,...gC},nt=px((e,t)=>Qx(e,t,pC,mC));class xC{async login(t){const n=[{id:"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",email:"manager@nekservice.ru",name:"Менеджер",role:"manager",rating:4.8,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"3",email:"tech@nekservice.ru",name:"Техник",role:"technician",rating:4.5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date}];return new Promise((r,o)=>{setTimeout(()=>{const i=n.find(l=>l.email===t.email);i&&t.password==="password"?r({user:i,token:"mock-jwt-token-"+i.id}):o(new Error("Неверный email или пароль"))},1e3)})}async getCurrentUser(){return new Promise((t,n)=>{setTimeout(()=>{const r=localStorage.getItem("token");if(r){const i={id:r.split("-").pop()||"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date};t(i)}else n(new Error("No token found"))},500)})}async logout(){return Promise.resolve()}}const Jc=new xC,Zh=f.createContext(void 0),Yl=()=>{const e=f.useContext(Zh);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},bC=({children:e})=>{const[t,n]=f.useState(null),[r,o]=f.useState(!0),[i,l]=f.useState(null);f.useEffect(()=>{(async()=>{try{if(localStorage.getItem("token")){const p=await Jc.getCurrentUser();n(p)}}catch{localStorage.removeItem("token")}finally{o(!1)}})()},[]);const d={user:t,isAuthenticated:!!t,isLoading:r,error:i,login:async h=>{try{o(!0),l(null);const{user:m,token:p}=await Jc.login(h);localStorage.setItem("token",p),n(m)}catch(m){throw l(m.message||"Ошибка входа в систему"),m}finally{o(!1)}},logout:()=>{localStorage.removeItem("token"),n(null),l(null)},updateUser:h=>{t&&n({...t,...h})}};return s.jsx(Zh.Provider,{value:d,children:e})},lr=280,vC=({children:e})=>{const[t,n]=f.useState(!1),[r,o]=f.useState(null),i=Hm(),l=Wm(i.breakpoints.down("md")),a=Vg(),c=$g(),{user:u,logout:d}=Yl(),h=[{text:"Дашборд",icon:s.jsx(Ym,{}),path:"/dashboard"},{text:"Заказы",icon:s.jsx(Po,{}),path:"/orders"},{text:"Клиенты",icon:s.jsx(ko,{}),path:"/clients"},{text:"Склад",icon:s.jsx(vl,{}),path:"/inventory"},{text:"Сотрудники",icon:s.jsx(Zm,{}),path:"/employees"},{text:"Касса",icon:s.jsx(Jm,{}),path:"/cash-register"},{text:"Отчеты",icon:s.jsx(Yu,{}),path:"/reports"},{text:"Настройки",icon:s.jsx(Zu,{}),path:"/settings"}],m=()=>{n(!t)},p=C=>{o(C.currentTarget)},w=()=>{o(null)},b=()=>{d(),w()},v=s.jsxs(B,{children:[s.jsxs(B,{sx:{p:3,background:"#1A1A1A",color:"white",textAlign:"center"},children:[s.jsx(j,{variant:"h5",fontWeight:"bold",sx:{color:"#FF6B35"},children:"НЭК СЕРВИС"}),s.jsx(j,{variant:"body2",sx:{opacity:.9,mt:.5,color:"#9E9E9E"},children:"CRM Система"})]}),s.jsx(Ms,{}),s.jsx(Gr,{sx:{px:2,py:1},children:h.map(C=>{const x=c.pathname===C.path;return s.jsx(nt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{onClick:()=>{a(C.path),l&&n(!1)},sx:{display:"flex",alignItems:"center",p:2,mb:1,borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",backgroundColor:x?"primary.main":"transparent",color:x?"white":"text.primary","&:hover":{backgroundColor:x?"primary.dark":"action.hover"}},children:[C.icon,s.jsx(j,{variant:"body1",sx:{ml:2,fontWeight:x?600:400},children:C.text})]})},C.text)})})]});return s.jsxs(B,{sx:{display:"flex"},children:[s.jsx(Gm,{position:"fixed",sx:{width:{md:`calc(100% - ${lr}px)`},ml:{md:`${lr}px`},backgroundColor:"#1A1A1A",color:"text.primary",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:s.jsxs(Um,{children:[s.jsx(Be,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{md:"none"}},children:s.jsx(qm,{})}),s.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,color:"text.primary"},children:h.find(C=>C.path===c.pathname)?.text||"Дашборд"}),s.jsx(Be,{color:"inherit",sx:{mr:1},children:s.jsx(bl,{badgeContent:3,color:"error",children:s.jsx(us,{})})}),s.jsx(Be,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:p,color:"inherit",children:s.jsx(st,{sx:{width:32,height:32,bgcolor:"primary.main"},children:u?.name?.charAt(0)})})]})}),s.jsx(B,{sx:{position:"fixed",top:64,left:{md:lr},right:0,zIndex:1100,backgroundColor:"#1A1A1A",borderBottom:"1px solid rgba(255,107,53,0.2)",display:{xs:"none",md:"flex"},borderRadius:"0 0 8px 8px"},children:s.jsx(B,{sx:{display:"flex",alignItems:"center",px:2,py:1,width:"100%",overflowX:"auto","&::-webkit-scrollbar":{height:4},"&::-webkit-scrollbar-track":{backgroundColor:"#1A1A1A"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#FF6B35",borderRadius:2}},children:h.map((C,x)=>{const y=c.pathname===C.path;return s.jsxs(Ae.Fragment,{children:[s.jsx(B,{onClick:()=>a(C.path),sx:{display:"flex",alignItems:"center",px:2,py:1,cursor:"pointer",borderRadius:1,transition:"all 0.2s ease-in-out",backgroundColor:y?"rgba(255,107,53,0.2)":"transparent","&:hover":{backgroundColor:y?"rgba(255,107,53,0.3)":"rgba(255,107,53,0.1)"},whiteSpace:"nowrap",minWidth:"fit-content"},children:s.jsx(j,{variant:"body2",sx:{fontWeight:y?600:400,fontSize:"0.875rem",color:y?"primary.main":"text.secondary"},children:C.text})}),x<h.length-1&&s.jsx(B,{sx:{width:"1px",height:"20px",backgroundColor:"rgba(255,107,53,0.3)",mx:1}})]},C.text)})})}),s.jsxs(B,{component:"nav",sx:{width:{md:lr},flexShrink:{md:0}},"aria-label":"mailbox folders",children:[s.jsx(Aa,{variant:"temporary",open:t,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:lr,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},children:v}),s.jsx(Aa,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:lr,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},open:!0,children:v})]}),s.jsx(B,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${lr}px)`},mt:{xs:8,md:12},minHeight:"calc(100vh - 64px)",backgroundColor:"#1A1A1A"},children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e})}),s.jsxs(Km,{anchorEl:r,open:!!r,onClose:w,onClick:w,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[s.jsxs(le,{onClick:()=>a("/settings"),children:[s.jsx(Qm,{fontSize:"small",sx:{mr:1}}),"Профиль"]}),s.jsx(Ms,{}),s.jsxs(le,{onClick:b,children:[s.jsx(Xm,{fontSize:"small",sx:{mr:1}}),"Выйти"]})]})]})};var Bs=e=>e.type==="checkbox",hr=e=>e instanceof Date,Ot=e=>e==null;const Jh=e=>typeof e=="object";var gt=e=>!Ot(e)&&!Array.isArray(e)&&Jh(e)&&!hr(e),ef=e=>gt(e)&&e.target?Bs(e.target)?e.target.checked:e.target.value:e,yC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tf=(e,t)=>e.has(yC(t)),CC=e=>{const t=e.constructor&&e.constructor.prototype;return gt(t)&&t.hasOwnProperty("isPrototypeOf")},Zl=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Zl&&(e instanceof Blob||r))&&(n||gt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!CC(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=xt(e[o]));else return e;return t}var di=e=>/^\w*$/.test(e),dt=e=>e===void 0,Jl=e=>Array.isArray(e)?e.filter(Boolean):[],ea=e=>Jl(e.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(e,t,n)=>{if(!t||!gt(e))return n;const r=(di(t)?[t]:ea(t)).reduce((o,i)=>Ot(o)?o:o[i],e);return dt(r)||r===e?dt(e[t])?n:e[t]:r},Ht=e=>typeof e=="boolean",Je=(e,t,n)=>{let r=-1;const o=di(t)?[t]:ea(t),i=o.length,l=i-1;for(;++r<i;){const a=o[r];let c=n;if(r!==l){const u=e[a];c=gt(u)||Array.isArray(u)?u:isNaN(+o[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const No={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},nf=Ae.createContext(null);nf.displayName="HookFormContext";const ta=()=>Ae.useContext(nf);var rf=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const l=i;return t._proxyFormState[l]!==tn.all&&(t._proxyFormState[l]=!r||tn.all),n&&(n[l]=!0),e[l]}});return o};const na=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;function wC(e){const t=ta(),{control:n=t.control,disabled:r,name:o,exact:i}=e||{},[l,a]=Ae.useState(n._formState),c=Ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return na(()=>n._subscribe({name:o,formState:c.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[o,r,i]),Ae.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ae.useMemo(()=>rf(l,n,c.current,!1),[l,n])}var Wt=e=>typeof e=="string",sf=(e,t,n,r,o)=>Wt(e)?(r&&t.watch.add(e),he(n,e,o)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),he(n,i))):(r&&(t.watchAll=!0),n),il=e=>Ot(e)||!Jh(e);function Pn(e,t,n=new WeakSet){if(il(e)||il(t))return e===t;if(hr(e)&&hr(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const l=e[i];if(!o.includes(i))return!1;if(i!=="ref"){const a=t[i];if(hr(l)&&hr(a)||gt(l)&&gt(a)||Array.isArray(l)&&Array.isArray(a)?!Pn(l,a,n):l!==a)return!1}}return!0}function SC(e){const t=ta(),{control:n=t.control,name:r,defaultValue:o,disabled:i,exact:l,compute:a}=e||{},c=Ae.useRef(o),u=Ae.useRef(a),d=Ae.useRef(void 0);u.current=a;const h=Ae.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,p]=Ae.useState(u.current?u.current(h):h);return na(()=>n._subscribe({name:r,formState:{values:!0},exact:l,callback:w=>{if(!i){const b=sf(r,n._names,w.values||n._formValues,!1,c.current);if(u.current){const v=u.current(b);Pn(v,d.current)||(p(v),d.current=v)}else p(b)}}}),[n,i,r,l]),Ae.useEffect(()=>n._removeUnmounted()),m}function jC(e){const t=ta(),{name:n,disabled:r,control:o=t.control,shouldUnregister:i,defaultValue:l}=e,a=tf(o._names.array,n),c=Ae.useMemo(()=>he(o._formValues,n,he(o._defaultValues,n,l)),[o,n,l]),u=SC({control:o,name:n,defaultValue:c,exact:!0}),d=wC({control:o,name:n,exact:!0}),h=Ae.useRef(e),m=Ae.useRef(void 0),p=Ae.useRef(o.register(n,{...e.rules,value:u,...Ht(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const w=Ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!he(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!he(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!he(d.validatingFields,n)},error:{enumerable:!0,get:()=>he(d.errors,n)}}),[d,n]),b=Ae.useCallback(y=>p.current.onChange({target:{value:ef(y),name:n},type:No.CHANGE}),[n]),v=Ae.useCallback(()=>p.current.onBlur({target:{value:he(o._formValues,n),name:n},type:No.BLUR}),[n,o._formValues]),C=Ae.useCallback(y=>{const g=he(o._fields,n);g&&y&&(g._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:E=>y.setCustomValidity(E),reportValidity:()=>y.reportValidity()})},[o._fields,n]),x=Ae.useMemo(()=>({name:n,value:u,...Ht(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:b,onBlur:v,ref:C}),[n,r,d.disabled,b,v,C,u]);return Ae.useEffect(()=>{const y=o._options.shouldUnregister||i,g=m.current;g&&g!==n&&!a&&o.unregister(g),o.register(n,{...h.current.rules,...Ht(h.current.disabled)?{disabled:h.current.disabled}:{}});const E=(D,P)=>{const k=he(o._fields,D);k&&k._f&&(k._f.mount=P)};if(E(n,!0),y){const D=xt(he(o._options.defaultValues,n,h.current.defaultValue));Je(o._defaultValues,n,D),dt(he(o._formValues,n))&&Je(o._formValues,n,D)}return!a&&o.register(n),m.current=n,()=>{(a?y&&!o._state.action:y)?o.unregister(n):E(n,!1)}},[n,o,a,i]),Ae.useEffect(()=>{o._setDisabledField({disabled:r,name:n})},[r,n,o]),Ae.useMemo(()=>({field:x,formState:d,fieldState:w}),[x,d,w])}const rt=e=>e.render(jC(e));var of=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},js=e=>Array.isArray(e)?e:[e],eu=()=>{let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}};function lf(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],i=t[r];if(o&&gt(o)&&i){const l=lf(o,i);gt(l)&&(n[r]=l)}else e[r]&&(n[r]=i)}return n}var Nt=e=>gt(e)&&!Object.keys(e).length,ra=e=>e.type==="file",nn=e=>typeof e=="function",zo=e=>{if(!Zl)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},af=e=>e.type==="select-multiple",sa=e=>e.type==="radio",PC=e=>sa(e)||Bs(e),Oi=e=>zo(e)&&e.isConnected;function kC(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=dt(e)?r++:e[t[r++]];return e}function EC(e){for(const t in e)if(e.hasOwnProperty(t)&&!dt(e[t]))return!1;return!0}function ft(e,t){const n=Array.isArray(t)?t:di(t)?[t]:ea(t),r=n.length===1?e:kC(e,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(gt(r)&&Nt(r)||Array.isArray(r)&&EC(r))&&ft(e,n.slice(0,-1)),e}var MC=e=>{for(const t in e)if(nn(e[t]))return!0;return!1};function cf(e){return Array.isArray(e)||gt(e)&&!MC(e)}function ll(e,t={}){for(const n in e)cf(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ll(e[n],t[n])):Ot(e[n])||(t[n]=!0);return t}function _r(e,t,n){n||(n=ll(t));for(const r in e)cf(e[r])?dt(t)||il(n[r])?n[r]=ll(e[r],Array.isArray(e[r])?[]:{}):_r(e[r],Ot(t)?{}:t[r],n[r]):n[r]=!Pn(e[r],t[r]);return n}const tu={value:!1,isValid:!1},nu={value:!0,isValid:!0};var uf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dt(e[0].attributes.value)?dt(e[0].value)||e[0].value===""?nu:{value:e[0].value,isValid:!0}:nu:tu}return tu},df=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>dt(e)?e:t?e===""?NaN:e&&+e:n&&Wt(e)?new Date(e):r?r(e):e;const ru={isValid:!1,value:null};var hf=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ru):ru;function su(e){const t=e.ref;return ra(t)?t.files:sa(t)?hf(e.refs).value:af(t)?[...t.selectedOptions].map(({value:n})=>n):Bs(t)?uf(e.refs).value:df(dt(t.value)?e.ref.value:t.value,e)}var IC=(e,t,n,r)=>{const o={};for(const i of e){const l=he(t,i);l&&Je(o,i,l._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Bo=e=>e instanceof RegExp,ls=e=>dt(e)?e:Bo(e)?e.source:gt(e)?Bo(e.value)?e.value.source:e.value:e,ou=e=>({isOnSubmit:!e||e===tn.onSubmit,isOnBlur:e===tn.onBlur,isOnChange:e===tn.onChange,isOnAll:e===tn.all,isOnTouch:e===tn.onTouched});const iu="AsyncFunction";var FC=e=>!!e&&!!e.validate&&!!(nn(e.validate)&&e.validate.constructor.name===iu||gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iu)),TC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lu=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ps=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const i=he(e,o);if(i){const{_f:l,...a}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],o)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Ps(a,t))break}else if(gt(a)&&Ps(a,t))break}}};function au(e,t,n){const r=he(e,n);if(r||di(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),l=he(t,i),a=he(e,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};o.pop()}return{name:n}}var AC=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return Nt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!r||tn.all))},DC=(e,t,n)=>!e||!t||e===t||js(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),OC=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,_C=(e,t)=>!Jl(he(e,t)).length&&ft(e,t),VC=(e,t,n)=>{const r=js(he(e,n));return Je(r,"root",t[n]),Je(e,n,r),e};function cu(e,t,n="validate"){if(Wt(e)||Array.isArray(e)&&e.every(Wt)||Ht(e)&&!e)return{type:n,message:Wt(e)?e:"",ref:t}}var Ir=e=>gt(e)&&!Bo(e)?e:{value:e,message:""},uu=async(e,t,n,r,o,i)=>{const{ref:l,refs:a,required:c,maxLength:u,minLength:d,min:h,max:m,pattern:p,validate:w,name:b,valueAsNumber:v,mount:C}=e._f,x=he(n,b);if(!C||t.has(b))return{};const y=a?a[0]:l,g=z=>{o&&y.reportValidity&&(y.setCustomValidity(Ht(z)?"":z||""),y.reportValidity())},E={},D=sa(l),P=Bs(l),k=D||P,F=(v||ra(l))&&dt(l.value)&&dt(x)||zo(l)&&l.value===""||x===""||Array.isArray(x)&&!x.length,_=of.bind(null,b,r,E),O=(z,$,M,I=Cn.maxLength,V=Cn.minLength)=>{const H=z?$:M;E[b]={type:z?I:V,message:H,ref:l,..._(z?I:V,H)}};if(i?!Array.isArray(x)||!x.length:c&&(!k&&(F||Ot(x))||Ht(x)&&!x||P&&!uf(a).isValid||D&&!hf(a).isValid)){const{value:z,message:$}=Wt(c)?{value:!!c,message:c}:Ir(c);if(z&&(E[b]={type:Cn.required,message:$,ref:y,..._(Cn.required,$)},!r))return g($),E}if(!F&&(!Ot(h)||!Ot(m))){let z,$;const M=Ir(m),I=Ir(h);if(!Ot(x)&&!isNaN(x)){const V=l.valueAsNumber||x&&+x;Ot(M.value)||(z=V>M.value),Ot(I.value)||($=V<I.value)}else{const V=l.valueAsDate||new Date(x),H=G=>new Date(new Date().toDateString()+" "+G),R=l.type=="time",N=l.type=="week";Wt(M.value)&&x&&(z=R?H(x)>H(M.value):N?x>M.value:V>new Date(M.value)),Wt(I.value)&&x&&($=R?H(x)<H(I.value):N?x<I.value:V<new Date(I.value))}if((z||$)&&(O(!!z,M.message,I.message,Cn.max,Cn.min),!r))return g(E[b].message),E}if((u||d)&&!F&&(Wt(x)||i&&Array.isArray(x))){const z=Ir(u),$=Ir(d),M=!Ot(z.value)&&x.length>+z.value,I=!Ot($.value)&&x.length<+$.value;if((M||I)&&(O(M,z.message,$.message),!r))return g(E[b].message),E}if(p&&!F&&Wt(x)){const{value:z,message:$}=Ir(p);if(Bo(z)&&!x.match(z)&&(E[b]={type:Cn.pattern,message:$,ref:l,..._(Cn.pattern,$)},!r))return g($),E}if(w){if(nn(w)){const z=await w(x,n),$=cu(z,y);if($&&(E[b]={...$,..._(Cn.validate,$.message)},!r))return g($.message),E}else if(gt(w)){let z={};for(const $ in w){if(!Nt(z)&&!r)break;const M=cu(await w[$](x,n),y,$);M&&(z={...M,..._($,M.message)},g(M.message),r&&(E[b]=z))}if(!Nt(z)&&(E[b]={ref:y,...z},!r))return E}}return g(!0),E};const $C={mode:tn.onSubmit,reValidateMode:tn.onChange,shouldFocusError:!0};function LC(e={}){let t={...$C,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:nn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=gt(t.defaultValues)||gt(t.values)?xt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:xt(o),l={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:eu(),state:eu()},p=t.criteriaMode===tn.all,w=L=>q=>{clearTimeout(u),u=setTimeout(L,q)},b=async L=>{if(!t.disabled&&(d.isValid||h.isValid||L)){const q=t.resolver?Nt((await P()).errors):await F(r,!0);q!==n.isValid&&m.state.next({isValid:q})}},v=(L,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(a.mount)).forEach(Q=>{Q&&(q?Je(n.validatingFields,Q,q):ft(n.validatingFields,Q))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Nt(n.validatingFields)}))},C=(L,q=[],Q,ne,U=!0,ee=!0)=>{if(ne&&Q&&!t.disabled){if(l.action=!0,ee&&Array.isArray(he(r,L))){const de=Q(he(r,L),ne.argA,ne.argB);U&&Je(r,L,de)}if(ee&&Array.isArray(he(n.errors,L))){const de=Q(he(n.errors,L),ne.argA,ne.argB);U&&Je(n.errors,L,de),_C(n.errors,L)}if((d.touchedFields||h.touchedFields)&&ee&&Array.isArray(he(n.touchedFields,L))){const de=Q(he(n.touchedFields,L),ne.argA,ne.argB);U&&Je(n.touchedFields,L,de)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=_r(o,i)),m.state.next({name:L,isDirty:O(L,q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,L,q)},x=(L,q)=>{Je(n.errors,L,q),m.state.next({errors:n.errors})},y=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},g=(L,q,Q,ne)=>{const U=he(r,L);if(U){const ee=he(i,L,dt(Q)?he(o,L):Q);dt(ee)||ne&&ne.defaultChecked||q?Je(i,L,q?ee:su(U._f)):M(L,ee),l.mount&&b()}},E=(L,q,Q,ne,U)=>{let ee=!1,de=!1;const Pe={name:L};if(!t.disabled){if(!Q||ne){(d.isDirty||h.isDirty)&&(de=n.isDirty,n.isDirty=Pe.isDirty=O(),ee=de!==Pe.isDirty);const Te=Pn(he(o,L),q);de=!!he(n.dirtyFields,L),Te?ft(n.dirtyFields,L):Je(n.dirtyFields,L,!0),Pe.dirtyFields=n.dirtyFields,ee=ee||(d.dirtyFields||h.dirtyFields)&&de!==!Te}if(Q){const Te=he(n.touchedFields,L);Te||(Je(n.touchedFields,L,Q),Pe.touchedFields=n.touchedFields,ee=ee||(d.touchedFields||h.touchedFields)&&Te!==Q)}ee&&U&&m.state.next(Pe)}return ee?Pe:{}},D=(L,q,Q,ne)=>{const U=he(n.errors,L),ee=(d.isValid||h.isValid)&&Ht(q)&&n.isValid!==q;if(t.delayError&&Q?(c=w(()=>x(L,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Je(n.errors,L,Q):ft(n.errors,L)),(Q?!Pn(U,Q):U)||!Nt(ne)||ee){const de={...ne,...ee&&Ht(q)?{isValid:q}:{},errors:n.errors,name:L};n={...n,...de},m.state.next(de)}},P=async L=>{v(L,!0);const q=await t.resolver(i,t.context,IC(L||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return v(L),q},k=async L=>{const{errors:q}=await P(L);if(L)for(const Q of L){const ne=he(q,Q);ne?Je(n.errors,Q,ne):ft(n.errors,Q)}else n.errors=q;return q},F=async(L,q,Q={valid:!0})=>{for(const ne in L){const U=L[ne];if(U){const{_f:ee,...de}=U;if(ee){const Pe=a.array.has(ee.name),Te=U._f&&FC(U._f);Te&&d.validatingFields&&v([ee.name],!0);const Ne=await uu(U,a.disabled,i,p,t.shouldUseNativeValidation&&!q,Pe);if(Te&&d.validatingFields&&v([ee.name]),Ne[ee.name]&&(Q.valid=!1,q))break;!q&&(he(Ne,ee.name)?Pe?VC(n.errors,Ne,ee.name):Je(n.errors,ee.name,Ne[ee.name]):ft(n.errors,ee.name))}!Nt(de)&&await F(de,q,Q)}}return Q.valid},_=()=>{for(const L of a.unMount){const q=he(r,L);q&&(q._f.refs?q._f.refs.every(Q=>!Oi(Q)):!Oi(q._f.ref))&&me(L)}a.unMount=new Set},O=(L,q)=>!t.disabled&&(L&&q&&Je(i,L,q),!Pn(G(),o)),z=(L,q,Q)=>sf(L,a,{...l.mount?i:dt(q)?o:Wt(L)?{[L]:q}:q},Q,q),$=L=>Jl(he(l.mount?i:o,L,t.shouldUnregister?he(o,L,[]):[])),M=(L,q,Q={})=>{const ne=he(r,L);let U=q;if(ne){const ee=ne._f;ee&&(!ee.disabled&&Je(i,L,df(q,ee)),U=zo(ee.ref)&&Ot(q)?"":q,af(ee.ref)?[...ee.ref.options].forEach(de=>de.selected=U.includes(de.value)):ee.refs?Bs(ee.ref)?ee.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(U)?de.checked=!!U.find(Pe=>Pe===de.value):de.checked=U===de.value||!!U)}):ee.refs.forEach(de=>de.checked=de.value===U):ra(ee.ref)?ee.ref.value="":(ee.ref.value=U,ee.ref.type||m.state.next({name:L,values:xt(i)})))}(Q.shouldDirty||Q.shouldTouch)&&E(L,U,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&N(L)},I=(L,q,Q)=>{for(const ne in q){if(!q.hasOwnProperty(ne))return;const U=q[ne],ee=L+"."+ne,de=he(r,ee);(a.array.has(L)||gt(U)||de&&!de._f)&&!hr(U)?I(ee,U,Q):M(ee,U,Q)}},V=(L,q,Q={})=>{const ne=he(r,L),U=a.array.has(L),ee=xt(q);Je(i,L,ee),U?(m.array.next({name:L,values:xt(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Q.shouldDirty&&m.state.next({name:L,dirtyFields:_r(o,i),isDirty:O(L,ee)})):ne&&!ne._f&&!Ot(ee)?I(L,ee,Q):M(L,ee,Q),lu(L,a)&&m.state.next({...n,name:L}),m.state.next({name:l.mount?L:void 0,values:xt(i)})},H=async L=>{l.mount=!0;const q=L.target;let Q=q.name,ne=!0;const U=he(r,Q),ee=Te=>{ne=Number.isNaN(Te)||hr(Te)&&isNaN(Te.getTime())||Pn(Te,he(i,Q,Te))},de=ou(t.mode),Pe=ou(t.reValidateMode);if(U){let Te,Ne;const Zt=q.type?su(U._f):ef(L),Ke=L.type===No.BLUR||L.type===No.FOCUS_OUT,it=!TC(U._f)&&!t.resolver&&!he(n.errors,Q)&&!U._f.deps||OC(Ke,he(n.touchedFields,Q),n.isSubmitted,Pe,de),_n=lu(Q,a,Ke);Je(i,Q,Zt),Ke?(!q||!q.readOnly)&&(U._f.onBlur&&U._f.onBlur(L),c&&c(0)):U._f.onChange&&U._f.onChange(L);const Qe=E(Q,Zt,Ke),Ft=!Nt(Qe)||_n;if(!Ke&&m.state.next({name:Q,type:L.type,values:xt(i)}),it)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Ke&&b():Ke||b()),Ft&&m.state.next({name:Q,..._n?{}:Qe});if(!Ke&&_n&&m.state.next({...n}),t.resolver){const{errors:sr}=await P([Q]);if(ee(Zt),ne){const Er=au(n.errors,r,Q),or=au(sr,r,Er.name||Q);Te=or.error,Q=or.name,Ne=Nt(sr)}}else v([Q],!0),Te=(await uu(U,a.disabled,i,p,t.shouldUseNativeValidation))[Q],v([Q]),ee(Zt),ne&&(Te?Ne=!1:(d.isValid||h.isValid)&&(Ne=await F(r,!0)));ne&&(U._f.deps&&(!Array.isArray(U._f.deps)||U._f.deps.length>0)&&N(U._f.deps),D(Q,Ne,Te,Qe))}},R=(L,q)=>{if(he(n.errors,q)&&L.focus)return L.focus(),1},N=async(L,q={})=>{let Q,ne;const U=js(L);if(t.resolver){const ee=await k(dt(L)?L:U);Q=Nt(ee),ne=L?!U.some(de=>he(ee,de)):Q}else L?(ne=(await Promise.all(U.map(async ee=>{const de=he(r,ee);return await F(de&&de._f?{[ee]:de}:de)}))).every(Boolean),!(!ne&&!n.isValid)&&b()):ne=Q=await F(r);return m.state.next({...!Wt(L)||(d.isValid||h.isValid)&&Q!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:n.errors}),q.shouldFocus&&!ne&&Ps(r,R,L?U:a.mount),ne},G=(L,q)=>{let Q={...l.mount?i:o};return q&&(Q=lf(q.dirtyFields?n.dirtyFields:n.touchedFields,Q)),dt(L)?Q:Wt(L)?he(Q,L):L.map(ne=>he(Q,ne))},K=(L,q)=>({invalid:!!he((q||n).errors,L),isDirty:!!he((q||n).dirtyFields,L),error:he((q||n).errors,L),isValidating:!!he(n.validatingFields,L),isTouched:!!he((q||n).touchedFields,L)}),Z=L=>{L&&js(L).forEach(q=>ft(n.errors,q)),m.state.next({errors:L?n.errors:{}})},se=(L,q,Q)=>{const ne=(he(r,L,{_f:{}})._f||{}).ref,U=he(n.errors,L)||{},{ref:ee,message:de,type:Pe,...Te}=U;Je(n.errors,L,{...Te,...q,ref:ne}),m.state.next({name:L,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&ne&&ne.focus&&ne.focus()},te=(L,q)=>nn(L)?m.state.subscribe({next:Q=>"values"in Q&&L(z(void 0,q),Q)}):z(L,q,!0),fe=L=>m.state.subscribe({next:q=>{DC(L.name,q.name,L.exact)&&AC(q,L.formState||d,je,L.reRenderRoot)&&L.callback({values:{...i},...n,...q,defaultValues:o})}}).unsubscribe,oe=L=>(l.mount=!0,h={...h,...L.formState},fe({...L,formState:h})),me=(L,q={})=>{for(const Q of L?js(L):a.mount)a.mount.delete(Q),a.array.delete(Q),q.keepValue||(ft(r,Q),ft(i,Q)),!q.keepError&&ft(n.errors,Q),!q.keepDirty&&ft(n.dirtyFields,Q),!q.keepTouched&&ft(n.touchedFields,Q),!q.keepIsValidating&&ft(n.validatingFields,Q),!t.shouldUnregister&&!q.keepDefaultValue&&ft(o,Q);m.state.next({values:xt(i)}),m.state.next({...n,...q.keepDirty?{isDirty:O()}:{}}),!q.keepIsValid&&b()},J=({disabled:L,name:q})=>{(Ht(L)&&l.mount||L||a.disabled.has(q))&&(L?a.disabled.add(q):a.disabled.delete(q))},ce=(L,q={})=>{let Q=he(r,L);const ne=Ht(q.disabled)||Ht(t.disabled);return Je(r,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...q}}),a.mount.add(L),Q?J({disabled:Ht(q.disabled)?q.disabled:t.disabled,name:L}):g(L,!0,q.value),{...ne?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:ls(q.min),max:ls(q.max),minLength:ls(q.minLength),maxLength:ls(q.maxLength),pattern:ls(q.pattern)}:{},name:L,onChange:H,onBlur:H,ref:U=>{if(U){ce(L,q),Q=he(r,L);const ee=dt(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,de=PC(ee),Pe=Q._f.refs||[];if(de?Pe.find(Te=>Te===ee):ee===Q._f.ref)return;Je(r,L,{_f:{...Q._f,...de?{refs:[...Pe.filter(Oi),ee,...Array.isArray(he(o,L))?[{}]:[]],ref:{type:ee.type,name:L}}:{ref:ee}}}),g(L,!1,void 0,ee)}else Q=he(r,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(tf(a.array,L)&&l.action)&&a.unMount.add(L)}}},ae=()=>t.shouldFocusError&&Ps(r,R,a.mount),we=L=>{Ht(L)&&(m.state.next({disabled:L}),Ps(r,(q,Q)=>{const ne=he(r,Q);ne&&(q.disabled=ne._f.disabled||L,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(U=>{U.disabled=ne._f.disabled||L}))},0,!1))},pe=(L,q)=>async Q=>{let ne;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let U=xt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:de}=await P();n.errors=ee,U=xt(de)}else await F(r);if(a.disabled.size)for(const ee of a.disabled)ft(U,ee);if(ft(n.errors,"root"),Nt(n.errors)){m.state.next({errors:{}});try{await L(U,Q)}catch(ee){ne=ee}}else q&&await q({...n.errors},Q),ae(),setTimeout(ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nt(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},_e=(L,q={})=>{he(r,L)&&(dt(q.defaultValue)?V(L,xt(he(o,L))):(V(L,q.defaultValue),Je(o,L,xt(q.defaultValue))),q.keepTouched||ft(n.touchedFields,L),q.keepDirty||(ft(n.dirtyFields,L),n.isDirty=q.defaultValue?O(L,xt(he(o,L))):O()),q.keepError||(ft(n.errors,L),d.isValid&&b()),m.state.next({...n}))},Xe=(L,q={})=>{const Q=L?xt(L):o,ne=xt(Q),U=Nt(L),ee=U?o:ne;if(q.keepDefaultValues||(o=Q),!q.keepValues){if(q.keepDirtyValues){const de=new Set([...a.mount,...Object.keys(_r(o,i))]);for(const Pe of Array.from(de))he(n.dirtyFields,Pe)?Je(ee,Pe,he(i,Pe)):V(Pe,he(ee,Pe))}else{if(Zl&&dt(L))for(const de of a.mount){const Pe=he(r,de);if(Pe&&Pe._f){const Te=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(zo(Te)){const Ne=Te.closest("form");if(Ne){Ne.reset();break}}}}if(q.keepFieldsRef)for(const de of a.mount)V(de,he(ee,de));else r={}}i=t.shouldUnregister?q.keepDefaultValues?xt(o):{}:xt(ee),m.array.next({values:{...ee}}),m.state.next({values:{...ee}})}a={mount:q.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,l.watch=!!t.shouldUnregister,m.state.next({submitCount:q.keepSubmitCount?n.submitCount:0,isDirty:U?!1:q.keepDirty?n.isDirty:!!(q.keepDefaultValues&&!Pn(L,o)),isSubmitted:q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:U?{}:q.keepDirtyValues?q.keepDefaultValues&&i?_r(o,i):n.dirtyFields:q.keepDefaultValues&&L?_r(o,L):q.keepDirty?n.dirtyFields:{},touchedFields:q.keepTouched?n.touchedFields:{},errors:q.keepErrors?n.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ie=(L,q)=>Xe(nn(L)?L(i):L,q),Ce=(L,q={})=>{const Q=he(r,L),ne=Q&&Q._f;if(ne){const U=ne.refs?ne.refs[0]:ne.ref;U.focus&&(U.focus(),q.shouldSelect&&nn(U.select)&&U.select())}},je=L=>{n={...n,...L}},Ue={control:{register:ce,unregister:me,getFieldState:K,handleSubmit:pe,setError:se,_subscribe:fe,_runSchema:P,_focusError:ae,_getWatch:z,_getDirty:O,_setValid:b,_setFieldArray:C,_setDisabledField:J,_setErrors:y,_getFieldArray:$,_reset:Xe,_resetDefaultValues:()=>nn(t.defaultValues)&&t.defaultValues().then(L=>{ie(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:we,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(L){l=L},get _defaultValues(){return o},get _names(){return a},set _names(L){a=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:oe,trigger:N,register:ce,handleSubmit:pe,watch:te,setValue:V,getValues:G,reset:ie,resetField:_e,clearErrors:Z,unregister:me,setError:se,setFocus:Ce,getFieldState:K};return{...Ue,formControl:Ue}}function ff(e={}){const t=Ae.useRef(void 0),n=Ae.useRef(void 0),[r,o]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:nn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...a}=LC(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,na(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>o({...i._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),i._formState.isReady=!0,l},[i]),Ae.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ae.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ae.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ae.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ae.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),Ae.useEffect(()=>{e.values&&!Pn(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,o(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=rf(r,i),t.current}var du=function(e,t,n){if(e&&"reportValidity"in e){var r=he(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},mf=function(e,t){var n=function(o){var i=t.fields[o];i&&i.ref&&"reportValidity"in i.ref?du(i.ref,o,e):i.refs&&i.refs.forEach(function(l){return du(l,o,e)})};for(var r in t.fields)n(r)},RC=function(e,t){t.shouldUseNativeValidation&&mf(e,t);var n={};for(var r in e){var o=he(t.fields,r);Je(n,r,Object.assign(e[r],{ref:o&&o.ref}))}return n},gf=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),function(r,o,i){try{return Promise.resolve((function(l,a){try{var c=(t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:o}))).then(function(u){return i.shouldUseNativeValidation&&mf({},i),{values:n.rawValues?r:u,errors:{}}}))}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c})(0,function(l){if(!l.inner)throw l;return{values:{},errors:RC((a=l,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(a.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var h=u[d.path].types,m=h&&h[d.type];u[d.path]=of(d.path,c,u,d.type,m?[].concat(m,d.message):d.message)}return u},{})),i)};var a,c}))}catch(l){return Promise.reject(l)}}},_i,hu;function NC(){if(hu)return _i;hu=1;function e(C){this._maxSize=C,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(C){return this._values[C]},e.prototype.set=function(C,x){return this._size>=this._maxSize&&this.clear(),C in this._values||this._size++,this._values[C]=x};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,a=new e(l),c=new e(l),u=new e(l);_i={Cache:e,split:h,normalizePath:d,setter:function(C){var x=d(C);return c.get(C)||c.set(C,function(g,E){for(var D=0,P=x.length,k=g;D<P-1;){var F=x[D];if(F==="__proto__"||F==="constructor"||F==="prototype")return g;k=k[x[D++]]}k[x[D]]=E})},getter:function(C,x){var y=d(C);return u.get(C)||u.set(C,function(E){for(var D=0,P=y.length;D<P;)if(E!=null||!x)E=E[y[D++]];else return;return E})},join:function(C){return C.reduce(function(x,y){return x+(p(y)||n.test(y)?"["+y+"]":(x?".":"")+y)},"")},forEach:function(C,x,y){m(Array.isArray(C)?C:h(C),x,y)}};function d(C){return a.get(C)||a.set(C,h(C).map(function(x){return x.replace(i,"$2")}))}function h(C){return C.match(t)||[""]}function m(C,x,y){var g=C.length,E,D,P,k;for(D=0;D<g;D++)E=C[D],E&&(v(E)&&(E='"'+E+'"'),k=p(E),P=!k&&/^\d+$/.test(E),x.call(y,E,k,P,D,C))}function p(C){return typeof C=="string"&&C&&["'",'"'].indexOf(C.charAt(0))!==-1}function w(C){return C.match(r)&&!C.match(n)}function b(C){return o.test(C)}function v(C){return!p(C)&&(w(C)||b(C))}return _i}var xr=NC(),Vi,fu;function zC(){if(fu)return Vi;fu=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=d=>d.match(e)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,h)=>t(d).join(h).toLowerCase(),o=d=>t(d).reduce((h,m)=>`${h}${h?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return Vi={words:t,upperFirst:n,camelCase:o,pascalCase:d=>n(o(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>t(d).map(n).join(" ")},Vi}var $i=zC(),io={exports:{}},mu;function BC(){if(mu)return io.exports;mu=1,io.exports=function(o){return e(t(o),o)},io.exports.array=e;function e(o,i){var l=o.length,a=new Array(l),c={},u=l,d=n(i),h=r(o);for(i.forEach(function(p){if(!h.has(p[0])||!h.has(p[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||m(o[u],u,new Set);return a;function m(p,w,b){if(b.has(p)){var v;try{v=", node was:"+JSON.stringify(p)}catch{v=""}throw new Error("Cyclic dependency"+v)}if(!h.has(p))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(p));if(!c[w]){c[w]=!0;var C=d.get(p)||new Set;if(C=Array.from(C),w=C.length){b.add(p);do{var x=C[--w];m(x,h.get(x),b)}while(w);b.delete(p)}a[--l]=p}}}function t(o){for(var i=new Set,l=0,a=o.length;l<a;l++){var c=o[l];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(o){for(var i=new Map,l=0,a=o.length;l<a;l++){var c=o[l];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(o){for(var i=new Map,l=0,a=o.length;l<a;l++)i.set(o[l],l);return i}return io.exports}var HC=BC();const WC=ud(HC),GC=Object.prototype.toString,UC=Error.prototype.toString,qC=RegExp.prototype.toString,KC=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",QC=/^Symbol\((.*)\)(.*)$/;function XC(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function gu(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return XC(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return KC.call(e).replace(QC,"Symbol($1)");const r=GC.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+UC.call(e)+"]":r==="RegExp"?qC.call(e):null}function Xn(e,t){let n=gu(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=gu(this[r],t);return i!==null?i:o},2)}function pf(e){return e==null?[]:[].concat(e)}let xf,bf,vf,YC=/\$\{\s*(\w+)\s*\}/g;xf=Symbol.toStringTag;class pu{constructor(t,n,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[xf]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],pf(t).forEach(i=>{if(_t.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}bf=Symbol.hasInstance;vf=Symbol.toStringTag;class _t extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(YC,(o,i)=>Xn(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o,i){const l=new pu(t,n,r,o);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[vf]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_t)}static[bf](t){return pu[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let fn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=r!=null&&r!==n?` (cast from the value \`${Xn(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Xn(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${Xn(n,!0)}\``+o}},Lt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ZC={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},al={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},JC={isValue:"${path} field must be ${value}"},Co={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},e0={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},t0={notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${Xn(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${Xn(n,!0)}\``}return _t.formatError(fn.notType,e)}};Object.assign(Object.create(null),{mixed:fn,string:Lt,number:ZC,date:al,object:Co,array:e0,boolean:JC,tuple:t0});const oa=e=>e&&e.__isYupSchema__;class Ho{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,l=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Ho(t,(a,c)=>{var u;let d=l(...a)?o:i;return(u=d?.(c))!=null?u:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),o=this.fn(r,t,n);if(o===void 0||o===t)return t;if(!oa(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const lo={context:"$",value:"."};class jr{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===lo.context,this.isValue=this.key[0]===lo.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?lo.context:this.isValue?lo.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&xr.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}jr.prototype.__isYupRef=!0;const fr=e=>e==null;function Fr(e){function t({value:n,path:r="",options:o,originalValue:i,schema:l},a,c){const{name:u,test:d,params:h,message:m,skipAbsent:p}=e;let{parent:w,context:b,abortEarly:v=l.spec.abortEarly,disableStackTrace:C=l.spec.disableStackTrace}=o;const x={value:n,parent:w,context:b};function y(O={}){const z=yf(Object.assign({value:n,originalValue:i,label:l.spec.label,path:O.path||r,spec:l.spec,disableStackTrace:O.disableStackTrace||C},h,O.params),x),$=new _t(_t.formatError(O.message||m,z),n,z.path,O.type||u,z.disableStackTrace);return $.params=z,$}const g=v?a:c;let E={path:r,parent:w,type:u,from:o.from,createError:y,resolve(O){return Cf(O,x)},options:o,originalValue:i,schema:l};const D=O=>{_t.isError(O)?g(O):O?c(null):g(y())},P=O=>{_t.isError(O)?g(O):a(O)};if(p&&fr(n))return D(!0);let F;try{var _;if(F=d.call(E,n,E),typeof((_=F)==null?void 0:_.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(F).then(D,P)}}catch(O){P(O);return}D(F)}return t.OPTIONS=e,t}function yf(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=Cf(e[n],t);return e}function Cf(e,t){return jr.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function n0(e,t,n,r=n){let o,i,l;return t?(xr.forEach(t,(a,c,u)=>{let d=c?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:o,value:n});let h=e.type==="tuple",m=u?parseInt(d,10):0;if(e.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[m],e=h?e.spec.types[m]:e.innerType}if(!u){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${e.type}")`);o=n,n=n&&n[d],e=e.fields[d]}i=d,l=c?"["+a+"]":"."+a}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class Wo extends Set{describe(){const t=[];for(const n of this.values())t.push(jr.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Wo(this.values())}merge(t,n){const r=this.clone();return t.forEach(o=>r.add(o)),n.forEach(o=>r.delete(o)),r}}function Wr(e,t=new Map){if(oa(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Wr(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Wr(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Wr(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Wr(o,t)}else throw Error(`Unable to clone ${e}`);return n}function r0(e){if(!(e!=null&&e.length))return;const t=[];let n="",r=!1,o=!1;for(let i=0;i<e.length;i++){const l=e[i];if(l==="["&&!o){n&&(t.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(l==="]"&&!o){n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(l==='"'){o=!o;continue}if(l==="."&&!r&&!o){n&&(t.push(n),n="");continue}n+=l}return n&&t.push(...n.split(".").filter(Boolean)),t}function s0(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(r=>({message:r,path:r0(n)}))}function wf(e,t){var n;if(!((n=e.inner)!=null&&n.length)&&e.errors.length)return s0(e,t);const r=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(o=>wf(o,r))}class bn{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Wo,this._blacklist=new Wo,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(fn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Wr(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const o=Object.assign({},n.spec,r.spec);return r.spec=o,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{t.tests.forEach(l=>{i.test(l.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((o,i)=>i.resolve(o,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,o,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(o=t.recursive)!=null?o:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({},n,{value:t})),o=n.assert==="ignore-optionality",i=r._cast(t,n);if(n.assert!==!1&&!r.isType(i)){if(o&&fr(i))return i;let l=Xn(t),a=Xn(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${l} 
`+(a!==l?`result of cast: ${a}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((o,i)=>i.call(this,o,t,this,n),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,o){let{path:i,originalValue:l=t,strict:a=this.spec.strict}=n,c=t;a||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:l,options:n,tests:u},r,d=>{if(d.length)return o(d,c);this.runTests({path:i,value:c,originalValue:l,options:n,tests:this.tests},r,o)})}runTests(t,n,r){let o=!1,{tests:i,value:l,originalValue:a,path:c,options:u}=t,d=b=>{o||(o=!0,n(b,l))},h=b=>{o||(o=!0,r(b,l))},m=i.length,p=[];if(!m)return h([]);let w={value:l,originalValue:a,path:c,options:u,schema:this};for(let b=0;b<i.length;b++){const v=i[b];v(w,d,function(x){x&&(Array.isArray(x)?p.push(...x):p.push(x)),--m<=0&&h(p)})}}asNestedTest({key:t,index:n,parent:r,parentPath:o,originalParent:i,options:l}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=r[a];const d=Object.assign({},l,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${o||""}[${c?a:`"${a}"`}]`:(o?`${o}.`:"")+t});return(h,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i=(r=n?.disableStackTrace)!=null?r:o.spec.disableStackTrace;return new Promise((l,a)=>o._validate(t,n,(c,u)=>{_t.isError(c)&&(c.value=u),a(c)},(c,u)=>{c.length?a(new _t(c,u,void 0,void 0,i)):l(u)}))}validateSync(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i,l=(r=n?.disableStackTrace)!=null?r:o.spec.disableStackTrace;return o._validate(t,Object.assign({},n,{sync:!0}),(a,c)=>{throw _t.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new _t(a,t,void 0,void 0,l);i=c}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(_t.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(_t.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Wr(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Fr({message:n,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Fr({message:n,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=fn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=fn.notNull){return this.nullability(!1,t)}required(t=fn.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=fn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=Fr(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(l=>!(l.OPTIONS.name===n.name&&(i||l.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),o=pf(t).map(i=>new jr(i));return o.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Ho(o,n):Ho.fromOptions(o,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Fr({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=fn.oneOf){let r=this.clone();return t.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r.internalTests.whiteList=Fr({message:n,name:"oneOf",skipAbsent:!0,test(o){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(o)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),r}notOneOf(t,n=fn.notOneOf){let r=this.clone();return t.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r.internalTests.blacklist=Fr({message:n,name:"notOneOf",test(o){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(o)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:o,optional:i,nullable:l}=n.spec;return{meta:o,label:r,optional:i,nullable:l,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(h=>h.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&t?yf(Object.assign({},c.OPTIONS.params),t):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await t.validate(r,{abortEarly:!1})}}catch(o){if(o instanceof _t)return{issues:wf(o)};throw o}}}}}bn.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])bn.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:l}=n0(this,t,n,r.context);return l[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])bn.prototype[e]=bn.prototype.oneOf;for(const e of["not","nope"])bn.prototype[e]=bn.prototype.notOneOf;const o0=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function i0(e){const t=cl(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function cl(e){var t,n;const r=o0.exec(e);return r?{year:wn(r[1]),month:wn(r[2],1)-1,day:wn(r[3],1),hour:wn(r[4]),minute:wn(r[5]),second:wn(r[6]),millisecond:r[7]?wn(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:wn(r[10]),minuteOffset:wn(r[11])}:null}function wn(e,t=0){return Number(e)||t}let l0=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a0=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,c0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u0="^\\d{4}-\\d{2}-\\d{2}",d0="\\d{2}:\\d{2}:\\d{2}",h0="(([+-]\\d{2}(:?\\d{2})?)|Z)",f0=new RegExp(`${u0}T${d0}(\\.\\d+)?${h0}$`),m0=e=>fr(e)||e===e.trim(),g0={}.toString();function Tt(){return new Sf}class Sf extends bn{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===g0?t:r})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||fn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Lt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Lt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Lt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,o,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:o,name:i}=n:o=n),this.test({name:i||"matches",message:o||Lt.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&r||l.search(t)!==-1})}email(t=Lt.email){return this.matches(l0,{name:"email",message:t,excludeEmptyString:!0})}url(t=Lt.url){return this.matches(a0,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Lt.uuid){return this.matches(c0,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,o;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:o=void 0}=t:n=t),this.matches(f0,{name:"datetime",message:n||Lt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Lt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const l=cl(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:n||Lt.datetime_precision,params:{precision:o},skipAbsent:!0,test:i=>{if(!i||o==null)return!0;const l=cl(i);return l?l.precision===o:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Lt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:m0})}lowercase(t=Lt.lowercase){return this.transform(n=>fr(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fr(n)||n===n.toLowerCase()})}uppercase(t=Lt.uppercase){return this.transform(n=>fr(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fr(n)||n===n.toUpperCase()})}}Tt.prototype=Sf.prototype;let p0=new Date(""),x0=e=>Object.prototype.toString.call(e)==="[object Date]";class ia extends bn{constructor(){super({type:"date",check(t){return x0(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=i0(t),isNaN(t)?ia.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(jr.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=al.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(t,n=al.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}ia.INVALID_DATE=p0;function b0(e,t=[]){let n=[],r=new Set,o=new Set(t.map(([l,a])=>`${l}-${a}`));function i(l,a){let c=xr.split(l)[0];r.add(c),o.has(`${a}-${c}`)||n.push([a,c])}for(const l of Object.keys(e)){let a=e[l];r.add(l),jr.isRef(a)&&a.isSibling?i(a.path,l):oa(a)&&"deps"in a&&a.deps.forEach(c=>i(c,l))}return WC.array(Array.from(r),n).reverse()}function xu(e,t){let n=1/0;return e.some((r,o)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=o,!0}),n}function jf(e){return(t,n)=>xu(e,t)-xu(e,n)}const v0=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function wo(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=wo(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=wo(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(wo)}):"optional"in e?e.optional():e}const y0=(e,t)=>{const n=[...xr.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),o=xr.getter(xr.join(n),!0)(e);return!!(o&&r in o)};let bu=e=>Object.prototype.toString.call(e)==="[object Object]";function vu(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const C0=jf([]);function la(e){return new Pf(e)}class Pf extends bn{constructor(t){super({type:"object",check(n){return bu(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=C0,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let i=this.fields,l=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(o).filter(h=>!this._nodes.includes(h))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const h of a){let m=i[h],p=h in o,w=o[h];if(m){let b;u.path=(n.path?`${n.path}.`:"")+h,m=m.resolve({value:w,context:n.context,parent:c});let v=m instanceof bn?m.spec:void 0,C=v?.strict;if(v!=null&&v.strip){d=d||h in o;continue}b=!n.__validating||!C?m.cast(w,u):w,b!==void 0&&(c[h]=b)}else p&&!l&&(c[h]=w);(p!==h in c||c[h]!==w)&&(d=!0)}return d?c:o}_validate(t,n={},r,o){let{from:i=[],originalValue:l=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:l},...i],n.__validating=!0,n.originalValue=l,super._validate(t,n,r,(c,u)=>{if(!a||!bu(u)){o(c,u);return}l=l||u;let d=[];for(let h of this._nodes){let m=this.fields[h];!m||jr.isRef(m)||d.push(m.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:l}))}this.runTests({tests:d,value:u,originalValue:l,options:n},r,h=>{o(h.sort(this._sortErrors).concat(c),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const l=r[o];r[o]=l===void 0?i:l}return n.withMutation(o=>o.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var o;const i=this.fields[r];let l=t;(o=l)!=null&&o.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(l):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=b0(t,n),r._sortErrors=jf(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),o)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return wo(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,o])=>t.includes(r)&&t.includes(o)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let o=xr.getter(t,!0);return this.transform(i=>{if(!i)return i;let l=i;return y0(i,t)&&(l=Object.assign({},i),r||delete l[t],l[n]=o(i)),l})}json(){return this.transform(v0)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Co.exact,test(n){if(n==null)return!0;const r=vu(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=Co.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=vu(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=Co.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const o of Object.keys(n))r[t(o)]=n[o];return r})}camelCase(){return this.transformKeys($i.camelCase)}snakeCase(){return this.transformKeys($i.snakeCase)}constantCase(){return this.transformKeys(t=>$i.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,l]of Object.entries(n.fields)){var o;let a=t;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=l.describe(a)}return r}}la.prototype=Pf.prototype;const w0=la({email:Tt().email("Введите корректный email").required("Email обязателен"),password:Tt().min(6,"Пароль должен содержать минимум 6 символов").required("Пароль обязателен")}),S0=()=>{const[e,t]=f.useState(!1),{login:n,error:r,isLoading:o}=Yl(),{register:i,handleSubmit:l,formState:{errors:a}}=ff({resolver:gf(w0)}),c=async u=>{try{await n(u),ke.success("Добро пожаловать в НЭК Сервис!")}catch(d){ke.error(d.message||"Ошибка входа в систему")}};return s.jsx(B,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",p:2},children:s.jsx(eg,{maxWidth:"sm",children:s.jsx(nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs(Se,{sx:{borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"hidden"},children:[s.jsxs(B,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:4,textAlign:"center",color:"white"},children:[s.jsx(Ju,{sx:{fontSize:60,mb:2}}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"НЭК Сервис"}),s.jsx(j,{variant:"body1",sx:{opacity:.9},children:"CRM Система для сервисного центра"})]}),s.jsxs(Ee,{sx:{p:4},children:[s.jsx(j,{variant:"h5",fontWeight:"600",gutterBottom:!0,textAlign:"center",children:"Вход в систему"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mb:3},children:"Введите ваши учетные данные для входа"}),r&&s.jsx(tg,{severity:"error",sx:{mb:3},children:r}),s.jsxs(B,{component:"form",onSubmit:l(c),children:[s.jsx(re,{...i("email"),fullWidth:!0,label:"Email",type:"email",margin:"normal",error:!!a.email,helperText:a.email?.message,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(yl,{color:"action"})})},sx:{mb:2}}),s.jsx(re,{...i("password"),fullWidth:!0,label:"Пароль",type:e?"text":"password",margin:"normal",error:!!a.password,helperText:a.password?.message,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(rg,{color:"action"})}),endAdornment:s.jsx(bt,{position:"end",children:s.jsx(Be,{"aria-label":"toggle password visibility",onClick:()=>t(!e),edge:"end",children:e?s.jsx(ng,{}):s.jsx(ts,{})})})},sx:{mb:3}}),s.jsx(ge,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:o,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:o?"Вход...":"Войти"})]}),s.jsxs(B,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:2},children:[s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",gutterBottom:!0,children:"Тестовые учетные записи:"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"admin@nekservice.ru / password"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"manager@nekservice.ru / password"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"tech@nekservice.ru / password"})]})]})]})})})})},j0=[{title:"Всего заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Po,{}),color:"#1976d2"},{title:"Активные заказы",value:"89",change:"+5%",changeType:"positive",icon:s.jsx(og,{}),color:"#ed6c02"},{title:"Завершенные",value:"1,158",change:"+18%",changeType:"positive",icon:s.jsx(Cl,{}),color:"#2e7d32"},{title:"Доход за месяц",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(ed,{}),color:"#9c27b0"},{title:"Клиенты",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(ko,{}),color:"#f57c00"},{title:"Запчасти на складе",value:"1,234",change:"-3%",changeType:"negative",icon:s.jsx(vl,{}),color:"#d32f2f"}],P0=[{month:"Янв",revenue:24e5},{month:"Фев",revenue:22e5},{month:"Мар",revenue:28e5},{month:"Апр",revenue:26e5},{month:"Май",revenue:32e5},{month:"Июн",revenue:2847500}],yu=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],Cu=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],wu=[{id:"#001247",client:"Петров И.И.",device:"iPhone 14",status:"В работе",amount:15e3},{id:"#001246",client:"Сидорова М.А.",device:"Samsung Galaxy S23",status:"Завершен",amount:12e3},{id:"#001245",client:"Козлов А.В.",device:"MacBook Pro",status:"Ожидание",amount:45e3},{id:"#001244",client:"Волкова Е.С.",device:"iPad Air",status:"В работе",amount:18e3}],k0=({title:e,value:t,change:n,changeType:r,icon:o,color:i})=>s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsxs(Se,{sx:{height:"100%",position:"relative",overflow:"hidden"},children:[s.jsxs(Ee,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(st,{sx:{bgcolor:i,width:56,height:56},children:o}),s.jsx(at,{label:n,color:r==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:t}),s.jsx(j,{variant:"body2",color:"text.secondary",children:e})]}),s.jsx(B,{sx:{position:"absolute",top:0,right:0,width:100,height:100,background:`linear-gradient(135deg, ${i}20, ${i}10)`,borderRadius:"0 0 0 100%"}})]})}),E0=()=>s.jsxs(B,{children:[s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Дашборд"}),s.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Обзор деятельности сервисного центра"}),s.jsx(A,{container:!0,spacing:3,sx:{mb:4},children:j0.map((e,t)=>s.jsx(A,{item:!0,xs:12,sm:6,md:4,lg:2,children:s.jsx(k0,{...e})},t))}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,lg:8,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Динамика доходов"}),s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(dd,{data:P0,children:[s.jsx(fo,{strokeDasharray:"3 3"}),s.jsx(mo,{dataKey:"month"}),s.jsx(go,{}),s.jsx(Rr,{formatter:e=>[`₽${e.toLocaleString()}`,"Доход"]}),s.jsx(hd,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]})})})}),s.jsx(A,{item:!0,xs:12,lg:4,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Статус заказов"}),s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(fd,{children:[s.jsx(md,{data:yu,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:yu.map((e,t)=>s.jsx(gd,{fill:e.color},`cell-${t}`))}),s.jsx(Rr,{formatter:e=>[`${e}%`,"Процент"]})]})})})]})})})}),s.jsx(A,{item:!0,xs:12,lg:6,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ техников"}),s.jsx(Gr,{children:Cu.map((e,t)=>s.jsxs(Ae.Fragment,{children:[s.jsxs(cn,{children:[s.jsx(sg,{children:s.jsx(st,{sx:{bgcolor:"primary.main"},children:e.name.split(" ").map(n=>n[0]).join("")})}),s.jsx(un,{primary:e.name,secondary:s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsxs(j,{variant:"body2",children:[e.orders," заказов"]}),s.jsxs(j,{variant:"body2",children:["₽",e.revenue.toLocaleString()]}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{fontSize:16,color:"orange",mr:.5}}),s.jsx(j,{variant:"body2",children:e.rating})]})]})})]}),t<Cu.length-1&&s.jsx(Ms,{})]},t))})]})})})}),s.jsx(A,{item:!0,xs:12,lg:6,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Последние заказы"}),s.jsx(Gr,{children:wu.map((e,t)=>s.jsxs(Ae.Fragment,{children:[s.jsx(cn,{children:s.jsx(un,{primary:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"body1",fontWeight:"500",children:e.id}),s.jsx(at,{label:e.status,size:"small",color:e.status==="Завершен"?"success":e.status==="В работе"?"warning":"default"})]}),secondary:s.jsxs(B,{children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:[e.client," • ",e.device]}),s.jsxs(j,{variant:"body2",fontWeight:"500",children:["₽",e.amount.toLocaleString()]})]})})}),t<wu.length-1&&s.jsx(Ms,{})]},t))})]})})})})]})]}),kf=f.createContext(void 0);function Fe(){const e=f.useContext(kf);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Ef=f.createContext(void 0),be=()=>{const e=f.useContext(Ef);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function Le(e){return ig("MuiDataGrid",e)}const W=td("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),M0=e=>{const{classes:t}=e;return $e({root:["main"]},Le,t)},I0=He("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function Mf(e){const t=be(),n=M0(t);return s.jsx(I0,{className:n.root,ownerState:t,children:e.children})}function F0(e,t){var n=function(g){var E=g.__resizeTriggers__,D=E.firstElementChild,P=E.lastElementChild,k=D.firstElementChild;P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight,k.style.width=D.offsetWidth+1+"px",k.style.height=D.offsetHeight+1+"px",D.scrollLeft=D.scrollWidth,D.scrollTop=D.scrollHeight},r=function(g){return g.offsetWidth!=g.__resizeLast__.width||g.offsetHeight!=g.__resizeLast__.height},o=function(g){if(!(g.target.className.indexOf("contract-trigger")<0&&g.target.className.indexOf("expand-trigger")<0)){var E=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){r(E)&&(E.__resizeLast__.width=E.offsetWidth,E.__resizeLast__.height=E.offsetHeight,E.__resizeListeners__.forEach(function(D){D.call(E,g)}))})}},i=!1,l="",a="animationstart",c="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{var h=document.createElement("fakeelement");if(h.style.animationName!==void 0&&(i=!0),i===!1){for(var m=0;m<c.length;m++)if(h.style[c[m]+"AnimationName"]!==void 0){d=c[m],l="-"+d.toLowerCase()+"-",a=u[m],i=!0;break}}}var p="resizeanim",w="@"+l+"keyframes "+p+" { from { opacity: 0; } to { opacity: 0; } } ",b=l+"animation: 1ms "+p+"; ",v=function(g,E){if(!E.getElementById("muiDetectElementResize")){var D=(w||"")+".Mui-resizeTriggers { "+(b||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',P=E.constructor.name==="ShadowRoot"?E:g.head||g.getElementsByTagName("head")[0],k=g.createElement("style");k.id="muiDetectElementResize",k.type="text/css",e!=null&&k.setAttribute("nonce",e),k.styleSheet?k.styleSheet.cssText=D:k.appendChild(g.createTextNode(D)),P.appendChild(k)}},C=function(g,E){if(!g.__resizeTriggers__){var D=g.ownerDocument,P=t.getComputedStyle(g);P&&P.position=="static"&&(g.style.position="relative"),v(D,g.getRootNode()),g.__resizeLast__={},g.__resizeListeners__=[],(g.__resizeTriggers__=D.createElement("div")).className="Mui-resizeTriggers",g.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',g.appendChild(g.__resizeTriggers__),n(g),g.addEventListener("scroll",o,!0),a&&(g.__resizeTriggers__.__animationListener__=function(F){F.animationName==p&&n(g)},g.__resizeTriggers__.addEventListener(a,g.__resizeTriggers__.__animationListener__))}g.__resizeListeners__.push(E)},x=function(g,E){if(g.__resizeListeners__.splice(g.__resizeListeners__.indexOf(E),1),!g.__resizeListeners__.length){g.removeEventListener("scroll",o,!0),g.__resizeTriggers__.__animationListener__&&(g.__resizeTriggers__.removeEventListener(a,g.__resizeTriggers__.__animationListener__),g.__resizeTriggers__.__animationListener__=null);try{g.__resizeTriggers__=!g.removeChild(g.__resizeTriggers__)}catch{}}};return{addResizeListener:C,removeResizeListener:x}}const T0=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],A0=f.forwardRef(function(t,n){const{children:r,defaultHeight:o=null,defaultWidth:i=null,disableHeight:l=!1,disableWidth:a=!1,nonce:c,onResize:u,style:d}=t,h=ve(t,T0),[m,p]=f.useState({height:o,width:i}),w=f.useRef(null),b=f.useRef(null),v=sn(()=>{if(b.current){const g=b.current.offsetHeight||0,E=b.current.offsetWidth||0,P=Da(b.current).getComputedStyle(b.current),k=parseInt(P.paddingLeft,10)||0,F=parseInt(P.paddingRight,10)||0,_=parseInt(P.paddingTop,10)||0,O=parseInt(P.paddingBottom,10)||0,z=g-_-O,$=E-k-F;(!l&&m.height!==z||!a&&m.width!==$)&&(p({height:z,width:$}),u&&u({height:z,width:$}))}});Yt(()=>{var g;if(b.current=w.current.parentElement,!b)return;const E=Da((g=b.current)!=null?g:void 0),D=F0(c,E);return D.addResizeListener(b.current,v),v(),()=>{D.removeResizeListener(b.current,v)}},[c,v]);const C={overflow:"visible"},x={};l||(C.height=0,x.height=m.height),a||(C.width=0,x.width=m.width);const y=Cr(w,n);return s.jsx("div",S({ref:y,style:S({},C,d)},h,{children:m.height===null&&m.width===null?null:r(x)}))}),ln=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},aa=(e,t)=>e;function D0(e){return e.acceptsApiRef}ln(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const xe=(e,t)=>D0(t)?t(e):t(e.current.state);var Go="NOT_FOUND";function O0(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Go},put:function(r,o){t={key:r,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function _0(e,t){var n=[];function r(a){var c=n.findIndex(function(d){return t(a,d.key)});if(c>-1){var u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Go}function o(a,c){r(a)===Go&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function i(){return n}function l(){n=[]}return{get:r,put:o,getEntries:i,clear:l}}var V0=function(t,n){return t===n};function $0(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var o=n.length,i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function If(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?V0:r,i=n.maxSize,l=i===void 0?1:i,a=n.resultEqualityCheck,c=$0(o),u=l===1?O0(c):_0(l,c);function d(){var h=u.get(arguments);if(h===Go){if(h=e.apply(null,arguments),a){var m=u.getEntries(),p=m.find(function(w){return a(w.value,h)});p&&(h=p.value)}u.put(arguments,h)}return h}return d.clearCache=function(){return u.clear()},d}function L0(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function R0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];var u=0,d,h={memoizeOptions:void 0},m=a.pop();if(typeof m=="object"&&(h=m,m=a.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var p=h,w=p.memoizeOptions,b=w===void 0?n:w,v=Array.isArray(b)?b:[b],C=L0(a),x=e.apply(void 0,[function(){return u++,m.apply(null,arguments)}].concat(v)),y=e(function(){for(var E=[],D=C.length,P=0;P<D;P++)E.push(C[P].apply(null,arguments));return d=x.apply(null,E),d});return Object.assign(y,{resultFunc:m,memoizedResultFunc:x,dependencies:C,lastResult:function(){return d},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),y};return o}var N0=R0(If);const kn={cache:null};ln(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const ye=(...e)=>{kn.cache===null&&(kn.cache={});const t=(...n)=>{const[r,o]=n,i=!!r.current,l=i?r.current.instanceId:o??"default",a=i?r.current.state:r;kn.cache===null&&(kn.cache={});const{cache:c}=kn;if(c[l]&&c[l].get(e))return c[l].get(e)(a,l);const u=N0(...e);return c[l]||(c[l]=new Map),c[l].set(e,u),u(a,l)};return t.acceptsApiRef=!0,t},z0=e=>{typeof e<"u"?kn.cache&&kn.cache[e]&&delete kn.cache[e]:kn.cache=null},vn=e=>e.rows,hi=ye(vn,e=>e.totalRowCount),B0=ye(vn,e=>e.loading),H0=ye(vn,e=>e.totalTopLevelRowCount),Ur=ye(vn,e=>e.idRowsLookup),ca=ye(vn,e=>e.idToIdLookup),qn=ye(vn,e=>e.tree),W0=ye(vn,e=>e.groupingName),ua=ye(vn,e=>e.treeDepth),mr=ye(vn,e=>e.ids),G0=ye(vn,e=>e?.additionalRowGroups),Hs=ye(G0,e=>e?.pinnedRows),U0=ye(Hs,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),da=e=>e.sorting,ha=ye(da,e=>e.sortedRows),fa=ye(ha,Ur,(e,t)=>e.map(n=>({id:n,model:t[n]}))),Jt=ye(da,e=>e.sortModel),q0=ye(Jt,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{})),vr=e=>e.columns,Jr=ye(vr,e=>e.all),ns=ye(vr,e=>e.lookup),on=ye(Jr,ns,(e,t)=>e.map(n=>t[n])),Mn=ye(vr,e=>e.columnVisibilityModel),It=ye(on,Mn,(e,t)=>e.filter(n=>t[n.field]!==!1));ye(It,e=>e.map(t=>t.field));const yr=ye(It,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),fi=ye(It,yr,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),ma=ye(on,e=>e.filter(t=>t.filterable)),K0=ye(on,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{}));aa(ye(ma,e=>e.map(t=>t.field)));aa(ye(It,e=>e.length));const Q0=aa(ye(yr,fi,(e,t)=>({totalWidth:t,positions:e}))),Ws=e=>e.filter,Rt=ye(Ws,e=>e.filterModel);ye(Rt,e=>e.quickFilterValues);const X0=ye(Ws,e=>e.visibleRowsLookup),Ff=ye(Ws,e=>e.filteredRowsLookup);ye(Ws,e=>e.filteredDescendantCountLookup);const On=ye(X0,fa,(e,t)=>t.filter(n=>e[n.id]!==!1)),ks=ye(On,e=>e.map(t=>t.id)),Y0=ye(Ff,fa,(e,t)=>t.filter(n=>e[n.id]!==!1)),Z0=ye(Y0,e=>e.map(t=>t.id)),Tf=ye(On,qn,ua,(e,t,n)=>n<2?e:e.filter(r=>{var o;return((o=t[r.id])==null?void 0:o.depth)===0})),Af=ye(On,e=>e.length),Df=ye(Tf,e=>e.length),J0=ye(Rt,ns,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var o,i;if(!r.columnField)return!1;const l=t[r.columnField];if(!(l!=null&&l.filterOperators)||(l==null||(o=l.filterOperators)==null?void 0:o.length)===0)return!1;const a=l.filterOperators.find(c=>c.value===r.operatorValue);return a?!a.InputComponent||r.value!=null&&((i=r.value)==null?void 0:i.toString())!=="":!1})}),ew=ye(J0,e=>e.reduce((n,r)=>(n[r.columnField]?n[r.columnField].push(r):n[r.columnField]=[r],n),{})),Pr=e=>e.density,tw=ye(Pr,e=>e.value),Gs=ye(Pr,e=>e.rowHeight),Of=ye(Pr,e=>e.headerHeight),ga=ye(Pr,e=>e.headerGroupingMaxDepth),nw=ye(Pr,e=>e.factor),Us=ye(Pr,e=>e.headerHeight*(1+e.headerGroupingMaxDepth));function rw(e){var t,n;const r=Fe(),o=be(),i=xe(r,Us),[l,a]=f.useState(()=>{var d,h;return(d=(h=r.current.getRootDimensions())==null?void 0:h.viewportInnerSize)!=null?d:null}),c=f.useCallback(()=>{var d,h;a((d=(h=r.current.getRootDimensions())==null?void 0:h.viewportInnerSize)!=null?d:null)},[r]);Yt(()=>r.current.subscribeEvent("viewportInnerSizeChange",c),[r,c]);let u=(t=l?.height)!=null?t:0;return o.autoHeight&&u===0&&(u="auto"),l?s.jsx("div",S({style:{height:u,width:(n=l?.width)!=null?n:0,position:"absolute",top:i,bottom:u==="auto"?0:void 0}},e)):null}function sw(){const e=Fe(),t=be(),n=xe(e,hi),r=xe(e,Af),o=xe(e,B0),i=!o&&n===0,l=!o&&n>0&&r===0;let a=null;if(i){var c;a=s.jsx(t.components.NoRowsOverlay,S({},(c=t.componentsProps)==null?void 0:c.noRowsOverlay))}if(l){var u;a=s.jsx(t.components.NoResultsOverlay,S({},(u=t.componentsProps)==null?void 0:u.noResultsOverlay))}if(o){var d;a=s.jsx(t.components.LoadingOverlay,S({},(d=t.componentsProps)==null?void 0:d.loadingOverlay))}return a===null?null:s.jsx(rw,{children:a})}function ow(e){const{children:t,VirtualScrollerComponent:n,ColumnHeadersComponent:r}=e,o=Fe(),i=be(),l=xe(o,Us),[a,c]=f.useState(i.disableVirtualization),u=f.useCallback(()=>{c(!0)},[]),d=f.useCallback(()=>{c(!1)},[]);f.useEffect(()=>{c(i.disableVirtualization)},[i.disableVirtualization]),o.current.unstable_disableVirtualization=u,o.current.unstable_enableVirtualization=d;const h=f.useRef(null),m=f.useRef(null),p=f.useRef(null),w=f.useRef(null);o.current.columnHeadersContainerElementRef=m,o.current.columnHeadersElementRef=h,o.current.windowRef=p,o.current.renderingZoneRef=w;const b=f.useCallback(v=>{o.current.publishEvent("resize",v)},[o]);return s.jsxs(Mf,{children:[s.jsx(sw,{}),s.jsx(r,{ref:m,innerRef:h}),s.jsx(A0,{nonce:i.nonce,disableHeight:i.autoHeight,onResize:b,children:v=>{const C={width:v.width,height:v.height?v.height-l:"auto",marginTop:l};return s.jsx(n,{ref:p,style:C,disableVirtualization:a})}}),t]})}function pt(e,t){const n=f.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}class iw extends f.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:n}))}logError(t,n){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,n)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.state):this.props.children}}function lw(e){const{children:t}=e,n=Fe(),r=pt(n,"GridErrorHandler"),o=be(),i=n.current.state.error;return s.jsx(iw,{hasError:i!=null,api:n,logger:r,render:l=>{var a;return s.jsx(Mf,{children:s.jsx(o.components.ErrorOverlay,S({},l,i,(a=o.componentsProps)==null?void 0:a.errorOverlay))})},children:t})}function aw(){var e;const t=Fe(),n=be(),r=f.useRef(null);return t.current.footerRef=r,n.hideFooter?null:s.jsx("div",{ref:r,children:s.jsx(n.components.Footer,S({},(e=n.componentsProps)==null?void 0:e.footer))})}function cw(){var e;const t=Fe(),n=be(),r=f.useRef(null);return t.current.headerRef=r,s.jsx("div",{ref:r,children:s.jsx(n.components.Header,S({},(e=n.componentsProps)==null?void 0:e.header))})}function _f(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=_f(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ge(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=_f(e))&&(r&&(r+=" "),r+=t);return r}var Mt;(function(e){e.Cell="cell",e.Row="row"})(Mt||(Mt={}));var Oe;(function(e){e.Edit="edit",e.View="view"})(Oe||(Oe={}));var We;(function(e){e.Edit="edit",e.View="view"})(We||(We={}));const qr={client:"client",server:"server"};var Vt;(function(e){e.And="and",e.Or="or"})(Vt||(Vt={}));var Sn;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(Sn||(Sn={}));var dn;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(dn||(dn={}));var jn;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(jn||(jn={}));var hn;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(hn||(hn={}));var Ds;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})(Ds||(Ds={}));function Vf(e){return e.field!==void 0}const $f=e=>e.focus,rn=ye($f,e=>e.cell),uw=ye($f,e=>e.columnHeader),Lf=e=>e.tabIndex,Uo=ye(Lf,e=>e.cell),Rf=ye(Lf,e=>e.columnHeader),dw=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let Li;function hw(){return Li===void 0&&document.createElement("div").focus({get preventScroll(){return Li=!0,!1}}),Li}const fw=e=>{const{align:t,showRightBorder:n,isEditable:r,classes:o}=e,i={root:["cell",`cell--text${br(t)}`,r&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return $e(i,Le,o)};function mw(e){const{align:t,children:n,colIndex:r,cellMode:o,field:i,formattedValue:l,hasFocus:a,height:c,isEditable:u,rowId:d,tabIndex:h,value:m,width:p,className:w,showRightBorder:b,colSpan:v,disableDragEvents:C,onClick:x,onDoubleClick:y,onMouseDown:g,onMouseUp:E,onKeyDown:D,onDragEnter:P,onDragOver:k}=e,F=ve(e,dw),_=l??m,O=f.useRef(null),z=f.useRef(null),$=Fe(),M=be(),I={align:t,showRightBorder:b,isEditable:u,classes:M.classes},V=fw(I),H=f.useCallback(oe=>me=>{const J=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,J,me),E&&E(me)},[$,i,E,d]),R=f.useCallback(oe=>me=>{const J=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,J,me),g&&g(me)},[$,i,g,d]),N=f.useCallback((oe,me)=>J=>{if(!J.currentTarget.contains(J.target)||!$.current.getRow(d))return;const ce=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,ce,J),me&&me(J)},[$,i,d]),G={minWidth:p,maxWidth:p,minHeight:c,maxHeight:c==="auto"?"none":c};f.useEffect(()=>{if(!a||o===Oe.Edit)return;const oe=Zo($.current.rootElementRef.current);if(O.current&&!O.current.contains(oe.activeElement)){const me=O.current.querySelector('[tabindex="0"]'),J=z.current||me||O.current;if(hw())J.focus({preventScroll:!0});else{const ce=$.current.getScrollPosition();J.focus(),$.current.scroll(ce)}}},[a,o,$]);let K=F.onFocus;const se=$.current.getColumn(i).type==="actions",te=()=>{if(n==null){const oe=_?.toString();return s.jsx("div",{title:oe,className:V.content,children:oe})}return f.isValidElement(n)&&se?f.cloneElement(n,{focusElementRef:z}):n},fe=C?null:{onDragEnter:N("cellDragEnter",P),onDragOver:N("cellDragOver",k)};return s.jsx("div",S({ref:O,className:Ge(w,V.root),role:"cell","data-field":i,"data-colindex":r,"aria-colindex":r+1,"aria-colspan":v,style:G,tabIndex:(o==="view"||!u)&&!se?h:-1,onClick:N("cellClick",x),onDoubleClick:N("cellDoubleClick",y),onMouseDown:R("cellMouseDown"),onMouseUp:H("cellMouseUp"),onKeyDown:N("cellKeyDown",D)},fe,F,{onFocus:K,children:te()}))}const gw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],pw=e=>{const{classes:t}=e;return $e({root:["booleanCell"]},Le,t)},xw=e=>{const{value:t}=e,n=ve(e,gw),r=Fe(),o=be(),i={classes:o.classes},l=pw(i),a=f.useMemo(()=>t?o.components.BooleanCellTrueIcon:o.components.BooleanCellFalseIcon,[o.components.BooleanCellFalseIcon,o.components.BooleanCellTrueIcon,t]);return s.jsx(a,S({fontSize:"small",className:l.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))},bw=f.memo(xw),vw=e=>e.rowNode.isAutoGenerated?"":s.jsx(bw,S({},e)),yw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Cw=e=>{const{classes:t}=e;return $e({root:["editBooleanCell"]},Le,t)};function ww(e){var t;const{id:n,value:r,field:o,className:i,hasFocus:l,onValueChange:a}=e,c=ve(e,yw),u=Fe(),d=f.useRef(null),h=$t(),[m,p]=f.useState(r),w=be(),b={classes:w.classes},v=Cw(b),C=f.useCallback(async x=>{const y=x.target.checked;a&&await a(x,y),p(y),await u.current.setEditCellValue({id:n,field:o,value:y},x)},[u,o,n,a]);return f.useEffect(()=>{p(r)},[r]),Yt(()=>{l&&d.current.focus()},[l]),s.jsx("label",S({htmlFor:h,className:Ge(v.root,i)},c,{children:s.jsx(w.components.BaseCheckbox,S({id:h,inputRef:d,checked:!!m,onChange:C,size:"small"},(t=w.componentsProps)==null?void 0:t.baseCheckbox))}))}const Sw=e=>s.jsx(ww,S({},e)),jw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],Pw=He(nd)({fontSize:"inherit"}),kw=e=>{const{classes:t}=e;return $e({root:["editInputCell"]},Le,t)};function Ew(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,inputProps:l,onValueChange:a}=e,c=ve(e,jw),u=o.type==="dateTime",d=Fe(),h=f.useRef(),m=f.useMemo(()=>{let y;n==null?y=null:n instanceof Date?y=n:y=new Date((n??"").toString());let g;return y==null||Number.isNaN(y.getTime())?g="":g=new Date(y.getTime()-y.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:y,formatted:g}},[n,u]),[p,w]=f.useState(m),v={classes:be().classes},C=kw(v),x=f.useCallback(async y=>{const g=y.target.value;let E;if(g==="")E=null;else{const[D,P]=g.split("T"),[k,F,_]=D.split("-");if(E=new Date,E.setFullYear(Number(k),Number(F)-1,Number(_)),E.setHours(0,0,0,0),P){const[O,z]=P.split(":");E.setHours(Number(O),Number(z),0,0)}}a&&await a(y,E),w({parsed:E,formatted:g}),d.current.setEditCellValue({id:t,field:r,value:E},y)},[d,r,t,a]);return f.useEffect(()=>{w(y=>{var g,E;return m.parsed!==y.parsed&&((g=m.parsed)==null?void 0:g.getTime())!==((E=y.parsed)==null?void 0:E.getTime())?m:y})},[m]),Yt(()=>{i&&h.current.focus()},[i]),s.jsx(Pw,S({inputRef:h,fullWidth:!0,className:C.root,type:u?"datetime-local":"date",inputProps:S({max:u?"9999-12-31T23:59":"9999-12-31"},l),value:p.formatted,onChange:x},c))}const Nf=e=>s.jsx(Ew,S({},e)),Mw=ut(s.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Iw=ut(s.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Su=ut(s.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),ju=ut(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Fw=ut(s.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Tw=ut(s.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),Aw=ut(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ut(s.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const Dw=ut(s.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),Ow=ut(s.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),_w=ut(s.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Vw=ut(s.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),$w=ut(s.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),Lw=ut(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Ri=ut(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zf=ut(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Rw=ut(s.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),pa=ut(s.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Nw=ut(s.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),zw=ut(s.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Bw=ut(s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Hw=ut(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function Kn(e){return typeof e=="object"&&e!==null?e.value:e}function qo(e,t){if(t===void 0)return;const n=t.find(r=>{const o=Kn(r);return String(o)===String(e)});return Kn(n)}const Ww=["item","applyValue","type","apiRef","focusElementRef"],Gw=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,h=a?l.label:d;return s.jsx(o,{value:u,children:h},c)}),Bf=500;function mn(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,h=ve(e,Ww),m=f.useRef(),[p,w]=f.useState((t=l.value)!=null?t:""),[b,v]=f.useState(!1),C=$t(),x=be(),g=(r=(((n=x.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,E=c==="singleSelect"?{select:!0,SelectProps:S({native:g},(o=x.componentsProps)==null?void 0:o.baseSelect),children:Gw(u.current.getColumn(l.columnField),u.current,g?"option":le)}:{},D=f.useCallback(k=>{let F=k.target.value;if(c==="singleSelect"){const _=u.current.getColumn(l.columnField),O=typeof _.valueOptions=="function"?_.valueOptions({field:_.field}):_.valueOptions;F=qo(F,O)}clearTimeout(m.current),w(String(F)),v(!0),m.current=setTimeout(()=>{a(S({},l,{value:F})),v(!1)},Bf)},[u,a,l,c]);f.useEffect(()=>()=>{clearTimeout(m.current)},[]),f.useEffect(()=>{var k;const F=(k=l.value)!=null?k:"";w(String(F))},[l.value]);const P=b?{endAdornment:s.jsx(pa,{})}:h.InputProps;return s.jsx(x.components.BaseTextField,S({id:C,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:D,variant:"standard",type:c||"text",InputProps:P,InputLabelProps:{shrink:!0},inputRef:d},E,h,(i=x.componentsProps)==null?void 0:i.baseTextField))}const Uw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],qw=e=>{const{classes:t}=e;return $e({root:["editInputCell"]},Le,t)},Kw=He(nd,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>S({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),Qw=f.forwardRef((e,t)=>{var n,r;const o=be(),{id:i,value:l,field:a,colDef:c,hasFocus:u,debounceMs:d=(n=o.experimentalFeatures)!=null&&n.newEditingApi?200:Bf,isProcessingProps:h,onValueChange:m}=e,p=ve(e,Uw),w=Fe(),b=f.useRef(),[v,C]=f.useState(l),x=qw(o),y=f.useCallback(async E=>{var D;const P=E.target.value;m&&await m(E,P);const k=w.current.getColumn(a);let F=P;k.valueParser&&(D=o.experimentalFeatures)!=null&&D.newEditingApi&&(F=k.valueParser(P,w.current.getCellParams(i,a))),C(F),w.current.setEditCellValue({id:i,field:a,value:F,debounceMs:d,unstable_skipValueParser:!0},E)},[w,d,a,i,m,(r=o.experimentalFeatures)==null?void 0:r.newEditingApi]),g=w.current.unstable_getEditCellMeta?w.current.unstable_getEditCellMeta(i,a):{};return f.useEffect(()=>{g.changeReason!=="debouncedSetEditCellValue"&&C(l)},[g.changeReason,l]),Yt(()=>{u&&b.current.focus()},[u]),s.jsx(Kw,S({ref:t,inputRef:b,className:x.root,ownerState:o,fullWidth:!0,type:c.type==="number"?c.type:"text",value:v??"",onChange:y,endAdornment:h?s.jsx(pa,{}):void 0},p))}),Xw=e=>s.jsx(Qw,S({},e)),xa=e=>e==="Escape",Hf=e=>e==="Enter",Wf=e=>e==="Tab",Gf=e=>e===" ",Yw=e=>e.indexOf("Arrow")===0,Zw=e=>e==="Home"||e==="End",Jw=e=>e.indexOf("Page")===0,ul=e=>e==="Delete"||e==="Backspace";function mi(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const eS=["Enter","Escape","Tab"],tS=["Enter","Tab"],nS=e=>Hf(e.key)||ul(e.key)||mi(e),rS=e=>eS.indexOf(e)>-1,Pu=e=>tS.indexOf(e)>-1,qs=e=>Zw(e)||Yw(e)||Jw(e)||Gf(e),dl=e=>!!e.key,sS=e=>Wf(e)||xa(e),oS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],iS=(e,t)=>{const n=typeof e=="object",r=n?e.value:e,o=n?e.value:e,i=n?e.label:e;return s.jsx(t,{value:o,children:i},r)};function lS(e){return!!e.key}function aS(e){var t,n,r;const o=be(),{id:i,value:l,api:a,field:c,row:u,colDef:d,hasFocus:h,error:m,onValueChange:p,initialOpen:w=o.editMode===Mt.Cell}=e,b=ve(e,oS),v=Fe(),C=f.useRef(),x=f.useRef(),[y,g]=f.useState(w),D=(n=(((t=o.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1;let P;typeof d.valueOptions=="function"?P=d.valueOptions({id:i,row:u,field:c}):P=d.valueOptions,d.valueFormatter&&(P=P.map(O=>{if(typeof O=="object")return O;const z={field:c,api:a,value:O};return{value:O,label:String(d.valueFormatter(z))}}));const k=async O=>{var z;g(!1);const $=O.target,M=qo($.value,P);p&&await p(O,M);const I=await v.current.setEditCellValue({id:i,field:c,value:M},O);if((z=o.experimentalFeatures)!=null&&z.newEditingApi||o.editMode===Mt.Row||I===!1)return;if(await Promise.resolve(v.current.commitCellChange({id:i,field:c},O))&&(v.current.setCellMode(i,c,"view"),O.key)){const H=v.current.getCellParams(i,c);v.current.publishEvent("cellNavigationKeyDown",H,O)}},F=(O,z)=>{if(o.editMode===Mt.Row){g(!1);return}if(z==="backdropClick"||xa(O.key)){var $;($=o.experimentalFeatures)!=null&&$.newEditingApi?v.current.stopCellEditMode({id:i,field:c,ignoreModifications:!0}):v.current.setCellMode(i,c,"view")}},_=O=>{lS(O)&&O.key==="Enter"||g(!0)};return Yt(()=>{h&&x.current.focus()},[h]),s.jsx(o.components.BaseSelect,S({ref:C,inputRef:x,value:l,onChange:k,open:y,onOpen:_,MenuProps:{onClose:F},error:m,native:D,fullWidth:!0},b,(r=o.componentsProps)==null?void 0:r.baseSelect,{children:P.map(O=>iS(O,D?"option":le))}))}const cS=e=>s.jsx(aS,S({},e)),uS=["open","target","onClickAway","children","position","className","onExited"],dS=e=>{const{classes:t}=e;return $e({root:["menu"]},Le,t)},hS=He(wl,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${W.menuList}`]:{outline:0}})),fS={"bottom-start":"top left","bottom-end":"top right"},Uf=e=>{var t;const{open:n,target:r,onClickAway:o,children:i,position:l,className:a,onExited:c}=e,u=ve(e,uS),d=Fe(),h=f.useRef(r),m=f.useRef(n),p=be(),w=dS(p);f.useEffect(()=>{m.current&&h.current&&h.current.focus();const v=n?"menuOpen":"menuClose";d.current.publishEvent(v,{target:r}),m.current=n,h.current=r},[d,n,r]);const b=v=>C=>{v&&v(),c&&c(C)};return s.jsx(hS,S({as:p.components.BasePopper,className:Ge(a,w.root),ownerState:p,open:n,anchorEl:r,transition:!0,placement:l},u,(t=p.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:v,placement:C})=>s.jsx(rd,{onClickAway:o,mouseEvent:"onMouseDown",children:s.jsx(lg,S({},v,{style:{transformOrigin:fS[C]},onExited:b(v?.onExited),children:s.jsx(Xt,{children:i})}))})}))},mS=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],gS=e=>typeof e.getActions=="function",pS=e=>{const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:l}=e,a=ve(e,mS),[c,u]=f.useState(-1),[d,h]=f.useState(!1),m=Fe(),p=f.useRef(null),w=f.useRef(null),b=f.useRef(!1),v=f.useRef({}),C=$t(),x=$t(),y=be();if(f.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([M,I])=>{I?.stop({},()=>{delete v.current[M]})})},[r]),f.useEffect(()=>{if(c<0||!p.current||c>=p.current.children.length)return;p.current.children[c].focus({preventScroll:!0})},[c]),f.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),f.useImperativeHandle(l,()=>({focus(){b.current||u(0)}}),[]),!gS(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const g=t.getActions(m.current.getRowParams(n)),E=g.filter(M=>!M.props.showInMenu),D=g.filter(M=>M.props.showInMenu),P=E.length+(D.length?1:0);f.useEffect(()=>{c>=P&&u(P-1)},[c,P]);const k=()=>{h(!0),u(P-1),b.current=!0},F=()=>{h(!1)},_=M=>I=>{v.current[M]=I},O=(M,I)=>V=>{u(M),b.current=!0,I&&I(V)},z=M=>{if(P<=1)return;let I=c;M.key==="ArrowRight"?I+=1:M.key==="ArrowLeft"&&(I-=1),!(I<0||I>=P)&&I!==c&&(M.preventDefault(),M.stopPropagation(),u(I))},$=M=>{M.key==="Tab"&&M.preventDefault(),["Tab","Enter","Escape"].includes(M.key)&&F()};return s.jsxs("div",S({role:"menu",ref:p,tabIndex:-1,className:W.actionsCell,onKeyDown:z},a,{children:[E.map((M,I)=>f.cloneElement(M,{key:I,touchRippleRef:_(I),onClick:O(I,M.props.onClick),tabIndex:c===I?o:-1})),D.length>0&&x&&s.jsx(Be,{ref:w,id:x,"aria-label":m.current.getLocaleText("actionsCellMore"),"aria-controls":C,"aria-expanded":d?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:k,touchRippleRef:_(x),tabIndex:c===E.length?o:-1,children:s.jsx(y.components.MoreActionsIcon,{fontSize:"small"})}),D.length>0&&s.jsx(Uf,{onClickAway:F,onClick:F,open:d,target:w.current,position:i,children:s.jsx(sd,{id:C,className:W.menuList,onKeyDown:$,"aria-labelledby":x,variant:"menu",autoFocusItem:!0,children:D.map((M,I)=>f.cloneElement(M,{key:I}))})})]}))},xS=e=>s.jsx(pS,S({},e)),bS=["field","align","width","contentWidth"],vS=e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton",`cell--text${br(t)}`]};return $e(r,Le,n)};function yS(e){const{align:t,width:n,contentWidth:r}=e,o=ve(e,bS),l={classes:be().classes,align:t},a=vS(l);return s.jsx("div",S({className:a.root,style:{width:n}},o,{children:s.jsx(ag,{width:`${r}%`})}))}const CS=He("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${W.autoHeight}`]:t.autoHeight},{[`&.${W.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${W["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${W["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${W["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${W.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${W.editBooleanCell}`]:t.editBooleanCell},{[`& .${W["cell--editing"]}`]:t["cell--editing"]},{[`& .${W["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${W["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${W["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${W["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${W.cell}`]:t.cell},{[`& .${W.cellContent}`]:t.cellContent},{[`& .${W.cellCheckbox}`]:t.cellCheckbox},{[`& .${W.cellSkeleton}`]:t.cellSkeleton},{[`& .${W.checkboxInput}`]:t.checkboxInput},{[`& .${W["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${W["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${W["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${W["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${W["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${W["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${W["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${W["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${W.columnHeader}`]:t.columnHeader},{[`& .${W.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${W.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${W.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${W["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${W["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${W.columnSeparator}`]:t.columnSeparator},{[`& .${W.filterIcon}`]:t.filterIcon},{[`& .${W.iconSeparator}`]:t.iconSeparator},{[`& .${W.menuIcon}`]:t.menuIcon},{[`& .${W.menuIconButton}`]:t.menuIconButton},{[`& .${W.menuOpen}`]:t.menuOpen},{[`& .${W.menuList}`]:t.menuList},{[`& .${W["row--editable"]}`]:t["row--editable"]},{[`& .${W["row--editing"]}`]:t["row--editing"]},{[`& .${W["row--dragging"]}`]:t["row--dragging"]},{[`& .${W.row}`]:t.row},{[`& .${W.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${W.rowReorderCell}`]:t.rowReorderCell},{[`& .${W["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${W.sortIcon}`]:t.sortIcon},{[`& .${W.withBorder}`]:t.withBorder},{[`& .${W.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${W.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${W.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${W["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?Sl(en(e.palette.divider,1),.88):jl(en(e.palette.divider,1),.68);return S({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${W.autoHeight}`]:{height:"auto",[`& .${W["row--lastVisible"]} .${W.cell}`]:{borderBottomColor:"transparent"}},[`& .${W["virtualScrollerContent--overflowed"]} .${W["row--lastVisible"]} .${W.cell}`]:{borderBottomColor:"transparent"},[`& .${W.columnHeader}, & .${W.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${W.columnHeader}:focus-within, & .${W.cell}:focus-within`]:{outline:`solid ${en(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${W.columnHeader}:focus, & .${W.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${W.columnHeaderCheckbox}, & .${W.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${W.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${W["columnHeader--sorted"]} .${W.iconButtonContainer}, & .${W["columnHeader--filtered"]} .${W.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${W.columnHeader}:not(.${W["columnHeader--sorted"]}) .${W.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${W.columnHeader}:not(.${W["columnHeader--sorted"]}):hover .${W.sortIcon}`]:{opacity:.5},[`& .${W.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${W.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${W["columnHeader--filledGroup"]} .${W.columnHeaderTitleContainer}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${W["columnHeader--filledGroup"]}.${W["columnHeader--showColumnBorder"]} .${W.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${W["columnHeader--filledGroup"]}.${W["columnHeader--showColumnBorder"]}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${W.sortIcon}, & .${W.filterIcon}`]:{fontSize:"inherit"},[`& .${W["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${W["columnHeader--alignCenter"]} .${W.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${W["columnHeader--alignRight"]} .${W.columnHeaderDraggableContainer}, & .${W["columnHeader--alignRight"]} .${W.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${W["columnHeader--alignCenter"]} .${W.menuIcon}, & .${W["columnHeader--alignRight"]} .${W.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${W["columnHeader--alignRight"]} .${W.menuIcon}, & .${W["columnHeader--alignRight"]} .${W.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${W["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${W.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${W["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${W["columnSeparator--sideRight"]}`]:{right:-12},[`& .${W["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${W["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${W.iconSeparator}`]:{color:"inherit"},[`& .${W.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${W.columnHeader}:hover`]:{[`& .${W.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${W.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${W.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${W.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${W.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${W.row}:not(.${W["row--dynamicHeight"]}) > .${W.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${W.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${W.cell}.${W["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${W["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${W["row--editing"]} .${W.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${W.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${W.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${W.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${W.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${W.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${W["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${W.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${W.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${W["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${W["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${W["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${W.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${W.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${W["columnHeader--dragging"]}, & .${W["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${W["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${W.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${W.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${W.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${W.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${W.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),wS=["children","className"],SS=e=>{const{autoHeight:t,density:n,classes:r}=e,o={root:["root",t&&"autoHeight",`root--density${br(n)}`]};return $e(o,Le,r)},jS=f.forwardRef(function(t,n){const r=be(),{children:o,className:i}=t,l=ve(t,wS),a=Fe(),c=xe(a,It),u=xe(a,hi),d=xe(a,tw),h=xe(a,ga),m=f.useRef(null),p=Cr(m,n),w=xe(a,U0),b=S({},r,{density:d}),v=SS(b);a.current.rootElementRef=m;const[C,x]=f.useState(!1);return Yt(()=>{x(!0)},[]),Yt(()=>{C&&a.current.unstable_updateGridDimensionsRef()},[a,C]),C?s.jsx(CS,S({ref:p,className:Ge(i,v.root),ownerState:b,role:"grid","aria-colcount":c.length,"aria-rowcount":h+1+w+u,"aria-multiselectable":!r.disableMultipleSelection,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},l,{children:o})):null}),PS=["className"],kS=e=>{const{classes:t}=e;return $e({root:["footerContainer"]},Le,t)},ES=He("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${e.palette.mode==="light"?Sl(en(e.palette.divider,1),.88):jl(en(e.palette.divider,1),.68)}`})),MS=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,PS),i=be(),l=kS(i);return s.jsx(ES,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),IS=["className"],FS=e=>{const{classes:t}=e;return $e({root:["overlay"]},Le,t)},TS=He("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:en(e.palette.background.default,e.palette.action.disabledOpacity)})),gi=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,IS),i=be(),l=FS(i);return s.jsx(TS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),AS=["className"],DS=e=>{const{classes:t}=e;return $e({root:["iconButtonContainer"]},Le,t)},OS=He("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),qf=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,AS),i=be(),l=DS(i);return s.jsx(OS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),_S=e=>{const{classes:t}=e;return $e({icon:["sortIcon"]},Le,t)};function VS(e,t,n,r){let o;const i={};return t==="asc"?o=e.ColumnSortedAscendingIcon:t==="desc"?o=e.ColumnSortedDescendingIcon:(o=e.ColumnUnsortedIcon,i.sortingOrder=r),o?s.jsx(o,S({fontSize:"small",className:n},i)):null}function $S(e){const{direction:t,index:n,sortingOrder:r}=e,o=Fe(),i=be(),l=S({},e,{classes:i.classes}),a=_S(l),c=VS(i.components,t,a.icon,r);if(!c)return null;const u=s.jsx(Be,{tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:c});return s.jsxs(qf,{children:[n!=null&&s.jsx(bl,{badgeContent:n,color:"default",children:u}),n==null&&u]})}const LS=f.memo($S),RS=e=>{const{classes:t,open:n}=e;return $e({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},Le,t)},NS=f.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,l=Fe(),a=be(),c=S({},e,{classes:a.classes}),u=RS(c),d=f.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l.current.toggleColumnMenu(t.field)},[l,t.field]);return s.jsx("div",{className:u.root,children:s.jsx(Be,{ref:i,tabIndex:-1,className:u.button,"aria-label":l.current.getLocaleText("columnMenuLabel"),title:l.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:o,children:s.jsx(a.components.ColumnMenuIcon,{fontSize:"small"})})})});function zS({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:l,onExited:a}){const c=Fe(),u=c.current.getColumn(o),d=f.useCallback(h=>{h.stopPropagation(),c.current.hideColumnMenu()},[c]);return l?s.jsx(Uf,{placement:`bottom-${u.align==="right"?"start":"end"}`,open:i,target:l,onClickAway:d,onExited:a,children:s.jsx(n,S({currentColumn:u,hideMenu:d,open:i,id:e,labelledby:t},r))}):null}function BS(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function HS(e,t){return e.closest(`.${t}`)}function ba(e){return e.replace(/["\\]/g,"\\$&")}function WS(e,t){return e.querySelector(`[role="columnheader"][data-field="${ba(t)}"]`)}function Kf(e){return`.${W.row}[data-id="${ba(String(e))}"]`}function GS(e,t){return e.querySelector(Kf(t))}function US(e,{id:t,field:n}){const r=Kf(t),o=`.${W.cell}[data-field="${ba(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}const qS=["className"],KS=e=>{const{classes:t}=e;return $e({root:["columnHeaderTitle"]},Le,t)},QS=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),XS=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,qS),i=be(),l=KS(i);return s.jsx(QS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))});function YS(e){var t;const{label:n,description:r,columnWidth:o}=e,i=be(),l=f.useRef(null),[a,c]=f.useState("");return f.useEffect(()=>{if(!r&&l&&l.current){const u=BS(l.current);c(u?n:"")}},[l,o,r,n]),s.jsx(i.components.BaseTooltip,S({title:r||a},(t=i.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsx(XS,{ref:l,children:n})}))}const ZS=["resizable","resizing","height","side"];var hl;(function(e){e.Left="left",e.Right="right"})(hl||(hl={}));const JS=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${br(o)}`],icon:["iconSeparator"]};return $e(i,Le,r)};function ej(e){const{height:t,side:n=hl.Right}=e,r=ve(e,ZS),o=be(),i=S({},e,{side:n,classes:o.classes}),l=JS(i),a=f.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return s.jsx("div",S({className:l.root,style:{minHeight:t,opacity:o.showColumnRightBorder?0:1}},r,{onClick:a,children:s.jsx(o.components.ColumnResizeIcon,{className:l.icon})}))}const tj=f.memo(ej),nj=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","disableHeaderSeparator"],Qf=f.forwardRef(function(t,n){const{classes:r,columnMenuOpen:o,colIndex:i,height:l,isResizing:a,sortDirection:c,hasFocus:u,tabIndex:d,separatorSide:h,isDraggable:m,headerComponent:p,description:w,width:b,columnMenuIconButton:v=null,columnMenu:C=null,columnTitleIconButtons:x=null,headerClassName:y,label:g,resizable:E,draggableContainerProps:D,columnHeaderSeparatorProps:P,disableHeaderSeparator:k}=t,F=ve(t,nj),_=Fe(),O=be(),z=f.useRef(null),[$,M]=f.useState(o),I=Cr(z,n);let V="none";return c!=null&&(V=c==="asc"?"ascending":"descending"),f.useEffect(()=>{$||M(o)},[$,o]),f.useLayoutEffect(()=>{const H=_.current.state.columnMenu;if(u&&!H.open){const N=z.current.querySelector('[tabindex="0"]')||z.current;N?.focus(),_.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[_,u]),s.jsxs("div",S({ref:I,className:Ge(r.root,y),style:{height:l,width:b,minWidth:b,maxWidth:b},role:"columnheader",tabIndex:d,"aria-colindex":i+1,"aria-sort":V,"aria-label":p==null?g:void 0},F,{children:[s.jsxs("div",S({className:r.draggableContainer,draggable:m},D,{children:[s.jsxs("div",{className:r.titleContainer,children:[s.jsx("div",{className:r.titleContainerContent,children:p!==void 0?p:s.jsx(YS,{label:g,description:w,columnWidth:b})}),x]}),v]})),!k&&s.jsx(tj,S({resizable:!O.disableColumnResize&&!!E,resizing:a,height:l,side:h},P)),C]}))}),rj=e=>{const{column:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,filterItemsCounter:l}=e,a=o!=null,c=l!=null&&l>0,u=t.type==="number",d={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",a&&"columnHeader--sorted",c&&"columnHeader--filtered",u&&"columnHeader--numeric",i&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return $e(d,Le,n)};function sj(e){var t,n,r,o,i;const{column:l,columnMenuOpen:a,colIndex:c,headerHeight:u,isResizing:d,isLastColumn:h,sortDirection:m,sortIndex:p,filterItemsCounter:w,hasFocus:b,tabIndex:v,extendRowFullWidth:C,disableReorder:x,separatorSide:y}=e,g=Fe(),E=be(),D=f.useRef(null),P=$t(),k=$t(),F=f.useRef(null),[_,O]=f.useState(a),{hasScrollX:z,hasScrollY:$}=(t=g.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},M=f.useMemo(()=>!E.disableColumnReorder&&!x&&!l.disableReorder,[E.disableColumnReorder,x,l.disableReorder]);let I;l.renderHeader&&(I=l.renderHeader(g.current.getColumnHeaderParams(l.field)));const H=h?!(h&&z&&!$)&&!C:E.showColumnRightBorder,R=S({},e,{classes:E.classes,showRightBorder:H}),N=rj(R),G=f.useCallback(we=>pe=>{pe.currentTarget.contains(pe.target)&&g.current.publishEvent(we,g.current.getColumnHeaderParams(l.field),pe)},[g,l.field]),K=f.useMemo(()=>({onClick:G("columnHeaderClick"),onDoubleClick:G("columnHeaderDoubleClick"),onMouseOver:G("columnHeaderOver"),onMouseOut:G("columnHeaderOut"),onMouseEnter:G("columnHeaderEnter"),onMouseLeave:G("columnHeaderLeave"),onKeyDown:G("columnHeaderKeyDown"),onFocus:G("columnHeaderFocus"),onBlur:G("columnHeaderBlur")}),[G]),Z=f.useMemo(()=>M?{onDragStart:G("columnHeaderDragStart"),onDragEnter:G("columnHeaderDragEnter"),onDragOver:G("columnHeaderDragOver"),onDragEnd:G("columnHeaderDragEnd")}:{},[M,G]),se=f.useMemo(()=>({onMouseDown:G("columnSeparatorMouseDown")}),[G]);f.useEffect(()=>{_||O(a)},[_,a]);const te=f.useCallback(()=>{O(!1)},[]),fe=!E.disableColumnMenu&&!l.disableColumnMenu&&s.jsx(NS,{column:l,columnMenuId:P,columnMenuButtonId:k,open:_,iconButtonRef:F}),oe=s.jsx(zS,{columnMenuId:P,columnMenuButtonId:k,field:l.field,open:a,target:F.current,ContentComponent:E.components.ColumnMenu,contentComponentProps:(n=E.componentsProps)==null?void 0:n.columnMenu,onExited:te}),me=(r=l.sortingOrder)!=null?r:E.sortingOrder,J=s.jsxs(f.Fragment,{children:[!E.disableColumnFilter&&s.jsx(E.components.ColumnHeaderFilterIconButton,S({field:l.field,counter:w},(o=E.componentsProps)==null?void 0:o.columnHeaderFilterIconButton)),l.sortable&&!l.hideSortIcons&&s.jsx(LS,{direction:m,index:p,sortingOrder:me})]});f.useLayoutEffect(()=>{const we=g.current.state.columnMenu;if(b&&!we.open){const _e=D.current.querySelector('[tabindex="0"]')||D.current;_e?.focus(),g.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[g,b]);const ce=typeof l.headerClassName=="function"?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,ae=(i=l.headerName)!=null?i:l.field;return s.jsx(Qf,S({ref:D,classes:N,columnMenuOpen:a,colIndex:c,height:u,isResizing:d,sortDirection:m,hasFocus:b,tabIndex:v,separatorSide:y,isDraggable:M,headerComponent:I,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:fe,columnTitleIconButtons:J,headerClassName:ce,label:ae,resizable:!E.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:oe,draggableContainerProps:Z,columnHeaderSeparatorProps:se},K))}const Ko=e=>e.preferencePanel;var Jn;(function(e){e.filters="filters",e.columns="columns"})(Jn||(Jn={}));const oj=e=>{const{classes:t}=e;return $e({icon:["filterIcon"]},Le,t)};function ij(e){var t;const{counter:n,field:r,onClick:o}=e,i=Fe(),l=be(),a=S({},e,{classes:l.classes}),c=oj(a),u=f.useCallback(h=>{h.preventDefault(),h.stopPropagation();const{open:m,openedPanelValue:p}=Ko(i.current.state);m&&p===Jn.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),o&&o(i.current.getColumnHeaderParams(r),h)},[i,r,o]);if(!n)return null;const d=s.jsx(Be,{onClick:u,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:s.jsx(l.components.ColumnFilteredIcon,{className:c.icon,fontSize:"small"})});return s.jsx(l.components.BaseTooltip,S({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=l.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsxs(qf,{children:[n>1&&s.jsx(bl,{badgeContent:n,color:"default",children:d}),n===1&&d]})}))}const lj=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],aj=e=>{const{classes:t}=e;return $e({root:["checkboxInput"]},Le,t)},cj=f.forwardRef(function(t,n){var r;const{field:o,id:i,value:l,rowNode:a,hasFocus:c,tabIndex:u}=t,d=ve(t,lj),h=Fe(),m=be(),p={classes:m.classes},w=aj(p),b=f.useRef(null),v=f.useRef(),C=Cr(b,n),x=h.current.getCellElement(i,o),y=P=>{const k={value:P.target.checked,id:i};h.current.publishEvent("rowSelectionCheckboxChange",k,P)};f.useLayoutEffect(()=>{u===0&&x&&(x.tabIndex=-1)},[x,u]),f.useEffect(()=>{if(c){var P;const k=(P=b.current)==null?void 0:P.querySelector("input");k?.focus({preventScroll:!0})}else v.current&&v.current.stop({})},[c]);const g=f.useCallback(P=>{Gf(P.key)&&P.stopPropagation(),qs(P.key)&&!P.shiftKey&&h.current.publishEvent("cellNavigationKeyDown",t,P)},[h,t]);if(a.position==="footer")return null;const E=h.current.isRowSelectable(i),D=h.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return a.isPinned?null:s.jsx(m.components.BaseCheckbox,S({ref:C,tabIndex:u,checked:l,onChange:y,className:w.root,inputProps:{"aria-label":D},onKeyDown:g,disabled:!E,touchRippleRef:v},(r=m.componentsProps)==null?void 0:r.baseCheckbox,d))}),uj=cj,Qt=e=>e.selection,dj=ye(Qt,e=>e.length),hj=ye(Qt,Ur,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Qo=ye(Qt,e=>e.reduce((t,n)=>(t[n]=n,t),{})),rs=e=>e.pagination,ms=ye(rs,e=>e.page),Es=ye(rs,e=>e.pageSize);ye(rs,e=>e.pageCount);const va=ye(rs,qn,ua,On,Tf,(e,t,n,r,o)=>{const i=o.length,l=Math.min(e.pageSize*e.page,i-1),a=Math.min(l+e.pageSize-1,i-1);if(l===-1||a===-1)return null;if(n<2)return{firstRowIndex:l,lastRowIndex:a};const c=o[l],u=a-l+1,d=r.findIndex(p=>p.id===c.id);let h=d,m=0;for(;h<r.length&&m<=u;){const p=r[h],w=t[p.id].depth;(m<u||w>0)&&(h+=1),w===0&&(m+=1)}return{firstRowIndex:d,lastRowIndex:h-1}}),fj=ye(On,va,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Xf=ye(ks,va,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),mj=["field","colDef"],gj=e=>{const{classes:t}=e;return $e({root:["checkboxInput"]},Le,t)},pj=f.forwardRef(function(t,n){var r;const o=ve(t,mj),[,i]=f.useState(!1),l=Fe(),a=be(),c={classes:a.classes},u=gj(c),d=xe(l,Rf),h=xe(l,Qt),m=xe(l,ks),p=xe(l,Xf),w=f.useMemo(()=>typeof a.isRowSelectable!="function"?h:h.filter(k=>l.current.getRow(k)?a.isRowSelectable(l.current.getRowParams(k)):!1),[l,a.isRowSelectable,h]),b=f.useMemo(()=>(!a.pagination||!a.checkboxSelectionVisibleOnly?m:p).reduce((F,_)=>(F[_]=!0,F),{}),[a.pagination,a.checkboxSelectionVisibleOnly,p,m]),v=f.useMemo(()=>w.filter(k=>b[k]).length,[w,b]),C=v>0&&v<Object.keys(b).length,x=v>0,y=k=>{const F={value:k.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",F)},g=d!==null&&d.field===t.field?0:-1;f.useLayoutEffect(()=>{const k=l.current.getColumnHeaderElement(t.field);g===0&&k&&(k.tabIndex=-1)},[g,l,t.field]);const E=f.useCallback(k=>{k.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!x}),qs(k.key)&&!k.shiftKey&&l.current.publishEvent("columnHeaderNavigationKeyDown",t,k)},[l,t,x]),D=f.useCallback(()=>{i(k=>!k)},[]);f.useEffect(()=>l.current.subscribeEvent("selectionChange",D),[l,D]);const P=l.current.getLocaleText(x?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return s.jsx(a.components.BaseCheckbox,S({ref:n,indeterminate:C,checked:x,onChange:y,className:u.root,inputProps:{"aria-label":P},tabIndex:g,onKeyDown:E},(r=a.componentsProps)==null?void 0:r.baseCheckbox,o))}),xj=e=>{const{onClick:t}=e,n=Fe(),r=be(),o=f.useCallback(i=>{t(i),n.current.showPreferences(Jn.columns)},[n,t]);return r.disableColumnSelector?null:s.jsx(le,{onClick:o,children:n.current.getLocaleText("columnMenuShowColumns")})},bj=e=>{const{column:t,onClick:n}=e,r=Fe(),o=be(),i=f.useCallback(l=>{n(l),r.current.showFilterPanel(t?.field)},[r,t?.field,n]);return o.disableColumnFilter||!(t!=null&&t.filterable)?null:s.jsx(le,{onClick:i,children:r.current.getLocaleText("columnMenuFilter")})},vj=["hideMenu","currentColumn","open","id","labelledby","className","children"],yj=f.forwardRef(function(t,n){const{hideMenu:r,open:o,id:i,labelledby:l,className:a,children:c}=t,u=ve(t,vj),d=f.useCallback(h=>{Wf(h.key)&&h.preventDefault(),sS(h.key)&&r(h)},[r]);return s.jsx(sd,S({id:i,ref:n,className:Ge(W.menuList,a),"aria-labelledby":l,onKeyDown:d,autoFocus:o},u,{children:c}))}),Cj=ln(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Yf=(e,t)=>t&&e.length>1?(Cj(),[e[0]]):e,ku=(e,t)=>n=>S({},n,{sorting:S({},n.sorting,{sortModel:Yf(e,t)})}),wj=e=>e==="desc",Sj=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const r=wj(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator;return{getSortCellParams:i=>({id:i,field:n.field,rowNode:t.current.getRowNode(i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}},jj=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const l=t.params[i],a=n.params[i];return r=o.comparator(l.value,a.value,l,a),r},0),Pj=(e,t)=>{const n=e.map(r=>Sj(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>jj(n,o,i)).map(o=>o.node.id)},Eu=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},ya=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,kj=new Intl.Collator,Ej=(e,t)=>{const n=ya(e,t);return n!==null?n:typeof e=="string"?kj.compare(e.toString(),t.toString()):e-t},Zf=(e,t)=>{const n=ya(e,t);return n!==null?n:Number(e)-Number(t)},Jf=(e,t)=>{const n=ya(e,t);return n!==null?n:e>t?1:e<t?-1:0};function Mj(e){return typeof e=="number"}function em(e){return typeof e=="function"}function Ij(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function So(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const es=(e,t,n)=>Math.max(t,Math.min(n,e));function Tn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!Tn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const l=o[i];if(!Tn(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!Tn(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Fj(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Tj(e,t,n){const r=Fj(e);return()=>t+(n-t)*r()}function tm(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Aj=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function nm(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,color:l,error:a,helperText:c,size:u,variant:d}=e,h=ve(e,Aj),m={color:l,error:a,helperText:c,size:u,variant:d},[p,w]=f.useState(t.value||[]),b=$t(),v=be();f.useEffect(()=>{var x;const y=(x=t.value)!=null?x:[];w(y.map(String))},[t.value]);const C=f.useCallback((x,y)=>{w(y.map(String)),n(S({},t,{value:[...y]}))},[n,t]);return s.jsx($r,S({multiple:!0,freeSolo:!0,options:[],filterOptions:(x,y)=>{const{inputValue:g}=y;return g==null||g===""?[]:[g]},id:b,value:p,onChange:C,renderTags:(x,y)=>x.map((g,E)=>s.jsx(at,S({variant:"outlined",size:"small",label:g},y({index:E})))),renderInput:x=>{var y;return s.jsx(v.components.BaseTextField,S({},x,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},x.InputLabelProps,{shrink:!0}),inputRef:i,type:r||"text"},m,(y=v.componentsProps)==null?void 0:y.baseTextField))}},h))}const Dj=e=>{if(!e)return null;const t=new RegExp(So(e),"i");return({value:n})=>n!=null?t.test(n.toString()):!1},Oj=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(So(n),"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?r.compare(n,o.toString())===0:!1},InputComponent:mn},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${So(n)}.*$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${So(n)}$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:nm}],er={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Ej,type:"string",align:"left",filterOperators:Oj(),renderEditCell:Xw,getApplyQuickFilterFn:Dj},Ca="actions",_j=S({},er,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:xS,getApplyQuickFilterFn:void 0}),Vj=["item","applyValue","apiRef","focusElementRef"];function $j(e){var t,n,r,o;const{item:i,applyValue:l,apiRef:a,focusElementRef:c}=e,u=ve(e,Vj),[d,h]=f.useState(i.value||""),m=be(),w=(n=(((t=m.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!0,b=w?"option":le,v=f.useCallback(C=>{const x=C.target.value;h(x),l(S({},i,{value:x}))},[l,i]);return f.useEffect(()=>{h(i.value||"")},[i.value]),s.jsxs(m.components.BaseTextField,S({label:a.current.getLocaleText("filterPanelInputLabel"),value:d,onChange:v,select:!0,variant:"standard",SelectProps:S({native:w,displayEmpty:!0},(r=m.componentsProps)==null?void 0:r.baseSelect),InputLabelProps:{shrink:!0},inputRef:c},u,(o=m.componentsProps)==null?void 0:o.baseTextField,{children:[s.jsx(b,{value:"",children:a.current.getLocaleText("filterValueAny")}),s.jsx(b,{value:"true",children:a.current.getLocaleText("filterValueTrue")}),s.jsx(b,{value:"false",children:a.current.getLocaleText("filterValueFalse")})]}))}const Lj=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:n})=>!!n===t},InputComponent:$j}];function Rj({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const rm=S({},er,{type:"boolean",align:"center",headerAlign:"center",renderCell:vw,renderEditCell:Sw,sortComparator:Zf,valueFormatter:Rj,filterOperators:Lj(),getApplyQuickFilterFn:void 0,aggregable:!1}),Nn="__check__",Ks=S({},rm,{field:Nn,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>Qo(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>s.jsx(pj,S({},e)),renderCell:e=>s.jsx(uj,S({},e))}),Nj=["item","applyValue","type","apiRef","focusElementRef","InputProps"],zj=500;function Tr(e){var t,n;const{item:r,applyValue:o,type:i,apiRef:l,focusElementRef:a,InputProps:c}=e,u=ve(e,Nj),d=f.useRef(),[h,m]=f.useState((t=r.value)!=null?t:""),[p,w]=f.useState(!1),b=$t(),v=be(),C=f.useCallback(x=>{const y=x.target.value;clearTimeout(d.current),m(String(y)),w(!0),d.current=setTimeout(()=>{o(S({},r,{value:y})),w(!1)},zj)},[o,r]);return f.useEffect(()=>()=>{clearTimeout(d.current)},[]),f.useEffect(()=>{var x;const y=(x=r.value)!=null?x:"";m(String(y))},[r.value]),s.jsx(v.components.BaseTextField,S({id:b,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:h,onChange:C,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:S({},p?{endAdornment:s.jsx(pa,{})}:{},c,{inputProps:S({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},c?.inputProps)})},u,(n=v.componentsProps)==null?void 0:n.baseTextField))}const Bj=/(\d+)-(\d+)-(\d+)/,Hj=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Ar(e,t,n,r){if(!e.value)return null;const[o,i,l,a,c]=e.value.match(n?Hj:Bj).slice(1).map(Number),u=new Date(o,i-1,l,a||0,c||0).getTime();return({value:d})=>{if(!d)return!1;const h=d instanceof Date?d:new Date(d.toString());if(r)return t(h.getTime(),u);const p=(d instanceof Date?new Date(h):h).setHours(n?h.getHours():0,n?h.getMinutes():0,0,0);return t(p,u)}}const sm=e=>[{value:"is",getApplyFilterFn:t=>Ar(t,(n,r)=>n===r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Ar(t,(n,r)=>n!==r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Ar(t,(n,r)=>n>r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Ar(t,(n,r)=>n>=r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Ar(t,(n,r)=>n<r,e,!e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Ar(t,(n,r)=>n<=r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function Wj({value:e}){return e instanceof Date?e.toLocaleDateString():e??""}function Gj({value:e}){return e instanceof Date?e.toLocaleString():e??""}const Uj=S({},er,{type:"date",sortComparator:Jf,valueFormatter:Wj,filterOperators:sm(),renderEditCell:Nf,getApplyQuickFilterFn:void 0}),qj=S({},er,{type:"dateTime",sortComparator:Jf,valueFormatter:Gj,filterOperators:sm(!0),renderEditCell:Nf,getApplyQuickFilterFn:void 0}),Hn=e=>e==null?null:Number(e),Kj=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>Hn(t)===Hn(e),Qj=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>Hn(t)===e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>Hn(t)!==e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Hn(t)>e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Hn(t)>=e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Hn(t)<e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Hn(t)<=e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:nm,InputComponentProps:{type:"number"}}],Xj=S({},er,{type:"number",align:"right",headerAlign:"right",sortComparator:Zf,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>Mj(e)?e.toLocaleString():e||"",filterOperators:Qj(),getApplyQuickFilterFn:Kj}),Yj=["item","applyValue","type","apiRef","focusElementRef"],Zj=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,h=a?l.label:d;return s.jsx(o,{value:u,children:h},c)});function Mu(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,h=ve(e,Yj),[m,p]=f.useState((t=l.value)!=null?t:""),w=$t(),b=be(),C=(r=(((n=b.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,x=l.columnField?u.current.getColumn(l.columnField):null,y=f.useMemo(()=>{if(x!==null)return typeof x.valueOptions=="function"?x.valueOptions({field:x.field}):x.valueOptions},[x]),g=f.useCallback(E=>{let D=E.target.value;D=qo(D,y),p(String(D)),a(S({},l,{value:D}))},[a,l,y]);return f.useEffect(()=>{var E;let D;if(y!==void 0){if(D=qo(l.value,y),D!==l.value){a(S({},l,{value:D}));return}}else D=l.value;D=(E=D)!=null?E:"",p(String(D))},[l,y,a]),s.jsx(b.components.BaseTextField,S({id:w,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:g,variant:"standard",type:c||"text",InputLabelProps:{shrink:!0},inputRef:d,select:!0,SelectProps:S({native:C},(o=b.componentsProps)==null?void 0:o.baseSelect)},h,(i=b.componentsProps)==null?void 0:i.baseTextField,{children:Zj(u.current.getColumn(l.columnField),u.current,C?"option":le)}))}const Jj=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],e1=(e,t)=>Kn(e)===Kn(t),t1=cg();function n1(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:i,error:l,helperText:a,size:c,variant:u="standard"}=e,d=ve(e,Jj),h={color:i,error:l,helperText:a,size:c,variant:u},m=$t(),p=be(),w=t.columnField?r.current.getColumn(t.columnField):null,b=f.useMemo(()=>w!=null&&w.valueOptions?typeof w.valueOptions=="function"?w.valueOptions({field:w.field}):w.valueOptions:[],[w]),v=f.useMemo(()=>b?.map(Kn),[b]),{valueFormatter:C,field:x}=r.current.getColumn(t.columnField),y=D=>typeof D=="object"?D.label:C&&D!==""?C({value:D,field:x,api:r.current}):D,g=f.useMemo(()=>Array.isArray(t.value)?b!==void 0?t.value.map(P=>{const k=Kn(P);return v?.findIndex(_=>_===k)||0}).filter(P=>P>=0).map(P=>b[P]):t.value:[],[t.value,b,v]);f.useEffect(()=>{(!Array.isArray(t.value)||g.length!==t.value.length)&&n(S({},t,{value:g.map(Kn)}))},[t,g,n]);const E=f.useCallback((D,P)=>{n(S({},t,{value:[...P.map(Kn)]}))},[n,t]);return s.jsx($r,S({multiple:!0,options:b,isOptionEqualToValue:e1,filterOptions:t1,id:m,value:g,onChange:E,renderTags:(D,P)=>D.map((k,F)=>s.jsx(at,S({variant:"outlined",size:"small",label:y(k)},P({index:F})))),renderInput:D=>{var P;return s.jsx(p.components.BaseTextField,S({},D,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},D.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},h,(P=p.componentsProps)==null?void 0:P.baseTextField))}},d))}const Wn=e=>e==null||typeof e!="object"?e:e.value,r1=(e,t,n)=>{if(!e)return null;const{valueOptions:r,valueFormatter:o,field:i}=t,l=[Wn(e).toString()],a=typeof r=="function"?r({field:i}):r||[];return a&&a.forEach(c=>{let u,d;typeof c=="object"?(u=c.value,d=c.label):(u=c,o?d=o({value:c,field:i,api:n.current}):d=c),d.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(l.includes(u)||l.push(u.toString()))}),({value:c})=>c!=null?l.includes(Wn(c).toString()):!1},s1=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Wn(t)===Wn(e.value),InputComponent:Mu},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Wn(t)!==Wn(e.value),InputComponent:Mu},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Wn);return({value:n})=>t.includes(Wn(n))},InputComponent:n1}],o1=S({},er,{type:"singleSelect",renderEditCell:cS,filterOperators:s1(),getApplyQuickFilterFn:r1}),Xo="__default__",i1=()=>({string:er,number:Xj,date:Uj,dateTime:qj,boolean:rm,singleSelect:o1,[Ca]:_j,[Xo]:er}),om=["maxWidth","minWidth","width","flex"],im=(e={})=>{const t=S({},i1());return Object.entries(e).forEach(([n,r])=>{t[n]?t[n]=S({},t[n],r):t[n]=S({},t[r.extendType||Xo],r)}),t};function l1({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r={all:{},frozenFields:[],freeze:i=>{const l=r.all[i];l&&l.frozen!==!0&&(r.all[i].frozen=!0,r.frozenFields.push(i))}};function o(){if(r.frozenFields.length===n.length)return;const i={min:{},max:{}};let l=e,a=t,c=0;r.frozenFields.forEach(u=>{l-=r.all[u].computedWidth,a-=r.all[u].flex});for(let u=0;u<n.length;u+=1){const d=n[u];if(r.all[d.field]&&r.all[d.field].frozen===!0)continue;let m=l/a*d.flex;m<d.minWidth?(c+=d.minWidth-m,m=d.minWidth,i.min[d.field]=!0):m>d.maxWidth&&(c+=d.maxWidth-m,m=d.maxWidth,i.max[d.field]=!0),r.all[d.field]={frozen:!1,computedWidth:m,flex:d.flex}}c<0?Object.keys(i.max).forEach(u=>{r.freeze(u)}):c>0?Object.keys(i.min).forEach(u=>{r.freeze(u)}):n.forEach(({field:u})=>{r.freeze(u)}),o()}return o(),r.all}const lm=(e,t)=>{const n={};let r=0,o=0;const i=[];e.all.forEach(a=>{const c=S({},e.lookup[a]);if(e.columnVisibilityModel[a]===!1)c.computedWidth=0;else{let u;c.flex&&c.flex>0?(r+=c.flex,u=0,i.push(c)):u=es(c.width,c.minWidth,c.maxWidth),o+=u,c.computedWidth=u}n[a]=c});const l=Math.max(t-o,0);if(r>0&&t>0){const a=l1({initialFreeSpace:l,totalFlexUnits:r,flexColumns:i});Object.keys(a).forEach(c=>{n[c].computedWidth=a[c].computedWidth})}return S({},e,{lookup:n})},a1=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},l=[];for(let d=0;d<n.length;d+=1){const h=n[d];e.lookup[h]&&(i[h]=!0,l.push(h))}const a=l.length===0?e.all:[...l,...e.all.filter(d=>!i[d])],c=S({},e.lookup);for(let d=0;d<o.length;d+=1){const h=o[d],m=S({},c[h],{hasBeenResized:!0});Object.entries(r[h]).forEach(([p,w])=>{m[p]=w===-1?1/0:w}),c[h]=m}return{all:a,lookup:c}},c1=(e,t)=>!t||!e[t]?e[Xo]:e[t],Vr=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:r,currentColumnVisibilityModel:o=Mn(e),shouldRegenColumnVisibilityModelFromColumns:i,keepOnlyColumnsToUpsert:l=!1})=>{var a,c,u,d;const h=!e.current.state.columns;let m;if(h)m={all:[],lookup:{}};else{const g=vr(e.current.state);m={all:l?[]:[...g.all],lookup:S({},g.lookup)}}let p={};l&&!h&&(p=Object.keys(m.lookup).reduce((g,E)=>S({},g,{[E]:!1}),{}));const w={};t.forEach(g=>{const{field:E}=g;w[E]=!0,p[E]=!0;let D=m.lookup[E];D==null?(D=S({},c1(r,g.type),{field:E,hasBeenResized:!1}),m.all.push(E)):l&&m.all.push(E);let P=D.hasBeenResized;om.forEach(k=>{g[k]!==void 0&&(P=!0,g[k]===-1&&(g[k]=1/0))}),m.lookup[E]=S({},D,{hide:g.hide==null?!1:g.hide},g,{hasBeenResized:P})}),l&&!h&&Object.keys(m.lookup).forEach(g=>{p[g]||delete m.lookup[g]});const b=S({},m.lookup),v=e.current.unstable_applyPipeProcessors("hydrateColumns",m);let C={};if(i){let g=!1;const E=S({},o);h?v.all.forEach(D=>{E[D]=!m.lookup[D].hide}):l&&Object.keys(E).forEach(D=>{v.lookup[D]||(delete E[D],g=!0)}),v.all.forEach(D=>{if(!w[D]&&b[D]===v.lookup[D])return;let P=o[D];P===void 0&&(h?P=!0:P=!!vr(e.current.state).lookup[D]);const k=!v.lookup[D].hide;k!==P&&(g=!0,E[D]=k)}),g||h?C=E:C=o}else C=o;const x=a1(v,n),y=S({},x,{columnVisibilityModel:C});return lm(y,(a=(c=(u=e.current).getRootDimensions)==null||(d=c.call(u))==null?void 0:d.viewportInnerSize.width)!=null?a:0)},Iu=e=>t=>S({},t,{columns:e});function fl({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=e;for(let l=n;l<r;l+=1)if(o[l]){const c=o[l].id,u=t.current.unstable_getCellColSpanInfo(c,e);u&&u.spannedByColSpan&&(i=u.leftVisibleCellIndex)}return i}function u1({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:r,lastRowToRender:o,apiRef:i,visibleRows:l}){const a=Math.max(e-n,t);return fl({firstColumnToRender:a,apiRef:i,firstRowToRender:r,lastRowToRender:o,visibleRows:l})}const d1=e=>{const{column:t,onClick:n}=e,r=Fe(),o=be(),i=f.useRef(),c=It(r).filter(d=>d.disableColumnMenu!==!0).length===1,u=f.useCallback(d=>{c||(n(d),i.current=setTimeout(()=>{r.current.setColumnVisibility(t?.field,!1)},100))},[r,t?.field,n,c]);return f.useEffect(()=>()=>clearTimeout(i.current),[]),o.disableColumnSelector||t.hideable===!1?null:s.jsx(le,{onClick:u,disabled:c,children:r.current.getLocaleText("columnMenuHideColumn")})};function h1(e){var t;const{column:n,onClick:r}=e,o=Fe(),i=xe(o,Jt),l=be(),a=(t=n.sortingOrder)!=null?t:l.sortingOrder,c=f.useMemo(()=>{if(!n)return null;const d=i.find(h=>h.field===n.field);return d?.sort},[n,i]),u=f.useCallback(d=>{r(d);const h=d.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(n,h)},[o,n,r]);return!n||!n.sortable?null:s.jsxs(f.Fragment,{children:[a.includes(null)?s.jsx(le,{onClick:u,disabled:c==null,children:o.current.getLocaleText("columnMenuUnsort")}):null,a.includes("asc")?s.jsx(le,{onClick:u,"data-value":"asc",disabled:c==="asc",children:o.current.getLocaleText("columnMenuSortAsc")}):null,a.includes("desc")?s.jsx(le,{onClick:u,"data-value":"desc",disabled:c==="desc",children:o.current.getLocaleText("columnMenuSortDesc")}):null]})}const f1=f.forwardRef(function(t,n){const{hideMenu:r,currentColumn:o}=t,i=Fe(),l=[s.jsx(h1,{onClick:r,column:o}),s.jsx(bj,{onClick:r,column:o}),s.jsx(d1,{onClick:r,column:o}),s.jsx(xj,{onClick:r,column:o})],a=i.current.unstable_applyPipeProcessors("columnMenu",l,o);return s.jsx(yj,S({ref:n},t,{children:a.map((c,u)=>f.cloneElement(c,{key:u,onClick:r,column:o}))}))}),m1=["className"],g1=e=>{const{classes:t}=e;return $e({root:["panelContent"]},Le,t)},p1=He("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function am(e){const{className:t}=e,n=ve(e,m1),r=be(),o=g1(r);return s.jsx(p1,S({className:Ge(t,o.root),ownerState:r},n))}const x1=["className"],b1=e=>{const{classes:t}=e;return $e({root:["panelFooter"]},Le,t)},v1=He("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function cm(e){const{className:t}=e,n=ve(e,x1),r=be(),o=b1(r);return s.jsx(v1,S({className:Ge(t,o.root),ownerState:r},n))}const y1=["className"],C1=e=>{const{classes:t}=e;return $e({root:["panelHeader"]},Le,t)},w1=He("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function S1(e){const{className:t}=e,n=ve(e,y1),r=be(),o=C1(r);return s.jsx(w1,S({className:Ge(t,o.root),ownerState:r},n))}const j1=["className","slotProps"],P1=e=>{const{classes:t}=e;return $e({root:["panelWrapper"]},Le,t)},k1=He("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),E1=()=>!0,um=f.forwardRef(function(t,n){const{className:r,slotProps:o={}}=t,i=ve(t,j1),l=be(),a=P1(l);return s.jsx(ug,S({open:!0,disableEnforceFocus:!0,isEnabled:E1},o.TrapFocus,{children:s.jsx(k1,S({ref:n,tabIndex:-1,className:Ge(r,a.root),ownerState:l},i))}))}),M1=!1,I1=["sort","searchPredicate","autoFocusSearchField"],F1=e=>{const{classes:t}=e;return $e({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},Le,t)},T1=He("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),A1=He("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${dg.root}`]:{marginRight:e.spacing(.5)}}));He(Be)({justifyContent:"flex-end"});const Fu=new Intl.Collator,D1=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function O1(e){var t,n,r;const o=Fe(),i=f.useRef(null),l=xe(o,on),a=xe(o,Mn),c=be(),[u,d]=f.useState(""),h=F1(c),{sort:m,searchPredicate:p=D1,autoFocusSearchField:w=!0}=e,b=ve(e,I1),v=f.useMemo(()=>{switch(m){case"asc":return[...l].sort((k,F)=>Fu.compare(k.headerName||k.field,F.headerName||F.field));case"desc":return[...l].sort((k,F)=>-Fu.compare(k.headerName||k.field,F.headerName||F.field));default:return l}},[l,m]),C=k=>{const{name:F}=k.target;o.current.setColumnVisibility(F,a[F]===!1)},x=f.useCallback(k=>{if(o.current.unstable_caches.columns.isUsingColumnVisibilityModel){const F=Mn(o),_=S({},F);return l.forEach(O=>{O.hideable&&(k?delete _[O.field]:_[O.field]=!1)}),o.current.setColumnVisibilityModel(_)}return o.current.updateColumns(l.map(F=>F.hideable!==!1?{field:F.field,hide:!k}:F))},[o,l]),y=f.useCallback(k=>{d(k.target.value)},[]),g=f.useMemo(()=>{if(!u)return v;const k=u.toLowerCase();return v.filter(F=>p(F,k))},[v,u,p]),E=f.useRef(null);f.useEffect(()=>{w?i.current.focus():E.current&&typeof E.current.focus=="function"&&E.current.focus()},[w]);let D=!1;const P=k=>D===!1&&k.hideable!==!1?(D=!0,!0):!1;return s.jsxs(um,S({},b,{children:[s.jsx(S1,{children:s.jsx(c.components.BaseTextField,S({label:o.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:o.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:i,value:u,onChange:y,variant:"standard",fullWidth:!0},(t=c.componentsProps)==null?void 0:t.baseTextField))}),s.jsx(am,{children:s.jsx(T1,{className:h.root,ownerState:c,children:g.map(k=>{var F;return s.jsxs(A1,{className:h.columnsPanelRow,ownerState:c,children:[s.jsx(hs,{control:s.jsx(c.components.BaseSwitch,S({disabled:k.hideable===!1,checked:a[k.field]!==!1,onClick:C,name:k.field,size:"small",inputRef:P(k)?E:void 0},(F=c.componentsProps)==null?void 0:F.baseSwitch)),label:k.headerName||k.field}),!c.disableColumnReorder&&M1]},k.field)})})}),s.jsxs(cm,{children:[s.jsx(c.components.BaseButton,S({onClick:()=>x(!1)},(n=c.componentsProps)==null?void 0:n.baseButton,{children:o.current.getLocaleText("columnsPanelHideAllButton")})),s.jsx(c.components.BaseButton,S({onClick:()=>x(!0)},(r=c.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const _1=["children","className","classes"],V1=td("MuiDataGrid",["panel","paper"]),$1=He(wl,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),L1=He(Xt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),R1=f.forwardRef((e,t)=>{var n;const{children:r,className:o}=e,i=ve(e,_1),l=Fe(),a=be(),c=V1,[u,d]=f.useState(!1),h=f.useCallback(()=>{l.current.hidePreferences()},[l]),m=f.useCallback(b=>{xa(b.key)&&l.current.hidePreferences()},[l]),p=f.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}],[]),w=(n=l.current.columnHeadersContainerElementRef)==null?void 0:n.current;return w?s.jsx($1,S({ref:t,placement:"bottom-start",className:Ge(o,c.panel),ownerState:a,anchorEl:w,modifiers:p},i,{children:s.jsx(rd,{mouseEvent:"onMouseUp",onClickAway:h,children:s.jsx(L1,{className:c.paper,ownerState:a,elevation:8,onKeyDown:m,children:u&&r})})})):null}),N1=f.forwardRef(function(t,n){var r,o,i;const l=Fe(),a=xe(l,on),c=be(),u=xe(l,Ko),d=l.current.unstable_applyPipeProcessors("preferencePanel",null,(r=u.openedPanelValue)!=null?r:Jn.filters);return s.jsx(c.components.Panel,S({ref:n,as:c.components.BasePopper,open:a.length>0&&u.open},(o=c.componentsProps)==null?void 0:o.panel,t,(i=c.componentsProps)==null?void 0:i.basePopper,{children:d}))}),z1=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],B1=["InputComponentProps"],H1=e=>{const{classes:t}=e;return $e({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Le,t)},W1=He("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),G1=He(ze,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),U1=He(ze,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),q1=He(ze,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),K1=He(ze,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Q1=He(ze,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),X1=e=>{switch(e){case Vt.And:return"filterPanelOperatorAnd";case Vt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},as=e=>e.headerName||e.field,Tu=new Intl.Collator,Y1=f.forwardRef(function(t,n){var r,o,i,l,a,c,u;const{item:d,hasMultipleFilters:h,deleteFilter:m,applyFilterChanges:p,multiFilterOperator:w,showMultiFilterOperators:b,disableMultiFilterOperator:v,applyMultiFilterOperatorChanges:C,focusElementRef:x,linkOperators:y=[Vt.And,Vt.Or],columnsSort:g,deleteIconProps:E={},linkOperatorInputProps:D={},operatorInputProps:P={},columnInputProps:k={},valueInputProps:F={}}=t,_=ve(t,z1),O=Fe(),z=xe(O,ma),$=$t(),M=$t(),I=$t(),V=$t(),H=be(),R=H1(H),N=f.useRef(null),G=f.useRef(null),K=h&&y.length>0,Z=((r=H.componentsProps)==null?void 0:r.baseFormControl)||{},te=(i=(((o=H.componentsProps)==null?void 0:o.baseSelect)||{}).native)!=null?i:!0,fe=te?"option":le,{InputComponentProps:oe}=F,me=ve(F,B1),J=f.useMemo(()=>{switch(g){case"asc":return z.sort((ie,Ce)=>Tu.compare(as(ie),as(Ce)));case"desc":return z.sort((ie,Ce)=>-Tu.compare(as(ie),as(Ce)));default:return z}},[z,g]),ce=d.columnField?O.current.getColumn(d.columnField):null,ae=f.useMemo(()=>{var ie;return!d.operatorValue||!ce?null:(ie=ce.filterOperators)==null?void 0:ie.find(Ce=>Ce.value===d.operatorValue)},[d,ce]),we=f.useCallback(ie=>{const Ce=ie.target.value,je=O.current.getColumn(Ce);if(je.field===ce.field)return;const Ve=je.filterOperators.find(L=>L.value===d.operatorValue)||je.filterOperators[0],Ue=!Ve.InputComponent||Ve.InputComponent!==ae?.InputComponent;p(S({},d,{columnField:Ce,operatorValue:Ve.value,value:Ue?void 0:d.value}))},[O,p,d,ce,ae]),pe=f.useCallback(ie=>{const Ce=ie.target.value,je=ce?.filterOperators.find(Ue=>Ue.value===Ce),Ve=!(je!=null&&je.InputComponent)||je?.InputComponent!==ae?.InputComponent;p(S({},d,{operatorValue:Ce,value:Ve?void 0:d.value}))},[p,d,ce,ae]),_e=f.useCallback(ie=>{const Ce=ie.target.value===Vt.And.toString()?Vt.And:Vt.Or;C(Ce)},[C]),Xe=()=>{H.disableMultipleColumnsFiltering?d.value===void 0?m(d):p(S({},d,{value:void 0})):m(d)};return f.useImperativeHandle(x,()=>({focus:()=>{if(ae!=null&&ae.InputComponent){var ie;N==null||(ie=N.current)==null||ie.focus()}else G.current.focus()}}),[ae]),s.jsxs(W1,S({ref:n,className:R.root,ownerState:H},_,{children:[s.jsx(G1,S({variant:"standard",as:H.components.BaseFormControl},Z,E,{className:Ge(R.deleteIcon,Z.className,E.className),ownerState:H,children:s.jsx(Be,{"aria-label":O.current.getLocaleText("filterPanelDeleteIconLabel"),title:O.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Xe,size:"small",children:s.jsx(H.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),s.jsx(U1,S({variant:"standard",as:H.components.BaseFormControl},Z,D,{sx:S({display:K?"flex":"none",visibility:b?"visible":"hidden"},Z.sx||{},D.sx||{}),className:Ge(R.linkOperatorInput,Z.className,D.className),ownerState:H,children:s.jsx(H.components.BaseSelect,S({inputProps:{"aria-label":O.current.getLocaleText("filterPanelLinkOperator")},value:w,onChange:_e,disabled:!!v||y.length===1,native:te},(l=H.componentsProps)==null?void 0:l.baseSelect,{children:y.map(ie=>s.jsx(fe,{value:ie.toString(),children:O.current.getLocaleText(X1(ie))},ie.toString()))}))})),s.jsxs(q1,S({variant:"standard",as:H.components.BaseFormControl},Z,k,{className:Ge(R.columnInput,Z.className,k.className),ownerState:H,children:[s.jsx(et,{htmlFor:$,id:M,children:O.current.getLocaleText("filterPanelColumns")}),s.jsx(H.components.BaseSelect,S({labelId:M,id:$,label:O.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:we,native:te},(a=H.componentsProps)==null?void 0:a.baseSelect,{children:J.map(ie=>s.jsx(fe,{value:ie.field,children:as(ie)},ie.field))}))]})),s.jsxs(K1,S({variant:"standard",as:H.components.BaseFormControl},Z,P,{className:Ge(R.operatorInput,Z.className,P.className),ownerState:H,children:[s.jsx(et,{htmlFor:I,id:V,children:O.current.getLocaleText("filterPanelOperators")}),s.jsx(H.components.BaseSelect,S({labelId:V,label:O.current.getLocaleText("filterPanelOperators"),id:I,value:d.operatorValue,onChange:pe,native:te,inputRef:G},(c=H.componentsProps)==null?void 0:c.baseSelect,{children:ce==null||(u=ce.filterOperators)==null?void 0:u.map(ie=>s.jsx(fe,{value:ie.value,children:ie.label||O.current.getLocaleText(`filterOperator${br(ie.value)}`)},ie.value))}))]})),s.jsx(Q1,S({variant:"standard",as:H.components.BaseFormControl},Z,me,{className:Ge(R.valueInput,Z.className,me.className),ownerState:H,children:ae!=null&&ae.InputComponent?s.jsx(ae.InputComponent,S({apiRef:O,item:d,applyValue:p,focusElementRef:N},ae.InputComponentProps,oe)):null}))]}))}),Z1=["linkOperators","columnsSort","filterFormProps","children"],J1=f.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,Rt),a=xe(o,ma),c=f.useRef(null),{linkOperators:u=[Vt.And,Vt.Or],columnsSort:d,filterFormProps:h}=t,m=ve(t,Z1),p=f.useCallback(g=>{o.current.upsertFilterItem(g)},[o]),w=f.useCallback(g=>{o.current.setFilterLinkOperator(g)},[o]),b=f.useCallback(()=>{const g=a.find(E=>{var D;return(D=E.filterOperators)==null?void 0:D.length});return g?{columnField:g.field,operatorValue:g.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[a]),v=f.useMemo(()=>{if(l.items.length)return l.items;const g=b();return g?[g]:[]},[l.items,b]),C=v.length>1,x=()=>{const g=b();g&&o.current.upsertFilterItems([...v,g])},y=f.useCallback(g=>{const E=v.length===1;o.current.deleteFilterItem(g),E&&o.current.hideFilterPanel()},[o,v.length]);return f.useEffect(()=>{u.length>0&&l.linkOperator&&!u.includes(l.linkOperator)&&w(u[0])},[u,w,l.linkOperator]),f.useEffect(()=>{v.length>0&&c.current.focus()},[v.length]),s.jsxs(um,S({ref:n},m,{children:[s.jsx(am,{children:v.map((g,E)=>s.jsx(Y1,S({item:g,applyFilterChanges:p,deleteFilter:y,hasMultipleFilters:C,showMultiFilterOperators:E>0,multiFilterOperator:l.linkOperator,disableMultiFilterOperator:E!==1,applyMultiFilterOperatorChanges:w,focusElementRef:E===v.length-1?c:null,linkOperators:u,columnsSort:d},h),g.id==null?E:g.id))}),!i.disableMultipleColumnsFiltering&&s.jsx(cm,{children:s.jsx(i.components.BaseButton,S({onClick:x,startIcon:s.jsx(zf,{})},(r=i.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")}))})]}))}),eP=["hideMenu","options"],tP=["hideMenu","options"],nP=e=>{const t=Fe(),{hideMenu:n,options:r}=e,o=ve(e,eP);return s.jsx(le,S({onClick:()=>{t.current.exportDataAsCsv(r),n?.()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))},rP=e=>{const t=Fe(),{hideMenu:n,options:r}=e,o=ve(e,tP);return s.jsx(le,S({onClick:()=>{t.current.exportDataAsPrint(r),n?.()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))},Os=()=>({items:[],linkOperator:Vt.And,quickFilterValues:[],quickFilterLogicOperator:Vt.And}),sP=["className","rowCount","visibleRowCount"],oP=e=>{const{classes:t}=e;return $e({root:["rowCount"]},Le,t)},iP=He("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),lP=f.forwardRef(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,l=ve(t,sP),a=Fe(),c=be(),u=oP(c);if(o===0)return null;const d=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return s.jsxs(iP,S({ref:n,className:Ge(u.root,r),ownerState:c},l,{children:[a.current.getLocaleText("footerTotalRows")," ",d]}))}),aP=["className","selectedRowCount"],cP=e=>{const{classes:t}=e;return $e({root:["selectedRowCount"]},Le,t)},uP=He("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),dP=f.forwardRef(function(t,n){const{className:r,selectedRowCount:o}=t,i=ve(t,aP),l=Fe(),a=be(),c=cP(a),u=l.current.getLocaleText("footerRowSelected")(o);return s.jsx(uP,S({ref:n,className:Ge(c.root,r),ownerState:a},i,{children:u}))}),hP=f.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,H0),a=xe(o,dj),c=xe(o,Df),u=!i.hideFooterSelectedRowCount&&a>0?s.jsx(dP,{selectedRowCount:a}):s.jsx("div",{}),d=!i.hideFooterRowCount&&!i.pagination?s.jsx(lP,{rowCount:l,visibleRowCount:c}):null,h=i.pagination&&!i.hideFooterPagination&&i.components.Pagination&&s.jsx(i.components.Pagination,S({},(r=i.componentsProps)==null?void 0:r.pagination));return s.jsxs(MS,S({ref:n},t,{children:[u,d,h]}))}),fP=f.forwardRef(function(t,n){var r,o;const i=be();return s.jsxs("div",S({ref:n},t,{children:[s.jsx(i.components.PreferencesPanel,S({},(r=i.componentsProps)==null?void 0:r.preferencesPanel)),i.components.Toolbar&&s.jsx(i.components.Toolbar,S({},(o=i.componentsProps)==null?void 0:o.toolbar))]}))}),mP=f.forwardRef(function(t,n){return s.jsx(gi,S({ref:n},t,{children:s.jsx(hg,{})}))}),gP=f.forwardRef(function(t,n){const o=Fe().current.getLocaleText("noRowsLabel");return s.jsx(gi,S({ref:n},t,{children:o}))}),pP=He(fg)(({theme:e})=>({[`& .${Oa.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Oa.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),xP=f.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,rs),a=f.useMemo(()=>Math.floor(l.rowCount/(l.pageSize||1)),[l.rowCount,l.pageSize]),c=f.useCallback(d=>{const h=Number(d.target.value);o.current.setPageSize(h)},[o]),u=f.useCallback((d,h)=>{o.current.setPage(h)},[o]);return s.jsx(pP,S({ref:n,component:"div",count:l.rowCount,page:l.page<=a?l.page:a,rowsPerPageOptions:(r=i.rowsPerPageOptions)!=null&&r.includes(l.pageSize)?i.rowsPerPageOptions:[],rowsPerPage:l.pageSize,onPageChange:u,onRowsPerPageChange:c},o.current.getLocaleText("MuiTablePagination"),t))}),pi=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=va(e),n=fj(e)):(n=On(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},kr=(e,t)=>{const n=pi(e,t);return f.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},wa="__detail_panel_toggle__",bP=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],vP=["changeReason"],yP=e=>{const{editable:t,editing:n,selected:r,isLastVisible:o,rowHeight:i,classes:l}=e;return $e({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",o&&"row--lastVisible",i==="auto"&&"row--dynamicHeight"]},Le,l)},CP=({width:e})=>{if(!e)return null;const t={width:e};return s.jsx("div",{className:"MuiDataGrid-cell",style:t})},wP=f.forwardRef(function(t,n){var r;const{selected:o,rowId:i,row:l,index:a,style:c,position:u,rowHeight:d,className:h,visibleColumns:m,renderedColumns:p,containerWidth:w,firstColumnToRender:b,cellFocus:v,cellTabIndex:C,editRowsState:x,isLastVisible:y=!1,onClick:g,onDoubleClick:E,onMouseEnter:D,onMouseLeave:P}=t,k=ve(t,bP),F=Fe(),_=f.useRef(null),O=be(),z=kr(F,O),$=xe(F,fi),M=xe(F,Jt),I=xe(F,ua),V=xe(F,ga),H=Cr(_,n),R=a+V+2,{hasScrollX:N,hasScrollY:G}=(r=F.current.getRootDimensions())!=null?r:{hasScrollX:!1,hasScrollY:!1},K={selected:o,isLastVisible:y,classes:O.classes,editing:F.current.getRowMode(i)===We.Edit,editable:O.editMode===Mt.Row,rowHeight:d},Z=yP(K);f.useLayoutEffect(()=>{d==="auto"&&_.current&&typeof ResizeObserver>"u"&&F.current.unstable_storeRowHeightMeasurement(i,_.current.clientHeight,u)},[F,d,i,u]),f.useLayoutEffect(()=>{if(z.range){const Ve=F.current.getRowIndexRelativeToVisibleRows(i);Ve!=null&&F.current.unstable_setLastMeasuredRowIndex(Ve)}const ie=_.current;if(!ie||d!=="auto"||typeof ResizeObserver>"u")return;const je=new ResizeObserver(Ve=>{const[Ue]=Ve,L=Ue.borderBoxSize&&Ue.borderBoxSize.length>0?Ue.borderBoxSize[0].blockSize:Ue.contentRect.height;F.current.unstable_storeRowHeightMeasurement(i,L,u)});return je.observe(ie),()=>je.disconnect()},[F,z.range,a,d,i,u]);const se=f.useCallback((ie,Ce)=>je=>{je.target.nodeType===1&&!je.currentTarget.contains(je.target)||F.current.getRow(i)&&(F.current.publishEvent(ie,F.current.getRowParams(i),je),Ce&&Ce(je))},[F,i]),te=f.useCallback(ie=>{const Ce=HS(ie.target,W.cell),je=Ce?.getAttribute("data-field");je&&(je===Ks.field||je===wa||je==="__reorder__"||F.current.getCellMode(i,je)===Oe.Edit||F.current.getColumn(je).type===Ca)||se("rowClick",g)(ie)},[F,g,se,i]),fe=f.useCallback((ie,Ce)=>{var je;const Ve=F.current.getCellParams(i,ie.field),Ue=[],L=O.disableColumnReorder&&ie.disableReorder||!O.rowReordering&&!!M.length&&I>1&&Object.keys(x).length>0;ie.cellClassName&&Ue.push(Ge(typeof ie.cellClassName=="function"?ie.cellClassName(Ve):ie.cellClassName));const q=x[i]?x[i][ie.field]:null;let Q=null;if(q==null&&ie.renderCell){var ne;Q=ie.renderCell(S({},Ve,{api:F.current})),Ue.push(Ge(W["cell--withRenderer"],(ne=O.classes)==null?void 0:ne["cell--withRenderer"]))}if(q!=null&&ie.renderEditCell){var U;let Pe=l;F.current.unstable_getRowWithUpdatedValues&&(Pe=F.current.unstable_getRowWithUpdatedValues(i,ie.field));const Te=ve(q,vP),Ne=S({},Ve,{row:Pe},Te,{api:F.current});Q=ie.renderEditCell(Ne),Ue.push(Ge(W["cell--editing"],(U=O.classes)==null?void 0:U["cell--editing"]))}O.getCellClassName&&Ue.push(O.getCellClassName(Ve));const ee=v!==null&&v.id===i&&v.field===ie.field,de=C!==null&&C.id===i&&C.field===ie.field&&Ve.cellMode==="view"?0:-1;return s.jsx(O.components.Cell,S({value:Ve.value,field:ie.field,width:Ce.width,rowId:i,height:d,showRightBorder:Ce.showRightBorder,formattedValue:Ve.formattedValue,align:ie.align||"left",cellMode:Ve.cellMode,colIndex:Ce.indexRelativeToAllColumns,isEditable:Ve.isEditable,hasFocus:ee,tabIndex:de,className:Ge(Ue),colSpan:Ce.colSpan,disableDragEvents:L},(je=O.componentsProps)==null?void 0:je.cell,{children:Q}),ie.field)},[F,C,x,v,O,l,d,i,I,M.length]),oe=F.current.unstable_getRowInternalSizes(i);let me=d;if(me==="auto"&&oe){let ie=0;const Ce=Object.entries(oe).reduce((je,[Ve,Ue])=>/^base[A-Z]/.test(Ve)?(ie+=1,Ue>je?Ue:je):je,0);Ce>0&&ie>1&&(me=Ce)}const J=S({},c,{maxHeight:d==="auto"?"none":d,minHeight:me});if(oe!=null&&oe.spacingTop){const ie=O.rowSpacingType==="border"?"borderTopWidth":"marginTop";J[ie]=oe.spacingTop}if(oe!=null&&oe.spacingBottom){const ie=O.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ce=J[ie];typeof Ce!="number"&&(Ce=parseInt(Ce||"0",10)),Ce+=oe.spacingBottom,J[ie]=Ce}const ce=F.current.unstable_applyPipeProcessors("rowClassName",[],i);if(typeof O.getRowClassName=="function"){var ae;const ie=a-(((ae=z.range)==null?void 0:ae.firstRowIndex)||0),Ce=S({},F.current.getRowParams(i),{isFirstVisible:ie===0,isLastVisible:ie===z.rows.length-1,indexRelativeToCurrentPage:ie});ce.push(O.getRowClassName(Ce))}const we=Tj(1e4,20,80),pe=[];for(let ie=0;ie<p.length;ie+=1){const Ce=p[ie],je=b+ie,Ve=je===m.length-1,L=Ve?!(Ve&&N&&!G)&&O.disableExtendRowFullWidth:O.showCellRightBorder,q=F.current.unstable_getCellColSpanInfo(i,je);if(q&&!q.spannedByColSpan)if(l){const{colSpan:Q,width:ne}=q.cellProps,U={width:ne,colSpan:Q,showRightBorder:L,indexRelativeToAllColumns:je};pe.push(fe(Ce,U))}else{const{width:Q}=q.cellProps,ne=Math.round(we());pe.push(s.jsx(O.components.SkeletonCell,{width:Q,contentWidth:ne,field:Ce.field,align:Ce.align},Ce.field))}}const _e=w-$,Xe=l?{onClick:te,onDoubleClick:se("rowDoubleClick",E),onMouseEnter:se("rowMouseEnter",D),onMouseLeave:se("rowMouseLeave",P)}:null;return s.jsxs("div",S({ref:H,"data-id":i,"data-rowindex":a,role:"row",className:Ge(...ce,Z.root,h),"aria-rowindex":R,"aria-selected":o,style:J},Xe,k,{children:[pe,_e>0&&s.jsx(CP,{width:_e})]}))}),Au=1e3;class SP{constructor(t=Au){this.timeouts=new Map,this.cleanupTimeout=Au,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class jP{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var tr;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(tr||(tr={}));class PP{}function kP(e){let t=0;return function(r,o,i,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new jP:new SP);const[a]=f.useState(new PP),c=f.useRef(null),u=f.useRef();u.current=i;const d=f.useRef(null);if(!c.current&&u.current){const h=(m,p,w)=>{if(!p.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,p,w)}};c.current=r.current.subscribeEvent(o,h,l),t+=1,d.current={cleanupToken:t},e.registry.register(a,()=>{var m;(m=c.current)==null||m.call(c),c.current=null,d.current=null},d.current)}else!u.current&&c.current&&(c.current(),c.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));f.useEffect(()=>{if(!c.current&&u.current){const h=(m,p,w)=>{if(!p.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,p,w)}};c.current=r.current.subscribeEvent(o,h,l)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var h;(h=c.current)==null||h.call(c),c.current=null}},[r,o,l])}}const EP={registry:null},ue=kP(EP),MP={isFirst:!0};function Re(e,t,n){ue(e,t,n,MP)}const Du=1,IP=1.5,FP=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return $e(r,Le,n)},TP=He("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${W["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${W["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${W["scrollArea--left"]}`]:{left:0},[`&.${W["scrollArea--right"]}`]:{right:0}}));function AP(e){const{scrollDirection:t}=e,n=f.useRef(null),r=Fe(),o=f.useRef(),[i,l]=f.useState(!1),a=xe(r,Of),c=f.useRef({left:0,top:0}),u=be(),d=S({},u,{scrollDirection:t}),h=FP(d),m=f.useCallback(b=>{c.current=b},[]),p=f.useCallback(b=>{let v;if(t==="left")v=b.clientX-n.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,b.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");v=(v-Du)*IP+Du,clearTimeout(o.current),o.current=setTimeout(()=>{r.current.scroll({left:c.current.left+v,top:c.current.top})})},[t,r]);f.useEffect(()=>()=>{clearTimeout(o.current)},[]);const w=f.useCallback(()=>{l(b=>!b)},[]);return ue(r,"rowsScroll",m),ue(r,"columnHeaderDragStart",w),ue(r,"columnHeaderDragEnd",w),i?s.jsx(TP,{ref:n,className:Ge(h.root),ownerState:d,onDragOver:p,style:{height:a}}):null}const Ou=f.memo(AP),DP=({apiRef:e,props:t,children:n})=>s.jsx(Ef.Provider,{value:t,children:s.jsx(kf.Provider,{value:e,children:n})}),OP=Ij()&&window.localStorage.getItem("DEBUG")!=null,gs=()=>{},_P={debug:gs,info:gs,warn:gs,error:gs},_u=["debug","info","warn","error"];function Vu(e,t,n=console){const r=_u.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return _u.reduce((i,l,a)=>(a>=r?i[l]=(...c)=>{const[u,...d]=c;n[l](`MUI: ${e} - ${u}`,...d)}:i[l]=gs,i),{})}const VP=(e,t)=>{e.current.getLogger=f.useCallback(n=>OP?Vu(n,"debug",t.logger):t.logLevel?Vu(n,t.logLevel.toString(),t.logger):_P,[t.logLevel,t.logger])};function qe(e,t,n){const r=f.useRef(t),[o]=f.useState(Object.keys(t)),i=f.useCallback(()=>{e.current&&o.forEach(l=>{e.current.hasOwnProperty(l)||(e.current[l]=(...a)=>r.current[l](...a))})},[o,e]);f.useEffect(()=>{r.current=t},[t]),f.useEffect(()=>{i()},[i]),i()}class $P{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let l=o.length-1;l>=0;l-=1){const a=o[l];r.highPriority.has(a)&&a.apply(this,n)}for(let l=0;l<i.length;l+=1){const a=i[l];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const LP=e=>e.isPropagationStopped!==void 0;let $u=0;function RP(e,t){const n=f.useRef();n.current||(n.current={unstable_eventManager:new $P,unstable_caches:{},state:{},instanceId:$u},$u+=1),f.useImperativeHandle(e,()=>n.current,[n]);const r=f.useCallback((...l)=>{const[a,c,u={}]=l;if(u.defaultMuiPrevented=!1,LP(u)&&u.isPropagationStopped())return;const d=t.signature===tr.DataGridPro?{api:n.current}:{};n.current.unstable_eventManager.emit(a,c,u,d)},[n,t.signature]),o=f.useCallback((l,a,c)=>{n.current.unstable_eventManager.on(l,a,c);const u=n.current;return()=>{u.unstable_eventManager.removeListener(l,a)}},[n]),i=f.useCallback(l=>{n.current.publishEvent("componentError",l)},[n]);return qe(n,{subscribeEvent:o,publishEvent:r,showError:i}),f.useEffect(()=>{const l=n.current;return()=>{z0(l.instanceId),l.publishEvent("unmount")}},[n]),n}function NP(e,t){const n=f.useCallback(r=>{e.current.setState(o=>S({},o,{error:r}))},[e]);f.useEffect(()=>{t.error?n({error:t.error}):n(null)},[n,t.error]),ue(e,"componentError",n)}const zP=(e,t)=>{const n=f.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.getLocaleText=n},BP=e=>{const t=f.useRef({}),n=f.useCallback(c=>{c&&Object.values(c.appliers).forEach(u=>{u()})},[]),r=f.useCallback((c,u,d)=>{t.current[c]||(t.current[c]={processors:new Map,appliers:{}});const h=t.current[c];return h.processors.get(u)!==d&&(h.processors.set(u,d),n(h)),()=>{t.current[c].processors.set(u,null)}},[n]),o=f.useCallback((c,u,d)=>(t.current[c]||(t.current[c]={processors:new Map,appliers:{}}),t.current[c].appliers[u]=d,()=>{const h=t.current[c].appliers,m=ve(h,[u].map(Is));t.current[c].appliers=m}),[]),i=f.useCallback(c=>{const u=t.current[c];n(u)},[n]),l=f.useCallback((...c)=>{const[u,d,h]=c;return t.current[u]?Array.from(t.current[u].processors.values()).reduce((p,w)=>w?w(p,h):p,d):d},[]);qe(e,{unstable_registerPipeProcessor:r,unstable_registerPipeApplier:o,unstable_requestPipeProcessorsApplication:i,unstable_applyPipeProcessors:l})},Qs=e=>{const t=f.useRef(!0);t.current&&(t.current=!1,e())},jt=(e,t,n)=>{const r=f.useRef(),o=f.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=f.useCallback(()=>{r.current=e.current.unstable_registerPipeProcessor(t,o.current,n)},[e,n,t]);Qs(()=>{i()});const l=f.useRef(!0);f.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},Sa=(e,t,n)=>{const r=f.useRef(),o=f.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=f.useCallback(()=>{r.current=e.current.unstable_registerPipeApplier(t,o.current,n)},[e,n,t]);Qs(()=>{i()});const l=f.useRef(!0);f.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},ja=(e,t,n,r)=>{const o=f.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,n,r)},[e,r,n,t]);Qs(()=>{o()});const i=f.useRef(!0);f.useEffect(()=>{i.current?i.current=!1:o()},[o])},Xs="none",Lu={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},HP=e=>{const t=f.useRef(new Map),n=f.useRef({}),r=f.useCallback((c,u,d)=>{const h=()=>{const w=n.current[u],b=ve(w,[c].map(Is));n.current[u]=b};n.current[u]||(n.current[u]={});const m=n.current[u],p=m[c];return m[c]=d,!p||p===d||c===e.current.unstable_getActiveStrategy(Lu[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),h},[e]),o=f.useCallback((c,u)=>{const d=e.current.unstable_getActiveStrategy(Lu[c]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const h=n.current[c];if(!h||!h[d])throw new Error(`No processor found for processor "${c}" on strategy "${d}"`);const m=h[d];return m(u)},[e]),i=f.useCallback(c=>{var u;const h=Array.from(t.current.entries()).find(([,m])=>m.group!==c?!1:m.isAvailable());return(u=h?.[0])!=null?u:Xs},[]),l=f.useCallback((c,u,d)=>{t.current.set(u,{group:c,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);qe(e,{unstable_registerStrategyProcessor:r,unstable_applyStrategyProcessor:o,unstable_getActiveStrategy:i,unstable_setStrategyAvailability:l})},WP=(e,t,n,r,o)=>{const i=pt(e,"useNativeEventListener"),[l,a]=f.useState(!1),c=f.useRef(r),u=f.useCallback(d=>c.current&&c.current(d),[]);f.useEffect(()=>{c.current=r},[r]),f.useEffect(()=>{let d;if(em(t)?d=t():d=t&&t.current?t.current:null,d&&n&&!l){i.debug(`Binding native ${n} event`),d.addEventListener(n,u,o);const h=d;a(!0);const m=()=>{i.debug(`Clearing native ${n} event`),h.removeEventListener(n,u,o)};e.current.subscribeEvent("unmount",m)}},[t,u,n,l,i,o,e])},GP=["stateId"],UP=(e,t)=>{const n=f.useRef({}),[,r]=f.useState(),o=f.useCallback(u=>{const{stateId:d}=u,h=ve(u,GP);n.current[d]=S({},h,{stateId:d})},[]),i=f.useCallback((u,d)=>{let h;if(em(u)?h=u(e.current.state):h=u,e.current.state===h)return!1;let m=!1;const p=[];if(Object.keys(n.current).forEach(w=>{const b=n.current[w],v=b.stateSelector(e.current.state,e.current.instanceId),C=b.stateSelector(h,e.current.instanceId);C!==v&&(p.push({stateId:b.stateId,hasPropChanged:C!==b.propModel}),b.propModel!==void 0&&C!==b.propModel&&(m=!0))}),p.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${p[0].stateId}, therefore, you're not allowed to update ${p.map(w=>w.stateId).join(", ")} in the same transaction.`);if(m||(e.current.state=h,e.current.publishEvent&&e.current.publishEvent("stateChange",h)),p.length===1){const{stateId:w,hasPropChanged:b}=p[0],v=n.current[w],C=v.stateSelector(h,e.current.instanceId);if(v.propOnChange&&b){const x=t.signature===tr.DataGridPro?{api:e.current,reason:d}:{reason:d};v.propOnChange(C,x)}m||e.current.publishEvent(v.changeEvent,C,{reason:d})}return!m},[e,t.signature]),l=f.useCallback((u,d,h)=>e.current.setState(m=>S({},m,{[u]:d(m[u])}),h),[e]),a=f.useCallback(()=>r(()=>e.current.state),[e]);qe(e,{setState:i,forceUpdate:a,unstable_updateControlState:l,unstable_registerControlState:o})},qP=(e,t)=>{const n=RP(e,t);return VP(n,t),NP(n,t),UP(n,t),BP(n),HP(n),zP(n,t),n},Bt=(e,t,n)=>{const r=f.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function Ru(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function KP(e){var t;return((t=window.getSelection())==null?void 0:t.toString())!==""?!0:e?(e.selectionEnd||0)-(e.selectionStart||0)>0:!1}const QP=e=>{const t=f.useCallback((o=!1)=>{if(e.current.getSelectedRows().size===0)return;const i=e.current.getDataAsCsv({includeHeaders:o,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(i).catch(()=>{Ru(i)}):Ru(i)},[e]),n=f.useCallback(o=>{const i=o.ctrlKey||o.metaKey||o.altKey;String.fromCharCode(o.keyCode)!=="C"||!i||KP(o.target)||e.current.unstable_copySelectedRowsToClipboard(o.altKey)},[e]);WP(e,e.current.rootElementRef,"keydown",n),qe(e,{unstable_copySelectedRowsToClipboard:t})},dm=e=>e.columnMenu,XP=e=>S({},e,{columnMenu:{open:!1}}),YP=e=>{const t=pt(e,"useGridColumnMenu"),n=f.useCallback(a=>{e.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===a?u:(t.debug("Opening Column Menu"),S({},u,{columnMenu:{open:!0,field:a}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=f.useCallback(()=>{e.current.setState(c=>!c.columnMenu.open&&c.columnMenu.field===void 0?c:(t.debug("Hiding Column Menu"),S({},c,{columnMenu:S({},c.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),o=f.useCallback(a=>{t.debug("Toggle Column Menu");const c=dm(e.current.state);!c.open||c.field!==a?n(a):r()},[e,t,n,r]);qe(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o});const l=f.useCallback((a,c)=>{if(!c.target.classList.contains(W.menuIconButton)||!c.relatedTarget)return;const u=c.relatedTarget.classList.contains(W.menuList),d=c.relatedTarget.getAttribute("role")==="menuitem";(u||d)&&e.current.setColumnHeaderFocus(a.field)},[e]);ue(e,"columnResizeStart",r),ue(e,"columnHeaderFocus",l),ue(e,"virtualScrollerWheel",e.current.hideColumnMenu),ue(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},ZP=(e,t,n)=>{var r,o,i,l,a,c,u;const d=!!t.columnVisibilityModel||!!((r=t.initialState)!=null&&(o=r.columns)!=null&&o.columnVisibilityModel);n.current.unstable_caches.columns={isUsingColumnVisibilityModel:d};const h=im(t.columnTypes),m=Vr({apiRef:n,columnTypes:h,columnsToUpsert:t.columns,initialState:(i=t.initialState)==null?void 0:i.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:(l=(a=t.columnVisibilityModel)!=null?a:(c=t.initialState)==null||(u=c.columns)==null?void 0:u.columnVisibilityModel)!=null?l:{},keepOnlyColumnsToUpsert:!0});return S({},e,{columns:m})};function JP(e,t){var n,r;const o=pt(e,"useGridColumns"),i=f.useMemo(()=>im(t.columnTypes),[t.columnTypes]),l=f.useRef(t.columns),a=f.useRef(i);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Mn,changeEvent:"columnVisibilityModelChange"});const c=f.useCallback($=>{o.debug("Updating columns state."),e.current.setState(Iu($)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",$.all)},[o,e]),u=f.useCallback($=>ns(e)[$],[e]),d=f.useCallback(()=>on(e),[e]),h=f.useCallback(()=>It(e),[e]),m=f.useCallback(()=>Q0(e),[e]),p=f.useCallback(($,M=!0)=>(M?It(e):on(e)).findIndex(V=>V.field===$),[e]),w=f.useCallback($=>{const M=p($);return yr(e)[M]},[e,p]),b=f.useCallback($=>{Mn(e)!==$&&(e.current.setState(I=>S({},I,{columns:Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:$,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,i]),v=f.useCallback($=>{const M=Vr({apiRef:e,columnTypes:i,columnsToUpsert:$,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});c(M)},[e,c,i]),C=f.useCallback($=>e.current.updateColumns([$]),[e]),x=f.useCallback(($,M)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var I;const V=Mn(e),H=(I=V[$])!=null?I:!0;if(M!==H){const R=S({},V,{[$]:M});e.current.setColumnVisibilityModel(R)}}else{const V=e.current.getColumn($),H=S({},V,{hide:!M});e.current.updateColumns([H]);const R={field:$,colDef:H,isVisible:M};e.current.publishEvent("columnVisibilityChange",R)}},[e]),y=f.useCallback(($,M)=>{const I=Jr(e),V=I.findIndex(G=>G===$);if(V===M)return;o.debug(`Moving column ${$} to index ${M}`);const H=[...I],R=H.splice(V,1)[0];H.splice(M,0,R),c(S({},vr(e.current.state),{all:H}));const N={field:$,element:e.current.getColumnHeaderElement($),colDef:e.current.getColumn($),targetIndex:M,oldIndex:V};e.current.publishEvent("columnOrderChange",N)},[e,o,c]),g=f.useCallback(($,M)=>{o.debug(`Updating column ${$} width to ${M}`);const I=e.current.getColumn($),V=S({},I,{width:M});e.current.updateColumns([V]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement($),colDef:V,width:M})},[e,o]);qe(e,{getColumn:u,getAllColumns:d,getColumnIndex:p,getColumnPosition:w,getVisibleColumns:h,getColumnsMeta:m,updateColumn:C,updateColumns:v,setColumnVisibilityModel:b,setColumnVisibility:x,setColumnIndex:y,setColumnWidth:g});const D=f.useCallback(($,M)=>{const I={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var V,H,R;const K=Mn(e);(!M.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((V=(H=t.initialState)==null||(R=H.columns)==null?void 0:R.columnVisibilityModel)!=null?V:{}).length>0||Object.keys(K).length>0)&&(I.columnVisibilityModel=K)}I.orderedFields=Jr(e);const N=on(e),G={};return N.forEach(K=>{if(K.hasBeenResized){const Z={};om.forEach(se=>{let te=K[se];te===1/0&&(te=-1),Z[se]=te}),G[K.field]=Z}}),Object.keys(G).length>0&&(I.dimensions=G),S({},$,{columns:I})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),P=f.useCallback(($,M)=>{var I;const V=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(I=M.stateToRestore.columns)==null?void 0:I.columnVisibilityModel:void 0,H=M.stateToRestore.columns;if(V==null&&H==null)return $;const R=Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:H,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:V,keepOnlyColumnsToUpsert:!1});return e.current.setState(Iu(R)),H!=null&&e.current.publishEvent("columnsChange",R.all),$},[e,i]),k=f.useCallback(($,M)=>{if(M===Jn.columns){var I;const V=t.components.ColumnsPanel;return s.jsx(V,S({},(I=t.componentsProps)==null?void 0:I.columnsPanel))}return $},[t.components.ColumnsPanel,(r=t.componentsProps)==null?void 0:r.columnsPanel]);jt(e,"exportState",D),jt(e,"restoreState",P),jt(e,"preferencePanel",k);const F=f.useRef(null);ue(e,"viewportInnerSizeChange",$=>{F.current!==$.width&&(F.current=$.width,c(lm(vr(e.current.state),$.width)))}),Re(e,"columnVisibilityChange",t.onColumnVisibilityChange);const O=f.useCallback(()=>{o.info("Columns pipe processing have changed, regenerating the columns");const $=Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});c($)},[e,o,c,i]);Sa(e,"hydrateColumns",O);const z=f.useRef(!0);f.useEffect(()=>{if(z.current){z.current=!1;return}if(o.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&a.current===i)return;const $=Vr({apiRef:e,columnTypes:i,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,a.current=i,c($)},[o,e,c,t.columns,i]),f.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,o,t.columnVisibilityModel])}const ek=e=>e.columnGrouping,hm=ye(ek,e=>e.lookup),tk=["groupId","children"];function nk(e){return e.groupPath!==void 0}const fm=(e,t,n)=>{if(Vf(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{fm(i,[...t,r],n)})},mm=e=>{if(!e)return{};const t={};return e.forEach(n=>{fm(n,[],t)}),t},Pa=e=>{let t={};return e.forEach(n=>{if(Vf(n))return;const{groupId:r,children:o}=n,i=ve(n,tk);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");o||console.warn(`MUI: group groupId=${r} has no children.`);const l=S({},i,{groupId:r}),a=Pa(o);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=S({},t,a,{[r]:l})}),S({},t)},rk=(e,t)=>{var n;const r=Pa((n=t.columnGroupingModel)!=null?n:[]);return S({},e,{columnGrouping:{lookup:r,groupCollapsedModel:{}}})},sk=(e,t)=>{var n;const r=f.useCallback(a=>{var c,u;return(c=(u=ns(e)[a])==null?void 0:u.groupPath)!=null?c:[]},[e]),o=f.useCallback(()=>hm(e),[e]);qe(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:o});const l=f.useRef(!0);f.useEffect(()=>{var a,c;if(l.current){l.current=!1;return}if(!((a=t.experimentalFeatures)!=null&&a.columnGrouping))return;const u=Pa((c=t.columnGroupingModel)!=null?c:[]);e.current.setState(d=>S({},d,{columnGrouping:S({},d.columnGrouping,{lookup:u})}))},[e,t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping])},Ni=.7,zi=1.3,gm=(e,t,n,r)=>{switch(e){case Ds.Compact:return{value:e,headerHeight:Math.floor(t*Ni),rowHeight:Math.floor(n*Ni),headerGroupingMaxDepth:r,factor:Ni};case Ds.Comfortable:return{value:e,headerHeight:Math.floor(t*zi),rowHeight:Math.floor(n*zi),headerGroupingMaxDepth:r,factor:zi};default:return{value:e,headerHeight:t,rowHeight:n,headerGroupingMaxDepth:r,factor:1}}},ok=(e,t)=>{let n;if(t.columnGroupingModel==null||Object.keys(t.columnGroupingModel).length===0)n=0;else{const r=mm(t.columnGroupingModel),o=e.columns,i=o.all.filter(l=>o.columnVisibilityModel[l]!==!1);i.length===0?n=0:n=Math.max(...i.map(l=>{var a,c;return(a=(c=r[l])==null?void 0:c.length)!=null?a:0}))}return S({},e,{density:gm(t.density,t.headerHeight,t.rowHeight,n)})},ik=(e,t)=>{const n=xe(e,It),r=n.length>0?Math.max(...n.map(a=>{var c,u;return(c=(u=a.groupPath)==null?void 0:u.length)!=null?c:0})):0,o=pt(e,"useDensity"),i=f.useCallback((a,c=t.headerHeight,u=t.rowHeight,d=r)=>{o.debug(`Set grid density to ${a}`),e.current.setState(h=>{const m=Pr(h),p=gm(a,c,u,d);return Tn(m,p)?h:S({},h,{density:p})}),e.current.forceUpdate()},[o,e,t.headerHeight,t.rowHeight,r]);f.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,r)},[e,t.density,t.rowHeight,t.headerHeight,r]),qe(e,{setDensity:i})};function lk(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI: exportAs not supported")}const pm=(e,t)=>{if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(r=>n.includes(r))?`"${n}"`:n}return e};ln(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const ak=(e,t,n,r)=>t.map(o=>{const i=n(e,o.field);return pm(i.formattedValue,r)});function ck(e){const{columns:t,rowIds:n,getCellParams:r,delimiterCharacter:o,includeHeaders:i}=e,l=n.reduce((c,u)=>`${c}${ak(u,t,r,o).join(o)}\r
`,"").trim();return i?`${`${t.filter(c=>c.field!==Ks.field).map(c=>pm(c.headerName||c.field,o)).join(o)}\r
`}${l}`.trim():l}const xm=({apiRef:e,options:t})=>{const n=on(e);return t.fields?t.fields.map(o=>n.find(i=>i.field===o)).filter(o=>!!o):(t.allColumns?n:It(e)).filter(o=>!o.disableExport)},uk=({apiRef:e})=>{var t,n;const r=Z0(e),o=qn(e),i=e.current.getSelectedRows(),l=r.filter(d=>{var h;return((h=o[d].position)!=null?h:"body")==="body"}),a=Hs(e),c=(a==null||(t=a.top)==null?void 0:t.map(d=>d.id))||[],u=(a==null||(n=a.bottom)==null?void 0:n.map(d=>d.id))||[];return l.unshift(...c),l.push(...u),i.size>0?l.filter(d=>i.has(d)):l},dk=e=>{const t=pt(e,"useGridCsvExport"),n=f.useCallback((l={})=>{var a,c;t.debug("Get data as CSV");const u=xm({apiRef:e,options:l}),h=((a=l.getRowsToExport)!=null?a:uk)({apiRef:e});return ck({columns:u,rowIds:h,getCellParams:e.current.getCellParams,delimiterCharacter:l.delimiter||",",includeHeaders:(c=l.includeHeaders)!=null?c:!0})},[t,e]),r=f.useCallback(l=>{t.debug("Export data as CSV");const a=n(l),c=new Blob([l!=null&&l.utf8WithBom?new Uint8Array([239,187,191]):"",a],{type:"text/csv"});lk(c,"csv",l?.fileName)},[t,n]);qe(e,{getDataAsCsv:n,exportDataAsCsv:r});const i=f.useCallback((l,a)=>{var c;return(c=a.csvOptions)!=null&&c.disableToolbarButton?l:[...l,{component:s.jsx(nP,{options:a.csvOptions}),componentName:"csvExport"}]},[]);jt(e,"exportMenu",i)},_s=e=>e.rowsMeta;function hk(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function fk(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):null}const mk=(e,t)=>{const n=pt(e,"useGridPrintExport"),r=f.useRef(null),o=f.useRef(null),i=f.useRef({});f.useEffect(()=>{r.current=Zo(e.current.rootElementRef.current)},[e]);const l=f.useCallback((p,w)=>new Promise(b=>{if(!p&&!w){b();return}const v=xm({apiRef:e,options:{fields:p,allColumns:w}}).map(y=>y.field),C=on(e),x={};C.forEach(y=>{x[y.field]=v.includes(y.field)}),e.current.setColumnVisibilityModel(x),b()}),[e]),a=f.useCallback(p=>{const w=document.createElement("iframe");return w.style.position="absolute",w.style.width="0px",w.style.height="0px",w.title=p||document.title,w},[]),c=f.useCallback((p,w)=>{var b,v;const C=S({copyStyles:!0,hideToolbar:!1,hideFooter:!1},w),x=p.contentDocument;if(!x)return;const y=Us(e),g=_s(e.current.state),E=e.current.rootElementRef.current,D=E.cloneNode(!0),P=D.querySelector(`.${W.virtualScroller}`);P.style.height="auto",P.style.width="auto",P.parentElement.style.width="auto",P.parentElement.style.height="auto";const k=D.querySelector(`.${W.main}`);k.style.overflow="visible";const F=fk();F&&F>=108&&(D.style.contain="size");const O=D.querySelector(`.${W.columnHeaders}`).querySelector(`.${W.columnHeadersInner}`);O.style.width="100%";let z=((b=E.querySelector(`.${W.toolbarContainer}`))==null?void 0:b.clientHeight)||0,$=((v=E.querySelector(`.${W.footerContainer}`))==null?void 0:v.clientHeight)||0;if(C.hideToolbar){var M;(M=D.querySelector(`.${W.toolbarContainer}`))==null||M.remove(),z=0}if(C.hideFooter){var I;(I=D.querySelector(`.${W.footerContainer}`))==null||I.remove(),$=0}D.style.height=`${g.currentPageTotalHeight+y+z+$}px`;const V=document.createElement("div");V.appendChild(D),x.body.innerHTML=V.innerHTML;const H=typeof C.pageStyle=="function"?C.pageStyle():C.pageStyle;if(typeof H=="string"){const R=x.createElement("style");R.appendChild(x.createTextNode(H)),x.head.appendChild(R)}if(C.bodyClassName&&x.body.classList.add(...C.bodyClassName.split(" ")),C.copyStyles){const R=r.current.querySelectorAll("style, link[rel='stylesheet']");for(let N=0;N<R.length;N+=1){const G=R[N];if(G.tagName==="STYLE"){const K=x.createElement(G.tagName),Z=G.sheet;if(Z){let se="";for(let te=0;te<Z.cssRules.length;te+=1)typeof Z.cssRules[te].cssText=="string"&&(se+=`${Z.cssRules[te].cssText}\r
`);K.appendChild(x.createTextNode(se)),x.head.appendChild(K)}}else if(G.getAttribute("href")){const K=x.createElement(G.tagName);for(let Z=0;Z<G.attributes.length;Z+=1){const se=G.attributes[Z];se&&K.setAttribute(se.nodeName,se.nodeValue||"")}x.head.appendChild(K)}}}p.contentWindow.print()},[e,r]),u=f.useCallback(p=>{var w,b;r.current.body.removeChild(p),e.current.restoreState(o.current||{}),(w=o.current)!=null&&(b=w.columns)!=null&&b.columnVisibilityModel||e.current.setColumnVisibilityModel(i.current),e.current.unstable_enableVirtualization(),o.current=null,i.current={}},[e]),h={exportDataAsPrint:f.useCallback(async p=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(o.current=e.current.exportState(),i.current=Mn(e),t.pagination){const b=Af(e);e.current.setPageSize(b)}await l(p?.fields,p?.allColumns),e.current.unstable_disableVirtualization(),await hk();const w=a(p?.fileName);w.onload=()=>{c(w,p),w.contentWindow.matchMedia("print").addEventListener("change",v=>{v.matches===!1&&u(w)})},r.current.body.appendChild(w)},[t,n,e,a,c,u,l])};qe(e,h);const m=f.useCallback((p,w)=>{var b;return(b=w.printOptions)!=null&&b.disableToolbarButton?p:[...p,{component:s.jsx(rP,{options:w.printOptions}),componentName:"printExport"}]},[]);jt(e,"exportMenu",m)},gk=["rowsBeforePartialUpdates"];function pk(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const ml=(e,t,n)=>{const r=t?t(e):e.id;return pk(r,e,n),r},jo=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let i=0;i<e.length;i+=1){const l=e[i],a=ml(l,t);o.idRowsLookup[a]=l,o.idToIdLookup[a]=a,o.ids.push(a)}return o},bm=({apiRef:e,previousTree:t,rowCountProp:n,loadingProp:r})=>{const o=e.current.unstable_caches.rows,i=ve(o,gk),l=n??0,a=e.current.unstable_applyStrategyProcessor("rowTreeCreation",S({},i,{previousTree:t})),c=e.current.unstable_applyPipeProcessors("hydrateRows",a),u=c.treeDepth===1?c.ids.length:Object.values(c.tree).filter(d=>d.parent==null&&!d.isPinned).length;return S({},c,{groupingResponseBeforeRowHydration:a,loading:r,totalRowCount:Math.max(l,c.ids.length),totalTopLevelRowCount:Math.max(l,u)})},vm=(e,t,n)=>{var r;const o=(r=e[t])==null?void 0:r.children;if(o==null)return[];const i=[];for(let l=0;l<o.length;l+=1){const a=o[l],c=e[a];(!n||!c.isAutoGenerated)&&i.push(a),i.push(...vm(e,c.id,n))}return i};function ym(e){var t,n;const r=Hs(e),o=(r==null||(t=r.top)==null?void 0:t.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0,i=(r==null||(n=r.bottom)==null?void 0:n.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0;return{top:o,bottom:i}}const gl=(e,t)=>{const n=S({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operatorValue==null){const r=ns(t)[n.columnField];n.operatorValue=r&&r.filterOperators[0].value}return n},xk=ln(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),bk=ln("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),vk=ln(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),Cm=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?(xk(),o=[e.items[0]]):o=e.items;const i=r&&o.some(a=>a.id==null),l=o.some(a=>a.operatorValue==null);return i&&bk(),l&&vk(),l||i?S({},e,{items:o.map(a=>gl(a,n))}):e.items!==o?S({},e,{items:o}):e},Nu=(e,t,n)=>r=>S({},r,{filterModel:Cm(e,t,n)}),wm=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const n=t.current.getColumn(e.columnField);if(!n)return null;let r;if(n.valueParser){var o;const d=n.valueParser;r=Array.isArray(e.value)?(o=e.value)==null?void 0:o.map(h=>d(h)):d(e.value)}else r=e.value;const i=S({},e,{value:r}),l=n.filterOperators;if(!(l!=null&&l.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const a=l.find(d=>d.value===i.operatorValue);if(!a)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${i.operatorValue}'.`);const c=a.getApplyFilterFn(i,n);return typeof c!="function"?null:{fn:d=>{const h=t.current.getCellParams(d,i.columnField);return c(h)},item:i}},yk=(e,t)=>{const{items:n}=e,r=n.map(o=>wm(o,t)).filter(o=>!!o);return r.length===0?null:(o,i)=>{const l={};return(i?r.filter(c=>i(c.item.columnField)):r).forEach(c=>{l[c.item.id]=c.fn(o)}),l}},Ck=(e,t)=>{const{quickFilterValues:n=[]}=e;if(n.length===0)return null;const r=Jr(t),o={};r.forEach(l=>{const a=t.current.getColumn(l),c=a?.getApplyQuickFilterFn;c&&(o[l]=n.map(u=>c(u,a,t)))});const i=n.filter((l,a)=>Object.keys(o).some(c=>o[c][a]!=null));return i.length===0?null:(l,a)=>{const c={},u=[];Object.keys(o).forEach(h=>{(!a||a(h))&&(c[h]=t.current.getCellParams(l,h),u.push(h))});const d={};return i.forEach((h,m)=>{const p=u.some(w=>{var b,v;return o[w][m]==null?!1:(b=(v=o[w])[m])==null?void 0:b.call(v,c[w])});d[h]=p}),d}},wk=(e,t)=>{const n=yk(e,t),r=Ck(e,t);return(o,i)=>({passingFilterItems:n&&n(o,i),passingQuickFilterValues:r&&r(o,i)})},Sk=(e,t,n,r)=>{var o,i;const l=n.items.filter(h=>wm(h,r)!==null),a=e.filter(h=>h!=null),c=t.filter(h=>h!=null),u=(o=n.quickFilterLogicOperator)!=null?o:Os().quickFilterLogicOperator,d=(i=n.linkOperator)!=null?i:Os().linkOperator;if(a.length>0){const h=m=>a.some(p=>p[m.id]);if(d===Vt.And){if(!l.every(h))return!1}else if(!l.some(h))return!1}if(c.length>0&&n.quickFilterValues!=null){const h=m=>c.some(p=>p[m]);if(u===Vt.And){if(!n.quickFilterValues.every(h))return!1}else if(!n.quickFilterValues.some(h))return!1}return!0},jk=(e,t,n)=>{var r,o,i,l;const a=(r=(o=t.filterModel)!=null?o:(i=t.initialState)==null||(l=i.filter)==null?void 0:l.filterModel)!=null?r:Os();return S({},e,{filter:{filterModel:Cm(a,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},Pk=(e,t)=>{var n,r,o;const i=pt(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Rt,changeEvent:"filterModelChange"});const l=f.useCallback(()=>{e.current.setState(k=>{const F=Rt(k,e.current.instanceId),_=t.filterMode===qr.client?wk(F,e):null,O=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:_,filterModel:F??Os()});return S({},k,{filter:S({},k.filter,O)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),a=f.useCallback(()=>{l(),e.current.forceUpdate()},[e,l]),c=f.useCallback(k=>{const F=Rt(e),_=[...F.items],O=_.findIndex(z=>z.id===k.id);O===-1?_.push(k):_[O]=k,e.current.setFilterModel(S({},F,{items:_}),"upsertFilterItem")},[e]),u=f.useCallback(k=>{const F=Rt(e),_=[...F.items];k.forEach(O=>{const z=k.findIndex($=>$.id===O.id);z===-1?_.push(O):_[z]=O}),e.current.setFilterModel(S({},F,{items:k}),"upsertFilterItems")},[e]),d=f.useCallback(k=>{const F=Rt(e),_=F.items.filter(O=>O.id!==k.id);_.length!==F.items.length&&e.current.setFilterModel(S({},F,{items:_}),"deleteFilterItem")},[e]),h=f.useCallback(k=>{if(i.debug("Displaying filter panel"),k){const F=Rt(e),_=F.items.filter($=>{var M;if($.value!==void 0)return!0;const V=(M=e.current.getColumn($.columnField).filterOperators)==null?void 0:M.find(R=>R.value===$.operatorValue);return!(typeof V?.requiresFilterValue>"u"?!0:V?.requiresFilterValue)});let O;_.find($=>$.columnField===k)?O=_:t.disableMultipleColumnsFiltering?O=[gl({columnField:k},e)]:O=[..._,gl({columnField:k},e)],e.current.setFilterModel(S({},F,{items:O}))}e.current.showPreferences(Jn.filters)},[e,i,t.disableMultipleColumnsFiltering]),m=f.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),p=f.useCallback(k=>{const F=Rt(e);F.linkOperator!==k&&e.current.setFilterModel(S({},F,{linkOperator:k}),"changeLogicOperator")},[e]),w=f.useCallback(k=>{const F=Rt(e);Tn(F.quickFilterValues,k)||e.current.setFilterModel(S({},F,{quickFilterValues:[...k]}))},[e]),b=f.useCallback((k,F)=>{Rt(e)!==k&&(i.debug("Setting filter model"),e.current.unstable_updateControlState("filter",Nu(k,t.disableMultipleColumnsFiltering,e),F),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),v=f.useCallback(()=>{const k=On(e);return new Map(k.map(F=>[F.id,F.model]))},[e]);qe(e,{setFilterLinkOperator:p,unstable_applyFilters:a,deleteFilterItem:d,upsertFilterItem:c,upsertFilterItems:u,setFilterModel:b,showFilterPanel:h,hideFilterPanel:m,getVisibleRowModels:v,setQuickFilterValues:w});const x=f.useCallback((k,F)=>{var _,O;const z=Rt(e);return!F.exportOnlyDirtyModels||t.filterModel!=null||((_=t.initialState)==null||(O=_.filter)==null?void 0:O.filterModel)!=null||!Tn(z,Os())?S({},k,{filter:{filterModel:z}}):k},[e,t.filterModel,(n=t.initialState)==null||(r=n.filter)==null?void 0:r.filterModel]),y=f.useCallback((k,F)=>{var _;const O=(_=F.stateToRestore.filter)==null?void 0:_.filterModel;return O==null?k:(e.current.unstable_updateControlState("filter",Nu(O,t.disableMultipleColumnsFiltering,e),"restoreState"),S({},k,{callbacks:[...k.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),g=f.useCallback((k,F)=>{if(F===Jn.filters){var _;const O=t.components.FilterPanel;return s.jsx(O,S({},(_=t.componentsProps)==null?void 0:_.filterPanel))}return k},[t.components.FilterPanel,(o=t.componentsProps)==null?void 0:o.filterPanel]),E=f.useCallback(k=>{if(t.filterMode===qr.client&&k.isRowMatchingFilters){const F=mr(e),_={};for(let O=0;O<F.length;O+=1){const z=F[O];let $;if(typeof z=="string"&&z.startsWith("auto-generated-group-footer"))$=!0;else{const{passingFilterItems:M,passingQuickFilterValues:I}=k.isRowMatchingFilters(z);$=Sk([M],[I],k.filterModel,e)}_[z]=$}return{filteredRowsLookup:_,visibleRowsLookup:_,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);jt(e,"exportState",x),jt(e,"restoreState",y),jt(e,"preferencePanel",g),ja(e,Xs,"filtering",E);const D=f.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const k=Rt(e),F=K0(e),_=k.items.filter(O=>O.columnField&&F[O.columnField]);_.length<k.items.length&&e.current.setFilterModel(S({},k,{items:_}))},[e,i]),P=f.useCallback(k=>{k==="filtering"&&e.current.unstable_applyFilters()},[e]);ue(e,"rowsSet",l),ue(e,"rowExpansionChange",e.current.unstable_applyFilters),ue(e,"columnsChange",D),ue(e,"activeStrategyProcessorChange",P),Qs(()=>{e.current.unstable_applyFilters()}),f.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},kk=e=>S({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),Ek=(e,t)=>{const n=pt(e,"useGridFocus"),r=f.useRef(null),o=f.useCallback((v,C)=>{v&&e.current.getRow(v.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(v.id,v.field),C)},[e]),i=f.useCallback((v,C)=>{const x=rn(e);x?.id===v&&x?.field===C||(e.current.setState(y=>(n.debug(`Focusing on cell with id=${v} and field=${C}`),S({},y,{tabIndex:{cell:{id:v,field:C},columnHeader:null},focus:{cell:{id:v,field:C},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(v)&&(x&&o(x,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(v,C))))},[e,n,o]),l=f.useCallback((v,C={})=>{const x=rn(e);o(x,C),e.current.setState(y=>(n.debug(`Focusing on column header with colIndex=${v}`),S({},y,{tabIndex:{columnHeader:{field:v},cell:null},focus:{columnHeader:{field:v},cell:null}}))),e.current.forceUpdate()},[e,n,o]),a=f.useCallback((v,C,x)=>{let y=e.current.getColumnIndex(C),g=e.current.getRowIndexRelativeToVisibleRows(v);const E=It(e);x==="right"?y+=1:x==="left"?y-=1:g+=1;const D=pi(e,{pagination:t.pagination,paginationMode:t.paginationMode});y>=E.length?(g+=1,g<D.rows.length&&(y=0)):y<0&&(g-=1,g>=0&&(y=E.length-1)),g=es(g,0,D.rows.length-1);const P=D.rows[g],k=e.current.unstable_getCellColSpanInfo(P.id,y);k&&k.spannedByColSpan&&(x==="left"||x==="below"?y=k.leftVisibleCellIndex:x==="right"&&(y=k.rightVisibleCellIndex)),y=es(y,0,E.length-1);const F=E[y];e.current.setCellFocus(P.id,F.field)},[e,t.pagination,t.paginationMode]),c=f.useCallback(({id:v,field:C})=>{e.current.setCellFocus(v,C)},[e]),u=f.useCallback((v,C)=>{C.key==="Enter"||C.key==="Tab"||qs(C.key)||e.current.setCellFocus(v.id,v.field)},[e]),d=f.useCallback(({field:v},C)=>{C.target===C.currentTarget&&e.current.setColumnHeaderFocus(v,C)},[e]),h=f.useCallback(()=>{n.debug("Clearing focus"),e.current.setState(v=>S({},v,{focus:{cell:null,columnHeader:null}}))},[n,e]),m=f.useCallback(v=>{r.current=v},[]),p=f.useCallback(v=>{const C=r.current;r.current=null;const x=rn(e);if(!x){C&&e.current.setCellFocus(C.id,C.field);return}if(C?.id===x.id&&C?.field===x.field)return;const y=e.current.getCellElement(x.id,x.field);y!=null&&y.contains(v.target)||(C?e.current.setCellFocus(C.id,C.field):(e.current.setState(g=>S({},g,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),o(x,v)))},[e,o]),w=f.useCallback(v=>{if(v.cellMode==="view")return;const C=rn(e);(C?.id!==v.id||C?.field!==v.field)&&e.current.setCellFocus(v.id,v.field)},[e]),b=f.useCallback(()=>{const v=rn(e);v&&!e.current.getRow(v.id)&&e.current.setState(C=>S({},C,{focus:{cell:null,columnHeader:null}}))},[e]);qe(e,{setCellFocus:i,setColumnHeaderFocus:l,unstable_moveFocusToRelativeCell:a}),f.useEffect(()=>{const v=Zo(e.current.rootElementRef.current);return v.addEventListener("click",p),()=>{v.removeEventListener("click",p)}},[e,p]),ue(e,"columnHeaderBlur",h),ue(e,"cellDoubleClick",c),ue(e,"cellMouseDown",m),ue(e,"cellKeyDown",u),ue(e,"cellModeChange",w),ue(e,"columnHeaderFocus",d),ue(e,"rowsSet",b)};function Mk(e,t){const n=Hs(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const Ik=(e,t)=>{const n=pt(e,"useGridKeyboardNavigation"),r=kr(e,t).rows,o=f.useMemo(()=>Mk(e,r),[e,r]),i=f.useCallback((h,m,p="left")=>{const w=On(e),b=e.current.unstable_getCellColSpanInfo(m,h);b&&b.spannedByColSpan&&(p==="left"?h=b.leftVisibleCellIndex:p==="right"&&(h=b.rightVisibleCellIndex));const v=w.findIndex(x=>x.id===m);n.debug(`Navigating to cell row ${v}, col ${h}`),e.current.scrollToIndexes({colIndex:h,rowIndex:v});const C=e.current.getVisibleColumns()[h].field;e.current.setCellFocus(m,C)},[e,n]),l=f.useCallback((h,m)=>{n.debug(`Navigating to header col ${h}`),e.current.scrollToIndexes({colIndex:h});const p=e.current.getVisibleColumns()[h].field;e.current.setColumnHeaderFocus(p,m)},[e,n]),a=f.useCallback(h=>o[h].id,[o]),c=f.useCallback((h,m)=>{const p=e.current.getRootDimensions();if(o.length===0||!p)return;const w=e.current.unstable_getViewportPageSize(),b=h.field?e.current.getColumnIndex(h.field):0,v=o.findIndex(D=>D.id===h.id),C=0,x=o.length-1,y=0,g=It(e).length-1;let E=!0;switch(m.key){case"ArrowDown":case"Enter":{v<x&&i(b,a(v+1));break}case"ArrowUp":{v>C?i(b,a(v-1)):l(b,m);break}case"ArrowRight":{b<g&&i(b+1,a(v),"right");break}case"ArrowLeft":{b>y&&i(b-1,a(v));break}case"Tab":{m.shiftKey&&b>y?i(b-1,a(v),"left"):!m.shiftKey&&b<g&&i(b+1,a(v),"right");break}case" ":{if(h.field===wa)break;const P=h.colDef;if(P&&P.type==="treeDataGroup")break;!m.shiftKey&&v<x&&i(b,a(Math.min(v+w,x)));break}case"PageDown":{v<x&&i(b,a(Math.min(v+w,x)));break}case"PageUp":{const D=Math.max(v-w,C);D!==v&&D>=C?i(b,a(D)):l(b,m);break}case"Home":{m.ctrlKey||m.metaKey||m.shiftKey?i(y,a(C)):i(y,a(v));break}case"End":{m.ctrlKey||m.metaKey||m.shiftKey?i(g,a(x)):i(g,a(v));break}default:E=!1}E&&m.preventDefault()},[e,o,i,l,a]),u=f.useCallback((h,m)=>{const p=m.currentTarget.querySelector(`.${W.columnHeaderTitleContainerContent}`);if(!!p&&p.contains(m.target)&&h.field!==Ks.field||!e.current.getRootDimensions())return;const v=e.current.unstable_getViewportPageSize(),C=h.field?e.current.getColumnIndex(h.field):0,x=0,y=o.length-1,g=0,E=It(e).length-1;let D=!0;switch(m.key){case"ArrowDown":{i(C,a(x));break}case"ArrowRight":{C<E&&l(C+1,m);break}case"ArrowLeft":{C>g&&l(C-1,m);break}case"PageDown":{y!==null&&i(C,a(Math.min(x+v,y)));break}case"Home":{l(g,m);break}case"End":{l(E,m);break}case"Enter":{(m.ctrlKey||m.metaKey)&&e.current.toggleColumnMenu(h.field);break}case" ":break;default:D=!1}D&&m.preventDefault()},[e,o,i,l,a]),d=f.useCallback((h,m)=>{if(!m.currentTarget.contains(m.target))return;const p=e.current.getCellParams(h.id,h.field);p.cellMode!==Oe.Edit&&qs(m.key)&&e.current.publishEvent("cellNavigationKeyDown",p,m)},[e]);ue(e,"cellNavigationKeyDown",c),ue(e,"columnHeaderKeyDown",u),ue(e,"cellKeyDown",d)},Sm=e=>e?0:100,zu=e=>t=>S({},t,{pagination:S({},t.pagination,{pageSize:e})}),Fk=(e,t)=>{var n,r;const o=pt(e,"useGridPageSize"),i=xe(e,Gs);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:Es,changeEvent:"pageSizeChange"});const a={setPageSize:f.useCallback(h=>{h!==Es(e)&&(o.debug(`Setting page size to ${h}`),e.current.setState(zu(h)),e.current.forceUpdate())},[e,o])};qe(e,a);const c=f.useCallback((h,m)=>{var p,w;const b=Es(e);return!m.exportOnlyDirtyModels||t.pageSize!=null||((p=t.initialState)==null||(w=p.pagination)==null?void 0:w.pageSize)!=null||b!==Sm(t.autoPageSize)?S({},h,{pagination:S({},h.pagination,{pageSize:b})}):h},[e,t.pageSize,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize,t.autoPageSize]),u=f.useCallback((h,m)=>{var p;const w=(p=m.stateToRestore.pagination)==null?void 0:p.pageSize;return w!=null&&e.current.setState(zu(w)),h},[e]);jt(e,"exportState",c),jt(e,"restoreState",u);const d=f.useCallback(()=>{const h=e.current.getRootDimensions();if(!t.autoPageSize||!h)return;const m=ym(e),p=Math.floor((h.viewportInnerSize.height-m.top-m.bottom)/i);e.current.setPageSize(p)},[e,t.autoPageSize,i]);ue(e,"viewportInnerSizeChange",d),f.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),f.useEffect(()=>{d()},[d])},pl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,xl=e=>e.pageCount?S({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,Bu=e=>t=>S({},t,{pagination:xl(S({},t.pagination,{page:e}))});ln(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Tk=(e,t)=>{var n,r;const o=pt(e,"useGridPage"),i=xe(e,Df);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:ms,changeEvent:"pageChange"});const a={setPage:f.useCallback(m=>{o.debug(`Setting page to ${m}`),e.current.setState(Bu(m)),e.current.forceUpdate()},[e,o])};qe(e,a);const c=f.useCallback((m,p)=>{var w,b;const v=ms(e);return!p.exportOnlyDirtyModels||t.page!=null||((w=t.initialState)==null||(b=w.pagination)==null?void 0:b.page)!=null||v!==0?S({},m,{pagination:S({},m.pagination,{page:v})}):m},[e,t.page,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.page]),u=f.useCallback((m,p)=>{var w,b;const v=(w=(b=p.stateToRestore.pagination)==null?void 0:b.page)!=null?w:ms(e);return e.current.setState(Bu(v)),m},[e]);jt(e,"exportState",c),jt(e,"restoreState",u);const d=m=>{e.current.setState(p=>{const w=pl(p.pagination.rowCount,m);return S({},p,{pagination:xl(S({},p.pagination,{pageCount:w,page:p.pagination.page}))})}),e.current.forceUpdate()},h=()=>e.current.scrollToIndexes({rowIndex:ms(e)*Es(e)});ue(e,"pageSizeChange",d),ue(e,"pageChange",h),f.useEffect(()=>{},[t.rowCount,t.paginationMode]),f.useEffect(()=>{e.current.setState(m=>{const p=t.rowCount!==void 0?t.rowCount:i,w=pl(p,m.pagination.pageSize),b=t.page==null?m.pagination.page:t.page;return S({},m,{pagination:xl(S({},m.pagination,{page:b,rowCount:p,pageCount:w}))})}),e.current.forceUpdate()},[i,t.rowCount,t.page,t.paginationMode,e])},Ak=(e,t)=>{var n,r,o,i,l,a,c,u;let d;return t.pageSize!=null?d=t.pageSize:((n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize)!=null?d=t.initialState.pagination.pageSize:d=Sm(t.autoPageSize),S({},e,{pagination:{pageSize:d,page:(o=(i=t.page)!=null?i:(l=t.initialState)==null||(a=l.pagination)==null?void 0:a.page)!=null?o:0,pageCount:pl((c=t.rowCount)!=null?c:0,d),rowCount:(u=t.rowCount)!=null?u:0}})},Dk=(e,t)=>{Fk(e,t),Tk(e,t)},Ok=(e,t)=>{var n,r;return S({},e,{preferencePanel:(n=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?n:{open:!1}})},_k=(e,t)=>{var n;const r=pt(e,"useGridPreferencesPanel"),o=f.useRef(),i=f.useRef(),l=f.useCallback(()=>{r.debug("Hiding Preferences Panel");const m=Ko(e.current.state);m.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:m.openedPanelValue}),e.current.setState(p=>S({},p,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),a=f.useCallback(()=>{i.current=setTimeout(()=>clearTimeout(o.current),0)},[]),c=f.useCallback(()=>{o.current=setTimeout(l,100)},[l]),u=f.useCallback(m=>{r.debug("Opening Preferences Panel"),a(),e.current.setState(p=>S({},p,{preferencePanel:S({},p.preferencePanel,{open:!0,openedPanelValue:m})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:m}),e.current.forceUpdate()},[r,a,e]);qe(e,{showPreferences:u,hidePreferences:c});const d=f.useCallback((m,p)=>{var w;const b=Ko(e.current.state);return!p.exportOnlyDirtyModels||((w=t.initialState)==null?void 0:w.preferencePanel)!=null||b.open?S({},m,{preferencePanel:b}):m},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),h=f.useCallback((m,p)=>{const w=p.stateToRestore.preferencePanel;return w!=null&&e.current.setState(b=>S({},b,{preferencePanel:w})),m},[e]);jt(e,"exportState",d),jt(e,"restoreState",h),f.useEffect(()=>()=>{clearTimeout(o.current),clearTimeout(i.current)},[])},lt=e=>e.editRows;function Hu(e){return typeof e.then=="function"}const Vk=(e,t)=>{var n;const r=pt(e,"useGridEditRows"),o=y=>(...g)=>{t.editMode===Mt.Cell&&y(...g)},i=f.useCallback((y,g,E)=>{e.current.getCellMode(y,g)!==E&&(r.debug(`Switching cell id: ${y} field: ${g} to mode: ${E}`),e.current.setState(D=>{const P=S({},D.editRows);return P[y]=S({},P[y]),E===Oe.Edit?P[y][g]={value:e.current.getCellValue(y,g)}:(delete P[y][g],Object.keys(P[y]).length||delete P[y]),S({},D,{editRows:P})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(y,g)))},[e,r]),l=f.useCallback((y,g)=>{const E=lt(e.current.state);return E[y]&&E[y][g]?Oe.Edit:Oe.View},[e]),a=f.useCallback((y,g={})=>{var E;const{id:D,field:P}=y;e.current.unstable_runPendingEditCellValueMutation(D,P);const k=e.current.getEditRowsModel();if(!k[D]||!k[D][P])throw new Error(`MUI: Cell at id: ${D} and field: ${P} is not in edit mode.`);const F=k[D][P],_=e.current.getColumn(P),O=e.current.getRow(D);if((E=t.experimentalFeatures)!=null&&E.preventCommitWhileValidating){const M=k[D][P];if(M.isValidating||M.error)return!1}const z=S({},y,{value:F.value});let $=!!F.error;if(!$&&typeof _.preProcessEditCellProps=="function"){const M=_.preProcessEditCellProps({id:D,row:O,props:F});if(Hu(M))return M.then(I=>(e.current.unstable_setEditCellProps({id:D,field:P,props:I}),I.error?!1:(e.current.publishEvent("cellEditCommit",z,g),!0)));e.current.unstable_setEditCellProps({id:D,field:P,props:M}),$=!!M.error}return $?!1:(e.current.publishEvent("cellEditCommit",z,g),!0)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),c=f.useCallback(y=>{const g=e.current.getColumn(y.field),E=e.current.getRow(y.id);return new Promise(D=>{let P={value:y.value};const F=e.current.getEditRowsModel()[y.id][y.field];if(typeof g.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(S({},y,{props:P})),D(!0);return}P=e.current.unstable_setEditCellProps(S({},y,{props:S({},F,{isValidating:!0})})),Promise.resolve(g.preProcessEditCellProps({id:y.id,row:E,props:S({},P,{value:e.current.unstable_parseValue(y.id,y.field,y.value)})})).then(_=>{e.current.unstable_setEditCellProps(S({},y,{props:S({},_,{isValidating:!1})})),D(!_.error)})})},[e]);qe(e,{setCellMode:i,getCellMode:l,commitCellChange:a,unstable_setCellEditingEditCellValue:c});const d=f.useCallback(async(y,g)=>{if(g.which===229)return;const{id:E,field:D,cellMode:P,isEditable:k}=y;if(!k)return;const F=P===Oe.Edit,_=g.ctrlKey||g.metaKey||g.altKey;if(!F&&nS(g)&&!_&&!(g.key===" "&&g.shiftKey)&&e.current.publishEvent("cellEditStart",y,g),!F&&ul(g.key)&&(e.current.setEditCellValue({id:E,field:D,value:""}),e.current.commitCellChange({id:E,field:D},g),e.current.publishEvent("cellEditStop",y,g)),F&&Pu(g.key)){const O={id:E,field:D};if(!await e.current.commitCellChange(O,g))return}F&&rS(g.key)&&e.current.publishEvent("cellEditStop",y,g)},[e]),h=f.useCallback((y,g)=>{y.isEditable&&e.current.publishEvent("cellEditStart",y,g)},[e]),m=async(y,g)=>{y.cellMode!==Oe.View&&(await e.current.commitCellChange(y,g),e.current.publishEvent("cellEditStop",y,g))},p=sn((y,g)=>{m(y,g)}),w=sn(()=>{const y=rn(e);if(!y)return;const g=e.current.getCellParams(y.id,y.field);m(g,{})}),b=f.useCallback((y,g)=>{y.isEditable&&(e.current.setCellMode(y.id,y.field,Oe.Edit),dl(g)&&mi(g)&&e.current.unstable_setEditCellProps({id:y.id,field:y.field,props:{value:""}}))},[e]),v=f.useCallback((y,g)=>{if(e.current.setCellMode(y.id,y.field,Oe.View),!!dl(g)){if(Pu(g.key)){e.current.publishEvent("cellNavigationKeyDown",y,g);return}(g.key==="Escape"||ul(g.key))&&e.current.setCellFocus(y.id,y.field)}},[e]),C=f.useCallback(y=>{const{id:g,field:E}=y,D=e.current.getEditRowsModel(),{value:P}=D[g][E];r.debug(`Setting cell id: ${g} field: ${E} to value: ${P?.toString()}`);const k=e.current.getRow(g);if(k){const F=e.current.getColumn(y.field);let _=S({},k,{[E]:P});F.valueSetter&&(_=F.valueSetter({row:k,value:P})),e.current.updateRows([_])}},[e,r]),x=f.useCallback(y=>{const g=e.current.getRow(y.id),E=e.current.getColumn(y.field),D=E.preProcessEditCellProps?E.preProcessEditCellProps({id:y.id,row:g,props:y.props}):y.props;Hu(D)?D.then(P=>{e.current.unstable_setEditCellProps(S({},y,{props:P}))}):e.current.unstable_setEditCellProps(S({},y,{props:D}))},[e]);ue(e,"cellKeyDown",o(d)),ue(e,"cellDoubleClick",o(h)),ue(e,"cellFocusOut",o(p)),ue(e,"columnHeaderDragStart",o(w)),ue(e,"cellEditStart",o(b)),ue(e,"cellEditStop",o(v)),ue(e,"cellEditCommit",o(C)),ue(e,"editCellPropsChange",o(x)),Re(e,"cellEditCommit",t.onCellEditCommit),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop)},$k=(e,t)=>{var n,r;const o=f.useRef(null),i=f.useRef(null),l=xe(e,on),a=P=>(...k)=>{t.editMode===Mt.Row&&P(...k)},c=f.useCallback((P,k)=>{k!==e.current.getRowMode(P)&&(e.current.setState(F=>{const _=S({},F.editRows);return k===We.Edit?(_[P]={},l.forEach(O=>{const z=e.current.getCellParams(P,O.field);z.isEditable&&(_[P][O.field]={value:z.value})})):delete _[P],S({},F,{editRows:_})}),e.current.forceUpdate())},[e,l]),u=f.useCallback(P=>t.editMode===Mt.Cell?We.View:lt(e.current.state)[P]?We.Edit:We.View,[e,t.editMode]),d=f.useCallback((P,k={})=>{var F;if(t.editMode===Mt.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(P);const O=e.current.getEditRowsModel()[P];if(!O)throw new Error(`MUI: Row at id: ${P} is not being edited.`);if((F=t.experimentalFeatures)!=null&&F.preventCommitWhileValidating&&!Object.keys(O).reduce((I,V)=>I&&!O[V].isValidating&&!O[V].error,!0)||Object.values(O).some(M=>!!M.error))return!1;const $=Object.keys(O).filter(M=>typeof e.current.getColumn(M).preProcessEditCellProps=="function");if($.length>0){const M=e.current.getRow(P),I=$.map(async V=>{const H=e.current.getColumn(V),R=await Promise.resolve(H.preProcessEditCellProps({id:P,row:M,props:O[V]}));return e.current.unstable_setEditCellProps({id:P,field:V,props:R}),R.error});return Promise.all(I).then(V=>V.some(H=>!!H)?!1:(e.current.publishEvent("rowEditCommit",P,k),!0))}return e.current.publishEvent("rowEditCommit",P,k),!0},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),h=f.useCallback(P=>{const F=e.current.getEditRowsModel()[P.id],_=e.current.getRow(P.id);let O=!0;return new Promise(z=>{Object.keys(F).forEach(async $=>{const M=e.current.getColumn($);let I=$===P.field?{value:P.value}:F[$];I=e.current.unstable_setEditCellProps({id:P.id,field:$,props:S({},I,{isValidating:!0})}),M.preProcessEditCellProps&&(I=await Promise.resolve(M.preProcessEditCellProps({id:P.id,row:_,props:S({},I,{value:$===P.field?e.current.unstable_parseValue(P.id,$,P.value):I.value})}))),I.error&&(O=!1),e.current.unstable_setEditCellProps({id:P.id,field:$,props:S({},I,{isValidating:!1})})}),z(O)})},[e]);qe(e,{setRowMode:c,getRowMode:u,commitRowChange:d,unstable_setRowEditingEditCellValue:h});const p=f.useCallback(async(P,k)=>{if(k.which===229)return;const{cellMode:F,isEditable:_}=P;if(!_)return;const O=F===Oe.Edit,z=e.current.getRowParams(P.id);if(O)if(k.key==="Enter"){var $;if(!await e.current.commitRowChange(P.id)&&($=t.experimentalFeatures)!=null&&$.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",z,k)}else k.key==="Escape"&&e.current.publishEvent("rowEditStop",z,k);else k.key==="Enter"&&e.current.publishEvent("rowEditStart",z,k)},[e,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),w=f.useCallback((P,k)=>{if(!P.isEditable)return;const F=e.current.getRowParams(P.id);e.current.publishEvent("rowEditStart",F,k)},[e]),b=f.useCallback(P=>{const k=e.current.getRow(P.id),_=e.current.getEditRowsModel()[P.id];Object.keys(_).forEach(async O=>{const z=e.current.getColumn(O);if(z.preProcessEditCellProps){const $=O===P.field?P.props:_[O],M=await Promise.resolve(z.preProcessEditCellProps({id:P.id,row:k,props:$}));e.current.unstable_setEditCellProps({id:P.id,field:O,props:M})}else O===P.field&&e.current.unstable_setEditCellProps(P)})},[e]),v=f.useCallback(P=>{e.current.setRowMode(P.id,We.Edit)},[e]),C=f.useCallback((P,k)=>{e.current.setRowMode(P.id,We.View),k.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",P,k)},[e]),x=f.useCallback(P=>{const F=e.current.getEditRowsModel()[P];if(!F)throw new Error(`MUI: Row at id: ${P} is not being edited.`);const _=e.current.getRow(P);if(_){let O=S({},_);Object.keys(F).forEach(z=>{const $=e.current.getColumn(z),M=F[z].value;$.valueSetter?O=$.valueSetter({row:O,value:M}):O[z]=M}),e.current.updateRows([O])}},[e]),y=f.useCallback(P=>{i.current=P},[]),g=async(P,k)=>{P.cellMode!==Oe.View&&(i.current=null,o.current=setTimeout(async()=>{var F;if(((F=i.current)==null?void 0:F.id)!==P.id){await e.current.commitRowChange(P.id,k);const _=e.current.getRowParams(P.id);e.current.publishEvent("rowEditStop",_,k)}}))},E=sn((P,k)=>{g(P,k)}),D=sn(()=>{const P=rn(e);if(!P)return;const k=e.current.getCellParams(P.id,P.field);g(k,{})});ue(e,"cellKeyDown",a(p)),ue(e,"cellDoubleClick",a(w)),ue(e,"editCellPropsChange",a(b)),ue(e,"rowEditStart",a(v)),ue(e,"rowEditStop",a(C)),ue(e,"rowEditCommit",a(x)),ue(e,"cellFocusIn",a(y)),ue(e,"cellFocusOut",a(E)),ue(e,"columnHeaderDragStart",a(D)),Re(e,"rowEditCommit",t.onRowEditCommit),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop)},Lk=e=>S({},e,{editRows:{}});function Rk(e,t){var n;const r=pt(e,"useGridEditRows");Vk(e,t),$k(e,t);const o=f.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:lt,changeEvent:"editRowsModelChange"});const i=f.useCallback(b=>!b.rowNode.isAutoGenerated&&!b.rowNode.isPinned&&!!b.colDef.editable&&!!b.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(b)),[t.isCellEditable]),l=(b,v,C,x)=>{if(!C){x();return}if(o.current[b]||(o.current[b]={}),o.current[b][v]){const[E]=o.current[b][v];clearTimeout(E)}const y=()=>{x();const[E]=o.current[b][v];clearTimeout(E),delete o.current[b][v]},g=setTimeout(()=>{x(),delete o.current[b][v]},C);o.current[b][v]=[g,y]},a=f.useCallback((b,v)=>{if(o.current[b]){if(!v)Object.keys(o.current[b]).forEach(C=>{const[,x]=o.current[b][C];x()});else if(o.current[b][v]){const[,C]=o.current[b][v];C()}}},[]),c=f.useCallback((b,v={})=>{l(b.id,b.field,b.debounceMs,()=>{var C;if((C=t.experimentalFeatures)!=null&&C.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(b):e.current.unstable_setCellEditingEditCellValue(b);const x={id:b.id,field:b.field,props:{value:b.value}};return e.current.publishEvent("editCellPropsChange",x,v)})},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),u=f.useCallback((b,v,C)=>{const x=e.current.getColumn(v);return x.valueParser?x.valueParser(C,e.current.getCellParams(b,v)):C},[e]),d=f.useCallback(b=>{const{id:v,field:C,props:x}=b;return r.debug(`Setting cell props on id: ${v} field: ${C}`),e.current.setState(g=>{const E=S({},g.editRows);return E[v]=S({},g.editRows[v]),E[v][C]=S({},x,{value:u(v,C,x.value)}),S({},g,{editRows:E})}),e.current.forceUpdate(),lt(e.current.state)[v][C]},[e,r,u]),h=f.useCallback(b=>{lt(e.current.state)!==b&&(r.debug("Setting editRows model"),e.current.setState(C=>S({},C,{editRows:b})),e.current.forceUpdate())},[e,r]),m=f.useCallback(()=>lt(e.current.state),[e]),p=f.useCallback((b,v)=>{const C=v.detail>1;b.isEditable&&b.cellMode===Oe.View&&C&&v.preventDefault()},[]);ue(e,"cellMouseDown",p),Re(e,"editCellPropsChange",t.onEditCellPropsChange),qe(e,{isCellEditable:i,setEditRowsModel:h,getEditRowsModel:m,setEditCellValue:c,unstable_setEditCellProps:d,unstable_parseValue:u,unstable_runPendingEditCellValueMutation:a}),f.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const Nk=["id","field"],zk=["id","field"],Bk=ln(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),Hk=(e,t)=>{const[n,r]=f.useState({}),o=f.useRef(n),i=f.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u,signature:d}=t,h=M=>(...I)=>{t.editMode===Mt.Cell&&M(...I)},m=f.useCallback((M,I)=>{const V=e.current.getCellParams(M,I);if(!e.current.isCellEditable(V))throw new Error(`MUI: The cell with id=${M} and field=${I} is not editable.`)},[e]),p=f.useCallback((M,I,V)=>{if(e.current.getCellMode(M,I)!==V)throw new Error(`MUI: The cell with id=${M} and field=${I} is not in ${V} mode.`)},[e]),w=f.useCallback((M,I)=>{if(!M.isEditable||M.cellMode===Oe.Edit)return;const V=S({},M,{reason:Sn.cellDoubleClick});e.current.publishEvent("cellEditStart",V,I)},[e]),b=f.useCallback((M,I)=>{if(M.cellMode===Oe.View||e.current.getCellMode(M.id,M.field)===Oe.View)return;const V=S({},M,{reason:dn.cellFocusOut});e.current.publishEvent("cellEditStop",V,I)},[e]),v=f.useCallback((M,I)=>{if(M.cellMode===Oe.Edit){if(I.which===229)return;let V;if(I.key==="Escape"?V=dn.escapeKeyDown:I.key==="Enter"?V=dn.enterKeyDown:I.key==="Tab"&&(V=I.shiftKey?dn.shiftTabKeyDown:dn.tabKeyDown,I.preventDefault()),V){const H=S({},M,{reason:V});e.current.publishEvent("cellEditStop",H,I)}}else if(M.isEditable){let V;if(I.key===" "&&I.shiftKey)return;if(mi(I)||(I.ctrlKey||I.metaKey)&&I.key==="v"?V=Sn.printableKeyDown:I.key==="Enter"?V=Sn.enterKeyDown:(I.key==="Delete"||I.key==="Backspace")&&(V=Sn.deleteKeyDown),V){const H=S({},M,{reason:V,key:I.key});e.current.publishEvent("cellEditStart",H,I)}}},[e]),C=f.useCallback(M=>{const{id:I,field:V,reason:H,key:R}=M,N={id:I,field:V};H===Sn.printableKeyDown?f.version.startsWith("18")?N.initialValue=R:N.deleteValue=!0:H===Sn.deleteKeyDown&&(N.deleteValue=!0),e.current.startCellEditMode(N)},[e]),x=f.useCallback(M=>{const{id:I,field:V,reason:H}=M;e.current.unstable_runPendingEditCellValueMutation(I,V);let R;H===dn.enterKeyDown?R="below":H===dn.tabKeyDown?R="right":H===dn.shiftTabKeyDown&&(R="left");let N=H==="escapeKeyDown";lt(e.current.state)[I][V].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(N=!0),e.current.stopCellEditMode({id:I,field:V,ignoreModifications:N,cellToFocusAfter:R})},[e,t.disableIgnoreModificationsIfProcessingProps]);ue(e,"cellDoubleClick",h(w)),ue(e,"cellFocusOut",h(b)),ue(e,"cellKeyDown",h(v)),ue(e,"cellEditStart",h(C)),ue(e,"cellEditStop",h(x)),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop);const y=f.useCallback((M,I)=>{const V=lt(e.current.state);return V[M]&&V[M][I]?Oe.Edit:Oe.View},[e]),g=sn(M=>{const I=M!==t.cellModesModel;if(u&&I){const V=d===tr.DataGridPro?{api:e.current}:{};u(M,V)}t.cellModesModel&&I||(r(M),o.current=M,e.current.publishEvent("cellModesModelChange",M))}),E=f.useCallback((M,I,V)=>{const H=S({},o.current);if(V!==null)H[M]=S({},H[M],{[I]:S({},V)});else{const R=H[M],N=ve(R,[I].map(Is));H[M]=N,Object.keys(H[M]).length===0&&delete H[M]}g(H)},[g]),D=f.useCallback((M,I,V)=>{e.current.setState(H=>{const R=S({},H.editRows);return V!==null?R[M]=S({},R[M],{[I]:S({},V)}):(delete R[M][I],Object.keys(R[M]).length===0&&delete R[M]),S({},H,{editRows:R})}),e.current.forceUpdate()},[e]),P=f.useCallback(M=>{const{id:I,field:V}=M,H=ve(M,Nk);m(I,V),p(I,V,Oe.View),E(I,V,S({mode:Oe.Edit},H))},[m,p,E]),k=sn(M=>{const{id:I,field:V,deleteValue:H,initialValue:R}=M;let N=e.current.getCellValue(I,V);(H||R)&&(N=H?"":R),D(I,V,{value:N,error:!1,isProcessingProps:!1}),e.current.setCellFocus(I,V)}),F=f.useCallback(M=>{const{id:I,field:V}=M,H=ve(M,zk);p(I,V,Oe.Edit),E(I,V,S({mode:Oe.View},H))},[p,E]),_=sn(async M=>{const{id:I,field:V,ignoreModifications:H,cellToFocusAfter:R="none"}=M;p(I,V,Oe.Edit),e.current.unstable_runPendingEditCellValueMutation(I,V);const N=()=>{D(I,V,null),E(I,V,null),R!=="none"&&e.current.unstable_moveFocusToRelativeCell(I,V,R)};if(H){N();return}const G=lt(e.current.state),{error:K,isProcessingProps:Z}=G[I][V];if(K||Z){i.current[I][V].mode=Oe.Edit,E(I,V,{mode:Oe.Edit});return}const se=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(I,V);if(l){const te=fe=>{i.current[I][V].mode=Oe.Edit,E(I,V,{mode:Oe.Edit}),a?a(fe):Bk()};try{const fe=e.current.getRow(I);Promise.resolve(l(se,fe)).then(oe=>{e.current.updateRows([oe]),N()}).catch(te)}catch(fe){te(fe)}}else e.current.updateRows([se]),N()}),O=f.useCallback(async M=>{var I,V;const{id:H,field:R,value:N,debounceMs:G,unstable_skipValueParser:K}=M;m(H,R),p(H,R,Oe.Edit);const Z=e.current.getColumn(R),se=e.current.getRow(H);let te=N;Z.valueParser&&!K&&(te=Z.valueParser(N,e.current.getCellParams(H,R)));let fe=lt(e.current.state),oe=S({},fe[H][R],{value:te,changeReason:G?"debouncedSetEditCellValue":"setEditCellValue"});if(Z.preProcessEditCellProps){const me=N!==fe[H][R].value;oe=S({},oe,{isProcessingProps:!0}),D(H,R,oe),oe=await Promise.resolve(Z.preProcessEditCellProps({id:H,row:se,props:oe,hasChanged:me}))}return e.current.getCellMode(H,R)===Oe.View?!1:(fe=lt(e.current.state),oe=S({},oe,{isProcessingProps:!1}),oe.value=Z.preProcessEditCellProps?fe[H][R].value:te,D(H,R,oe),fe=lt(e.current.state),!((I=fe[H])!=null&&(V=I[R])!=null&&V.error))},[e,m,p,D]),z=f.useCallback((M,I)=>{const V=e.current.getColumn(I),H=lt(e.current.state),{value:R}=H[M][I],N=e.current.getRow(M);return V.valueSetter?V.valueSetter({value:R,row:N}):S({},N,{[I]:R})},[e]);qe(e,{getCellMode:y,startCellEditMode:P,stopCellEditMode:F,unstable_setCellEditingEditCellValue:O,unstable_getRowWithUpdatedValuesFromCellEditing:z}),f.useEffect(()=>{c&&g(c)},[c,g]),f.useEffect(()=>{const M=ca(e),I=i.current;i.current=tm(n),Object.entries(n).forEach(([V,H])=>{Object.entries(H).forEach(([R,N])=>{var G,K,Z;const se=((G=I[V])==null||(K=G[R])==null?void 0:K.mode)||Oe.View,te=(Z=M[V])!=null?Z:V;N.mode===Oe.Edit&&se===Oe.View?k(S({id:te,field:R},N)):N.mode===Oe.View&&se===Oe.Edit&&_(S({id:te,field:R},N))})})},[e,n,k,_])},Wk=["id"],Gk=["id"],Uk=ln(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),qk=(e,t)=>{const[n,r]=f.useState({}),o=f.useRef(n),i=f.useRef({}),l=f.useRef(null),a=f.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:u,rowModesModel:d,onRowModesModelChange:h,signature:m}=t,p=R=>(...N)=>{t.editMode===Mt.Row&&R(...N)},w=f.useCallback((R,N)=>{const G=e.current.getCellParams(R,N);if(!e.current.isCellEditable(G))throw new Error(`MUI: The cell with id=${R} and field=${N} is not editable.`)},[e]),b=f.useCallback((R,N)=>{if(e.current.getRowMode(R)!==N)throw new Error(`MUI: The row with id=${R} is not in ${N} mode.`)},[e]),v=f.useCallback((R,N)=>{if(!R.isEditable||e.current.getRowMode(R.id)===We.Edit)return;const G=e.current.getRowParams(R.id),K=S({},G,{field:R.field,reason:jn.cellDoubleClick});e.current.publishEvent("rowEditStart",K,N)},[e]),C=f.useCallback(R=>{a.current=R},[]),x=f.useCallback((R,N)=>{R.isEditable&&e.current.getRowMode(R.id)!==We.View&&(a.current=null,l.current=setTimeout(()=>{var G;if(l.current=null,((G=a.current)==null?void 0:G.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===We.View)return;const K=e.current.getRowParams(R.id),Z=S({},K,{field:R.field,reason:hn.rowFocusOut});e.current.publishEvent("rowEditStop",Z,N)}}))},[e]);f.useEffect(()=>()=>{clearTimeout(l.current)},[]);const y=f.useCallback((R,N)=>{if(R.cellMode===We.Edit){if(N.which===229)return;let G;if(N.key==="Escape")G=hn.escapeKeyDown;else if(N.key==="Enter")G=hn.enterKeyDown;else if(N.key==="Tab"){const K=Jr(e).filter(Z=>e.current.isCellEditable(e.current.getCellParams(R.id,Z)));N.shiftKey?R.field===K[0]&&(G=hn.shiftTabKeyDown):R.field===K[K.length-1]&&(G=hn.tabKeyDown),G&&N.preventDefault()}if(G){const K=e.current.getRowParams(R.id),Z=S({},K,{reason:G,field:R.field});e.current.publishEvent("rowEditStop",Z,N)}}else if(R.isEditable){let G;if(N.key===" "&&N.shiftKey)return;if(mi(N)||(N.ctrlKey||N.metaKey)&&N.key==="v"?G=jn.printableKeyDown:N.key==="Enter"?G=jn.enterKeyDown:(N.key==="Delete"||N.key==="Backspace")&&(G=jn.deleteKeyDown),G){const K=e.current.getRowParams(R.id),Z=S({},K,{field:R.field,key:N.key,reason:G});e.current.publishEvent("rowEditStart",Z,N)}}},[e]),g=f.useCallback(R=>{const{id:N,field:G,reason:K,key:Z}=R,se={id:N,fieldToFocus:G};K===jn.printableKeyDown?f.version.startsWith("18")?se.initialValue=Z:se.deleteValue=!!G:K===jn.deleteKeyDown&&(se.deleteValue=!!G),e.current.startRowEditMode(se)},[e]),E=f.useCallback(R=>{const{id:N,reason:G,field:K}=R;e.current.unstable_runPendingEditCellValueMutation(N);let Z;G===hn.enterKeyDown?Z="below":G===hn.tabKeyDown?Z="right":G===hn.shiftTabKeyDown&&(Z="left");let se=G==="escapeKeyDown";const te=lt(e.current.state);!se&&!t.disableIgnoreModificationsIfProcessingProps&&(se=Object.values(te[N]).some(fe=>fe.isProcessingProps)),e.current.stopRowEditMode({id:N,ignoreModifications:se,field:K,cellToFocusAfter:Z})},[e,t.disableIgnoreModificationsIfProcessingProps]);ue(e,"cellDoubleClick",p(v)),ue(e,"cellFocusIn",p(C)),ue(e,"cellFocusOut",p(x)),ue(e,"cellKeyDown",p(y)),ue(e,"rowEditStart",p(g)),ue(e,"rowEditStop",p(E)),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop);const D=f.useCallback(R=>{if(t.editMode===Mt.Cell)return We.View;const N=lt(e.current.state);return N[R]&&Object.keys(N[R]).length>0?We.Edit:We.View},[e,t.editMode]),P=sn(R=>{const N=R!==t.rowModesModel;if(h&&N){const G=m===tr.DataGridPro?{api:e.current}:{};h(R,G)}t.rowModesModel&&N||(r(R),o.current=R,e.current.publishEvent("rowModesModelChange",R))}),k=f.useCallback((R,N)=>{const G=S({},o.current);N!==null?G[R]=S({},N):delete G[R],P(G)},[P]),F=f.useCallback((R,N)=>{e.current.setState(G=>{const K=S({},G.editRows);return N!==null?K[R]=N:delete K[R],S({},G,{editRows:K})}),e.current.forceUpdate()},[e]),_=f.useCallback((R,N,G)=>{e.current.setState(K=>{const Z=S({},K.editRows);return G!==null?Z[R]=S({},Z[R],{[N]:S({},G)}):(delete Z[R][N],Object.keys(Z[R]).length===0&&delete Z[R]),S({},K,{editRows:Z})}),e.current.forceUpdate()},[e]),O=f.useCallback(R=>{const{id:N}=R,G=ve(R,Wk);b(N,We.View),k(N,S({mode:We.Edit},G))},[b,k]),z=sn(R=>{const{id:N,fieldToFocus:G,deleteValue:K,initialValue:Z}=R,te=Jr(e).reduce((fe,oe)=>{if(!e.current.getCellParams(N,oe).isEditable)return fe;let J=e.current.getCellValue(N,oe);return G===oe&&(K||Z)&&(J=K?"":Z),fe[oe]={value:J,error:!1,isProcessingProps:!1},fe},{});F(N,te),G&&e.current.setCellFocus(N,G)}),$=f.useCallback(R=>{const{id:N}=R,G=ve(R,Gk);b(N,We.Edit),k(N,S({mode:We.View},G))},[b,k]),M=sn(R=>{const{id:N,ignoreModifications:G,field:K,cellToFocusAfter:Z="none"}=R;e.current.unstable_runPendingEditCellValueMutation(N);const se=()=>{Z!=="none"&&K&&e.current.unstable_moveFocusToRelativeCell(N,K,Z),F(N,null),k(N,null)};if(G){se();return}const te=lt(e.current.state),fe=e.current.getRow(N);if(Object.values(te[N]).some(ce=>ce.isProcessingProps)){i.current[N].mode=We.Edit;return}if(Object.values(te[N]).some(ce=>ce.error)){i.current[N].mode=We.Edit,k(N,{mode:We.Edit});return}const J=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(N);if(c){const ce=ae=>{i.current[N].mode=We.Edit,k(N,{mode:We.Edit}),u?u(ae):Uk()};try{Promise.resolve(c(J,fe)).then(ae=>{e.current.updateRows([ae]),se()}).catch(ce)}catch(ae){ce(ae)}}else e.current.updateRows([J]),se()}),I=f.useCallback(R=>{const{id:N,field:G,value:K,debounceMs:Z,unstable_skipValueParser:se}=R;w(N,G);const te=e.current.getColumn(G),fe=e.current.getRow(N);let oe=K;te.valueParser&&!se&&(oe=te.valueParser(K,e.current.getCellParams(N,G)));let me=lt(e.current.state),J=S({},me[N][G],{value:oe,changeReason:Z?"debouncedSetEditCellValue":"setEditCellValue"});return te.preProcessEditCellProps||_(N,G,J),new Promise(ce=>{const ae=[];if(te.preProcessEditCellProps){const we=J.value!==me[N][G].value;J=S({},J,{isProcessingProps:!0}),_(N,G,J);const pe=me[N],_e=ve(pe,[G].map(Is)),Xe=Promise.resolve(te.preProcessEditCellProps({id:N,row:fe,props:J,hasChanged:we,otherFieldsProps:_e})).then(ie=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}me=lt(e.current.state),ie=S({},ie,{isProcessingProps:!1}),ie.value=te.preProcessEditCellProps?me[N][G].value:oe,_(N,G,ie)});ae.push(Xe)}Object.entries(me[N]).forEach(([we,pe])=>{if(we===G)return;const _e=e.current.getColumn(we);if(!_e.preProcessEditCellProps)return;pe=S({},pe,{isProcessingProps:!0}),_(N,we,pe),me=lt(e.current.state);const Xe=me[N],ie=ve(Xe,[we].map(Is)),Ce=Promise.resolve(_e.preProcessEditCellProps({id:N,row:fe,props:pe,hasChanged:!1,otherFieldsProps:ie})).then(je=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}je=S({},je,{isProcessingProps:!1}),_(N,we,je)});ae.push(Ce)}),Promise.all(ae).then(()=>{e.current.getRowMode(N)===We.Edit?(me=lt(e.current.state),ce(!me[N][G].error)):ce(!1)})})},[e,w,_]),V=f.useCallback(R=>{const N=lt(e.current.state),G=e.current.getRow(R);let K=S({},G);return Object.entries(N[R]).forEach(([Z,se])=>{const te=e.current.getColumn(Z);te.valueSetter?K=te.valueSetter({value:se.value,row:K}):K[Z]=se.value}),K},[e]);qe(e,{getRowMode:D,startRowEditMode:O,stopRowEditMode:$,unstable_setRowEditingEditCellValue:I,unstable_getRowWithUpdatedValuesFromRowEditing:V}),f.useEffect(()=>{d&&P(d)},[d,P]),f.useEffect(()=>{const R=ca(e),N=i.current;i.current=tm(n),Object.entries(n).forEach(([G,K])=>{var Z,se;const te=((Z=N[G])==null?void 0:Z.mode)||We.View,fe=(se=R[G])!=null?se:G;K.mode===We.Edit&&te===We.View?z(S({id:fe},K)):K.mode===We.View&&te===We.Edit&&M(S({id:fe},K))})},[e,n,z,M])},Kk=e=>S({},e,{editRows:{}}),Qk=(e,t)=>{Hk(e,t),qk(e,t);const n=f.useRef({}),{isCellEditable:r}=t,o=f.useCallback(h=>h.rowNode.isAutoGenerated||!h.colDef.editable||!h.colDef.renderEditCell?!1:r?r(h):!h.rowNode.isPinned,[r]),i=(h,m,p,w)=>{if(!p){w();return}if(n.current[h]||(n.current[h]={}),n.current[h][m]){const[C]=n.current[h][m];clearTimeout(C)}const b=()=>{const[C]=n.current[h][m];clearTimeout(C),w(),delete n.current[h][m]},v=setTimeout(()=>{w(),delete n.current[h][m]},p);n.current[h][m]=[v,b]};f.useEffect(()=>{const h=n.current;return()=>{Object.entries(h).forEach(([m,p])=>{Object.keys(p).forEach(w=>{const[b]=h[m][w];clearTimeout(b),delete h[m][w]})})}},[]);const l=f.useCallback((h,m)=>{if(n.current[h]){if(!m)Object.keys(n.current[h]).forEach(p=>{const[,w]=n.current[h][p];w()});else if(n.current[h][m]){const[,p]=n.current[h][m];p()}}},[]),a=f.useCallback(h=>{const{id:m,field:p,debounceMs:w}=h;return new Promise(b=>{i(m,p,w,async()=>{const v=t.editMode===Mt.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(m,p)===Oe.Edit){const C=await v(h);b(C)}})})},[e,t.editMode]),c=f.useCallback((h,m)=>t.editMode===Mt.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(h,m):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(h),[e,t.editMode]),u=f.useCallback((h,m)=>({changeReason:lt(e.current.state)[h][m].changeReason}),[e]);qe(e,{isCellEditable:o,setEditCellValue:a,unstable_runPendingEditCellValueMutation:l,unstable_getRowWithUpdatedValues:c,unstable_getEditCellMeta:u})},Xk=(e,t,n)=>(n.current.unstable_caches.rows=jo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),S({},e,{rows:bm({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),Yk=(e,t)=>{const n=pt(e,"useGridRows"),r=kr(e,t),o=f.useRef(Date.now()),i=f.useRef(null),l=f.useCallback(_=>{var O;return(O=Ur(e)[_])!=null?O:null},[e]),a=f.useMemo(()=>r.rows.reduce((_,{id:O},z)=>(_[O]=z,_),{}),[r.rows]),c=f.useCallback((_,O)=>{const z=()=>{i.current=null,o.current=Date.now(),e.current.setState(M=>S({},M,{rows:bm({apiRef:e,previousTree:qn(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(i.current&&(clearTimeout(i.current),i.current=null),e.current.unstable_caches.rows=_,!O){z();return}const $=t.throttleRowsMs-(Date.now()-o.current);if($>0){i.current=setTimeout(z,$);return}z()},[t.throttleRowsMs,t.rowCount,t.loading,e]),u=f.useCallback(_=>{n.debug(`Updating all rows, new length ${_.length}`);const O=jo({rows:_,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),z=e.current.unstable_caches.rows;O.rowsBeforePartialUpdates=z.rowsBeforePartialUpdates,c(O,!0)},[n,t.getRowId,t.loading,t.rowCount,c,e]),d=f.useCallback(_=>{if(t.signature===tr.DataGrid&&_.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const O=new Map;_.forEach(I=>{const V=ml(I,t.getRowId,"A row was provided without id when calling updateRows():");O.has(V)?O.set(V,S({},O.get(V),I)):O.set(V,I)});const z=[],$=e.current.unstable_caches.rows,M={rowsBeforePartialUpdates:$.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:$.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:$.rowCountPropBeforePartialUpdates,idRowsLookup:S({},$.idRowsLookup),idToIdLookup:S({},$.idToIdLookup),ids:[...$.ids]};O.forEach((I,V)=>{if(I._action==="delete"){delete M.idRowsLookup[V],delete M.idToIdLookup[V],z.push(V);return}if(!e.current.getRow(V)){M.idRowsLookup[V]=I,M.idToIdLookup[V]=V,M.ids.push(V);return}M.idRowsLookup[V]=S({},e.current.getRow(V),I)}),z.length>0&&(M.ids=M.ids.filter(I=>!z.includes(I))),c(M,!0)},[t.signature,t.getRowId,c,e]),h=f.useCallback(()=>{const _=mr(e),O=Ur(e);return new Map(_.map(z=>[z,O[z]]))},[e]),m=f.useCallback(()=>hi(e),[e]),p=f.useCallback(()=>mr(e),[e]),w=f.useCallback(_=>a[_],[a]),b=f.useCallback((_,O)=>{const z=e.current.getRowNode(_);if(!z)throw new Error(`MUI: No row with id #${_} found`);const $=S({},z,{childrenExpanded:O});e.current.setState(M=>S({},M,{rows:S({},M.rows,{tree:S({},M.rows.tree,{[_]:$})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",$)},[e]),v=f.useCallback(_=>{var O;return(O=qn(e)[_])!=null?O:null},[e]),C=f.useCallback(({skipAutoGeneratedRows:_=!0,groupId:O,applySorting:z,applyFiltering:$})=>{const M=qn(e);let I;if(z){const V=M[O];if(!V)return[];const H=ha(e);I=[];const R=H.findIndex(N=>N===O)+1;for(let N=R;N<H.length&&M[H[N]].depth>V.depth;N+=1){const G=H[N],K=M[G];(!_||!K.isAutoGenerated)&&I.push(G)}}else I=vm(M,O,_);if($){const V=Ff(e);I=I.filter(H=>V[H]!==!1)}return I},[e]),x=f.useCallback((_,O)=>{const z=mr(e),$=z.findIndex(I=>I===_);if($===-1||$===O)return;n.debug(`Moving row ${_} to index ${O}`);const M=[...z];M.splice(O,0,M.splice($,1)[0]),e.current.setState(I=>S({},I,{rows:S({},I.rows,{ids:M})})),e.current.unstable_caches.rows.ids=M,e.current.publishEvent("rowsSet")},[e,n]),y=f.useCallback((_,O)=>{if(t.signature===tr.DataGrid&&O.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(O.length===0)return;const $=[...mr(e)],M=Ur(e),I=ca(e),V=qn(e),H=S({},M),R=S({},I),N=S({},V),G=O.map(K=>({id:ml(K,t.getRowId,"A row was provided without id when calling replaceRows()."),model:K}));G.forEach((K,Z)=>{const[se]=$.splice(_+Z,1,K.id);delete H[se],delete R[se],delete N[se]}),G.forEach(K=>{const Z={id:K.id,parent:null,depth:0,groupingKey:null,groupingField:null};H[K.id]=K.model,R[K.id]=K.id,N[K.id]=Z}),e.current.unstable_caches.rows.idRowsLookup=H,e.current.unstable_caches.rows.idToIdLookup=R,e.current.unstable_caches.rows.ids=$,e.current.setState(K=>{const Z={idRowsLookup:H,idToIdLookup:R,tree:N,ids:$};return S({},K,{rows:S({},K.rows,Z,{groupingResponseBeforeRowHydration:S({},K.rows.groupingResponseBeforeRowHydration,Z)})})}),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),g={getRow:l,getRowModels:h,getRowsCount:m,getAllRowIds:p,setRows:u,setRowIndex:x,updateRows:d,setRowChildrenExpansion:b,getRowNode:v,getRowIndexRelativeToVisibleRows:w,getRowGroupChildren:C,unstable_replaceRows:y},E=f.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let _;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?_=e.current.unstable_caches.rows:_=jo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),c(_,!1)},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,c]),D=f.useCallback(_=>{_==="rowTreeCreation"&&E()},[E]),P=f.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==W0(e)&&E()},[e,E]);ue(e,"activeStrategyProcessorChange",D),ue(e,"strategyAvailabilityChange",P);const k=f.useCallback(()=>{e.current.setState(_=>S({},_,{rows:S({},_.rows,e.current.unstable_applyPipeProcessors("hydrateRows",_.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);Sa(e,"hydrateRows",k),qe(e,g),f.useEffect(()=>()=>{i.current!==null&&clearTimeout(i.current)},[]);const F=f.useRef(!0);f.useEffect(()=>{if(F.current){F.current=!1;return}const _=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,O=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(_){O||(e.current.setState($=>S({},$,{rows:S({},$.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),z||(e.current.setState($=>S({},$,{rows:S({},$.rows,{totalRowCount:Math.max(t.rowCount||0,$.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,$.rows.totalTopLevelRowCount)})})),e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),c(jo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,n,c,e])},Zk=({ids:e,idRowsLookup:t,idToIdLookup:n,previousTree:r})=>{const o={};for(let i=0;i<e.length;i+=1){const l=e[i];r&&r[l]&&r[l].depth===0&&r[l].parent==null&&!r[l].isPinned?o[l]=r[l]:o[l]={id:l,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:Xs,tree:o,treeDepth:1,idRowsLookup:t,idToIdLookup:n,ids:e}},Jk=e=>{ja(e,Xs,"rowTreeCreation",Zk)};ln(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function eE(e){const t=f.useCallback(h=>({field:h,colDef:e.current.getColumn(h)}),[e]),n=f.useCallback((...h)=>e.current.getCellValue(...h),[e]),r=f.useCallback(h=>{const m=e.current.getRow(h);if(!m)throw new Error(`No row with id #${h} found`);return{id:h,columns:e.current.getAllColumns(),row:m,getValue:n}},[e,n]),o=f.useCallback((h,m)=>{const p=e.current.getRow(h),w=e.current.getRowNode(h);if(!p||!w)throw new Error(`No row with id #${h} found`);const b=rn(e),v=Uo(e);return{id:h,field:m,row:p,rowNode:w,value:p[m],colDef:e.current.getColumn(m),cellMode:e.current.getCellMode(h,m),getValue:n,api:e.current,hasFocus:b!==null&&b.field===m&&b.id===h,tabIndex:v&&v.field===m&&v.id===h?0:-1}},[e,n]),i=f.useCallback((h,m)=>{const p=e.current.getColumn(m),w=e.current.getCellValue(h,m),b=e.current.getRow(h),v=e.current.getRowNode(h);if(!b||!v)throw new Error(`No row with id #${h} found`);const C=rn(e),x=Uo(e),y={id:h,field:m,row:b,rowNode:v,colDef:p,cellMode:e.current.getCellMode(h,m),getValue:n,hasFocus:C!==null&&C.field===m&&C.id===h,tabIndex:x&&x.field===m&&x.id===h?0:-1,value:w,formattedValue:w};return p&&p.valueFormatter&&(y.formattedValue=p.valueFormatter({id:h,field:y.field,value:y.value,api:e.current})),y.isEditable=p&&e.current.isCellEditable(y),y},[e,n]),l=f.useCallback((h,m)=>{const p=e.current.getColumn(m);if(!p||!p.valueGetter){const w=e.current.getRow(h);if(!w)throw new Error(`No row with id #${h} found`);return w[m]}return p.valueGetter(o(h,m))},[e,o]),a=f.useCallback(h=>e.current.rootElementRef.current?WS(e.current.rootElementRef.current,h):null,[e]),c=f.useCallback(h=>e.current.rootElementRef.current?GS(e.current.rootElementRef.current,h):null,[e]),u=f.useCallback((h,m)=>e.current.rootElementRef.current?US(e.current.rootElementRef.current,{id:h,field:m}):null,[e]);qe(e,{getCellValue:l,getCellParams:i,getCellElement:u,getRowParams:r,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:a})}const jm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],tE=(e,t)=>{var n;return S({},e,{selection:(n=jm(t.selectionModel))!=null?n:[]})},nE=(e,t)=>{const n=pt(e,"useGridSelection"),r=f.useMemo(()=>jm(t.selectionModel,Qt(e.current.state)),[e,t.selectionModel]),o=f.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:r,propOnChange:t.onSelectionModelChange,stateSelector:Qt,changeEvent:"selectionChange"});const{checkboxSelection:i,disableMultipleSelection:l,disableSelectionOnClick:a,pagination:c,paginationMode:u,isRowSelectable:d}=t,h=!l||i,m=kr(e,t),p=f.useCallback(M=>{var I;let V=M;const H=(I=o.current)!=null?I:M,R=e.current.isRowSelected(M);if(R){const N=ks(e),G=N.findIndex(Z=>Z===H),K=N.findIndex(Z=>Z===V);if(G===K)return;G>K?V=N[K+1]:V=N[K-1]}o.current=M,e.current.selectRowRange({startId:H,endId:V},!R)},[e]),w=f.useCallback(M=>{Qt(e.current.state)!==M&&(n.debug("Setting selection model"),e.current.setState(V=>S({},V,{selection:M})),e.current.forceUpdate())},[e,n]),b=f.useCallback(M=>Qt(e.current.state).includes(M),[e]),v=f.useCallback(M=>{if(d&&!d(e.current.getRowParams(M)))return!1;const I=e.current.getRowNode(M);return!(I?.position==="footer"||I!=null&&I.isPinned)},[e,d]),C=f.useCallback(()=>hj(e),[e]),x=f.useCallback((M,I=!0,V=!1)=>{if(e.current.isRowSelectable(M))if(o.current=M,V)n.debug(`Setting selection for row ${M}`),e.current.setSelectionModel(I?[M]:[]);else{n.debug(`Toggling selection for row ${M}`);const R=Qt(e.current.state).filter(G=>G!==M);I&&R.push(M),(R.length<2||h)&&e.current.setSelectionModel(R)}},[e,n,h]),y=f.useCallback((M,I=!0,V=!1)=>{n.debug("Setting selection for several rows");const H=M.filter(G=>e.current.isRowSelectable(G));let R;if(V)R=I?H:[];else{const G=S({},Qo(e));H.forEach(K=>{I?G[K]=K:delete G[K]}),R=Object.values(G)}(R.length<2||h)&&e.current.setSelectionModel(R)},[e,n,h]),g=f.useCallback(({startId:M,endId:I},V=!0,H)=>{if(!e.current.getRow(M)||!e.current.getRow(I))return;n.debug(`Expanding selection from row ${M} to row ${I}`);const R=ks(e),N=R.indexOf(M),G=R.indexOf(I),[K,Z]=N>G?[G,N]:[N,G],se=R.slice(K,Z+1);e.current.selectRows(se,V,H)},[e,n]);qe(e,{selectRow:x,selectRows:y,selectRowRange:g,setSelectionModel:w,getSelectedRows:C,isRowSelected:b,isRowSelectable:v});const D=f.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const M=Qt(e.current.state),I=Ur(e),V=S({},Qo(e));let H=!1;M.forEach(R=>{I[R]||(delete V[R],H=!0)}),H&&e.current.setSelectionModel(Object.values(V))},[e,t.keepNonExistentRowsSelected]),P=f.useCallback((M,I)=>{const V=I.metaKey||I.ctrlKey,H=!i&&!V&&!dl(I),R=!h||H,N=e.current.isRowSelected(M);R?e.current.selectRow(M,H?!0:!N,!0):e.current.selectRow(M,!N,!1)},[e,h,i]),k=f.useCallback((M,I)=>{var V;if(a)return;const H=(V=I.target.closest(`.${W.cell}`))==null?void 0:V.getAttribute("data-field");H===Ks.field||H===wa||H&&e.current.getColumn(H).type===Ca||e.current.getRowNode(M.id).isPinned||(I.shiftKey&&(h||i)?p(M.id):P(M.id,I))},[a,h,i,e,p,P]),F=f.useCallback((M,I)=>{if(h&&I.shiftKey){var V;(V=window.getSelection())==null||V.removeAllRanges()}},[h]),_=f.useCallback((M,I)=>{I.nativeEvent.shiftKey?p(M.id):e.current.selectRow(M.id,M.value)},[e,p]),O=f.useCallback(M=>{const V=t.checkboxSelectionVisibleOnly&&t.pagination?Xf(e):ks(e);e.current.selectRows(V,M.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),z=f.useCallback((M,I)=>{if(e.current.getCellMode(M.id,M.field)!==Oe.Edit&&I.currentTarget.contains(I.target)){if(qs(I.key)&&I.shiftKey){const V=rn(e);if(V&&V.id!==M.id){I.preventDefault();const H=e.current.isRowSelected(V.id);if(!h){e.current.selectRow(V.id,!H,!0);return}const R=e.current.getRowIndexRelativeToVisibleRows(V.id),N=e.current.getRowIndexRelativeToVisibleRows(M.id);let G,K;R>N?H?(G=N,K=R-1):(G=N,K=R):H?(G=R+1,K=N):(G=R,K=N);const Z=m.rows.slice(G,K+1).map(se=>se.id);e.current.selectRows(Z,!H);return}}if(I.key===" "&&I.shiftKey){I.preventDefault(),P(M.id,I);return}I.key.toLowerCase()==="a"&&(I.ctrlKey||I.metaKey)&&(I.preventDefault(),y(e.current.getAllRowIds(),!0))}},[e,P,y,m.rows,h]);ue(e,"sortedRowsSet",D),ue(e,"rowClick",k),ue(e,"rowSelectionCheckboxChange",_),ue(e,"headerSelectionCheckboxChange",O),ue(e,"cellMouseDown",F),ue(e,"cellKeyDown",z),f.useEffect(()=>{r!==void 0&&e.current.setSelectionModel(r)},[e,r]);const $=r!=null;f.useEffect(()=>{if($)return;const M=Qt(e.current.state);if(v){const I=M.filter(V=>v(V));I.length<M.length&&e.current.setSelectionModel(I)}},[e,v,$]),f.useEffect(()=>{const M=Qt(e.current.state);if(!h&&M.length>1){const{rows:I}=pi(e,{pagination:c,paginationMode:u}),V=I.reduce((R,{id:N})=>(R[N]=!0,R),{}),H=M.find(R=>{let N=!0;return v&&(N=v(R)),N&&V[R]});e.current.setSelectionModel(H!==void 0?[H]:[])}},[e,h,i,l,v,c,u])},rE={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},sE=["sortingOrder"],oE=f.memo(function(t){const{sortingOrder:n}=t,r=ve(t,sE),o=be(),[i]=n,l=i==="asc"?o.components.ColumnSortedAscendingIcon:o.components.ColumnSortedDescendingIcon;return l?s.jsx(l,S({},r)):null}),iE=["error","hasError","errorInfo"],lE=f.forwardRef(function(t,n){const{error:r}=t,o=ve(t,iE),i=Fe(),l=i.current.getLocaleText("errorOverlayDefaultLabel"),a=xe(i,Gs);return s.jsx(gi,S({ref:n,sx:{width:"100%",minHeight:2*a}},o,{children:r?.message||l}))}),aE=f.forwardRef(function(t,n){const o=Fe().current.getLocaleText("noResultsOverlayLabel");return s.jsx(gi,S({ref:n},t,{children:o}))}),cE={BooleanCellTrueIcon:Bw,BooleanCellFalseIcon:Ri,ColumnMenuIcon:Lw,OpenFilterButtonIcon:Fw,FilterPanelDeleteIcon:Ri,ColumnFilteredIcon:Tw,ColumnSelectorIcon:Dw,ColumnUnsortedIcon:oE,ColumnSortedAscendingIcon:Mw,ColumnSortedDescendingIcon:Iw,ColumnResizeIcon:Ow,DensityCompactIcon:_w,DensityStandardIcon:Vw,DensityComfortableIcon:$w,ExportIcon:zw,MoreActionsIcon:Hw,TreeDataCollapseIcon:ju,TreeDataExpandIcon:Su,GroupingCriteriaCollapseIcon:ju,GroupingCriteriaExpandIcon:Su,DetailPanelExpandIcon:zf,DetailPanelCollapseIcon:Rw,RowReorderIcon:Nw,QuickFilterIcon:Aw,QuickFilterClearIcon:Ri},Wu=S({},cE,{BaseCheckbox:gg,BaseTextField:re,BaseFormControl:ze,BaseSelect:tt,BaseSwitch:Ln,BaseButton:ge,BaseTooltip:mg,BasePopper:wl,Cell:mw,SkeletonCell:yS,ColumnHeaderFilterIconButton:ij,ColumnMenu:f1,ErrorOverlay:lE,Footer:hP,Header:fP,Toolbar:null,PreferencesPanel:N1,LoadingOverlay:mP,NoResultsOverlay:aE,NoRowsOverlay:gP,Pagination:xP,FilterPanel:J1,ColumnsPanel:O1,Panel:R1,Row:wP}),uE=e=>{const{classes:t}=e;return f.useMemo(()=>$e({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Le,t),[t])},dE=(e,t)=>{const n={classes:t.classes},r=uE(n),o=f.useCallback(i=>{const l=S({},Ks,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[Nn]!=null;return a&&!c?(i.lookup[Nn]=l,i.all=[Nn,...i.all]):!a&&c?(delete i.lookup[Nn],i.all=i.all.filter(u=>u!==Nn)):a&&c&&(i.lookup[Nn]=S({},l,i.lookup[Nn])),i},[e,r,t.checkboxSelection]);jt(e,"hydrateColumns",o)},hE=(e,t)=>{var n,r,o,i;const l=(n=(r=t.sortModel)!=null?r:(o=t.initialState)==null||(i=o.sorting)==null?void 0:i.sortModel)!=null?n:[];return S({},e,{sorting:{sortModel:Yf(l,t.disableMultipleColumnsSorting),sortedRows:[]}})},fE=(e,t)=>{var n,r;const o=pt(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Jt,changeEvent:"sortModelChange"});const i=f.useCallback((P,k)=>{const F=Jt(e),_=F.findIndex(z=>z.field===P);let O=[...F];return _>-1?k?O.splice(_,1,k):O.splice(_,1):O=[...F,k],O},[e]),l=f.useCallback((P,k)=>{var F;const O=Jt(e).find($=>$.field===P.field);if(O){var z;const $=k===void 0?Eu((z=P.sortingOrder)!=null?z:t.sortingOrder,O.sort):k;return $==null?void 0:S({},O,{sort:$})}return{field:P.field,sort:k===void 0?Eu((F=P.sortingOrder)!=null?F:t.sortingOrder):k}},[e,t.sortingOrder]),a=f.useCallback(()=>{e.current.setState(P=>{if(t.sortingMode===qr.server)return o.debug("Skipping sorting rows as sortingMode = server"),S({},P,{sorting:S({},P.sorting,{sortedRows:mr(P,e.current.instanceId)})});const k=Jt(P,e.current.instanceId),F=Pj(k,e),_=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:F});return S({},P,{sorting:S({},P.sorting,{sortedRows:_})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,o,t.sortingMode]),c=f.useCallback(P=>{Jt(e)!==P&&(o.debug("Setting sort model"),e.current.setState(ku(P,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),u=f.useCallback((P,k,F)=>{if(!P.sortable)return;const _=l(P,k);let O;!F||t.disableMultipleColumnsSorting?O=_?[_]:[]:O=i(P.field,_),e.current.setSortModel(O)},[e,i,l,t.disableMultipleColumnsSorting]),d=f.useCallback(()=>Jt(e),[e]),h=f.useCallback(()=>fa(e).map(k=>k.model),[e]),m=f.useCallback(()=>ha(e),[e]),p=f.useCallback(P=>e.current.getSortedRowIds().indexOf(P),[e]),w=f.useCallback(P=>e.current.getSortedRowIds()[P],[e]);qe(e,{getSortModel:d,getSortedRows:h,getSortedRowIds:m,getRowIndex:p,getRowIdFromRowIndex:w,setSortModel:c,sortColumn:u,applySorting:a});const v=f.useCallback((P,k)=>{var F,_;const O=Jt(e);return!k.exportOnlyDirtyModels||t.sortModel!=null||((F=t.initialState)==null||(_=F.sorting)==null?void 0:_.sortModel)!=null||O.length>0?S({},P,{sorting:{sortModel:O}}):P},[e,t.sortModel,(n=t.initialState)==null||(r=n.sorting)==null?void 0:r.sortModel]),C=f.useCallback((P,k)=>{var F;const _=(F=k.stateToRestore.sorting)==null?void 0:F.sortModel;return _==null?P:(e.current.setState(ku(_,t.disableMultipleColumnsSorting)),S({},P,{callbacks:[...P.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),x=f.useCallback(P=>{const k=qn(e);if(!P.sortRowList){const O=[],z=[];return mr(e).forEach($=>{k[$].isPinned||(k[$].position==="footer"?z.push($):O.push($))}),[...O,...z]}const F=[],_=[];return Object.values(k).forEach(O=>{O.isPinned||(O.position==="footer"?_.push(O.id):F.push(O))}),[...P.sortRowList(F),..._]},[e]);jt(e,"exportState",v),jt(e,"restoreState",C),ja(e,Xs,"sorting",x);const y=f.useCallback(({colDef:P},k)=>{const F=k.shiftKey||k.metaKey||k.ctrlKey;u(P,void 0,F)},[u]),g=f.useCallback(({colDef:P},k)=>{Hf(k.key)&&!k.ctrlKey&&!k.metaKey&&u(P,void 0,k.shiftKey)},[u]),E=f.useCallback(()=>{const P=Jt(e),k=ns(e);if(P.length>0){const F=P.filter(_=>k[_.field]);F.length<P.length&&e.current.setSortModel(F)}},[e]),D=f.useCallback(P=>{P==="sorting"&&e.current.applySorting()},[e]);ue(e,"columnHeaderClick",y),ue(e,"columnHeaderKeyDown",g),ue(e,"rowsSet",e.current.applySorting),ue(e,"columnsChange",E),ue(e,"activeStrategyProcessorChange",D),Qs(()=>{e.current.applySorting()}),f.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Gu(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const mE=(e,t)=>{const n=pt(e,"useGridScroll"),r=e.current.columnHeadersElementRef,o=e.current.windowRef,i=xe(e,On),l=f.useCallback(d=>{const h=hi(e),m=It(e);if(!(d.rowIndex==null)&&h===0||m.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let w={};if(d.colIndex!=null){const x=yr(e);let y;if(typeof d.rowIndex<"u"){var b;const g=(b=i[d.rowIndex])==null?void 0:b.id,E=e.current.unstable_getCellColSpanInfo(g,d.colIndex);E&&!E.spannedByColSpan&&(y=E.cellProps.width)}typeof y>"u"&&(y=m[d.colIndex].computedWidth),w.left=Gu({clientHeight:o.current.clientWidth,scrollTop:o.current.scrollLeft,offsetHeight:y,offsetTop:x[d.colIndex]})}if(d.rowIndex!=null){var v,C;const x=_s(e.current.state),y=ms(e),g=Es(e),E=t.pagination?d.rowIndex-y*g:d.rowIndex,D=x.positions[E+1]?x.positions[E+1]-x.positions[E]:x.currentPageTotalHeight-x.positions[E],P=((v=o.current.querySelector(`.${W["pinnedRows--top"]}`))==null?void 0:v.clientHeight)||0,k=((C=o.current.querySelector(`.${W["pinnedRows--bottom"]}`))==null?void 0:C.clientHeight)||0;w.top=Gu({clientHeight:o.current.clientHeight-P-k,scrollTop:o.current.scrollTop,offsetHeight:D,offsetTop:x.positions[E]})}return w=e.current.unstable_applyPipeProcessors("scrollToIndexes",w,d),typeof w.left!==void 0||typeof w.top!==void 0?(e.current.scroll(w),!0):!1},[n,e,o,t.pagination,i]),a=f.useCallback(d=>{o.current&&d.left!=null&&r.current&&(r.current.scrollLeft=d.left,o.current.scrollLeft=d.left,n.debug(`Scrolling left: ${d.left}`)),o.current&&d.top!=null&&(o.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[o,r,n]),c=f.useCallback(()=>o!=null&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);qe(e,{scroll:a,scrollToIndexes:l,getScrollPosition:c})};function gE(e,t){Re(e,"columnHeaderClick",t.onColumnHeaderClick),Re(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Re(e,"columnHeaderOver",t.onColumnHeaderOver),Re(e,"columnHeaderOut",t.onColumnHeaderOut),Re(e,"columnHeaderEnter",t.onColumnHeaderEnter),Re(e,"columnHeaderLeave",t.onColumnHeaderLeave),Re(e,"columnOrderChange",t.onColumnOrderChange),Re(e,"cellClick",t.onCellClick),Re(e,"cellDoubleClick",t.onCellDoubleClick),Re(e,"cellKeyDown",t.onCellKeyDown),Re(e,"cellFocusOut",t.onCellFocusOut),Re(e,"preferencePanelClose",t.onPreferencePanelClose),Re(e,"preferencePanelOpen",t.onPreferencePanelOpen),Re(e,"menuOpen",t.onMenuOpen),Re(e,"menuClose",t.onMenuClose),Re(e,"rowDoubleClick",t.onRowDoubleClick),Re(e,"rowClick",t.onRowClick),Re(e,"componentError",t.onError),Re(e,"stateChange",t.onStateChange)}const pE=({content:e,container:t,scrollBarSize:n})=>{const r=e.width>t.width,o=e.height>t.height;let i=!1,l=!1;return(r||o)&&(i=r,l=e.height+(i?n:0)>t.height,l&&(i=e.width+n>t.width)),{hasScrollX:i,hasScrollY:l}};function xE(e,t){const n=pt(e,"useResizeContainer"),r=f.useRef(!1),o=f.useRef(null),i=f.useRef(null),l=xe(e,_s),a=xe(e,Us),c=f.useCallback(()=>{var v;const C=(v=e.current.rootElementRef)==null?void 0:v.current,x=fi(e),y=ym(e);if(!o.current)return;let g;if(t.scrollbarSize!=null)g=t.scrollbarSize;else if(!x||!C)g=0;else{const z=Zo(C).createElement("div");z.style.width="99px",z.style.height="99px",z.style.position="absolute",z.style.overflow="scroll",z.className="scrollDiv",C.appendChild(z),g=z.offsetWidth-z.clientWidth,C.removeChild(z)}let E,D,P;if(t.autoHeight)P=!1,D=Math.round(x)>o.current.width,E={width:o.current.width,height:l.currentPageTotalHeight+(D?g:0)};else{E={width:o.current.width,height:o.current.height-a};const O=pE({content:{width:Math.round(x),height:l.currentPageTotalHeight},container:{width:E.width,height:E.height-y.top-y.bottom},scrollBarSize:g});P=O.hasScrollY,D=O.hasScrollX}const k={width:E.width-(P?g:0),height:E.height-(D?g:0)},F={viewportOuterSize:E,viewportInnerSize:k,hasScrollX:D,hasScrollY:P,scrollBarSize:g},_=i.current;i.current=F,(F.viewportInnerSize.width!==_?.viewportInnerSize.width||F.viewportInnerSize.height!==_?.viewportInnerSize.height)&&e.current.publishEvent("viewportInnerSizeChange",F.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,a,l.currentPageTotalHeight]),u=f.useCallback(()=>{c(),e.current.publishEvent("debouncedResize",o.current)},[e,c]),d=f.useCallback(()=>i.current,[]),h=f.useCallback(()=>{const v=e.current.getRootDimensions();if(!v)return 0;const C=pi(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const y=e.current.unstable_getRenderContext(),g=y.lastRowIndex-y.firstRowIndex;return Math.min(g-1,C.rows.length)}const x=Math.floor(v.viewportInnerSize.height/Gs(e));return Math.min(x,C.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);qe(e,{resize:u,getRootDimensions:d,unstable_getViewportPageSize:h,unstable_updateGridDimensionsRef:c});const p=f.useMemo(()=>od(u,60),[u]),w=f.useRef(!0),b=f.useCallback(v=>{o.current=v;const C=/jsdom/.test(window.navigator.userAgent);if(v.height===0&&!r.current&&!t.autoHeight&&!C&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),v.width===0&&!r.current&&!C&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),w.current){u(),w.current=!1;return}p()},[t.autoHeight,p,n,u]);Yt(()=>c(),[c]),Re(e,"sortedRowsSet",c),Re(e,"pageChange",c),Re(e,"pageSizeChange",c),Re(e,"columnsChange",c),ue(e,"resize",b),Re(e,"debouncedResize",t.onResize)}const bE=e=>S({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),vE=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,i=f.useRef({}),l=f.useRef(-1),a=f.useRef(!1),c=xe(e,Gs),u=xe(e,Ws),d=xe(e,rs),h=xe(e,da),m=kr(e,t),p=xe(e,Hs),w=f.useCallback(()=>{var F,_;a.current=!1;const O=nw(e.current.state,e.current.instanceId),z=I=>{i.current[I.id]||(i.current[I.id]={sizes:{baseCenter:c},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:V,needsFirstMeasurement:H,sizes:R}=i.current[I.id];let N=c;const G=R.baseCenter;if(V)N=G;else if(n){const oe=n(S({},I,{densityFactor:O}));if(oe==="auto"){if(H){const me=o?o(S({},I,{densityFactor:O})):c;N=me??c}else N=G;a.current=!0,i.current[I.id].autoHeight=!0}else N=oe??c,i.current[I.id].needsFirstMeasurement=!1,i.current[I.id].autoHeight=!1}else i.current[I.id].needsFirstMeasurement=!1;const K=Object.entries(R).reduce((oe,[me,J])=>(/^base[A-Z]/.test(me)&&(oe[me]=J),oe),{}),Z=S({},K,{baseCenter:N});if(r){var se,te;const oe=e.current.getRowIndexRelativeToVisibleRows(I.id),me=r(S({},I,{isFirstVisible:oe===0,isLastVisible:oe===m.rows.length-1,indexRelativeToCurrentPage:oe}));Z.spacingTop=(se=me.top)!=null?se:0,Z.spacingBottom=(te=me.bottom)!=null?te:0}const fe=e.current.unstable_applyPipeProcessors("rowHeight",Z,I);return i.current[I.id].sizes=fe,fe},$=[],M=m.rows.reduce((I,V)=>{$.push(I);let H=0,R=0;const N=z(V);return Object.entries(N).forEach(([G,K])=>{/^base[A-Z]/.test(G)?H=K>H?K:H:R+=K}),I+H+R},0);p==null||(F=p.top)==null||F.forEach(I=>{z(I)}),p==null||(_=p.bottom)==null||_.forEach(I=>{z(I)}),e.current.setState(I=>S({},I,{rowsMeta:{currentPageTotalHeight:M,positions:$}})),a.current||(l.current=1/0),e.current.forceUpdate()},[e,m.rows,c,n,r,o,p]),b=f.useCallback(F=>{const _=i.current[F];return _?_.sizes.baseCenter:c},[c]),v=F=>{var _;return(_=i.current[F])==null?void 0:_.sizes},C=f.useCallback((F,_)=>{i.current[F].sizes.baseCenter=_,i.current[F].isResized=!0,i.current[F].needsFirstMeasurement=!1,w()},[w]),x=f.useMemo(()=>od(w),[w]),y=f.useCallback((F,_,O)=>{if(!i.current[F]||!i.current[F].autoHeight)return;const z=i.current[F].sizes[`base${br(O)}`]!==_;i.current[F].needsFirstMeasurement=!1,i.current[F].sizes[`base${br(O)}`]=_,z&&x()},[x]),g=f.useCallback(F=>{var _;return((_=i.current[F])==null?void 0:_.autoHeight)||!1},[]),E=f.useCallback(()=>l.current,[]),D=f.useCallback(F=>{a.current&&F>l.current&&(l.current=F)},[]),P=f.useCallback(()=>{i.current={},w()},[w]);f.useEffect(()=>{w()},[c,u,d,h,w]),Sa(e,"rowHeight",w),qe(e,{unstable_getLastMeasuredRowIndex:E,unstable_setLastMeasuredRowIndex:D,unstable_rowHasAutoHeight:g,unstable_getRowHeight:b,unstable_getRowInternalSizes:v,unstable_setRowHeight:C,unstable_storeRowHeightMeasurement:y,resetRowHeights:P})},yE=e=>{const t=f.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=f.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);qe(e,{exportState:t,restoreState:n})},CE=e=>{const t=f.useRef({}),n=f.useCallback((c,u,d)=>{const h=t.current;h[c]||(h[c]={}),h[c][u]=d},[]),r=f.useCallback((c,u)=>{var d;return(d=t.current[c])==null?void 0:d[u]},[]),o=f.useCallback(c=>{const{columnIndex:u,rowId:d,minFirstColumnIndex:h,maxLastColumnIndex:m,columns:p}=c,w=p.length,b=p[u],v=typeof b.colSpan=="function"?b.colSpan(e.current.getCellParams(d,b.field)):b.colSpan;if(!v||v===1)return n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:1,width:b.computedWidth}}),{colSpan:1};let C=b.computedWidth;for(let x=1;x<v;x+=1){const y=u+x;if(y>=h&&y<m){const g=p[y];C+=g.computedWidth,n(d,u+x,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(u+v,w-1),leftVisibleCellIndex:u})}n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:v,width:C}})}return{colSpan:v}},[e,n]),i=f.useCallback(({rowId:c,minFirstColumn:u,maxLastColumn:d,columns:h})=>{for(let m=u;m<d;m+=1){const p=o({columnIndex:m,rowId:c,minFirstColumnIndex:u,maxLastColumnIndex:d,columns:h});p.colSpan>1&&(m+=p.colSpan-1)}},[o]);qe(e,{unstable_getCellColSpanInfo:r,unstable_calculateColSpan:i});const a=f.useCallback(()=>{t.current={}},[]);ue(e,"columnOrderChange",a)},wE=(e,t)=>{var n;const r=f.useCallback(o=>{var i;if(!((i=t.experimentalFeatures)!=null&&i.columnGrouping))return o;const l=mm(t.columnGroupingModel);return o.all.forEach(a=>{var c,u;const d=(c=l[a])!=null?c:[],h=o.lookup[a];nk(h)&&Tn(d,h?.groupPath)||(o.lookup[a]=S({},o.lookup[a],{groupPath:(u=l[a])!=null?u:[]}))}),o},[t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);jt(e,"hydrateColumns",r)},SE=e=>{var t,n;const r=qP(void 0,e);return wE(r,e),dE(r,e),Jk(r),Bt(tE,r,e),Bt(ZP,r,e),Bt(rk,r,e),Bt(Xk,r,e),Bt((t=e.experimentalFeatures)!=null&&t.newEditingApi?Kk:Lk,r,e),Bt(kk,r,e),Bt(hE,r,e),Bt(Ok,r,e),Bt(jk,r,e),Bt(ok,r,e),Bt(Ak,r,e),Bt(bE,r,e),Bt(XP,r,e),Ik(r,e),nE(r,e),JP(r,e),Yk(r,e),eE(r),CE(r),sk(r,e),((n=e.experimentalFeatures)!=null&&n.newEditingApi?Qk:Rk)(r,e),Ek(r,e),_k(r,e),Pk(r,e),fE(r,e),ik(r,e),Dk(r,e),vE(r,e),mE(r,e),YP(r),dk(r),mk(r,e),QP(r),xE(r,e),gE(r,e),yE(r),r},jE={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},PE=100,kE={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:Ds.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:Mt.Cell,filterMode:qr.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:qr.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:qr.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1},EE=e=>{if(e.pageSize>PE)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=pg({props:e,name:"MuiDataGrid"}),n=f.useMemo(()=>S({},rE,t.localeText),[t.localeText]),r=f.useMemo(()=>{const o=t.components;if(!o)return S({},Wu);const i={};return Object.entries(Wu).forEach(([l,a])=>{i[l]=o[l]===void 0?a:o[l]}),i},[t.components]);return f.useMemo(()=>S({},kE,t,{localeText:n,components:r},jE),[t,n,r])},ME=["className"],IE=e=>{const{classes:t}=e;return $e({root:["virtualScroller"]},Le,t)},FE=He("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),TE=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,ME),i=be(),l=IE(i);return s.jsx(FE,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),AE=["className","style"],DE=e=>{const{classes:t,overflowedContent:n}=e;return $e({root:["virtualScrollerContent",n&&"virtualScrollerContent--overflowed"]},Le,t)},OE=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),_E=f.forwardRef(function(t,n){const{className:r,style:o}=t,i=ve(t,AE),l=be(),a=S({},l,{overflowedContent:!l.autoHeight&&o?.minHeight==="auto"}),c=DE(a);return s.jsx(OE,S({ref:n,className:Ge(c.root,r),ownerState:a,style:o},i))}),VE=["className"],$E=e=>{const{classes:t}=e;return $e({root:["virtualScrollerRenderZone"]},Le,t)},LE=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),RE=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,VE),i=be(),l=$E(i);return s.jsx(LE,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),NE=["style"];function Kr(e,t,n=0,r=t.length){if(t.length<=0)return-1;if(n>=r)return n;const o=n+Math.floor((r-n)/2),i=t[o];return e<=i?Kr(e,t,n,o):Kr(e,t,o+1,r)}function zE(e,t,n){let r=1;for(;n<t.length&&t[n]<e;)n+=r,r*=2;return Kr(e,t,Math.floor(n/2),Math.min(n,t.length))}const Gn=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:r,maxLastIndex:o})=>[es(e-n,r,o),es(t+n,r,o)],BE=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,HE=e=>{var t,n;const r=Fe(),o=be(),i=xe(r,It),{ref:l,disableVirtualization:a,onRenderZonePositioning:c,renderZoneMinColumnIndex:u=0,renderZoneMaxColumnIndex:d=i.length,getRowProps:h}=e,m=xe(r,yr),p=xe(r,fi),w=xe(r,Gs),b=xe(r,rn),v=xe(r,Uo),C=xe(r,_s),x=xe(r,lt),y=xe(r,Qo),g=kr(r,o),E=f.useRef(null),D=f.useRef(null),P=Cr(l,D),[k,F]=f.useState(null),_=f.useRef(k),O=f.useRef({top:0,left:0}),[z,$]=f.useState({width:null,height:null}),M=f.useRef(p),I=f.useCallback(J=>{var ce,ae;const we=r.current.unstable_getLastMeasuredRowIndex();let pe=we===1/0;(ce=g.range)!=null&&ce.lastRowIndex&&!pe&&(pe=we>=g.range.lastRowIndex);const _e=es(we-(((ae=g.range)==null?void 0:ae.firstRowIndex)||0),0,C.positions.length);return pe||C.positions[_e]>=J?Kr(J,C.positions):zE(J,C.positions,_e)},[r,(t=g.range)==null?void 0:t.firstRowIndex,(n=g.range)==null?void 0:n.lastRowIndex,C.positions]),V=f.useCallback(()=>{if(a)return{firstRowIndex:0,lastRowIndex:g.rows.length,firstColumnIndex:0,lastColumnIndex:i.length};const{top:J,left:ce}=O.current,ae=Math.min(I(J),C.positions.length-1),we=o.autoHeight?ae+g.rows.length:I(J+z.height);let pe=!1,_e=0,Xe=m.length;const[ie,Ce]=Gn({firstIndex:ae,lastIndex:we,minFirstIndex:0,maxLastIndex:g.rows.length,buffer:o.rowBuffer});for(let je=ie;je<Ce&&!pe;je+=1){const Ve=g.rows[je];pe=r.current.unstable_rowHasAutoHeight(Ve.id)}return pe||(_e=Kr(ce,m),Xe=Kr(ce+z.width,m)),{firstRowIndex:ae,lastRowIndex:we,firstColumnIndex:_e,lastColumnIndex:Xe}},[a,I,C.positions.length,o.autoHeight,o.rowBuffer,g.rows,m,i.length,r,z]);Yt(()=>{a?E.current.style.transform="translate3d(0px, 0px, 0px)":(D.current.scrollLeft=0,D.current.scrollTop=0)},[a]),Yt(()=>{$({width:D.current.clientWidth,height:D.current.clientHeight})},[C.currentPageTotalHeight]);const H=f.useCallback(J=>{$({width:J.width,height:J.height})},[]);ue(r,"resize",H);const R=f.useCallback(J=>{const[ce,ae]=Gn({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:g.rows.length,buffer:o.rowBuffer}),[we]=Gn({firstIndex:J.firstColumnIndex,lastIndex:J.lastColumnIndex,minFirstIndex:u,maxLastIndex:d,buffer:o.columnBuffer}),pe=fl({firstColumnToRender:we,apiRef:r,firstRowToRender:ce,lastRowToRender:ae,visibleRows:g.rows}),_e=_s(r.current.state).positions[ce],Xe=yr(r)[pe];E.current.style.transform=`translate3d(${Xe}px, ${_e}px, 0px)`,typeof c=="function"&&c({top:_e,left:Xe})},[r,g.rows,c,u,d,o.columnBuffer,o.rowBuffer]),N=f.useCallback(J=>{if(_.current&&BE(J,_.current)){R(J);return}F(J),R(J);const[ce,ae]=Gn({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:g.rows.length,buffer:o.rowBuffer});r.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:ce,lastRowToRender:ae}),_.current=J},[r,F,_,g.rows.length,o.rowBuffer,R]);Yt(()=>{if(z.width==null)return;const J=V();N(J);const{top:ce,left:ae}=O.current,we={top:ce,left:ae,renderContext:J};r.current.publishEvent("rowsScroll",we)},[r,V,z.width,N]);const G=J=>{const{scrollTop:ce,scrollLeft:ae}=J.currentTarget;if(O.current.top=ce,O.current.left=ae,ae<0||ce<0||!_.current)return;const we=a?_.current:V(),pe=Math.abs(we.firstRowIndex-_.current.firstRowIndex),_e=Math.abs(we.lastRowIndex-_.current.lastRowIndex),Xe=Math.abs(we.firstColumnIndex-_.current.firstColumnIndex),ie=Math.abs(we.lastColumnIndex-_.current.lastColumnIndex),Ce=pe>=o.rowThreshold||_e>=o.rowThreshold||Xe>=o.columnThreshold||ie>=o.columnThreshold||M.current!==p;r.current.publishEvent("rowsScroll",{top:ce,left:ae,renderContext:Ce?we:_.current},J),Ce&&(id.flushSync(()=>{N(we)}),M.current=p)},K=J=>{r.current.publishEvent("virtualScrollerWheel",{},J)},Z=J=>{r.current.publishEvent("virtualScrollerTouchMove",{},J)},se=(J={renderContext:k})=>{const{renderContext:ce,minFirstColumn:ae=u,maxLastColumn:we=d,availableSpace:pe=z.width,rowIndexOffset:_e=0,position:Xe="center"}=J;if(!ce||pe==null)return null;const ie=a?0:o.rowBuffer,Ce=a?0:o.columnBuffer,[je,Ve]=Gn({firstIndex:ce.firstRowIndex,lastIndex:ce.lastRowIndex,minFirstIndex:0,maxLastIndex:g.rows.length,buffer:ie}),Ue=[];if(J.rows)J.rows.forEach(Pe=>{Ue.push(Pe),r.current.unstable_calculateColSpan({rowId:Pe.id,minFirstColumn:ae,maxLastColumn:we,columns:i})});else{if(!g.range)return null;for(let Pe=je;Pe<Ve;Pe+=1){const Te=g.rows[Pe];Ue.push(Te),r.current.unstable_calculateColSpan({rowId:Te.id,minFirstColumn:ae,maxLastColumn:we,columns:i})}}const[L,q]=Gn({firstIndex:ce.firstColumnIndex,lastIndex:ce.lastColumnIndex,minFirstIndex:ae,maxLastIndex:we,buffer:Ce}),Q=fl({firstColumnToRender:L,apiRef:r,firstRowToRender:je,lastRowToRender:Ve,visibleRows:g.rows}),ne=i.slice(Q,q),U=[];for(let Pe=0;Pe<Ue.length;Pe+=1){var ee,de;const{id:Te,model:Ne}=Ue[Pe],Zt=je+Pe===g.rows.length-1,Ke=r.current.unstable_rowHasAutoHeight(Te)?"auto":r.current.unstable_getRowHeight(Te);let it;y[Te]==null?it=!1:it=r.current.isRowSelectable(Te),U.push(s.jsx(o.components.Row,S({row:Ne,rowId:Te,rowHeight:Ke,cellFocus:b,cellTabIndex:v,editRowsState:x,renderedColumns:ne,visibleColumns:i,firstColumnToRender:Q,lastColumnToRender:q,selected:it,index:_e+((g==null||(ee=g.range)==null?void 0:ee.firstRowIndex)||0)+je+Pe,containerWidth:pe,isLastVisible:Zt,position:Xe},typeof h=="function"?h(Te,Ne):{},(de=o.componentsProps)==null?void 0:de.row),Te))}return U},te=z.width&&p>z.width,fe=f.useMemo(()=>{const J=Math.max(C.currentPageTotalHeight,1);let ce=!1;D!=null&&D.current&&J<=D?.current.clientHeight&&(ce=!0);const ae={width:te?p:"auto",height:J,minHeight:ce?"100%":"auto"};return o.autoHeight&&g.rows.length===0&&(ae.height=2*w),ae},[D,p,C.currentPageTotalHeight,g.rows.length,te,o.autoHeight,w]);f.useEffect(()=>{r.current.publishEvent("virtualScrollerContentSizeChange")},[r,fe]),o.autoHeight&&g.rows.length===0&&(fe.height=2*w);const oe={};te||(oe.overflowX="hidden"),o.autoHeight&&(oe.overflowY="hidden");const me=f.useCallback(()=>_.current,[]);return r.current.unstable_getRenderContext=me,{renderContext:k,updateRenderZonePosition:R,getRows:se,getRootProps:(J={})=>{let{style:ce={}}=J,ae=ve(J,NE);return S({ref:P,onScroll:G,onWheel:K,onTouchMove:Z,style:S({},ce,oe)},ae)},getContentProps:({style:J={}}={})=>({style:S({},J,fe)}),getRenderZoneProps:()=>({ref:E})}},WE=["className","disableVirtualization"],GE=f.forwardRef(function(t,n){const{className:r,disableVirtualization:o}=t,i=ve(t,WE),{getRootProps:l,getContentProps:a,getRenderZoneProps:c,getRows:u}=HE({ref:n,disableVirtualization:o});return s.jsx(TE,S({className:r},l(i),{children:s.jsx(_E,S({},a(),{children:s.jsx(RE,S({},c(),{children:u()}))}))}))}),UE=e=>{const{classes:t,headerAlign:n,isDragging:r,showRightBorder:o,showColumnBorder:i,groupId:l}=e;return $e({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",o&&"withBorder",i&&"columnHeader--showColumnBorder",l===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},Le,t)};function qE(e){var t,n;const{groupId:r,width:o,depth:i,maxDepth:l,fields:a,height:c,colIndex:u,isLastColumn:d,extendRowFullWidth:h}=e,m=be(),p=Fe(),w=xe(p,hm),{hasScrollX:b,hasScrollY:v}=(t=p.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},C=r?w[r]:{},{headerName:x=r??"",description:y="",headerAlign:g=void 0}=C;let E;const D=r&&((n=w[r])==null?void 0:n.renderHeaderGroup),P={groupId:r,headerName:x,description:y,depth:i,maxDepth:l,fields:a,colIndex:u,isLastColumn:d};r&&D&&(E=D(P));const F=d?!(d&&b&&!v)&&!h:m.showColumnRightBorder,_=m.showColumnRightBorder,O=S({},e,{classes:m.classes,showRightBorder:F,showColumnBorder:_,headerAlign:g,depth:i,isDragging:!1}),z=x??r,$=$t(),M=r===null?`empty-group-cell-${$}`:r,I=UE(O),V=typeof C.headerClassName=="function"?C.headerClassName(P):C.headerClassName;return s.jsx(Qf,{classes:I,columnMenuOpen:!1,colIndex:u,height:c,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:-1,isDraggable:!1,headerComponent:E,headerClassName:V,description:y,elementId:M,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:z,"aria-colspan":a.length,"data-fields":`|-${a.join("-|-")}-|`,disableHeaderSeparator:!0})}const Uu=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function KE(e){return!!e.target}const QE=e=>{const{innerRef:t,minColumnIndex:n=0}=e,[r,o]=f.useState(""),[i,l]=f.useState(""),a=Fe(),c=xe(a,It),u=xe(a,yr),d=xe(a,Rf),h=xe(a,Uo),m=xe(a,uw),p=xe(a,Of),w=xe(a,ga),b=xe(a,Us),v=xe(a,ew),C=xe(a,q0),x=xe(a,dm),y=be(),g=f.useRef(null),E=Cr(t,g),[D,P]=f.useState(null),k=f.useRef(D),F=f.useRef(0),_=kr(a,y);f.useEffect(()=>{a.current.columnHeadersContainerElementRef.current.scrollLeft=0},[a]);const O=f.useRef(If(u1,{equalityCheck:(se,te)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(fe=>se[fe]===te[fe])})),z=f.useCallback(se=>{const[te,fe]=Gn({firstIndex:se.firstRowIndex,lastIndex:se.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:y.rowBuffer}),oe=O.current({firstColumnIndex:se.firstColumnIndex,minColumnIndex:n,columnBuffer:y.columnBuffer,firstRowToRender:te,lastRowToRender:fe,apiRef:a,visibleRows:_.rows}),me=oe>0?F.current-u[oe]:F.current;g.current.style.transform=`translate3d(${-me}px, 0px, 0px)`},[u,n,y.columnBuffer,a,_.rows,y.rowBuffer]);f.useLayoutEffect(()=>{D&&z(D)},[D,z]);const $=f.useCallback(({left:se,renderContext:te=null},fe)=>{var oe,me;if(!g.current||F.current===se&&((oe=k.current)==null?void 0:oe.firstColumnIndex)===te?.firstColumnIndex&&((me=k.current)==null?void 0:me.lastColumnIndex)===te?.lastColumnIndex)return;F.current=se;let J=!1;te!==k.current||!k.current?(KE(fe)?(id.flushSync(()=>{P(te)}),J=!0):P(te),k.current=te):J=!0,te&&J&&z(te)},[z]),M=f.useCallback(se=>l(se.field),[]),I=f.useCallback(()=>l(""),[]),V=f.useCallback(se=>o(se.field),[]),H=f.useCallback(()=>o(""),[]);ue(a,"columnResizeStart",M),ue(a,"columnResizeStop",I),ue(a,"columnHeaderDragStart",V),ue(a,"columnHeaderDragEnd",H),ue(a,"rowsScroll",$);const R=se=>{const{renderContext:te=D,minFirstColumn:fe=n,maxLastColumn:oe=c.length}=se||{};if(!te)return null;const[me,J]=Gn({firstIndex:te.firstRowIndex,lastIndex:te.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:y.rowBuffer}),ce=O.current({firstColumnIndex:te.firstColumnIndex,minColumnIndex:fe,columnBuffer:y.columnBuffer,apiRef:a,firstRowToRender:me,lastRowToRender:J,visibleRows:_.rows}),ae=Math.min(te.lastColumnIndex+y.columnBuffer,oe);return{renderedColumns:c.slice(ce,ae),firstColumnToRender:ce,lastColumnToRender:ae,minFirstColumn:fe,maxLastColumn:oe}},N=(se,te={})=>{const fe=R(se);if(fe==null)return null;const{renderedColumns:oe,firstColumnToRender:me}=fe,J=[];for(let ce=0;ce<oe.length;ce+=1){const ae=oe[ce],we=me+ce,pe=we===0,_e=!(d===null&&h===null),Xe=d!==null&&d.field===ae.field||pe&&!_e?0:-1,ie=m!==null&&m.field===ae.field,Ce=x.open&&x.field===ae.field;J.push(s.jsx(sj,S({},C[ae.field],{columnMenuOpen:Ce,filterItemsCounter:v[ae.field]&&v[ae.field].length,headerHeight:p,isDragging:ae.field===r,column:ae,colIndex:we,isResizing:i===ae.field,isLastColumn:we===c.length-1,extendRowFullWidth:!y.disableExtendRowFullWidth,hasFocus:ie,tabIndex:Xe},te),ae.field))}return s.jsx(Uu,{role:"row","aria-rowindex":w+1,ownerState:y,children:J})},G=(se=[],te)=>se.slice(0,te+1),K=se=>{if(w===0)return null;const te=R(se);if(te==null||te.renderedColumns.length===0)return null;const{renderedColumns:fe,firstColumnToRender:oe,lastColumnToRender:me,maxLastColumn:J}=te,ce=[],ae=[];for(let ne=0;ne<w;ne+=1){var we,pe,_e;const U=[];let ee=0,de=oe-1;const Pe=(we=c[oe])==null||(pe=we.groupPath)==null?void 0:pe[ne],Te=G((_e=c[oe])==null?void 0:_e.groupPath,ne);for(;Pe!==null&&de>=n&&(Xe=c[de])!=null&&Xe.groupPath&&Tn(G((ie=c[de])==null?void 0:ie.groupPath,ne),Te);){var Xe,ie,Ce;const Ke=c[de];if(ee+=(Ce=Ke.computedWidth)!=null?Ce:0,U.length===0){var je;U.push({width:(je=Ke.computedWidth)!=null?je:0,fields:[Ke.field],groupId:Pe,groupParents:Te,colIndex:de})}else{var Ve;U[0].width+=(Ve=Ke.computedWidth)!=null?Ve:0,U[0].fields.push(Ke.field),U[0].colIndex=de}de-=1}const Ne=fe.reduce((Ke,it,_n)=>{var Qe;const Ft=Ke[Ke.length-1];if(it.groupPath&&it.groupPath.length>ne){var sr;if(Ft&&Ft.groupId===it.groupPath[ne]){var Er;return[...Ke.slice(0,Ke.length-1),S({},Ft,{width:Ft.width+((Er=it.computedWidth)!=null?Er:0),fields:[...Ft.fields,it.field]})]}return[...Ke,{groupId:it.groupPath[ne],groupParents:G(it.groupPath,ne),width:(sr=it.computedWidth)!=null?sr:0,fields:[it.field],colIndex:oe+_n}]}if(Ft&&Ft.groupId===null&&Tn(G(it.groupPath,ne),Ft.groupParents)){var or;return[...Ke.slice(0,Ke.length-1),S({},Ft,{width:Ft.width+((or=it.computedWidth)!=null?or:0),fields:[...Ft.fields,it.field]})]}return[...Ke,{groupId:null,groupParents:G(it.groupPath,ne),width:(Qe=it.computedWidth)!=null?Qe:0,fields:[it.field],colIndex:oe+_n}]},U);de=me;const Zt=Ne[Ne.length-1].groupId;for(;Zt!==null&&de<J&&(Ue=c[de])!=null&&Ue.groupPath&&((L=c[de])==null||(q=L.groupPath)==null?void 0:q[ne])===Zt;){var Ue,L,q,Q;const Ke=c[de];Ne[Ne.length-1].width+=(Q=Ke.computedWidth)!=null?Q:0,Ne[Ne.length-1].fields.push(Ke.field),de+=1}ae.push({leftOverflow:ee,elements:[...Ne]})}return ae.forEach((ne,U)=>{ce.push(s.jsx(Uu,{style:{height:`${p}px`,transform:`translateX(-${ne.leftOverflow}px)`},role:"row","aria-rowindex":U+1,ownerState:y,children:ne.elements.map(({groupId:ee,width:de,fields:Pe,colIndex:Te},Ne)=>s.jsx(qE,{groupId:ee,width:de,fields:Pe,colIndex:Te,depth:U,isLastColumn:Te===c.length-Pe.length,extendRowFullWidth:!y.disableExtendRowFullWidth,maxDepth:ae.length,height:p},Ne))},U))}),ce},Z={minHeight:b,maxHeight:b,lineHeight:`${p}px`};return{renderContext:D,getColumnHeaders:N,getColumnGroupHeaders:K,isDragging:!!r,getRootProps:(se={})=>S({style:Z},se),getInnerProps:()=>({ref:E,role:"rowgroup"})}},XE=["className"],YE=e=>{const{classes:t}=e;return $e({root:["columnHeaders"]},Le,t)},ZE=He("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>({position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:`1px solid ${e.palette.mode==="light"?Sl(en(e.palette.divider,1),.88):jl(en(e.palette.divider,1),.68)}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius})),JE=f.forwardRef(function(t,n){const{className:r}=t,o=ve(t,XE),i=be(),l=YE(i);return s.jsx(ZE,S({ref:n,className:Ge(r,l.root),ownerState:i},o))}),e2=["isDragging","className"],t2=e=>{const{isDragging:t,hasScrollX:n,classes:r}=e;return $e({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},Le,r)},n2=He("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${W.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${W.columnHeaderDropZone} .${W.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${W["columnHeadersInner--scrollable"]} .${W.columnHeader}:last-child`]:{borderRight:"none"}})),r2=f.forwardRef(function(t,n){var r,o;const{isDragging:i,className:l}=t,a=ve(t,e2),c=Fe(),u=be(),d=S({},u,{isDragging:i,hasScrollX:(r=(o=c.current.getRootDimensions())==null?void 0:o.hasScrollX)!=null?r:!1}),h=t2(d);return s.jsx(n2,S({ref:n,className:Ge(l,h.root),ownerState:d},a))}),s2=["innerRef","className"],o2=f.forwardRef(function(t,n){const{innerRef:r}=t,o=ve(t,s2),{isDragging:i,getRootProps:l,getInnerProps:a,getColumnHeaders:c,getColumnGroupHeaders:u}=QE({innerRef:r});return s.jsxs(JE,S({ref:n},l(o),{children:[s.jsx(Ou,{scrollDirection:"left"}),s.jsxs(r2,S({isDragging:i},a(),{children:[u(),c()]})),s.jsx(Ou,{scrollDirection:"right"})]}))}),Pm=f.forwardRef(function(t,n){const r=EE(t),o=SE(r);return s.jsx(DP,{apiRef:o,props:r,children:s.jsx(jS,{className:r.className,style:r.style,sx:r.sx,ref:n,children:s.jsxs(lw,{children:[s.jsx(cw,{}),s.jsx(ow,{ColumnHeadersComponent:o2,VirtualScrollerComponent:GE}),s.jsx(aw,{})]})})})}),Ys=f.memo(Pm);Pm.propTypes={"aria-label":X.string,"aria-labelledby":X.string,autoHeight:X.bool,autoPageSize:X.bool,cellModesModel:X.object,checkboxSelection:X.bool,classes:X.object,columnBuffer:X.number,columnGroupingModel:X.arrayOf(X.object),columns:bi(X.array.isRequired),columnThreshold:X.number,columnTypes:X.object,columnVisibilityModel:X.object,components:X.object,componentsProps:X.object,density:X.oneOf(["comfortable","compact","standard"]),disableColumnFilter:X.bool,disableColumnMenu:X.bool,disableColumnSelector:X.bool,disableDensitySelector:X.bool,disableExtendRowFullWidth:X.bool,disableIgnoreModificationsIfProcessingProps:X.bool,disableSelectionOnClick:X.bool,disableVirtualization:X.bool,editMode:X.oneOf(["cell","row"]),editRowsModel:X.object,error:X.any,experimentalFeatures:X.shape({columnGrouping:X.bool,newEditingApi:X.bool,preventCommitWhileValidating:X.bool,warnIfFocusStateIsNotSynced:X.bool}),filterMode:X.oneOf(["client","server"]),filterModel:X.shape({items:X.arrayOf(X.shape({columnField:X.string.isRequired,id:X.oneOfType([X.number,X.string]),operatorValue:X.string,value:X.any})).isRequired,linkOperator:X.oneOf(["and","or"]),quickFilterLogicOperator:X.oneOf(["and","or"]),quickFilterValues:X.array}),getCellClassName:X.func,getDetailPanelContent:X.func,getEstimatedRowHeight:X.func,getRowClassName:X.func,getRowHeight:X.func,getRowId:X.func,getRowSpacing:X.func,headerHeight:X.number,hideFooter:X.bool,hideFooterPagination:X.bool,hideFooterSelectedRowCount:X.bool,initialState:X.object,isCellEditable:X.func,isRowSelectable:X.func,keepNonExistentRowsSelected:X.bool,loading:X.bool,localeText:X.object,logger:X.shape({debug:X.func.isRequired,error:X.func.isRequired,info:X.func.isRequired,warn:X.func.isRequired}),logLevel:X.oneOf(["debug","error","info","warn",!1]),nonce:X.string,onCellClick:X.func,onCellDoubleClick:X.func,onCellEditCommit:X.func,onCellEditStart:X.func,onCellEditStop:X.func,onCellFocusOut:X.func,onCellKeyDown:X.func,onCellModesModelChange:X.func,onColumnHeaderClick:X.func,onColumnHeaderDoubleClick:X.func,onColumnHeaderEnter:X.func,onColumnHeaderLeave:X.func,onColumnHeaderOut:X.func,onColumnHeaderOver:X.func,onColumnOrderChange:X.func,onColumnVisibilityChange:X.func,onColumnVisibilityModelChange:X.func,onEditCellPropsChange:X.func,onEditRowsModelChange:X.func,onError:X.func,onFilterModelChange:X.func,onMenuClose:X.func,onMenuOpen:X.func,onPageChange:X.func,onPageSizeChange:X.func,onPreferencePanelClose:X.func,onPreferencePanelOpen:X.func,onProcessRowUpdateError:X.func,onResize:X.func,onRowClick:X.func,onRowDoubleClick:X.func,onRowEditCommit:X.func,onRowEditStart:X.func,onRowEditStop:X.func,onRowModesModelChange:X.func,onSelectionModelChange:X.func,onSortModelChange:X.func,onStateChange:X.func,page:X.number,pageSize:bi(X.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:X.oneOf(["client","server"]),processRowUpdate:X.func,rowBuffer:X.number,rowCount:X.number,rowHeight:X.number,rowModesModel:X.object,rows:X.arrayOf(X.object).isRequired,rowSpacingType:X.oneOf(["border","margin"]),rowsPerPageOptions:X.arrayOf(X.number),rowThreshold:X.number,scrollbarSize:X.number,selectionModel:bi(X.oneOfType([X.number,X.string,X.array])),showCellRightBorder:X.bool,showColumnRightBorder:X.bool,sortingMode:X.oneOf(["client","server"]),sortingOrder:X.arrayOf(X.oneOf(["asc","desc"])),sortModel:X.arrayOf(X.shape({field:X.string.isRequired,sort:X.oneOf(["asc","desc"])})),sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object])};class i2{orders=[];clients=[];devices=[];nextOrderNumber=1;constructor(){this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_orders"),n=localStorage.getItem("crm_clients"),r=localStorage.getItem("crm_devices"),o=localStorage.getItem("crm_next_order_number");t&&(this.orders=JSON.parse(t).map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),completedAt:i.completedAt?new Date(i.completedAt):void 0}))),n&&(this.clients=JSON.parse(n).map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),lastVisit:i.lastVisit?new Date(i.lastVisit):void 0}))),r&&(this.devices=JSON.parse(r).map(i=>({...i,createdAt:new Date(i.createdAt)}))),o&&(this.nextOrderNumber=parseInt(o))}saveToStorage(){localStorage.setItem("crm_orders",JSON.stringify(this.orders)),localStorage.setItem("crm_clients",JSON.stringify(this.clients)),localStorage.setItem("crm_devices",JSON.stringify(this.devices)),localStorage.setItem("crm_next_order_number",this.nextOrderNumber.toString())}async createOrder(t){const n=`#${String(this.nextOrderNumber).padStart(6,"0")}`;this.nextOrderNumber++;const r=this.clients.find(l=>l.id===t.clientId),o=this.devices.find(l=>l.id===t.deviceId),i={id:Date.now().toString(),orderNumber:n,clientId:t.clientId||"",deviceId:t.deviceId||"",technicianId:t.technicianId||"",status:t.status||"diagnosis",priority:t.priority||"medium",description:t.description||"",diagnosis:t.diagnosis||"",estimatedCost:t.estimatedCost||0,finalCost:t.finalCost||0,estimatedDays:t.estimatedDays||3,actualDays:t.actualDays||0,parts:t.parts||[],payments:t.payments||[],isPaid:t.isPaid||!1,createdAt:new Date,updatedAt:new Date,completedAt:t.completedAt,clientName:r?`${r.firstName} ${r.lastName}`:"",clientPhone:r?.phone||"",deviceBrand:o?.brand||"",deviceModel:o?.model||"",deviceSerial:o?.serialNumber||"",deviceImei:o?.imei||"",deviceColor:o?.color||"",deviceCondition:o?.condition||"good",deviceExternalCondition:o?.externalCondition||""};return this.orders.push(i),this.saveToStorage(),i}async updateOrder(t,n){const r=this.orders.findIndex(i=>i.id===t);if(r===-1)throw new Error("Заказ не найден");const o=this.orders[r];if(this.orders[r]={...o,...n,updatedAt:new Date},n.clientName||n.clientPhone){const i=this.clients.findIndex(l=>l.id===o.clientId);if(i!==-1){const l=(n.clientName||o.clientName||"").split(" ");this.clients[i]={...this.clients[i],firstName:l[0]||"",lastName:l.slice(1).join(" ")||"",phone:n.clientPhone||o.clientPhone||this.clients[i].phone,updatedAt:new Date}}}if(n.deviceBrand||n.deviceModel||n.deviceSerial||n.deviceImei||n.deviceColor||n.deviceCondition||n.deviceExternalCondition){const i=this.devices.findIndex(l=>l.id===o.deviceId);i!==-1&&(this.devices[i]={...this.devices[i],brand:n.deviceBrand||o.deviceBrand||this.devices[i].brand,model:n.deviceModel||o.deviceModel||this.devices[i].model,serialNumber:n.deviceSerial||o.deviceSerial||this.devices[i].serialNumber,imei:n.deviceImei||o.deviceImei||this.devices[i].imei,color:n.deviceColor||o.deviceColor||this.devices[i].color,condition:n.deviceCondition||o.deviceCondition||this.devices[i].condition,externalCondition:n.deviceExternalCondition||o.deviceExternalCondition||this.devices[i].externalCondition})}return this.saveToStorage(),this.orders[r]}async deleteOrder(t){const n=this.orders.findIndex(r=>r.id===t);if(n===-1)throw new Error("Заказ не найден");this.orders.splice(n,1),this.saveToStorage()}async getOrders(){return[...this.orders]}async getOrderById(t){return this.orders.find(n=>n.id===t)||null}async getOrdersByStatus(t){return this.orders.filter(n=>n.status===t)}async createClient(t){const n={id:Date.now().toString(),firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",email:t.email||"",address:t.address||"",notes:t.notes||"",totalOrders:0,totalSpent:0,lastVisit:new Date,createdAt:new Date,updatedAt:new Date};return this.clients.push(n),this.saveToStorage(),n}async findClientByPhone(t){return this.clients.find(n=>n.phone===t)||null}async updateClient(t,n){const r=this.clients.findIndex(o=>o.id===t);if(r===-1)throw new Error("Клиент не найден");return this.clients[r]={...this.clients[r],...n,updatedAt:new Date},this.saveToStorage(),this.clients[r]}async createDevice(t){const n={id:Date.now().toString(),type:t.type||"other",brand:t.brand||"",model:t.model||"",serialNumber:t.serialNumber||"",imei:t.imei||"",color:t.color||"",condition:t.condition||"good",clientId:t.clientId||"",createdAt:new Date};return this.devices.push(n),this.saveToStorage(),n}async getOrderStats(){const t=this.orders.length,n=this.orders.filter(l=>l.status==="completed").length,r=this.orders.filter(l=>l.status==="pending").length,o=this.orders.filter(l=>l.status==="in_progress").length,i=this.orders.filter(l=>l.status==="waiting_parts").length;return{totalOrders:t,completedOrders:n,pendingOrders:r,inProgressOrders:o,waitingPartsOrders:i}}async getOverdueOrders(){const t=new Date;return this.orders.filter(n=>{if(n.status==="completed"||n.status==="cancelled")return!1;const r=new Date(n.createdAt);return r.setHours(r.getHours()+(n.estimatedDays||1)*24),r<t})}async updateOrderStatus(t,n){return this.updateOrder(t,{status:n})}async addPayment(t,n){const r=await this.getOrderById(t);if(!r)throw new Error("Заказ не найден");const o={id:Date.now().toString(),orderId:t,amount:n.amount,method:n.method,status:"completed",processedBy:n.processedBy,processedAt:new Date,notes:n.notes||""};return r.payments.push(o),r.finalCost=r.payments.reduce((i,l)=>i+l.amount,0),r.finalCost>=r.estimatedCost&&(r.isPaid=!0),this.updateOrder(t,r)}}const $n=new i2;class l2{acceptanceActs=[];workCompletionActs=[];documentStorage=[];constructor(){this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_acceptance_acts"),n=localStorage.getItem("crm_work_completion_acts"),r=localStorage.getItem("crm_document_storage");t&&(this.acceptanceActs=JSON.parse(t).map(o=>({...o,acceptanceDate:new Date(o.acceptanceDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),n&&(this.workCompletionActs=JSON.parse(n).map(o=>({...o,completionDate:new Date(o.completionDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),r&&(this.documentStorage=JSON.parse(r).map(o=>({...o,createdAt:new Date(o.createdAt)})))}saveToStorage(){localStorage.setItem("crm_acceptance_acts",JSON.stringify(this.acceptanceActs)),localStorage.setItem("crm_work_completion_acts",JSON.stringify(this.workCompletionActs)),localStorage.setItem("crm_document_storage",JSON.stringify(this.documentStorage))}async createAcceptanceAct(t,n,r,o,i,l,a="Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику."){const c=`АП-${Date.now()}`,u={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,problemDescription:o,preliminaryCost:i,acceptanceDate:new Date,acceptedBy:l,conditions:a,documentNumber:c,createdAt:new Date,updatedAt:new Date};return this.acceptanceActs.push(u),this.saveToStorage(),u}async createWorkCompletionAct(t,n,r,o,i,l,a,c){const u=`АВР-${Date.now()}`,d={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,worksPerformed:o,partsUsed:i,totalCost:l,warrantyPeriod:a,completionDate:new Date,completedBy:c,documentNumber:u,createdAt:new Date,updatedAt:new Date};return this.workCompletionActs.push(d),this.saveToStorage(),d}async addSignature(t,n,r,o,i,l,a){const c={id:Date.now().toString(),signerName:o,signerRole:i,signatureData:r,signedAt:new Date,ipAddress:l,userAgent:a};if(n==="acceptance"){const u=this.acceptanceActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}else{const u=this.workCompletionActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}this.saveToStorage()}async getAcceptanceActByOrderId(t){return this.acceptanceActs.find(n=>n.orderId===t)||null}async getWorkCompletionActByOrderId(t){return this.workCompletionActs.find(n=>n.orderId===t)||null}async getAcceptanceActs(){return this.acceptanceActs}async getWorkCompletionActs(){return this.workCompletionActs}async markDocumentAsPrinted(t,n){if(n==="acceptance"){const r=this.acceptanceActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}else{const r=this.workCompletionActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}this.saveToStorage()}async saveDocumentToStorage(t,n,r,o,i,l){const a={id:Date.now().toString(),orderId:t,documentType:n,documentId:r,filePath:o,fileSize:i,mimeType:l,createdAt:new Date};this.documentStorage.push(a),this.saveToStorage()}async getDocumentsByOrderId(t){return this.documentStorage.filter(n=>n.orderId===t)}}const Bi=new l2,a2=({open:e,onClose:t,onSave:n,signerName:r,signerRole:o})=>{const i=f.useRef(null),[l,a]=f.useState(!1),[c,u]=f.useState(!1);f.useEffect(()=>{e&&(u(!1),d())},[e]);const d=()=>{const v=i.current;if(v){const C=v.getContext("2d");C&&(C.clearRect(0,0,v.width,v.height),C.fillStyle="#ffffff",C.fillRect(0,0,v.width,v.height),u(!1))}},h=v=>{a(!0);const C=i.current;if(C){const x=C.getBoundingClientRect(),y=C.getContext("2d");y&&(y.beginPath(),y.moveTo(v.clientX-x.left,v.clientY-x.top))}},m=v=>{if(!l)return;const C=i.current;if(C){const x=C.getBoundingClientRect(),y=C.getContext("2d");y&&(y.lineTo(v.clientX-x.left,v.clientY-x.top),y.stroke(),u(!0))}},p=()=>{a(!1)},w=()=>{const v=i.current;if(v&&c){const C=v.toDataURL("image/png");n(C),t()}},b=v=>{switch(v){case"client":return"Клиент";case"master":return"Мастер";case"manager":return"Менеджер";default:return"Подписант"}};return s.jsxs(vt,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"h6",children:"Электронная подпись"}),s.jsx(Be,{onClick:t,size:"small",children:s.jsx(Pl,{})})]})}),s.jsxs(Ct,{children:[s.jsx(B,{sx:{mb:2},children:s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Подписант: ",r," (",b(o),")"]})}),s.jsxs(Xt,{elevation:2,sx:{border:"2px dashed #ccc",borderRadius:2,overflow:"hidden",position:"relative"},children:[s.jsx("canvas",{ref:i,width:600,height:200,style:{display:"block",cursor:"crosshair",backgroundColor:"#ffffff"},onMouseDown:h,onMouseMove:m,onMouseUp:p,onMouseLeave:p}),!c&&s.jsx(B,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#999",pointerEvents:"none"},children:s.jsx(j,{variant:"body2",children:"Распишитесь здесь"})})]}),s.jsx(B,{sx:{mt:2,display:"flex",gap:1},children:s.jsx(ge,{variant:"outlined",startIcon:s.jsx(xg,{}),onClick:d,disabled:!c,children:"Очистить"})})]}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:t,children:"Отмена"}),s.jsx(ge,{variant:"contained",startIcon:s.jsx(ld,{}),onClick:w,disabled:!c,children:"Сохранить подпись"})]})]})},c2=({open:e,onClose:t,document:n,documentType:r,onSign:o})=>{const[i,l]=f.useState(!1),[a,c]=f.useState("client"),[u,d]=f.useState(!1);if(!n)return null;const h=b=>{o&&o(b,a),l(!1)},m=()=>{d(!0);try{window.print()}catch(b){console.error("Ошибка при печати:",b),ke.error("Ошибка при печати")}finally{d(!1)}},p=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(j,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ПРИЕМА-ПЕРЕДАЧИ УСТРОЙСТВА В РЕМОНТ"}),s.jsxs(j,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(j,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.acceptanceDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px"},children:"Ежедневно С 10:00 - 19:00"})]})}),s.jsx(ps,{component:Xt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(vs,{children:s.jsxs(Kt,{children:[s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заметки:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Устройство у клиента"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]})]}),s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Внешний вид устройства:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.externalCondition||"Потертости, Царапины"})]})]}),s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочная стоимость:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.preliminaryCost,"+",Math.round(b.preliminaryCost*.1)]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.preliminaryCost*.3)})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочный срок ремонта:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:new Date(Date.now()+4320*60*1e3).toLocaleDateString("ru-RU")})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.problemDescription})]})]})]})})]})}),s.jsxs(B,{sx:{mb:3},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:2,fontWeight:"bold"},children:"Условия:"}),s.jsxs(B,{sx:{fontSize:"10px",lineHeight:1.3},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"1. Подписанием настоящего акта приема-передачи устройства клиент подтверждает, что ознакомлен и согласен с правилами и условиями проведения ремонтных работ, изложенными в публичной оферте сервисного центра, являющейся неотъемлемой частью настоящего договора."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"2. Установленные узлы или расходные материалы возврату не подлежат, согласно Перечню сложнотехнических товаров, не подлежащих обмену или возврату."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"3. Клиент согласен с тем, что гарантия производителя аннулируется после ремонта."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"4. Исполнитель не несет ответственности за возможную потерю информации на внутренних накопителях устройства, связанную с заменой узлов и компонентов."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"5. Исполнитель не несет ответственности за целостность гарантийных пломб сторонних сервисных центров и производителя устройства."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"6. Клиент принимает на себя риск, связанный с возможным проявлением при ремонте скрытых дефектов, присутствующих в устройстве на момент приема от клиента, которые не могут быть проверены и зафиксированы в настоящем документе (наличие следов коррозии, попадание влаги, инородные предметы, следы механических повреждений и другие непредусмотренные производителем вмешательства в устройство и его компоненты)."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:'7. Ремонт и обслуживание проводятся в соответствии с требованиями нормативных документов, включая ГОСТ 12.2006-87 п.п. 9.1, ГОСТ Р 50377-92 п.п. 2.1.4, ГОСТ Р 50936-96, ГОСТ Р 50938-96 и согласно Федеральному закону "О защите прав потребителей".'}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"8. Устройство клиента принимается без разборки и выявления внутренних неисправностей."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"9. Клиент согласен с тем, что при ремонте устройства могут быть заменены компоненты, узлы, модули, влияющие на идентификацию IMEI номера устройства."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"10. Факт возврата устройства из ремонта фиксируется в форме БО-17, которую Исполнитель заполняет в двух экземплярах при возврате владельцу устройства."})]})]}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"С условиями ознакомлен и согласен, устройство в указанном состоянии и работоспособности передал:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"Устройство в указанном состоянии и работоспособности принял:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]}),w=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(j,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ВЫПОЛНЕННЫХ РАБОТ"}),s.jsxs(j,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(j,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.completionDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px"},children:"Пн - Сб с 10:00 - 19:00, Вс с 12:00 - 19:00"})]})}),s.jsx(ps,{component:Xt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(vs,{children:s.jsxs(Kt,{children:[s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]})]}),s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:["Внешний вид устройства: ",b.device.externalCondition||"Потертости, Царапины"]})]})]}),s.jsxs(Ie,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.totalCost*.3)})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.worksPerformed.map(v=>v.name).join(", ")})]})]})]})})]})}),s.jsx(B,{sx:{mb:3},children:s.jsx(j,{variant:"body2",sx:{fontSize:"10px",lineHeight:1.3},children:"Клиент согласен с тем что ипользование устройства без защитного аксессуара лишает гарантии на экран (дисплейный модуль, стекло) поскольку любое физическое воздействие кроме изложенных в инструкции по эксплуатации может служить причиной выхода из строя модуля за которые исполнитель не несет ответственность."})}),s.jsx(ps,{component:Xt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"5%"},children:"№"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"40%"},children:"Наименование работы"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Гарантия, дн."}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Цена, Р"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Скидка, Р"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Количество"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Сумма, Р"})]})}),s.jsxs(vs,{children:[b.worksPerformed.map((v,C)=>s.jsxs(Kt,{children:[s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C+1}),s.jsx(Ie,{sx:{border:"1px solid #000",fontSize:"11px"},children:v.name}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.cost}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.quantity}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.totalCost})]},v.id)),b.partsUsed.map((v,C)=>s.jsxs(Kt,{children:[s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.worksPerformed.length+C+1}),s.jsx(Ie,{sx:{border:"1px solid #000",fontSize:"11px"},children:v.name}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.unitPrice}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.quantity}),s.jsx(Ie,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:v.totalPrice})]},v.id)),s.jsxs(Kt,{children:[s.jsx(Ie,{colSpan:6,sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"right",fontSize:"11px"},children:"Сумма, Р"}),s.jsx(Ie,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px"},children:b.totalCost})]})]})]})}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Подтверждаю, что исполнитель выполнил указанные работы, функционал согласно приложению 1 проверен. Претензий к внешнему виду и качеству работы не имею. Ознакомлен(а) с условиями гарантии, устройство принял(а) без замечаний."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Выполнил указанные в акте работы, передал устройство клиенту, подтверждая гарантию на выполненные работы в соответствии с условиями гарантии."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsxs(vt,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{sx:{"@media print":{display:"none"}},children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"h6",children:r==="acceptance"?"Акт приема-передачи":"Акт выполненных работ"}),s.jsxs(B,{children:[s.jsx(Be,{onClick:m,disabled:u,sx:{mr:1},children:s.jsx(Eo,{})}),s.jsx(Be,{onClick:t,sx:{ml:1},children:s.jsx(Pl,{})})]})]})}),s.jsx(Ct,{sx:{p:0},children:r==="acceptance"?p(n):w(n)}),s.jsx(wt,{sx:{"@media print":{display:"none"}},children:s.jsx(ge,{onClick:t,children:"Закрыть"})})]}),s.jsx(a2,{open:i,onClose:()=>l(!1),onSave:h,signerName:a==="client"?n.client.firstName+" "+n.client.lastName:"Мастер",signerRole:a})]})},u2=la({orderType:Tt().required("Выберите тип заказа"),clientType:Tt().required("Выберите тип клиента"),clientName:Tt().required("ФИО клиента обязательно"),phone:Tt().required("Телефон обязателен"),manager:Tt().required("Менеджер обязателен"),deadline:Tt().required("Срок обязателен"),color:Tt().required("Цвет обязателен"),serialNumber:Tt().required("Серийный номер обязателен"),imei:Tt().required("IMEI обязателен"),reasonForContact:Tt().required("Причина обращения обязательна"),password:Tt().required("Пароль обязателен"),completeness:Tt().required("Комплектация обязательна")}),d2=({open:e,onClose:t,onSubmit:n})=>{const{control:r,handleSubmit:o,formState:{errors:i},reset:l}=ff({resolver:gf(u2),defaultValues:{orderType:"paid",clientType:"individual",manager:"Артем",deadline:"09.10.2025 14:00"}}),a=u=>{n(u),l(),t(),ke.success("Заказ успешно создан")},c=()=>{l(),t()};return s.jsxs(vt,{open:e,onClose:c,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(j,{variant:"h6",children:"Заказ"}),s.jsx(rt,{name:"orderType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",children:s.jsxs(_a,{...u,row:!0,children:[s.jsx(hs,{value:"paid",control:s.jsx(Zs,{size:"small"}),label:"Платный"}),s.jsx(hs,{value:"warranty",control:s.jsx(Zs,{size:"small"}),label:"Гарантийный"})]})})})]}),s.jsxs(B,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Be,{size:"small",children:s.jsx(bg,{})}),s.jsx(Be,{size:"small",children:s.jsx(vg,{})}),s.jsx(Be,{onClick:c,size:"small",children:s.jsx(Pl,{})})]})]})}),s.jsx(Ct,{dividers:!0,children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsxs(A,{item:!0,xs:6,children:[s.jsxs(Xt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Клиент"}),s.jsx(rt,{name:"clientType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",sx:{mb:2},children:s.jsxs(_a,{...u,row:!0,children:[s.jsx(hs,{value:"individual",control:s.jsx(Zs,{size:"small"}),label:"Физ. лицо"}),s.jsx(hs,{value:"company",control:s.jsx(Zs,{size:"small"}),label:"Компания *"})]})})}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"clientName",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Клиент *",fullWidth:!0,size:"small",error:!!i.clientName,helperText:i.clientName?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"phone",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Телефон",fullWidth:!0,size:"small",error:!!i.phone,helperText:i.phone?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"email",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Почта",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"howDidYouKnow",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Откуда узнал",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"clientComment",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Комментарий о клиенте",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"discount",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Сделать скидку",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"birthday",control:r,render:({field:u})=>s.jsx(re,{...u,label:"День рождения",fullWidth:!0,size:"small",type:"date",InputLabelProps:{shrink:!0}})})})]})]}),s.jsxs(Xt,{elevation:1,sx:{p:2},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Дополнительно"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"prepayment",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Предоплата, Р",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"performer",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Исполнитель",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"manager",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Менеджер *",fullWidth:!0,size:"small",error:!!i.manager,helperText:i.manager?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"deadline",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Срок *",fullWidth:!0,size:"small",error:!!i.deadline,helperText:i.deadline?.message})})})]})]})]}),s.jsxs(A,{item:!0,xs:6,children:[s.jsxs(Xt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"advance",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Аванс",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"color",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Цвет *",fullWidth:!0,size:"small",error:!!i.color,helperText:i.color?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"serialNumber",control:r,render:({field:u})=>s.jsx(re,{...u,label:"S/N *",fullWidth:!0,size:"small",error:!!i.serialNumber,helperText:i.serialNumber?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"imei",control:r,render:({field:u})=>s.jsx(re,{...u,label:"IMEI *",fullWidth:!0,size:"small",error:!!i.imei,helperText:i.imei?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"reasonForContact",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Причина обращения *",fullWidth:!0,size:"small",multiline:!0,rows:2,error:!!i.reasonForContact,helperText:i.reasonForContact?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"model",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Модель",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"appearance",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Внешний вид",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"password",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Пароль *",fullWidth:!0,size:"small",error:!!i.password,helperText:i.password?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"completeness",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Комплектация *",fullWidth:!0,size:"small",error:!!i.completeness,helperText:i.completeness?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"receptionistNotes",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Заметки приемщика",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"estimatedPrice",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Ориент. цена",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"recommendations",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Рекомендации",fullWidth:!0,size:"small"})})})]})]}),s.jsxs(Xt,{elevation:1,sx:{p:2},children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[s.jsx(j,{variant:"h6",children:"Товары и услуги"}),s.jsx(ge,{variant:"outlined",size:"small",children:"Добавить"})]}),s.jsx(j,{variant:"body2",color:"textSecondary",children:"Здесь будут отображаться добавленные товары и услуги"})]})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:c,children:"Отмена"}),s.jsx(ge,{onClick:o(a),variant:"contained",children:"Создать заказ"})]})]})},h2=[],f2=["Apple","Samsung","Xiaomi","Huawei","OnePlus","Google","Sony","LG","Motorola","Nokia","Realme","Oppo","Vivo","Honor","Asus","Lenovo","HP","Dell","Acer","MSI","Razer","Alienware"],m2={Apple:["iPhone 15 Pro Max","iPhone 15 Pro","iPhone 15","iPhone 14 Pro Max","iPhone 14 Pro","iPhone 14","iPhone 13 Pro Max","iPhone 13 Pro","iPhone 13","iPhone 12 Pro Max","iPhone 12 Pro","iPhone 12","iPhone 11 Pro Max","iPhone 11 Pro","iPhone 11","iPhone SE","iPad Pro","iPad Air","iPad","iPad mini","MacBook Pro","MacBook Air","iMac","Mac Studio","Mac Pro"],Samsung:["Galaxy S24 Ultra","Galaxy S24+","Galaxy S24","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy Note 20","Galaxy A54","Galaxy A34","Galaxy A24","Galaxy Z Fold 5","Galaxy Z Flip 5","Galaxy Tab S9","Galaxy Tab A8","Galaxy Watch 6"],Xiaomi:["Mi 14 Pro","Mi 14","Mi 13 Pro","Mi 13","Redmi Note 13 Pro","Redmi Note 13","Redmi 12","POCO X6 Pro","POCO F5","Mi Pad 6","Mi Watch"],Huawei:["P60 Pro","P60","Mate 60 Pro","Mate 60","nova 11","nova 10","MatePad Pro","Watch GT 4"],OnePlus:["12 Pro","12","11 Pro","11","Nord 3","Nord CE 3","Pad Go"],Google:["Pixel 8 Pro","Pixel 8","Pixel 7 Pro","Pixel 7","Pixel 6 Pro","Pixel 6","Pixel Tablet","Pixel Watch"],Sony:["Xperia 1 V","Xperia 5 V","Xperia 10 V","WH-1000XM5","WF-1000XM5"],LG:["G8 ThinQ","V60 ThinQ","Wing","Gram","UltraGear"],Motorola:["Edge 40 Pro","Edge 40","Moto G73","Moto G53","Razr 40"],Nokia:["X30 5G","G60 5G","C31","T20","XR21"],Realme:["GT 5","GT Neo 6","11 Pro+","11 Pro","C55"],Oppo:["Find X6 Pro","Find X6","Reno 10 Pro","Reno 10","A78"],Vivo:["X90 Pro","X90","V29","V27","Y36"],Honor:["Magic 5 Pro","Magic 5","90 Pro","90","X50"],Asus:["ROG Phone 7","ZenFone 10","VivoBook","ROG Strix","TUF Gaming"],Lenovo:["Legion Y90","ThinkPad","IdeaPad","Yoga","Tab P11"],HP:["Pavilion","Envy","Spectre","EliteBook","ProBook"],Dell:["XPS 13","XPS 15","Inspiron","Latitude","Precision"],Acer:["Aspire","Swift","Nitro","Predator","ConceptD"],MSI:["Stealth","Raider","Katana","Sword","Creator"],Razer:["Blade 15","Blade 17","Blade Stealth","Book 13"],Alienware:["m15","m17","x15","x17","Aurora"]},g2=["Треснутый экран","Не включается","Не заряжается","Быстро разряжается","Не работает камера","Не работает звук","Не работает микрофон","Не работает динамик","Не работает Wi-Fi","Не работает Bluetooth","Не работает сенсорный экран","Не работает кнопка питания","Не работает кнопка громкости","Не работает кнопка Home","Не работает Face ID","Не работает Touch ID","Не работает сканер отпечатков","Перегревается","Зависает","Перезагружается","Не видит SIM-карту","Не работает GPS","Не работает датчик приближения","Не работает акселерометр","Не работает гироскоп","Проблемы с сетью","Проблемы с антенной","Проблемы с разъемом зарядки","Проблемы с разъемом наушников","Проблемы с динамиком","Проблемы с вибрацией","Проблемы с подсветкой","Проблемы с дисплеем","Проблемы с батареей","Проблемы с материнской платой","Проблемы с процессором","Проблемы с памятью","Проблемы с накопителем","Проблемы с видеокартой","Проблемы с клавиатурой","Проблемы с тачпадом","Проблемы с веб-камерой","Проблемы с портами","Проблемы с охлаждением","Проблемы с BIOS","Проблемы с операционной системой","Проблемы с программным обеспечением","Другое"],p2=["Замена экрана","Замена батареи","Замена кнопки питания","Замена кнопки громкости","Замена динамика","Замена микрофона","Замена камеры","Замена разъема зарядки","Замена разъема наушников","Замена корпуса","Замена материнской платы","Замена процессора","Замена оперативной памяти","Замена накопителя","Замена клавиатуры","Замена тачпада","Замена веб-камеры","Замена системы охлаждения","Замена вентилятора","Замена термопасты","Ремонт кнопки питания","Ремонт кнопки громкости","Ремонт динамика","Ремонт микрофона","Ремонт камеры","Ремонт разъема зарядки","Ремонт разъема наушников","Ремонт корпуса","Ремонт материнской платы","Ремонт системы охлаждения","Диагностика устройства","Диагностика батареи","Диагностика экрана","Диагностика камеры","Диагностика звука","Диагностика сети","Диагностика Bluetooth","Диагностика Wi-Fi","Диагностика GPS","Диагностика сенсоров","Диагностика системы","Прошивка устройства","Восстановление системы","Установка операционной системы","Настройка устройства","Калибровка экрана","Калибровка батареи","Калибровка сенсоров","Очистка от пыли","Очистка системы охлаждения","Очистка разъемов","Обновление программного обеспечения","Восстановление данных","Резервное копирование","Настройка безопасности","Настройка сети","Настройка Bluetooth","Настройка Wi-Fi","Настройка GPS","Настройка уведомлений","Настройка приложений","Оптимизация производительности","Удаление вирусов","Восстановление после вирусов","Ремонт после попадания воды","Ремонт после падения","Ремонт после перегрева","Ремонт после скачка напряжения","Ремонт после механических повреждений","Замена защитного стекла","Установка защитного стекла","Замена пленки","Установка пленки","Чистка устройства","Полировка корпуса","Восстановление внешнего вида","Другое"],x2=Object.values(m2).flat(),ao=[{value:"diagnosis",label:"Диагностика",color:"info"},{value:"waiting_parts",label:"Ожидание запчастей",color:"warning"},{value:"waiting_client",label:"Ожидание клиента",color:"warning"},{value:"in_progress",label:"В работе",color:"primary"},{value:"completed",label:"Завершен",color:"success"},{value:"cancelled",label:"Отменен",color:"error"},{value:"pending",label:"Ожидает",color:"default"}],co=[{value:"low",label:"Низкий",color:"success"},{value:"medium",label:"Средний",color:"warning"},{value:"high",label:"Высокий",color:"error"},{value:"urgent",label:"Срочный",color:"error"}],b2=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[o,i]=f.useState(!1),[l,a]=f.useState(!1),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[w,b]=f.useState(!1),[v,C]=f.useState(!1),[x,y]=f.useState(null),[g,E]=f.useState(null),[D,P]=f.useState("acceptance"),[k,F]=f.useState(!1),[_,O]=f.useState(!1),[z,$]=f.useState(0),[M,I]=f.useState(""),[V,H]=f.useState("all"),[R,N]=f.useState("all"),[G,K]=f.useState(0),[Z,se]=f.useState("work"),[te,fe]=f.useState(""),[oe,me]=f.useState(0),[J,ce]=f.useState(1),[ae,we]=f.useState(""),[pe,_e]=f.useState(null),[Xe,ie]=f.useState({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),[Ce,je]=f.useState("cash"),[Ve,Ue]=f.useState(0),[L,q]=f.useState(!1),[Q,ne]=f.useState(!1),[U,ee]=f.useState({clientName:"",clientPhone:"",clientEmail:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1}),[de,Pe]=f.useState([]),[Te,Ne]=f.useState(h2),[Zt]=f.useState("employee"),Ke=()=>{O(!0),$(0),ee({clientName:"",clientPhone:"",clientEmail:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"Сколы, трещины, возможны скрытые дефекты",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1})},it=()=>{z<3&&$(z+1)},_n=()=>{z>0&&$(z-1)},Qe=(T,Y)=>{ee(De=>({...De,[T]:Y}))},Ft=async()=>{try{const T=await $n.createClient({firstName:U.clientName.split(" ")[0]||"",lastName:U.clientName.split(" ").slice(1).join(" ")||"",phone:U.clientPhone,email:U.clientEmail,totalOrders:0,totalSpent:0,createdAt:new Date,updatedAt:new Date}),Y=await $n.createDevice({type:U.deviceType,brand:U.deviceBrand,model:U.deviceModel,serialNumber:U.deviceSerial,imei:U.deviceImei,color:U.deviceColor,condition:U.deviceCondition,externalCondition:U.deviceExternalCondition,clientId:T.id,createdAt:new Date}),De=await $n.createOrder({clientId:T.id,deviceId:Y.id,technicianId:"1",status:"diagnosis",priority:U.priority,description:U.staffComments,diagnosis:U.diagnosis,estimatedCost:U.estimatedCost,estimatedDays:U.estimatedDays,parts:[],payments:[],createdAt:new Date,updatedAt:new Date,isPaid:!1,clientName:U.clientName,clientPhone:U.clientPhone,deviceBrand:U.deviceBrand,deviceModel:U.deviceModel,deviceSerial:U.deviceSerial,deviceImei:U.deviceImei,deviceColor:U.deviceColor,deviceCondition:U.deviceCondition,deviceExternalCondition:U.deviceExternalCondition});Ne(Ye=>[...Ye,De]),O(!1),$(0),ke.success("Заказ успешно создан!")}catch(T){console.error("Ошибка при создании заказа:",T),ke.error("Ошибка при создании заказа")}},sr=async T=>{try{const Y={id:Date.now().toString(),firstName:T.clientName.split(" ")[0]||"",lastName:T.clientName.split(" ").slice(1).join(" ")||"",phone:T.phone,email:T.email||"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date,updatedAt:new Date},De={id:Date.now().toString(),type:"phone",brand:"Apple",model:T.model||"iPhone",serialNumber:T.serialNumber,imei:T.imei,color:T.color,condition:"fair",externalCondition:T.appearance||"Не указано",clientId:Y.id,createdAt:new Date},Ye={id:Date.now().toString(),orderNumber:`#${String(Date.now()).slice(-6)}`,clientId:Y.id,deviceId:De.id,technicianId:"1",status:"diagnosis",priority:"medium",description:T.reasonForContact,diagnosis:"Требуется диагностика",estimatedCost:T.estimatedPrice||0,finalCost:void 0,estimatedDays:1,actualDays:void 0,estimatedTime:"1 день",parts:[],payments:[],createdAt:new Date,updatedAt:new Date,completedAt:void 0,isPaid:!1,clientName:T.clientName,clientPhone:T.phone,deviceBrand:De.brand,deviceModel:De.model,deviceSerial:T.serialNumber,deviceImei:T.imei,deviceColor:T.color,deviceCondition:De.condition,deviceExternalCondition:T.appearance||"Не указано"};Ne(Pt=>[Ye,...Pt]),await $m(Ye,Y,De,T),setTimeout(()=>{ke.success("Заказ успешно создан")},1e3)}catch(Y){console.error("Ошибка при создании заказа:",Y),ke.error("Ошибка при создании заказа")}},Er=T=>{y(T),u(!0)},or=async T=>{try{await $n.deleteOrder(T),Ne(Y=>Y.filter(De=>De.id!==T)),ke.success("Заказ удален")}catch{ke.error("Ошибка при удалении заказа")}},km=T=>{window.open(`tel:${T}`,"_self")},Em=T=>{const Y=T.replace(/\D/g,"");window.open(`https://wa.me/${Y}`,"_blank")},Mm=T=>{const Y=T.replace(/\D/g,"");window.open(`https://t.me/${Y}`,"_blank")},ka=T=>{ke.success("Печать акта приема-передачи")},Ea=T=>{y(T),h(!0)},Im=async T=>{if(x)try{await $n.updateOrder(x.id,T),Ne(Y=>Y.map(De=>De.id===x.id?{...De,...T}:De)),ke.success("Заказ успешно обновлен"),h(!1)}catch(Y){console.error("Ошибка при обновлении заказа:",Y),ke.error("Ошибка при обновлении заказа")}},Ma=T=>{if(console.log("handleAddWork вызвана с заказом:",T),!T){console.error("Заказ не передан в handleAddWork"),ke.error("Заказ не найден");return}if(!T.id){console.error("У заказа нет ID:",T),ke.error("Заказ не имеет ID");return}console.log("Устанавливаем selectedOrder:",T),y(T),p(!0),fe(""),me(0),ce(1),_e(null),se("work")},Fm=()=>{b(!0)},Tm=async()=>{if(!x){ke.error("Заказ не выбран");return}if(console.log("Проверка selectedOrder:",{id:x.id,orderNumber:x.orderNumber,parts:x.parts,finalCost:x.finalCost,estimatedCost:x.estimatedCost}),!te.trim()){ke.error("Введите название работы");return}if(oe<=0){ke.error("Цена должна быть больше 0");return}if(J<=0){ke.error("Количество должно быть больше 0");return}try{console.log("Добавление работы:",{selectedOrder:x.id,workType:Z,workName:te,workPrice:oe,workQuantity:J,selectedPart:pe});const T={id:Date.now().toString(),partId:pe?pe.id:"work_"+Date.now().toString(),quantity:J,unitPrice:oe,totalPrice:oe*J,isUsed:!0,workType:pe?"work_with_part":"work_only",workName:te,partInfo:pe?{...pe,partCost:pe.price*J,workCost:oe*J}:null};if(console.log("Созданный workItem:",T),pe){const De=Ia.find(Ye=>Ye.id===pe.id);if(De&&De.stock<J){ke.error(`Недостаточно запчастей на складе. Доступно: ${De.stock} шт.`);return}De&&(De.stock-=J,ke.success(`Списано со склада: ${J} шт. ${pe.name}`))}const Y={...x,parts:[...x.parts||[],T],finalCost:(x.finalCost||x.estimatedCost)+T.totalPrice};await $n.updateOrder(x.id,Y),Ne(De=>De.map(Ye=>Ye.id===x.id?Y:Ye)),ke.success(`Работа ${pe?"с запчастью":""} добавлена к заказу`),p(!1),fe(""),me(0),ce(1),_e(null),se("work")}catch(T){console.error("Ошибка при добавлении работы:",T),console.error("Детали ошибки:",{error:T,errorMessage:T instanceof Error?T.message:"Неизвестная ошибка",errorStack:T instanceof Error?T.stack:"Нет стека",selectedOrder:x?.id,workType:Z,workName:te,workPrice:oe,workQuantity:J}),ke.error(`Ошибка при добавлении работы: ${T instanceof Error?T.message:"Неизвестная ошибка"}`)}},Ia=[{id:"1",name:"Экран iPhone 14",category:"Экраны",brand:"Apple",price:15e3,stock:5},{id:"2",name:"Батарея Samsung Galaxy S21",category:"Батареи",brand:"Samsung",price:3e3,stock:8},{id:"3",name:'Корпус MacBook Pro 13"',category:"Корпуса",brand:"Apple",price:8e3,stock:3},{id:"4",name:"Камера iPad Air",category:"Камеры",brand:"Apple",price:5e3,stock:7},{id:"5",name:"Клавиатура MacBook Air",category:"Клавиатуры",brand:"Apple",price:12e3,stock:2}],Fa=Ia.filter(T=>T.name.toLowerCase().includes(ae.toLowerCase())||T.category.toLowerCase().includes(ae.toLowerCase())||T.brand.toLowerCase().includes(ae.toLowerCase())),Am=T=>{console.log("handleDeliveryOrder вызвана с заказом:",T),y(T),Ue(T.finalCost||T.estimatedCost),C(!0),console.log("selectedOrder установлен:",T)},Dm=(T,Y)=>{ie(De=>({...De,[T]:Y}))},Om=()=>{ie({screenWorks:!0,touchWorks:!0,cameraWorks:!0,soundWorks:!0,chargingWorks:!0,wifiWorks:!0,bluetoothWorks:!0,buttonsWork:!0,fingerprintWorks:!0,faceIdWorks:!0}),ke.success("Все тесты отмечены как пройденные")},_m=async T=>{if(x)try{const Y=x.parts?.filter(Pt=>Pt.id!==T)||[],De=x.parts?.find(Pt=>Pt.id===T),Ye={...x,parts:Y,finalCost:(x.finalCost||x.estimatedCost)-(De?.totalPrice||0)};await $n.updateOrder(x.id,Ye),Ne(Pt=>Pt.map(Mr=>Mr.id===x.id?Ye:Mr)),y(Ye),ke.success("Запчасть удалена из заказа")}catch(Y){console.error("Ошибка при удалении запчасти:",Y),ke.error("Ошибка при удалении запчасти")}},Vm=async()=>{if(x)try{if(!Object.values(Xe).every(Ye=>Ye)){ke.error("Не все тесты пройдены. Проверьте чек-лист тестирования.");return}let Y=[];L&&Y.push({id:Date.now().toString()+"_protection",partId:"screen_protection",quantity:1,unitPrice:2e3,totalPrice:2e3,isUsed:!0,workType:"service",workName:"Защита экрана"}),Q&&Y.push({id:Date.now().toString()+"_cleaning",partId:"cleaning",quantity:1,unitPrice:1e3,totalPrice:1e3,isUsed:!0,workType:"service",workName:"Чистка устройства"});const De={...x,status:"completed",parts:[...x.parts||[],...Y],finalCost:(x.finalCost||x.estimatedCost)+(L?2e3:0)+(Q?1e3:0),isPaid:!0,completedAt:new Date};await $n.updateOrder(x.id,De),Ne(Ye=>Ye.map(Pt=>Pt.id===x.id?De:Pt)),await Lm(De),ke.success("Заказ успешно выдан клиенту!"),C(!1),ie({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),q(!1),ne(!1)}catch(T){console.error("Ошибка при выдаче заказа:",T),ke.error("Ошибка при выдаче заказа")}},$m=async(T,Y,De,Ye)=>{try{const Pt=Y||{id:T.clientId,firstName:T.clientName?.split(" ")[0]||"Неизвестно",lastName:T.clientName?.split(" ")[1]||"Неизвестно",phone:T.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date,updatedAt:new Date},Mr=De||{id:T.deviceId,type:"phone",brand:T.deviceBrand||"",model:T.deviceModel||"",serialNumber:T.deviceSerial,imei:T.deviceImei,color:T.deviceColor,condition:T.deviceCondition||"good",externalCondition:T.deviceExternalCondition,clientId:T.clientId,createdAt:new Date},Ze=await Bi.createAcceptanceAct(T,Pt,Mr,Ye?.reasonForContact||T.description,Ye?.estimatedPrice||T.estimatedCost,"Мастер","Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику.");E(Ze),P("acceptance"),a(!0)}catch{ke.error("Ошибка при создании акта приема-передачи")}},Lm=async T=>{try{const Y={id:T.clientId,firstName:T.clientName?.split(" ")[0]||"Неизвестно",lastName:T.clientName?.split(" ")[1]||"Неизвестно",phone:T.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date,updatedAt:new Date},De={id:T.deviceId,type:"phone",brand:T.deviceBrand||"",model:T.deviceModel||"",serialNumber:T.deviceSerial,imei:T.deviceImei,color:T.deviceColor,condition:T.deviceCondition||"good",externalCondition:T.deviceExternalCondition,clientId:T.clientId,createdAt:new Date},Ye=[],Pt=[];T.parts&&T.parts.length>0&&T.parts.forEach(Ze=>{const xi=Ze.workType,Ta=Ze.workName;if(xi==="work_with_part"||xi==="work_only"){if(Ye.push({id:Ze.id,name:Ta||"Работа",description:Ta||"Выполненная работа",cost:Ze.unitPrice,quantity:Ze.quantity,totalCost:Ze.totalPrice}),xi==="work_with_part"&&Ze.partInfo){const ss=Ze.partInfo;Pt.push({id:Ze.id+"_part",partId:ss.id,name:ss.name,partNumber:ss.id,unitPrice:ss.price,quantity:Ze.quantity,totalPrice:ss.price*Ze.quantity})}}else Ze.partId==="screen_protection"||Ze.partId==="cleaning"?Ye.push({id:Ze.id,name:Ze.partId==="screen_protection"?"Защита экрана":"Чистка устройства",description:Ze.partId==="screen_protection"?"Установка защитного стекла":"Чистка устройства",cost:Ze.unitPrice,quantity:Ze.quantity,totalCost:Ze.totalPrice}):Pt.push({id:Ze.id,partId:Ze.partId,name:`Запчасть #${Ze.id}`,partNumber:Ze.partId,unitPrice:Ze.unitPrice,quantity:Ze.quantity,totalPrice:Ze.totalPrice})}),Ye.length===0&&Ye.push({id:"1",name:"Диагностика",description:T.diagnosis||"Диагностика устройства",cost:1e3,quantity:1,totalCost:1e3});const Mr=await Bi.createWorkCompletionAct(T,Y,De,Ye,Pt,T.finalCost||T.estimatedCost,30,"Мастер");E(Mr),P("completion"),a(!0),ke.success("Акт выполненных работ создан")}catch{ke.error("Ошибка при создании акта выполненных работ")}},Rm=async(T,Y)=>{if(g)try{await Bi.addSignature(g.id,D,T,Y==="client"?g.client.firstName+" "+g.client.lastName:"Мастер",Y),ke.success("Подпись добавлена")}catch{ke.error("Ошибка при добавлении подписи")}},Nm=Te.filter(T=>{const Y=T.orderNumber.toLowerCase().includes(M.toLowerCase())||T.clientName?.toLowerCase().includes(M.toLowerCase())||T.deviceBrand?.toLowerCase().includes(M.toLowerCase())||T.deviceModel?.toLowerCase().includes(M.toLowerCase()),De=V==="all"||T.status===V,Ye=R==="all"||T.priority===R;return Y&&De&&Ye}),zm=[{field:"orderNumber",headerName:"Номер заказа",width:120,renderCell:T=>s.jsx(j,{variant:"body2",fontWeight:"600",children:T.value})},{field:"clientName",headerName:"Клиент",width:150},{field:"deviceInfo",headerName:"Устройство",width:200,renderCell:T=>s.jsxs(B,{children:[s.jsxs(j,{variant:"body2",fontWeight:"600",children:[T.row.deviceBrand," ",T.row.deviceModel]}),s.jsx(j,{variant:"caption",color:"textSecondary",children:T.row.deviceSerial})]})},{field:"status",headerName:"Статус",width:150,renderCell:T=>{const Y=ao.find(De=>De.value===T.value);return s.jsx(at,{label:Y?.label||T.value,color:Y?.color||"default",size:"small"})}},{field:"priority",headerName:"Приоритет",width:120,renderCell:T=>{const Y=co.find(De=>De.value===T.value);return s.jsx(at,{label:Y?.label||T.value,color:Y?.color||"default",size:"small",variant:"outlined"})}},{field:"estimatedCost",headerName:"Стоимость",width:120,renderCell:T=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",T.value.toLocaleString()]})},{field:"createdAt",headerName:"Дата создания",width:150,renderCell:T=>s.jsx(j,{variant:"body2",children:T.value.toLocaleDateString("ru-RU")})},{field:"actions",headerName:"Действия",width:350,sortable:!1,renderCell:T=>s.jsxs(B,{sx:{display:"flex",gap:.5},children:[s.jsx(Be,{size:"small",onClick:()=>Er(T.row),title:"Просмотр заказа - номер телефона, стоимость, связь с клиентом, WhatsApp/Telegram, печать акта",sx:{color:"#FF6B35"},children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>Ea(T.row),title:"Редактировать заказ - изменить данные и напечатать акт",sx:{color:"#607D8B"},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке добавления работы в таблице, params.row:",T.row),Ma(T.row)},title:"Добавить работу - запчасти, пленка и другие работы",sx:{color:"#4CAF50"},children:s.jsx(Va,{})}),s.jsx(Be,{size:"small",onClick:()=>or(T.row.id),title:"Удалить заказ",sx:{color:"#F44336"},children:s.jsx(Xr,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке выдачи заказа, params.row:",T.row),Am(T.row)},title:"Выдача заказа - тестирование перед выдачей, оплата, печать акта выполненных работ",sx:{color:"#FF9800"},children:s.jsx(Hi,{})})]})}];return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Заказы"}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск заказов...",value:M,onChange:T=>I(T.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:V,onChange:T=>H(T.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),ao.map(T=>s.jsx(le,{value:T.value,children:T.label},T.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет"}),s.jsxs(tt,{value:R,onChange:T=>N(T.target.value),label:"Приоритет",children:[s.jsx(le,{value:"all",children:"Все"}),co.map(T=>s.jsx(le,{value:T.value,children:T.label},T.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(Jo,{}),onClick:()=>{I(""),H("all"),N("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:Ke,sx:{background:"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)",boxShadow:"0 3px 5px 2px rgba(255, 107, 53, .3)","&:hover":{background:"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)"}},children:"🚀 Создать заказ"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Ys,{rows:Nm,columns:zm,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о заказе"}),s.jsx(Ct,{children:x&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Заказ ",x.orderNumber]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Клиент"}),s.jsx(j,{variant:"body1",children:x.clientName}),s.jsx(j,{variant:"body2",color:"textSecondary",children:x.clientPhone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Устройство"}),s.jsxs(j,{variant:"body1",children:[x.deviceBrand," ",x.deviceModel]}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Серийный номер: ",x.deviceSerial]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание проблемы"}),s.jsx(j,{variant:"body1",children:x.description})]}),x.diagnosis&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Диагноз"}),s.jsx(j,{variant:"body1",children:x.diagnosis})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Статус"}),s.jsx(at,{label:ao.find(T=>T.value===x.status)?.label||x.status,color:ao.find(T=>T.value===x.status)?.color||"default"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Приоритет"}),s.jsx(at,{label:co.find(T=>T.value===x.priority)?.label||x.priority,color:co.find(T=>T.value===x.priority)?.color||"default",variant:"outlined"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Стоимость"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",x.estimatedCost.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Срок выполнения"}),s.jsx(j,{variant:"body1",children:x.estimatedTime||`${x.estimatedDays} дней`})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата создания"}),s.jsx(j,{variant:"body1",children:x.createdAt.toLocaleDateString("ru-RU")})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"}),s.jsx(ge,{variant:"contained",onClick:()=>{if(x){const T=document.createElement("div");T.innerHTML=`
                <h2>Заказ ${x.orderNumber}</h2>
                <p>Клиент: ${x.clientName}</p>
                <p>Устройство: ${x.deviceBrand} ${x.deviceModel}</p>
                <p>Описание: ${x.description}</p>
                <p>Стоимость: ₽${x.estimatedCost.toLocaleString()}</p>
              `,document.body.appendChild(T),window.print(),document.body.removeChild(T)}},children:"Печать документов"})]})]}),s.jsxs(vt,{open:o,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Оплата заказа"}),s.jsx(Ct,{children:x&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(j,{variant:"h6",children:["Заказ ",x.orderNumber]}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Сумма к оплате: ₽",x.estimatedCost.toLocaleString()]})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Способ оплаты"}),s.jsxs(tt,{defaultValue:"cash",label:"Способ оплаты",children:[s.jsx(le,{value:"cash",children:"Наличные"}),s.jsx(le,{value:"card",children:"Карта"}),s.jsx(le,{value:"transfer",children:"Перевод"}),s.jsx(le,{value:"installment",children:"Рассрочка"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Сумма",type:"number",defaultValue:x.estimatedCost,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>i(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Оплата добавлена"),i(!1)},children:"Добавить оплату"})]})]}),s.jsxs(vt,{open:c,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Просмотр заказа"})}),s.jsx(Ct,{children:x&&s.jsxs(B,{sx:{mt:2},children:[s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsxs(j,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",x.orderNumber]}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Статус: ",s.jsx(at,{label:x.status,color:"primary",size:"small"})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Приоритет: ",s.jsx(at,{label:x.priority,color:"secondary",size:"small"})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Дата создания: ",x.createdAt.toLocaleDateString("ru-RU")]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Стоимость: ",s.jsxs("strong",{children:[x.estimatedCost," ₽"]})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Оплачено: ",s.jsx("strong",{children:x.isPaid?"Да":"Нет"})]})]})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Имя: ",s.jsx("strong",{children:x.clientName})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Телефон: ",s.jsx("strong",{children:x.clientPhone})]})]}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",gap:1,mt:1},children:[s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(ad,{}),onClick:()=>km(x.clientPhone||""),children:"Позвонить"}),s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(yg,{}),onClick:()=>Em(x.clientPhone||""),sx:{color:"#25D366"},children:"WhatsApp"}),s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(Cg,{}),onClick:()=>Mm(x.clientPhone||""),sx:{color:"#0088cc"},children:"Telegram"})]})})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация об устройстве"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Устройство: ",s.jsxs("strong",{children:[x.deviceBrand," ",x.deviceModel]})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Цвет: ",s.jsx("strong",{children:x.deviceColor})]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["IMEI: ",s.jsx("strong",{children:x.deviceImei})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["S/N: ",s.jsx("strong",{children:x.deviceSerial})]})]})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Описание проблемы"}),s.jsx(j,{variant:"body2",children:x.description||"Описание не указано"})]})}),s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Действия"}),s.jsxs(B,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[s.jsx(ge,{variant:"contained",startIcon:s.jsx(Eo,{}),onClick:()=>ka(),children:"Печать акта приема-передачи"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Qr,{}),onClick:()=>{u(!1),Ea(x)},children:"Редактировать заказ"})]})]})})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>u(!1),children:"Закрыть"})})]}),s.jsxs(vt,{open:d,onClose:()=>h(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Редактирование заказа"})}),s.jsx(Ct,{children:x&&s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Имя клиента",defaultValue:x.clientName,disabled:!0,helperText:"Имя клиента нельзя изменить"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон клиента",defaultValue:x.clientPhone,onChange:T=>{y(Y=>Y?{...Y,clientPhone:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация об устройстве"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Бренд устройства",defaultValue:x.deviceBrand,onChange:T=>{y(Y=>Y?{...Y,deviceBrand:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Модель устройства",defaultValue:x.deviceModel,onChange:T=>{y(Y=>Y?{...Y,deviceModel:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цвет устройства",defaultValue:x.deviceColor,onChange:T=>{y(Y=>Y?{...Y,deviceColor:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"IMEI",defaultValue:x.deviceImei,onChange:T=>{y(Y=>Y?{...Y,deviceImei:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Серийный номер",defaultValue:x.deviceSerial,onChange:T=>{y(Y=>Y?{...Y,deviceSerial:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Внешний вид",defaultValue:x.deviceExternalCondition,onChange:T=>{y(Y=>Y?{...Y,deviceExternalCondition:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация о заказе"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус заказа"}),s.jsxs(tt,{defaultValue:x.status,onChange:T=>{y(Y=>Y?{...Y,status:T.target.value}:null)},children:[s.jsx(le,{value:"diagnosis",children:"Диагностика"}),s.jsx(le,{value:"waiting_parts",children:"Ожидание запчастей"}),s.jsx(le,{value:"waiting_client",children:"Ожидание клиента"}),s.jsx(le,{value:"in_progress",children:"В работе"}),s.jsx(le,{value:"completed",children:"Завершен"}),s.jsx(le,{value:"cancelled",children:"Отменен"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет"}),s.jsxs(tt,{defaultValue:x.priority,onChange:T=>{y(Y=>Y?{...Y,priority:T.target.value}:null)},children:[s.jsx(le,{value:"low",children:"Низкий"}),s.jsx(le,{value:"medium",children:"Средний"}),s.jsx(le,{value:"high",children:"Высокий"}),s.jsx(le,{value:"urgent",children:"Срочный"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",defaultValue:x.estimatedCost,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},onChange:T=>{y(Y=>Y?{...Y,estimatedCost:Number(T.target.value)}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Финальная стоимость",type:"number",defaultValue:x.finalCost||"",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},onChange:T=>{y(Y=>Y?{...Y,finalCost:Number(T.target.value)}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание проблемы",multiline:!0,rows:3,defaultValue:x.description,onChange:T=>{y(Y=>Y?{...Y,description:T.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Диагностика",multiline:!0,rows:2,defaultValue:x.diagnosis,onChange:T=>{y(Y=>Y?{...Y,diagnosis:T.target.value}:null)}})})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>h(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{x&&Im(x)},children:"Сохранить изменения"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Eo,{}),onClick:()=>{x&&ka()},children:"Печать акта"})]})]}),s.jsxs(vt,{open:m,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Добавить работу"})}),s.jsx(Ct,{children:s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx($r,{freeSolo:!0,options:p2,value:te,onChange:(T,Y)=>{fe(Y||"")},onInputChange:(T,Y)=>{fe(Y)},renderInput:T=>s.jsx(re,{...T,label:"Название работы",placeholder:"Выберите из списка или введите своё",helperText:"Выберите популярную работу или введите название самостоятельно"}),renderOption:(T,Y)=>s.jsx(B,{component:"li",...T,children:s.jsx(j,{variant:"body1",children:Y})})})}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"🔧 Добавить запчасть к работе"}),s.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Если работа требует использования запчасти, выберите её из склада"}),s.jsx(ge,{variant:pe?"contained":"outlined",fullWidth:!0,onClick:Fm,startIcon:s.jsx(gr,{}),sx:{mb:1},children:pe?`Выбрана: ${pe.name}`:"Выбрать запчасть"}),pe&&s.jsxs(B,{sx:{mt:1},children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Цена запчасти: ",pe.price," ₽ • Остаток: ",pe.stock," шт."]}),s.jsx(ge,{size:"small",onClick:()=>_e(null),sx:{mt:1},children:"Убрать запчасть"})]})]})}),pe&&s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText"},children:[s.jsx(j,{variant:"subtitle1",fontWeight:"bold",children:pe.name}),s.jsxs(j,{variant:"body2",children:["Категория: ",pe.category," | Бренд: ",pe.brand]}),s.jsxs(j,{variant:"body2",children:["Цена: ",pe.price," ₽ | На складе: ",pe.stock," шт."]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цена за единицу",type:"number",value:oe,onChange:T=>me(Number(T.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Количество",type:"number",value:J,onChange:T=>ce(Number(T.target.value)),inputProps:{min:1}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{p:2,bgcolor:"grey.100"},children:s.jsxs(j,{variant:"h6",textAlign:"center",children:["Итого: ",oe*J," ₽"]})})})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>p(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:Tm,disabled:!te||oe<=0||J<=0,children:"Добавить работу"})]})]}),s.jsxs(vt,{open:w,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Поиск запчастей на складе"})}),s.jsx(Ct,{children:s.jsxs(B,{sx:{mt:2},children:[s.jsx(re,{fullWidth:!0,label:"Поиск запчастей",value:ae,onChange:T=>we(T.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})},sx:{mb:3}}),s.jsxs(B,{sx:{maxHeight:400,overflow:"auto"},children:[Fa.map(T=>s.jsx(Se,{sx:{mb:2,cursor:"pointer",border:pe?.id===T.id?"2px solid #FF6B35":"1px solid #e0e0e0","&:hover":{bgcolor:"grey.50"}},onClick:()=>{_e(T),fe(T.name),me(T.price),b(!1)},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsx(j,{variant:"subtitle1",fontWeight:"bold",children:T.name}),s.jsxs(j,{variant:"body2",color:"text.secondary",children:[T.category," • ",T.brand]})]}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(j,{variant:"h6",color:"primary",children:[T.price," ₽"]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(at,{label:`${T.stock} шт.`,color:T.stock>0?"success":"error",size:"small"})})]})})},T.id)),Fa.length===0&&s.jsx(B,{sx:{textAlign:"center",py:4},children:s.jsx(j,{variant:"body1",color:"text.secondary",children:"Запчасти не найдены"})})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>b(!1),children:"Закрыть"})})]}),s.jsxs(vt,{open:v,onClose:()=>C(!1),maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Выдача заказа клиенту"})}),s.jsx(Ct,{children:x&&s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsxs(j,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",x.orderNumber]}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",children:["Клиент: ",s.jsx("strong",{children:x.clientName})]}),s.jsxs(j,{variant:"body2",children:["Телефон: ",s.jsx("strong",{children:x.clientPhone})]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",children:["Устройство: ",s.jsxs("strong",{children:[x.deviceBrand," ",x.deviceModel]})]}),s.jsxs(j,{variant:"body2",children:["Стоимость: ",s.jsxs("strong",{children:[x.finalCost||x.estimatedCost," ₽"]})]})]})]})]})})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Выполненные работы"}),s.jsx(Se,{children:s.jsxs(Ee,{children:[x.parts&&x.parts.length>0?s.jsxs(B,{children:[x.parts.map((T,Y)=>s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,borderBottom:Y<x.parts.length-1?"1px solid #e0e0e0":"none"},children:[s.jsxs(B,{children:[s.jsx(j,{variant:"body1",children:T.partId==="screen_protection"?"🛡️ Защита экрана":T.partId==="cleaning"?"🧽 Чистка устройства":T.workType==="work_with_part"?`🔧 ${T.workName}`:T.workType==="work_only"?`⚙️ ${T.workName}`:`🔧 Работа #${Y+1}`}),s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Количество: ",T.quantity," • Цена работы: ",T.unitPrice," ₽",T.partInfo&&s.jsxs("span",{children:[s.jsx("br",{}),s.jsxs(j,{variant:"caption",color:"text.secondary",sx:{fontStyle:"italic"},children:["📦 Запчасть: ",T.partInfo.name,Zt==="employee"?s.jsxs("span",{style:{color:"#FF6B35",fontWeight:"bold"},children:[" ","(",pe?T.partInfo.price:"цена скрыта"," ₽)"]}):s.jsxs("span",{style:{color:"#9E9E9E",fontWeight:"bold"},children:[" ","(включено в стоимость работы)"]})]})]})]})]}),s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsxs(j,{variant:"h6",color:"primary",children:[T.totalPrice," ₽"]}),s.jsx(Be,{size:"small",onClick:()=>_m(T.id),sx:{color:"error.main"},children:s.jsx(Xr,{})})]})]},T.id)),s.jsx(B,{sx:{mt:2,pt:2,borderTop:"2px solid #FF6B35"},children:s.jsxs(j,{variant:"h6",textAlign:"right",children:["Итого: ",x.parts.reduce((T,Y)=>T+Y.totalPrice,0)," ₽"]})})]}):s.jsx(j,{variant:"body2",color:"text.secondary",children:"Работы и запчасти не добавлены"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Va,{}),onClick:()=>{console.log("Клик по кнопке добавления работы, selectedOrder:",x),x?(C(!1),Ma(x)):ke.error("Заказ не выбран. Попробуйте еще раз.")},sx:{mt:2},children:"Добавить работу"})]})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsx(j,{variant:"h6",children:"Чек-лист тестирования"}),s.jsx(ge,{variant:"contained",color:"success",startIcon:s.jsx(Cl,{}),onClick:Om,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"Проверил все"})]}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(A,{container:!0,spacing:2,children:[{key:"screenWorks",label:"Экран работает корректно"},{key:"touchWorks",label:"Сенсорный экран реагирует"},{key:"cameraWorks",label:"Камера работает"},{key:"soundWorks",label:"Звук работает"},{key:"chargingWorks",label:"Зарядка работает"},{key:"wifiWorks",label:"Wi-Fi работает"},{key:"bluetoothWorks",label:"Bluetooth работает"},{key:"buttonsWork",label:"Кнопки работают"},{key:"fingerprintWorks",label:"Отпечаток пальца работает"},{key:"faceIdWorks",label:"Face ID работает"}].map(T=>s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",alignItems:"center"},children:[s.jsx("input",{type:"checkbox",checked:Xe[T.key],onChange:Y=>Dm(T.key,Y.target.checked),style:{marginRight:8}}),s.jsx(j,{variant:"body2",children:T.label})]})},T.key))})})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Дополнительные услуги"}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:L?"contained":"outlined",fullWidth:!0,startIcon:s.jsx($a,{}),onClick:()=>q(!L),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:L?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:L?"white":"#FF6B35",boxShadow:L?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:L?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Защита экрана",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:Q?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(La,{}),onClick:()=>ne(!Q),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:Q?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:Q?"white":"#2196F3",boxShadow:Q?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:Q?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Чистка устройства",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Оплата"}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Способ оплаты"}),s.jsxs(tt,{value:Ce,onChange:T=>je(T.target.value),children:[s.jsx(le,{value:"cash",children:"Наличные"}),s.jsx(le,{value:"card",children:"Банковская карта"}),s.jsx(le,{value:"online",children:"Онлайн перевод"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Сумма к оплате",type:"number",value:Ve+(L?2e3:0)+(Q?1e3:0),onChange:T=>Ue(Number(T.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})})]})})})]})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>C(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:Vm,disabled:!Object.values(Xe).every(T=>T),startIcon:s.jsx(Hi,{}),children:"Выдать заказ клиенту"})]})]}),s.jsxs(vt,{open:_,onClose:()=>O(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs(j,{variant:"h6",children:["Создание заказа - Шаг ",z+1," из 4"]}),s.jsx(B,{sx:{display:"flex",gap:1},children:[0,1,2,3].map(T=>s.jsx(B,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:T<=z?"#FF6B35":"#e0e0e0",transition:"all 0.3s ease"}},T))})]})}),s.jsx(Ct,{children:s.jsxs(B,{sx:{mt:2},children:[z===0&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"👤 Информация о клиенте"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"ФИО клиента",value:U.clientName,onChange:T=>Qe("clientName",T.target.value),placeholder:"Например: Иванов Иван Иванович",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:U.clientPhone,onChange:T=>Qe("clientPhone",T.target.value),placeholder:"+7 (999) 123-45-67",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Email (необязательно)",value:U.clientEmail,onChange:T=>Qe("clientEmail",T.target.value),placeholder:"client@example.com",type:"email"})})]})]}),z===1&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"📱 Информация об устройстве"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип устройства"}),s.jsxs(tt,{value:U.deviceType,onChange:T=>Qe("deviceType",T.target.value),children:[s.jsx(le,{value:"phone",children:"📱 Телефон"}),s.jsx(le,{value:"tablet",children:"📱 Планшет"}),s.jsx(le,{value:"laptop",children:"💻 Ноутбук"}),s.jsx(le,{value:"desktop",children:"🖥️ Компьютер"}),s.jsx(le,{value:"other",children:"🔧 Другое"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx($r,{freeSolo:!0,options:f2,value:U.deviceBrand,onChange:(T,Y)=>{Qe("deviceBrand",Y||""),Qe("deviceModel","")},onInputChange:(T,Y)=>{Qe("deviceBrand",Y),Qe("deviceModel","")},renderInput:T=>s.jsx(re,{...T,label:"Бренд",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(T,Y)=>s.jsx(B,{component:"li",...T,children:s.jsx(j,{variant:"body1",children:Y})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx($r,{freeSolo:!0,options:x2,value:U.deviceModel,onChange:(T,Y)=>{Qe("deviceModel",Y||"")},onInputChange:(T,Y)=>{Qe("deviceModel",Y)},renderInput:T=>s.jsx(re,{...T,label:"Модель",placeholder:"Выберите из списка или введите свою",disabled:!U.deviceBrand,required:!0}),renderOption:(T,Y)=>s.jsx(B,{component:"li",...T,children:s.jsx(j,{variant:"body1",children:Y})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цвет",value:U.deviceColor,onChange:T=>Qe("deviceColor",T.target.value),placeholder:"Синий, черный, белый..."})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Серийный номер",value:U.deviceSerial,onChange:T=>Qe("deviceSerial",T.target.value),placeholder:"ABC123456"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"IMEI (для телефонов)",value:U.deviceImei,onChange:T=>Qe("deviceImei",T.target.value),placeholder:"123456789012345"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Состояние устройства"}),s.jsxs(tt,{value:U.deviceCondition,onChange:T=>Qe("deviceCondition",T.target.value),children:[s.jsx(le,{value:"excellent",children:"✨ Отличное"}),s.jsx(le,{value:"good",children:"👍 Хорошее"}),s.jsx(le,{value:"fair",children:"⚠️ Удовлетворительное"}),s.jsx(le,{value:"poor",children:"❌ Плохое"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Внешние дефекты",value:U.deviceExternalCondition,onChange:T=>Qe("deviceExternalCondition",T.target.value),placeholder:"Сколы, потертости, трещины...",multiline:!0,rows:2})})]})]}),z===2&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"🔧 Описание проблемы"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx($r,{freeSolo:!0,options:g2,value:U.diagnosis,onChange:(T,Y)=>{Qe("diagnosis",Y||"")},onInputChange:(T,Y)=>{Qe("diagnosis",Y)},renderInput:T=>s.jsx(re,{...T,label:"Предварительный диагноз",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(T,Y)=>s.jsx(B,{component:"li",...T,children:s.jsx(j,{variant:"body1",children:Y})})})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",children:"💬 Комментарии для сотрудника"}),s.jsx(j,{variant:"caption",color:"text.secondary",children:"(только для внутреннего использования)"})]}),s.jsx(re,{fullWidth:!0,label:"Внутренние заметки",value:U.staffComments,onChange:T=>Qe("staffComments",T.target.value),placeholder:"Дополнительная информация для сотрудников, детали поломки, особые указания...",multiline:!0,rows:3})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет заказа"}),s.jsxs(tt,{value:U.priority,onChange:T=>Qe("priority",T.target.value),children:[s.jsx(le,{value:"low",children:"🟢 Низкий"}),s.jsx(le,{value:"medium",children:"🟡 Средний"}),s.jsx(le,{value:"high",children:"🟠 Высокий"}),s.jsx(le,{value:"urgent",children:"🔴 Срочный"})]})]})})]})]}),z===3&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"💰 Стоимость и сроки"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",value:U.estimatedCost,onChange:T=>Qe("estimatedCost",Number(T.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},helperText:"Примерная стоимость ремонта",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Срок выполнения (дни)",type:"number",value:U.estimatedDays,onChange:T=>Qe("estimatedDays",Number(T.target.value)),inputProps:{min:1,max:30},required:!0})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"🛡️ Дополнительные услуги"}),s.jsx(Se,{sx:{p:2},children:s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:U.offerProtection?"contained":"outlined",fullWidth:!0,startIcon:s.jsx($a,{}),onClick:()=>Qe("offerProtection",!U.offerProtection),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:U.offerProtection?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:U.offerProtection?"white":"#FF6B35",boxShadow:U.offerProtection?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:U.offerProtection?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Предложить защиту экрана",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:U.offerCleaning?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(La,{}),onClick:()=>Qe("offerCleaning",!U.offerCleaning),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:U.offerCleaning?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:U.offerCleaning?"white":"#2196F3",boxShadow:U.offerCleaning?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:U.offerCleaning?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Предложить чистку устройства",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"📋 Сводка заказа"}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Клиент:"})," ",U.clientName]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Телефон:"})," ",U.clientPhone]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Устройство:"})," ",U.deviceBrand," ",U.deviceModel]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Диагноз:"})," ",U.diagnosis]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Стоимость:"})," ",U.estimatedCost," ₽"]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Срок:"})," ",U.estimatedDays," дн."]}),U.offerProtection&&s.jsxs(j,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Защита экрана:"})," 2000 ₽"]}),U.offerCleaning&&s.jsxs(j,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Чистка устройства:"})," 1000 ₽"]}),s.jsx(j,{variant:"h6",sx:{mt:1,color:"primary.main"},children:s.jsxs("strong",{children:["Итого: ",U.estimatedCost+(U.offerProtection?2e3:0)+(U.offerCleaning?1e3:0)," ₽"]})})]})})]})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>O(!1),children:"Отмена"}),z>0&&s.jsx(ge,{onClick:_n,children:"Назад"}),z<3?s.jsx(ge,{variant:"contained",onClick:it,disabled:z===0&&(!U.clientName||!U.clientPhone)||z===1&&(!U.deviceBrand||!U.deviceModel)||z===2&&!U.diagnosis,children:"Далее"}):s.jsx(ge,{variant:"contained",onClick:Ft,disabled:!U.estimatedCost||!U.estimatedDays,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"✅ Создать заказ"})]})]}),s.jsx(c2,{open:l,onClose:()=>a(!1),document:g,documentType:D,onSign:Rm}),s.jsx(d2,{open:k,onClose:()=>F(!1),onSubmit:sr})]})},cs=[{id:"1",firstName:"Анна",lastName:"Иванова",phone:"+7 (999) 123-45-67",email:"anna.ivanova@email.com",address:"ул. Ленина, д. 10, кв. 5",notes:"VIP клиент",totalOrders:15,totalSpent:125e3,lastVisit:new Date("2024-01-15"),createdAt:new Date("2023-06-15"),updatedAt:new Date("2024-01-15")},{id:"2",firstName:"Петр",lastName:"Петров",phone:"+7 (999) 234-56-78",email:"petr.petrov@email.com",address:"ул. Пушкина, д. 25, кв. 12",notes:"Часто заказывает ремонт телефонов",totalOrders:8,totalSpent:45e3,lastVisit:new Date("2024-01-10"),createdAt:new Date("2023-08-20"),updatedAt:new Date("2024-01-10")},{id:"3",firstName:"Мария",lastName:"Сидорова",phone:"+7 (999) 345-67-89",email:"maria.sidorova@email.com",address:"ул. Гагарина, д. 5, кв. 8",notes:"Предпочитает оригинальные запчасти",totalOrders:12,totalSpent:78e3,lastVisit:new Date("2024-01-12"),createdAt:new Date("2023-07-10"),updatedAt:new Date("2024-01-12")},{id:"4",firstName:"Алексей",lastName:"Козлов",phone:"+7 (999) 456-78-90",email:"alexey.kozlov@email.com",address:"ул. Мира, д. 15, кв. 3",notes:"Новый клиент",totalOrders:3,totalSpent:15e3,lastVisit:new Date("2024-01-08"),createdAt:new Date("2023-12-01"),updatedAt:new Date("2024-01-08")},{id:"5",firstName:"Елена",lastName:"Волкова",phone:"+7 (999) 567-89-01",email:"elena.volkova@email.com",address:"ул. Советская, д. 30, кв. 15",notes:"Корпоративный клиент",totalOrders:25,totalSpent:2e5,lastVisit:new Date("2024-01-14"),createdAt:new Date("2023-05-15"),updatedAt:new Date("2024-01-14")}],v2=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[o,i]=f.useState(null),[l,a]=f.useState(""),[c,u]=f.useState("all"),d=()=>{t(!0)},h=v=>{i(v),r(!0)},m=()=>{const v=cs.length,C=cs.filter(g=>g.createdAt.getMonth()===new Date().getMonth()).length,x=cs.reduce((g,E)=>g+E.totalSpent,0),y=cs.reduce((g,E)=>g+E.totalOrders,0)/v;return{totalClients:v,newClientsThisMonth:C,totalSpent:x,averageOrderValue:y}},p=cs.filter(v=>v.firstName.toLowerCase().includes(l.toLowerCase())||v.lastName.toLowerCase().includes(l.toLowerCase())||v.phone.includes(l)||v.email.toLowerCase().includes(l.toLowerCase())),w=[{field:"name",headerName:"Имя",width:200,renderCell:v=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsxs(st,{sx:{mr:2,bgcolor:"primary.main"},children:[v.row.firstName[0],v.row.lastName[0]]}),s.jsxs(j,{variant:"body2",children:[v.row.firstName," ",v.row.lastName]})]})},{field:"phone",headerName:"Телефон",width:150},{field:"email",headerName:"Email",width:200},{field:"totalOrders",headerName:"Заказов",width:100,renderCell:v=>s.jsx(at,{label:v.value,color:"primary",size:"small"})},{field:"totalSpent",headerName:"Потрачено",width:120,renderCell:v=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",v.value.toLocaleString()]})},{field:"lastVisit",headerName:"Последний визит",width:150,renderCell:v=>s.jsx(j,{variant:"body2",children:v.value.toLocaleDateString("ru-RU")})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:v=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>h(v.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Клиент отредактирован")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Клиент удален")},children:s.jsx(Xr,{})})]})}],b=m();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Клиенты"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего клиентов"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:b.totalClients})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(kl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Новых в этом месяце"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:b.newClientsThisMonth})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(wg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общая сумма"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",b.totalSpent.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(ad,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Средний чек"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",Math.round(b.averageOrderValue).toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(yl,{})})]})})})})})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск клиентов...",value:l,onChange:v=>a(v.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(Jo,{}),onClick:()=>{a(""),u("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:d,children:"Добавить клиента"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Ys,{rows:p,columns:w,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить клиента"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Имя",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Фамилия",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",required:!0,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"+7"})}})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Адрес",multiline:!0,rows:2})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Клиент добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о клиенте"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsxs(st,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:[o.firstName[0],o.lastName[0]]}),s.jsxs(B,{children:[s.jsxs(j,{variant:"h6",children:[o.firstName," ",o.lastName]}),s.jsxs(j,{color:"textSecondary",children:["Клиент с ",o.createdAt.toLocaleDateString("ru-RU")]})]})]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(j,{variant:"body1",children:o.phone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(j,{variant:"body1",children:o.email||"Не указан"})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Адрес"}),s.jsx(j,{variant:"body1",children:o.address||"Не указан"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Всего заказов"}),s.jsx(j,{variant:"body1",fontWeight:"600",children:o.totalOrders})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Потрачено"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.totalSpent.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Последний визит"}),s.jsx(j,{variant:"body1",children:o.lastVisit.toLocaleDateString("ru-RU")})]}),o.notes&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(j,{variant:"body1",children:o.notes})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Dr=[{id:"1",name:"Экран iPhone 14",partNumber:"IP14-SCR-001",category:"Экраны",brand:"Apple",model:"iPhone 14",description:"Оригинальный экран для iPhone 14",quantity:15,minQuantity:5,unitPrice:25e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 1",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-15")},{id:"2",name:"Батарея Samsung Galaxy S23",partNumber:"SGS23-BAT-002",category:"Батареи",brand:"Samsung",model:"Galaxy S23",description:"Оригинальная батарея для Samsung Galaxy S23",quantity:8,minQuantity:3,unitPrice:12e3,supplier:"Samsung Parts",supplierContact:"+7 (999) 222-33-44",location:"Склад B, полка 2",createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"3",name:'Корпус MacBook Pro 13"',partNumber:"MBP13-CASE-003",category:"Корпуса",brand:"Apple",model:'MacBook Pro 13"',description:'Оригинальный корпус для MacBook Pro 13"',quantity:3,minQuantity:2,unitPrice:45e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 3",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"4",name:"Камера iPad Air",partNumber:"IPA-CAM-004",category:"Камеры",brand:"Apple",model:"iPad Air",description:"Оригинальная камера для iPad Air",quantity:12,minQuantity:4,unitPrice:18e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 2",createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-14")},{id:"5",name:"Клавиатура MacBook Air",partNumber:"MBA-KBD-005",category:"Клавиатуры",brand:"Apple",model:"MacBook Air",description:"Оригинальная клавиатура для MacBook Air",quantity:1,minQuantity:2,unitPrice:35e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 4",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")}],qu=["Экраны","Батареи","Корпуса","Камеры","Клавиатуры","Процессоры","Память","Прочее"],y2=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[o,i]=f.useState(null),[l,a]=f.useState(""),[c,u]=f.useState("all"),[d,h]=f.useState("all"),m=()=>{t(!0)},p=g=>{i(g),r(!0)},w=()=>{const g=Dr.length,E=Dr.filter(k=>k.quantity<=k.minQuantity).length,D=Dr.reduce((k,F)=>k+F.quantity*F.unitPrice,0),P=Dr.filter(k=>k.quantity===0).length;return{totalParts:g,lowStockParts:E,totalValue:D,outOfStockParts:P}},b=()=>Dr.filter(g=>g.quantity<=g.minQuantity),v=Dr.filter(g=>{const E=g.name.toLowerCase().includes(l.toLowerCase())||g.partNumber.toLowerCase().includes(l.toLowerCase())||g.brand.toLowerCase().includes(l.toLowerCase())||g.model.toLowerCase().includes(l.toLowerCase()),D=c==="all"||g.category===c;let P=!0;return d==="low"?P=g.quantity<=g.minQuantity:d==="out"?P=g.quantity===0:d==="normal"&&(P=g.quantity>g.minQuantity),E&&D&&P}),C=[{field:"name",headerName:"Название",width:200,renderCell:g=>s.jsxs(B,{children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:g.value}),s.jsx(j,{variant:"caption",color:"textSecondary",children:g.row.partNumber})]})},{field:"category",headerName:"Категория",width:120,renderCell:g=>s.jsx(at,{label:g.value,color:"primary",size:"small"})},{field:"brand",headerName:"Бренд",width:100},{field:"model",headerName:"Модель",width:120},{field:"quantity",headerName:"Количество",width:120,renderCell:g=>{const E=g.value<=g.row.minQuantity,D=g.value===0;return s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(j,{variant:"body2",color:D?"error.main":E?"warning.main":"success.main",fontWeight:"600",children:g.value}),E&&s.jsx(vi,{sx:{ml:1,color:"warning.main",fontSize:16}}),D&&s.jsx(vi,{sx:{ml:1,color:"error.main",fontSize:16}})]})}},{field:"unitPrice",headerName:"Цена",width:120,renderCell:g=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",g.value.toLocaleString()]})},{field:"supplier",headerName:"Поставщик",width:150},{field:"location",headerName:"Местоположение",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:g=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>p(g.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Запчасть отредактирована")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Запчасть удалена")},children:s.jsx(Xr,{})})]})}],x=w(),y=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Склад"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего запчастей"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.totalParts})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(vl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Низкий остаток"}),s.jsx(j,{variant:"h5",fontWeight:"600",color:"warning.main",children:x.lowStockParts})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(vi,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общая стоимость"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",x.totalValue.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(Cl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Нет в наличии"}),s.jsx(j,{variant:"h5",fontWeight:"600",color:"error.main",children:x.outOfStockParts})]}),s.jsx(st,{sx:{bgcolor:"error.main"},children:s.jsx(Hi,{})})]})})})})})]}),s.jsxs(A,{container:!0,spacing:3,children:[y.length>0&&s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{bgcolor:"warning.light",color:"warning.contrastText"},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"⚠️ Внимание! Низкий остаток запчастей"}),s.jsx(A,{container:!0,spacing:1,children:y.map(g=>s.jsx(A,{item:!0,children:s.jsx(at,{label:`${g.name} (${g.quantity}/${g.minQuantity})`,color:"warning",variant:"outlined"})},g.id))})]})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(A,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск запчастей...",value:l,onChange:g=>a(g.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsxs(tt,{value:c,onChange:g=>u(g.target.value),label:"Категория",children:[s.jsx(le,{value:"all",children:"Все"}),qu.map(g=>s.jsx(le,{value:g,children:g},g))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:d,onChange:g=>h(g.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"normal",children:"Норма"}),s.jsx(le,{value:"low",children:"Низкий"}),s.jsx(le,{value:"out",children:"Нет"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(Jo,{}),onClick:()=>{a(""),u("all"),h("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить запчасть"})})]}),s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Ys,{rows:v,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить запчасть"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Название",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Артикул",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsx(tt,{defaultValue:"",label:"Категория",children:qu.map(g=>s.jsx(le,{value:g,children:g},g))})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Бренд",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Модель",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Количество",type:"number",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Минимальный остаток",type:"number",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Цена за единицу",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Поставщик"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Местоположение"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Запчасть добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о запчасти"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:o.name}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Артикул: ",o.partNumber]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(at,{label:o.category,color:"primary",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Бренд / Модель"}),s.jsxs(j,{variant:"body1",children:[o.brand," ",o.model]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Количество"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:[o.quantity," / ",o.minQuantity]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Цена за единицу"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.unitPrice.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Поставщик"}),s.jsx(j,{variant:"body1",children:o.supplier})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Контакт поставщика"}),s.jsx(j,{variant:"body1",children:o.supplierContact})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Местоположение"}),s.jsx(j,{variant:"body1",children:o.location})]}),o.description&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(j,{variant:"body1",children:o.description})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Or=[{id:"1",name:"Иванов Алексей Александрович",email:"ivanov@service.com",phone:"+7 (999) 123-45-67",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:8e4,rating:4.8,totalOrders:156,completedOrders:142,totalEarnings:125e4,isActive:!0,hireDate:new Date("2022-03-15"),lastLogin:new Date("2024-01-15T09:30:00")},{id:"2",name:"Петрова Мария Сергеевна",email:"petrova@service.com",phone:"+7 (999) 234-56-78",role:"manager",department:"Управление",position:"Менеджер",salary:9e4,rating:4.6,totalOrders:89,completedOrders:85,totalEarnings:98e4,isActive:!0,hireDate:new Date("2021-08-20"),lastLogin:new Date("2024-01-15T08:45:00")},{id:"3",name:"Сидоров Петр Владимирович",email:"sidorov@service.com",phone:"+7 (999) 345-67-89",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:75e3,rating:4.4,totalOrders:134,completedOrders:128,totalEarnings:11e5,isActive:!0,hireDate:new Date("2022-01-10"),lastLogin:new Date("2024-01-14T17:20:00")},{id:"4",name:"Козлова Анна Дмитриевна",email:"kozlova@service.com",phone:"+7 (999) 456-78-90",role:"cashier",department:"Касса",position:"Кассир",salary:6e4,rating:4.7,totalOrders:67,completedOrders:65,totalEarnings:45e4,isActive:!0,hireDate:new Date("2023-02-01"),lastLogin:new Date("2024-01-15T10:15:00")},{id:"5",name:"Волков Дмитрий Игоревич",email:"volkov@service.com",phone:"+7 (999) 567-89-01",role:"admin",department:"Администрация",position:"Директор",salary:12e4,rating:4.9,totalOrders:45,completedOrders:43,totalEarnings:8e5,isActive:!0,hireDate:new Date("2020-05-15"),lastLogin:new Date("2024-01-15T07:30:00")}],uo=[{value:"admin",label:"Администратор"},{value:"manager",label:"Менеджер"},{value:"technician",label:"Техник"},{value:"cashier",label:"Кассир"}],C2=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[o,i]=f.useState(null),[l,a]=f.useState(""),[c,u]=f.useState("all"),[d,h]=f.useState("all"),m=()=>{t(!0)},p=g=>{i(g),r(!0)},w=()=>{const g=Or.length,E=Or.filter(k=>k.isActive).length,D=Or.reduce((k,F)=>k+F.salary,0),P=Or.reduce((k,F)=>k+F.rating,0)/g;return{totalEmployees:g,activeEmployees:E,totalSalary:D,averageRating:P}},b=()=>Or.filter(g=>g.isActive).sort((g,E)=>E.rating-g.rating).slice(0,3),v=Or.filter(g=>{const E=g.name.toLowerCase().includes(l.toLowerCase())||g.email.toLowerCase().includes(l.toLowerCase())||g.position.toLowerCase().includes(l.toLowerCase()),D=c==="all"||g.role===c,P=d==="all"||d==="active"&&g.isActive||d==="inactive"&&!g.isActive;return E&&D&&P}),C=[{field:"name",headerName:"Сотрудник",width:250,renderCell:g=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main"},children:g.row.name.split(" ").map(E=>E[0]).join("")}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:g.row.name}),s.jsx(j,{variant:"caption",color:"textSecondary",children:g.row.position})]})]})},{field:"role",headerName:"Роль",width:120,renderCell:g=>{const E=uo.find(D=>D.value===g.value)?.label||g.value;return s.jsx(at,{label:E,color:g.value==="admin"?"error":g.value==="manager"?"warning":"primary",size:"small"})}},{field:"department",headerName:"Отдел",width:120},{field:"rating",headerName:"Рейтинг",width:100,renderCell:g=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(j,{variant:"body2",children:g.value})]})},{field:"completedOrders",headerName:"Заказов",width:100,renderCell:g=>s.jsx(at,{label:g.value,color:"success",size:"small"})},{field:"salary",headerName:"Зарплата",width:120,renderCell:g=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",g.value.toLocaleString()]})},{field:"isActive",headerName:"Статус",width:100,renderCell:g=>s.jsx(at,{label:g.value?"Активен":"Неактивен",color:g.value?"success":"default",size:"small"})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:g=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>p(g.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Сотрудник отредактирован")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Сотрудник удален")},children:s.jsx(Xr,{})})]})}],x=w(),y=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Сотрудники"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего сотрудников"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.totalEmployees})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(kl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Активных"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.activeEmployees})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(Sg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Средний рейтинг"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.averageRating.toFixed(1)})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(ds,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Фонд зарплат"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",x.totalSalary.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(El,{})})]})})})})})]}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ сотрудники"}),y.map((g,E)=>s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main"},children:g.name.split(" ").map(D=>D[0]).join("")}),s.jsxs(B,{flex:1,children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:g.name}),s.jsx(j,{variant:"caption",color:"textSecondary",children:g.position})]}),s.jsxs(B,{textAlign:"right",children:[s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:14,mr:.5}}),s.jsx(j,{variant:"body2",children:g.rating})]}),s.jsxs(j,{variant:"caption",color:"textSecondary",children:[g.completedOrders," заказов"]})]})]},g.id))]})})}),s.jsx(A,{item:!0,xs:12,md:8,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(A,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск сотрудников...",value:l,onChange:g=>a(g.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Роль"}),s.jsxs(tt,{value:c,onChange:g=>u(g.target.value),label:"Роль",children:[s.jsx(le,{value:"all",children:"Все"}),uo.map(g=>s.jsx(le,{value:g.value,children:g.label},g.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:d,onChange:g=>h(g.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"active",children:"Активные"}),s.jsx(le,{value:"inactive",children:"Неактивные"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить"})})]}),s.jsx(B,{sx:{height:500,width:"100%"},children:s.jsx(Ys,{rows:v,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить сотрудника"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"ФИО",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Роль"}),s.jsx(tt,{defaultValue:"",label:"Роль",children:uo.map(g=>s.jsx(le,{value:g.value,children:g.label},g.value))})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Должность",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Отдел",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Зарплата",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Сотрудник добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о сотруднике"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:o.name.split(" ").map(g=>g[0]).join("")}),s.jsxs(B,{children:[s.jsx(j,{variant:"h6",children:o.name}),s.jsx(j,{color:"textSecondary",children:o.position})]})]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(j,{variant:"body1",children:o.email})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(j,{variant:"body1",children:o.phone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Роль"}),s.jsx(at,{label:uo.find(g=>g.value===o.role)?.label||o.role,color:"primary",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Отдел"}),s.jsx(j,{variant:"body1",children:o.department})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Рейтинг"}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(j,{variant:"body1",children:o.rating})]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Зарплата"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.salary.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Завершенных заказов"}),s.jsx(j,{variant:"body1",fontWeight:"600",children:o.completedOrders})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Общий доход"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.totalEarnings.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата найма"}),s.jsx(j,{variant:"body1",children:o.hireDate.toLocaleDateString("ru-RU")})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},ho=[{id:"1",type:"income",amount:15e3,description:"Оплата заказа #001247",category:"Ремонт",orderId:"#001247",processedBy:"Иванов А.А.",processedAt:new Date("2024-01-15T10:30:00"),notes:"Полная оплата"},{id:"2",type:"expense",amount:5e3,description:"Покупка запчастей",category:"Запчасти",processedBy:"Петров В.В.",processedAt:new Date("2024-01-15T14:20:00"),notes:"Экран для iPhone 14"},{id:"3",type:"income",amount:8e3,description:"Оплата заказа #001246",category:"Ремонт",orderId:"#001246",processedBy:"Сидорова М.А.",processedAt:new Date("2024-01-15T16:45:00"),notes:"Частичная оплата"},{id:"4",type:"expense",amount:2e3,description:"Коммунальные услуги",category:"Коммунальные",processedBy:"Козлов А.В.",processedAt:new Date("2024-01-15T09:00:00"),notes:"Электричество за январь"},{id:"5",type:"income",amount:12e3,description:"Оплата заказа #001245",category:"Ремонт",orderId:"#001245",processedBy:"Волкова Е.С.",processedAt:new Date("2024-01-14T15:30:00"),notes:"Полная оплата"}],Ku=["Ремонт","Запчасти","Коммунальные","Зарплата","Аренда","Прочее"],w2=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[o,i]=f.useState(null),[l,a]=f.useState(""),[c,u]=f.useState("all"),[d,h]=f.useState("all"),m=()=>{t(!0)},p=()=>{const C=ho.filter(g=>g.type==="income").reduce((g,E)=>g+E.amount,0),x=ho.filter(g=>g.type==="expense").reduce((g,E)=>g+E.amount,0),y=C-x;return{totalIncome:C,totalExpense:x,balance:y,operationsCount:ho.length}},w=ho.filter(C=>{const x=C.description.toLowerCase().includes(l.toLowerCase())||C.category.toLowerCase().includes(l.toLowerCase())||C.processedBy.toLowerCase().includes(l.toLowerCase()),y=c==="all"||C.type===c,g=d==="all"||C.category===d;return x&&y&&g}),b=[{field:"processedAt",headerName:"Дата",width:150,renderCell:C=>s.jsx(j,{variant:"body2",children:C.value.toLocaleDateString("ru-RU")})},{field:"type",headerName:"Тип",width:100,renderCell:C=>s.jsx(at,{label:C.value==="income"?"Доход":"Расход",color:C.value==="income"?"success":"error",size:"small"})},{field:"description",headerName:"Описание",width:200},{field:"category",headerName:"Категория",width:120},{field:"amount",headerName:"Сумма",width:120,renderCell:C=>s.jsxs(j,{variant:"body2",color:C.row.type==="income"?"success.main":"error.main",fontWeight:"600",children:[C.row.type==="income"?"+":"-","₽",C.value.toLocaleString()]})},{field:"processedBy",headerName:"Обработал",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:C=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>{i(C.row),r(!0)},children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Операция отредактирована")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Операция удалена")},children:s.jsx(Xr,{})})]})}],v=p();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Касса"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"}),s.jsxs(j,{variant:"h5",color:"success.main",fontWeight:"600",children:["₽",v.totalIncome.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(El,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общий расход"}),s.jsxs(j,{variant:"h5",color:"error.main",fontWeight:"600",children:["₽",v.totalExpense.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"error.main"},children:s.jsx(jg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Баланс"}),s.jsxs(j,{variant:"h5",color:v.balance>=0?"success.main":"error.main",fontWeight:"600",children:["₽",v.balance.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(Pg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Операций"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:v.operationsCount})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(kg,{})})]})})})})})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск операций...",value:l,onChange:C=>a(C.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип"}),s.jsxs(tt,{value:c,onChange:C=>u(C.target.value),label:"Тип",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"income",children:"Доход"}),s.jsx(le,{value:"expense",children:"Расход"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsxs(tt,{value:d,onChange:C=>h(C.target.value),label:"Категория",children:[s.jsx(le,{value:"all",children:"Все"}),Ku.map(C=>s.jsx(le,{value:C,children:C},C))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(Jo,{}),onClick:()=>{a(""),u("all"),h("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Ys,{rows:w,columns:b,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить операцию"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип операции"}),s.jsxs(tt,{defaultValue:"income",label:"Тип операции",children:[s.jsx(le,{value:"income",children:"Доход"}),s.jsx(le,{value:"expense",children:"Расход"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Сумма",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsx(tt,{defaultValue:"",label:"Категория",children:Ku.map(C=>s.jsx(le,{value:C,children:C},C))})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:2})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Операция добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Детали операции"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата и время"}),s.jsx(j,{variant:"body1",children:o.processedAt.toLocaleString("ru-RU")})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Тип операции"}),s.jsx(at,{label:o.type==="income"?"Доход":"Расход",color:o.type==="income"?"success":"error",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Сумма"}),s.jsxs(j,{variant:"h6",color:o.type==="income"?"success.main":"error.main",children:[o.type==="income"?"+":"-","₽",o.amount.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(j,{variant:"body1",children:o.description})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(j,{variant:"body1",children:o.category})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Обработал"}),s.jsx(j,{variant:"body1",children:o.processedBy})]}),o.notes&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(j,{variant:"body1",children:o.notes})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Qu=[{month:"Янв",revenue:24e5,orders:45,clients:38},{month:"Фев",revenue:22e5,orders:42,clients:35},{month:"Мар",revenue:28e5,orders:48,clients:42},{month:"Апр",revenue:26e5,orders:46,clients:40},{month:"Май",revenue:32e5,orders:52,clients:45},{month:"Июн",revenue:2847500,orders:49,clients:41}],Xu=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],S2=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],j2=[{name:"Экран iPhone 14 Pro",sold:15,revenue:375e3},{name:"Аккумулятор Samsung Galaxy S23",sold:12,revenue:42e3},{name:'Корпус MacBook Pro 16"',sold:8,revenue:36e4},{name:"Камера iPad Air 5",sold:6,revenue:48e3}],P2=[{day:"Пн",revenue:45e3},{day:"Вт",revenue:52e3},{day:"Ср",revenue:48e3},{day:"Чт",revenue:61e3},{day:"Пт",revenue:58e3},{day:"Сб",revenue:42e3},{day:"Вс",revenue:38e3}],k2=()=>{const[e,t]=f.useState(0),[n,r]=f.useState("month"),[o,i]=f.useState("revenue"),l=c=>{ke.success(`Отчет экспортирован в формате ${c}`)},a=({title:c,value:u,change:d,changeType:h,icon:m,color:p})=>s.jsx(nt.div,{whileHover:{scale:1.02},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(st,{sx:{bgcolor:p,width:56,height:56},children:m}),s.jsx(at,{label:d,color:h==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:u}),s.jsx(j,{variant:"body2",color:"text.secondary",children:c})]})})});return s.jsxs(B,{children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(j,{variant:"h4",fontWeight:"bold",children:"Отчеты"}),s.jsxs(B,{display:"flex",gap:1,children:[s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Ra,{}),onClick:()=>l("PDF"),children:"PDF"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Ra,{}),onClick:()=>l("Excel"),children:"Excel"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Eo,{}),onClick:()=>l("Print"),children:"Печать"})]})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Период"}),s.jsxs(tt,{value:n,onChange:c=>r(c.target.value),label:"Период",children:[s.jsx(le,{value:"week",children:"Неделя"}),s.jsx(le,{value:"month",children:"Месяц"}),s.jsx(le,{value:"quarter",children:"Квартал"}),s.jsx(le,{value:"year",children:"Год"})]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип отчета"}),s.jsxs(tt,{value:o,onChange:c=>i(c.target.value),label:"Тип отчета",children:[s.jsx(le,{value:"revenue",children:"Доходы"}),s.jsx(le,{value:"orders",children:"Заказы"}),s.jsx(le,{value:"clients",children:"Клиенты"}),s.jsx(le,{value:"employees",children:"Сотрудники"})]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Yu,{}),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:"Сформировать отчет"})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(yl,{}),children:"Отправить по email"})})]})})}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Общий доход",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(ed,{}),color:"#2e7d32"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Po,{}),color:"#1976d2"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Клиентов",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(ko,{}),color:"#f57c00"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Средний чек",value:"₽2,284",change:"+5%",changeType:"positive",icon:s.jsx(El,{}),color:"#9c27b0"})})]}),s.jsxs(Se,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(cd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(gn,{icon:s.jsx(Eg,{}),label:"Доходы"}),s.jsx(gn,{icon:s.jsx(Mg,{}),label:"Заказы"}),s.jsx(gn,{icon:s.jsx(Ig,{}),label:"Тренды"}),s.jsx(gn,{icon:s.jsx(ko,{}),label:"Сотрудники"}),s.jsx(gn,{icon:s.jsx(Po,{}),label:"Детализация"})]})}),s.jsxs(Ee,{children:[e===0&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Динамика доходов по месяцам"}),s.jsx(B,{height:400,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(Ng,{data:Qu,children:[s.jsx(fo,{strokeDasharray:"3 3"}),s.jsx(mo,{dataKey:"month"}),s.jsx(go,{}),s.jsx(Rr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(zg,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.3})]})})})]}),e===1&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Распределение заказов по статусам"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(fd,{children:[s.jsx(md,{data:Xu,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:Xu.map((c,u)=>s.jsx(gd,{fill:c.color},`cell-${u}`))}),s.jsx(Rr,{formatter:c=>[`${c}%`,"Процент"]})]})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(Bg,{data:Qu,children:[s.jsx(fo,{strokeDasharray:"3 3"}),s.jsx(mo,{dataKey:"month"}),s.jsx(go,{}),s.jsx(Rr,{formatter:c=>[c,"Заказы"]}),s.jsx(Hg,{dataKey:"orders",fill:"#1976d2"})]})})})})]})]}),e===2&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Тренды по дням недели"}),s.jsx(B,{height:400,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(dd,{data:P2,children:[s.jsx(fo,{strokeDasharray:"3 3"}),s.jsx(mo,{dataKey:"day"}),s.jsx(go,{}),s.jsx(Rr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(hd,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]}),e===3&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Топ сотрудников по эффективности"}),s.jsx(ps,{component:Xt,children:s.jsxs(xs,{children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Ie,{children:"Сотрудник"}),s.jsx(Ie,{align:"right",children:"Заказов"}),s.jsx(Ie,{align:"right",children:"Доход"}),s.jsx(Ie,{align:"right",children:"Рейтинг"})]})}),s.jsx(vs,{children:S2.map((c,u)=>s.jsxs(Kt,{children:[s.jsx(Ie,{children:s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(j,{variant:"body1",fontWeight:"500",children:c.name}),u<3&&s.jsx(at,{label:`#${u+1}`,size:"small",color:u===0?"warning":"default",sx:{ml:1}})]})}),s.jsx(Ie,{align:"right",children:c.orders}),s.jsxs(Ie,{align:"right",children:["₽",c.revenue.toLocaleString()]}),s.jsx(Ie,{align:"right",children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"flex-end",children:[s.jsx(j,{variant:"body2",sx:{mr:1},children:c.rating}),s.jsx(j,{color:"orange",children:"★"})]})})]},u))})]})})]}),e===4&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Топ запчастей по продажам"}),s.jsx(ps,{component:Xt,children:s.jsxs(xs,{children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Ie,{children:"Запчасть"}),s.jsx(Ie,{align:"right",children:"Продано"}),s.jsx(Ie,{align:"right",children:"Доход"})]})}),s.jsx(vs,{children:j2.map((c,u)=>s.jsxs(Kt,{children:[s.jsx(Ie,{children:s.jsx(j,{variant:"body1",fontWeight:"500",children:c.name})}),s.jsx(Ie,{align:"right",children:c.sold}),s.jsxs(Ie,{align:"right",children:["₽",c.revenue.toLocaleString()]})]},u))})]})})]})]})]})]})},E2=()=>{const[e,t]=f.useState(0),[n,r]=f.useState({profile:{name:"Администратор",email:"admin@service.com",phone:"+7 (999) 123-45-67",avatar:""},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,paymentReminders:!0,lowStockAlerts:!0},business:{companyName:"НЭК Сервис",address:"ул. Примерная, д. 1",phone:"+7 (999) 123-45-67",email:"info@service.com",workingHours:"9:00 - 18:00",timezone:"Europe/Moscow"},payment:{currency:"RUB",taxRate:20,paymentMethods:["cash","card","transfer"],installmentEnabled:!0},system:{autoBackup:!0,backupFrequency:"daily",dataRetention:365,language:"ru",theme:"light"}}),o=(c,u,d)=>{r(h=>({...h,[c]:{...h[c],[u]:d}}))},i=()=>{ke.success("Настройки сохранены")},l=()=>{ke.success("Резервная копия создана")},a=[s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Профиль пользователя"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Имя",value:n.profile.name,onChange:c=>o("profile","name",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",value:n.profile.email,onChange:c=>o("profile","email",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:n.profile.phone,onChange:c=>o("profile","phone",c.target.value)})})]})]})})})},"profile"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Уведомления"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(Js,{children:s.jsx(us,{})}),s.jsx(un,{primary:"Email уведомления",secondary:"Получать уведомления на email"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.notifications.emailNotifications,onChange:c=>o("notifications","emailNotifications",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(Js,{children:s.jsx(us,{})}),s.jsx(un,{primary:"SMS уведомления",secondary:"Получать SMS уведомления"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.notifications.smsNotifications,onChange:c=>o("notifications","smsNotifications",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(Js,{children:s.jsx(us,{})}),s.jsx(un,{primary:"Push уведомления",secondary:"Получать push уведомления в браузере"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.notifications.pushNotifications,onChange:c=>o("notifications","pushNotifications",c.target.checked)})})]})]})]})})})},"notifications"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о компании"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Название компании",value:n.business.companyName,onChange:c=>o("business","companyName",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Адрес",value:n.business.address,onChange:c=>o("business","address",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:n.business.phone,onChange:c=>o("business","phone",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",value:n.business.email,onChange:c=>o("business","email",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Рабочие часы",value:n.business.workingHours,onChange:c=>o("business","workingHours",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Часовой пояс"}),s.jsxs(tt,{value:n.business.timezone,onChange:c=>o("business","timezone",c.target.value),label:"Часовой пояс",children:[s.jsx(le,{value:"Europe/Moscow",children:"Москва (UTC+3)"}),s.jsx(le,{value:"Europe/Kiev",children:"Киев (UTC+2)"}),s.jsx(le,{value:"Asia/Almaty",children:"Алматы (UTC+6)"})]})]})})]})]})})})},"business"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Настройки платежей"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Валюта"}),s.jsxs(tt,{value:n.payment.currency,onChange:c=>o("payment","currency",c.target.value),label:"Валюта",children:[s.jsx(le,{value:"RUB",children:"Рубль (₽)"}),s.jsx(le,{value:"USD",children:"Доллар ($)"}),s.jsx(le,{value:"EUR",children:"Евро (€)"})]})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Налоговая ставка (%)",type:"number",value:n.payment.taxRate,onChange:c=>o("payment","taxRate",parseInt(c.target.value))})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Способы оплаты"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(un,{primary:"Наличные"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.payment.paymentMethods.includes("cash"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"cash"]):o("payment","paymentMethods",u.filter(d=>d!=="cash"))}})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Банковская карта"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.payment.paymentMethods.includes("card"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"card"]):o("payment","paymentMethods",u.filter(d=>d!=="card"))}})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Банковский перевод"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.payment.paymentMethods.includes("transfer"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"transfer"]):o("payment","paymentMethods",u.filter(d=>d!=="transfer"))}})})]})]})]})]})]})})})},"payment"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Системные настройки"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Язык"}),s.jsxs(tt,{value:n.system.language,onChange:c=>o("system","language",c.target.value),label:"Язык",children:[s.jsx(le,{value:"ru",children:"Русский"}),s.jsx(le,{value:"en",children:"English"}),s.jsx(le,{value:"kz",children:"Қазақша"})]})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тема"}),s.jsxs(tt,{value:n.system.theme,onChange:c=>o("system","theme",c.target.value),label:"Тема",children:[s.jsx(le,{value:"light",children:"Светлая"}),s.jsx(le,{value:"dark",children:"Темная"}),s.jsx(le,{value:"auto",children:"Автоматически"})]})]})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(Ms,{sx:{my:2}}),s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Резервное копирование"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(Js,{children:s.jsx(Na,{})}),s.jsx(un,{primary:"Автоматическое резервное копирование",secondary:"Создавать резервные копии автоматически"}),s.jsx(Vn,{children:s.jsx(Ln,{checked:n.system.autoBackup,onChange:c=>o("system","autoBackup",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Частота резервного копирования",secondary:"Как часто создавать резервные копии"}),s.jsx(Vn,{children:s.jsx(ze,{size:"small",children:s.jsxs(tt,{value:n.system.backupFrequency,onChange:c=>o("system","backupFrequency",c.target.value),children:[s.jsx(le,{value:"daily",children:"Ежедневно"}),s.jsx(le,{value:"weekly",children:"Еженедельно"}),s.jsx(le,{value:"monthly",children:"Ежемесячно"})]})})})]})]})]}),s.jsx(A,{item:!0,xs:12,children:s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Na,{}),onClick:l,children:"Создать резервную копию"})})]})]})})})},"system")];return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Настройки"}),s.jsxs(Se,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(cd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(gn,{icon:s.jsx(kl,{}),label:"Профиль"}),s.jsx(gn,{icon:s.jsx(us,{}),label:"Уведомления"}),s.jsx(gn,{icon:s.jsx(Ju,{}),label:"Компания"}),s.jsx(gn,{icon:s.jsx(Fg,{}),label:"Платежи"}),s.jsx(gn,{icon:s.jsx(Zu,{}),label:"Система"})]})}),s.jsxs(Ee,{children:[a[e],s.jsxs(B,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Tg,{}),onClick:()=>{ke.success("Настройки сброшены")},children:"Сбросить"}),s.jsx(ge,{variant:"contained",startIcon:s.jsx(ld,{}),onClick:i,children:"Сохранить"})]})]})]})]})},M2=()=>{const{isAuthenticated:e,isLoading:t}=Yl();return t?s.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"background.default",children:s.jsx(nt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(B,{width:40,height:40,border:"4px solid #f3f3f3",borderTop:"4px solid #1976d2",borderRadius:"50%"})})}):e?s.jsx(vC,{children:s.jsxs(Lg,{children:[s.jsx(an,{path:"/",element:s.jsx(za,{to:"/dashboard",replace:!0})}),s.jsx(an,{path:"/dashboard",element:s.jsx(E0,{})}),s.jsx(an,{path:"/orders",element:s.jsx(b2,{})}),s.jsx(an,{path:"/clients",element:s.jsx(v2,{})}),s.jsx(an,{path:"/inventory",element:s.jsx(y2,{})}),s.jsx(an,{path:"/employees",element:s.jsx(C2,{})}),s.jsx(an,{path:"/cash-register",element:s.jsx(w2,{})}),s.jsx(an,{path:"/reports",element:s.jsx(k2,{})}),s.jsx(an,{path:"/settings",element:s.jsx(E2,{})}),s.jsx(an,{path:"*",element:s.jsx(za,{to:"/dashboard",replace:!0})})]})}):s.jsx(S0,{})},I2=Ag({palette:{primary:{main:"#FF6B35",light:"#FF8A65",dark:"#E64A19",contrastText:"#fff"},secondary:{main:"#607D8B",light:"#90A4AE",dark:"#455A64",contrastText:"#fff"},background:{default:"#1A1A1A",paper:"#FFFFFF"},text:{primary:"#616161",secondary:"#9E9E9E"},success:{main:"#4CAF50",light:"#81C784",dark:"#388E3C"},warning:{main:"#FF9800",light:"#FFB74D",dark:"#F57C00"},error:{main:"#F44336",light:"#EF5350",dark:"#D32F2F"},grey:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#757575",900:"#616161"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:600,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43}},shape:{borderRadius:12},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"8px 16px",fontWeight:500,transition:"all 0.3s ease"},contained:{boxShadow:"0 2px 8px rgba(255, 107, 53, 0.3)","&:hover":{boxShadow:"0 4px 12px rgba(255, 107, 53, 0.4)",transform:"translateY(-1px)"}},outlined:{borderColor:"#FF6B35",color:"#FF6B35","&:hover":{backgroundColor:"rgba(255, 107, 53, 0.08)",borderColor:"#E64A19"}}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0,0,0,0.08)",borderRadius:12,border:"1px solid rgba(96, 125, 139, 0.1)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 16px rgba(0,0,0,0.12)",transform:"translateY(-2px)"}}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#FF6B35"}}},MuiChip:{styleOverrides:{root:{backgroundColor:"rgba(255, 107, 53, 0.1)",color:"#E64A19",border:"1px solid rgba(255, 107, 53, 0.2)"}}},MuiTypography:{styleOverrides:{root:{color:"#616161"},h1:{color:"#616161"},h2:{color:"#616161"},h3:{color:"#616161"},h4:{color:"#616161"},h5:{color:"#616161"},h6:{color:"#616161"},body1:{color:"#757575"},body2:{color:"#9E9E9E"},caption:{color:"#9E9E9E"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#FF6B35"},"&.Mui-focused fieldset":{borderColor:"#FF6B35"}}}}}}}),F2=new hp({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),T2=Ug.createRoot(document.getElementById("root"));T2.render(s.jsx(Ae.StrictMode,{children:s.jsx(xp,{client:F2,children:s.jsx(Rg,{children:s.jsxs(Dg,{theme:I2,children:[s.jsx(Og,{}),s.jsxs(bC,{children:[s.jsx(M2,{}),s.jsx(ox,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})]})})})}));
