var sg=Object.defineProperty;var og=(e,t,n)=>t in e?sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dr=(e,t,n)=>(og(e,typeof t!="symbol"?t+"":t,n),n);import{_ as w,a as ti,j as s,u as ig,b as lg,B,T as S,D as Ds,L as Yr,A as ag,d as cg,I as Be,M as ug,e as kl,N as gs,f as rt,g as Ua,h as dg,i as ie,k as hg,l as fg,m as mg,n as Mo,o as Fo,p as El,G as gg,q as pg,r as fd,S as md,C as xg,s as we,t as gd,v as ke,w as bg,x as se,y as xt,E as Il,z as yg,V as vg,F as is,H as me,J as D,K as hn,O as Cg,Q as fn,R as ps,U as lt,W as wg,X as Ml,Y as pd,Z as Sg,$ as xd,a0 as He,a1 as Le,a2 as ye,a3 as ln,a4 as qa,a5 as Jt,a6 as kr,a7 as ni,a8 as Sr,a9 as Lt,aa as bd,ab as ct,ac as Fl,ad as yd,ae as jg,af as Zt,ag as vd,ah as Pg,ai as Tl,aj as nn,ak as Al,al as Br,am as kg,an as Eg,ao as Ig,ap as xs,aq as ze,ar as Je,as as Mg,at as Fg,au as Ka,av as Os,aw as Tg,ax as et,ay as Bn,az as Ag,aA as Cd,aB as Dg,P as K,aC as Pi,aD as bt,aE as yt,aF as Dl,aG as vt,aH as Og,aI as Ct,aJ as wd,aK as To,aL as Cs,aM as ws,aN as Ss,aO as Qt,aP as Me,aQ as js,aR as Qa,aS as so,aT as _g,aU as Vg,aV as Cr,aW as ri,aX as zs,aY as Sd,aZ as Lg,a_ as $g,a$ as es,b0 as ts,b1 as Ya,b2 as Xa,b3 as Za,b4 as Qi,b5 as Ol,b6 as Rg,b7 as ki,b8 as Ng,b9 as _l,ba as zg,bb as Bg,bc as Hg,bd as Ja,be as jd,bf as bn,bg as Wg,bh as Gg,bi as Ug,bj as oo,bk as zn,bl as ec,bm as qg,bn as Kg,bo as Qg,bp as Yg,bq as Xg}from"./mui-4e805230.js";import{d as Vl,c as Zg,b as Fe,r as h,g as Jg}from"./vendor-73f70a13.js";import{u as ep,a as tp,R as np,b as un,N as tc,B as rp}from"./router-411f3be7.js";import{R as Hr,L as Pd,C as xo,X as bo,Y as yo,T as Wr,a as kd,P as Ed,b as Id,c as Md,A as sp,d as op,B as ip,e as lp}from"./charts-b9552695.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Yi={},nc=Vl;Yi.createRoot=nc.createRoot,Yi.hydrateRoot=nc.hydrateRoot;var si=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var o=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){o.listeners=o.listeners.filter(function(l){return l!==i}),o.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),Fd=typeof window>"u";function At(){}function ap(e,t){return typeof e=="function"?e(t):e}function cp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ao(e){return Array.isArray(e)?e:[e]}function up(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ei(e,t,n){return oi(e)?typeof t=="function"?w({},n,{queryKey:e,queryFn:t}):w({},t,{queryKey:e}):e}function Gn(e,t,n){return oi(e)?[w({},t,{queryKey:e}),n]:[e||{},t]}function dp(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function rc(e,t){var n=e.active,r=e.exact,o=e.fetching,i=e.inactive,l=e.predicate,a=e.queryKey,c=e.stale;if(oi(a)){if(r){if(t.queryHash!==Ll(a,t.options))return!1}else if(!Do(t.queryKey,a))return!1}var u=dp(n,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof o=="boolean"&&t.isFetching()!==o||l&&!l(t))}function sc(e,t){var n=e.exact,r=e.fetching,o=e.predicate,i=e.mutationKey;if(oi(i)){if(!t.options.mutationKey)return!1;if(n){if(pr(t.options.mutationKey)!==pr(i))return!1}else if(!Do(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||o&&!o(t))}function Ll(e,t){var n=(t==null?void 0:t.queryKeyHashFn)||pr;return n(e)}function pr(e){var t=Ao(e);return hp(t)}function hp(e){return JSON.stringify(e,function(t,n){return Xi(n)?Object.keys(n).sort().reduce(function(r,o){return r[o]=n[o],r},{}):n})}function Do(e,t){return Td(Ao(e),Ao(t))}function Td(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!Td(e[n],t[n])}):!1}function Ad(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||Xi(e)&&Xi(t)){for(var r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},a=0,c=0;c<i;c++){var u=n?c:o[c];l[u]=Ad(e[u],t[u]),l[u]===e[u]&&a++}return r===i&&a===r?e:l}return t}function Xi(e){if(!oc(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!oc(n)||!n.hasOwnProperty("isPrototypeOf"))}function oc(e){return Object.prototype.toString.call(e)==="[object Object]"}function oi(e){return typeof e=="string"||Array.isArray(e)}function fp(e){return new Promise(function(t){setTimeout(t,e)})}function ic(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Dd(){if(typeof AbortController=="function")return new AbortController}var mp=function(e){ti(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!Fd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setFocused(a):l.onFocus()})},n.setFocused=function(o){this.focused=o,o&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(o){o()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(si),vo=new mp,gp=function(e){ti(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!Fd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setOnline(a):l.onOnline()})},n.setOnline=function(o){this.online=o,o&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(o){o()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(si),Co=new gp;function pp(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Oo(e){return typeof(e==null?void 0:e.cancel)=="function"}var Od=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Ii(e){return e instanceof Od}var _d=function(t){var n=this,r=!1,o,i,l,a;this.abort=t.abort,this.cancel=function(m){return o==null?void 0:o(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,p){l=m,a=p});var c=function(p){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(p),i==null||i(),l(p))},u=function(p){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(p),i==null||i(),a(p))},d=function(){return new Promise(function(p){i=p,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function m(){if(!n.isResolved){var p;try{p=t.fn()}catch(v){p=Promise.reject(v)}o=function(b){if(!n.isResolved&&(u(new Od(b)),n.abort==null||n.abort(),Oo(p)))try{p.cancel()}catch{}},n.isTransportCancelable=Oo(p),Promise.resolve(p).then(c).catch(function(v){var b,g;if(!n.isResolved){var C=(b=t.retry)!=null?b:3,P=(g=t.retryDelay)!=null?g:pp,y=typeof P=="function"?P(n.failureCount,v):P,x=C===!0||typeof C=="number"&&n.failureCount<C||typeof C=="function"&&C(n.failureCount,v);if(r||!x){u(v);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,v),fp(y).then(function(){if(!vo.isFocused()||!Co.isOnline())return d()}).then(function(){r?u(v):m()})}})}};f()},xp=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var o;this.transactions++;try{o=r()}finally{this.transactions--,this.transactions||this.flush()}return o},t.schedule=function(r){var o=this;this.transactions?this.queue.push(r):ic(function(){o.notifyFn(r)})},t.batchCalls=function(r){var o=this;return function(){for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];o.schedule(function(){r.apply(void 0,l)})}},t.flush=function(){var r=this,o=this.queue;this.queue=[],o.length&&ic(function(){r.batchNotifyFn(function(){o.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),jt=new xp,Vd=console;function Ld(){return Vd}function bp(e){Vd=e}var yp=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var o;this.options=w({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(o=this.options.cacheTime)!=null?o:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),cp(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,o){var i,l,a=this.state.data,c=ap(r,a);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,a,c)?c=a:this.options.structuralSharing!==!1&&(c=Ad(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt}),c},t.setState=function(r,o){this.dispatch({type:"setState",state:r,setStateOptions:o})},t.cancel=function(r){var o,i=this.promise;return(o=this.retryer)==null||o.cancel(r),i?i.then(At).catch(At):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!up(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnReconnect()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(o){return o!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,o){var i=this,l,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(P){return P.options.queryFn});d&&this.setOptions(d.options)}var f=Ao(this.queryKey),m=Dd(),p={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(m)return i.abortSignalConsumed=!0,m.signal}});var v=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(p)):Promise.reject("Missing queryFn")},b={fetchOptions:o,options:this.options,queryKey:f,state:this.state,fetchFn:v,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var g;(g=this.options.behavior)==null||g.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=b.fetchOptions)==null?void 0:a.meta)){var C;this.dispatch({type:"fetch",meta:(C=b.fetchOptions)==null?void 0:C.meta})}return this.retryer=new _d({fn:b.fetchFn,abort:m==null||(c=m.abort)==null?void 0:c.bind(m),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){Ii(y)&&y.silent||i.dispatch({type:"error",error:y}),Ii(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),Ld().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var o=this;this.state=this.reducer(this.state,r),jt.batch(function(){o.observers.forEach(function(i){i.onQueryUpdate(r)}),o.cache.notify({query:o,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var o=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",l=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof o<"u";return{data:o,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(r,o){var i,l;switch(o.type){case"failed":return w({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return w({},r,{isPaused:!0});case"continue":return w({},r,{isPaused:!1});case"fetch":return w({},r,{fetchFailureCount:0,fetchMeta:(i=o.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return w({},r,{data:o.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=o.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=o.error;return Ii(a)&&a.revert&&this.revertState?w({},this.revertState):w({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return w({},r,{isInvalidated:!0});case"setState":return w({},r,o.state);default:return r}},e}(),vp=function(e){ti(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.queries=[],o.queriesMap={},o}var n=t.prototype;return n.build=function(o,i,l){var a,c=i.queryKey,u=(a=i.queryHash)!=null?a:Ll(c,i),d=this.get(u);return d||(d=new yp({cache:this,queryKey:c,queryHash:u,options:o.defaultQueryOptions(i),state:l,defaultOptions:o.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},n.add=function(o){this.queriesMap[o.queryHash]||(this.queriesMap[o.queryHash]=o,this.queries.push(o),this.notify({type:"queryAdded",query:o}))},n.remove=function(o){var i=this.queriesMap[o.queryHash];i&&(o.destroy(),this.queries=this.queries.filter(function(l){return l!==o}),i===o&&delete this.queriesMap[o.queryHash],this.notify({type:"queryRemoved",query:o}))},n.clear=function(){var o=this;jt.batch(function(){o.queries.forEach(function(i){o.remove(i)})})},n.get=function(o){return this.queriesMap[o]},n.getAll=function(){return this.queries},n.find=function(o,i){var l=Gn(o,i),a=l[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return rc(a,c)})},n.findAll=function(o,i){var l=Gn(o,i),a=l[0];return Object.keys(a).length>0?this.queries.filter(function(c){return rc(a,c)}):this.queries},n.notify=function(o){var i=this;jt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){var o=this;jt.batch(function(){o.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var o=this;jt.batch(function(){o.queries.forEach(function(i){i.onOnline()})})},t}(si),Cp=function(){function e(n){this.options=w({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||wp(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(o){return o!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(At).catch(At)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,o,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),l.then(function(){return r.executeMutation()}).then(function(a){o=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(o,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(o,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:o}),o}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Ld().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var r=this,o;return this.retryer=new _d({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var o=this;this.state=Sp(this.state,r),jt.batch(function(){o.observers.forEach(function(i){i.onMutationUpdate(r)}),o.mutationCache.notify(o)})},e}();function wp(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Sp(e,t){switch(t.type){case"failed":return w({},e,{failureCount:e.failureCount+1});case"pause":return w({},e,{isPaused:!0});case"continue":return w({},e,{isPaused:!1});case"loading":return w({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return w({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return w({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return w({},e,t.state);default:return e}}var jp=function(e){ti(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.mutations=[],o.mutationId=0,o}var n=t.prototype;return n.build=function(o,i,l){var a=new Cp({mutationCache:this,mutationId:++this.mutationId,options:o.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?o.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(o){this.mutations.push(o),this.notify(o)},n.remove=function(o){this.mutations=this.mutations.filter(function(i){return i!==o}),o.cancel(),this.notify(o)},n.clear=function(){var o=this;jt.batch(function(){o.mutations.forEach(function(i){o.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(o){return typeof o.exact>"u"&&(o.exact=!0),this.mutations.find(function(i){return sc(o,i)})},n.findAll=function(o){return this.mutations.filter(function(i){return sc(o,i)})},n.notify=function(o){var i=this;jt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var o=this.mutations.filter(function(i){return i.state.isPaused});return jt.batch(function(){return o.reduce(function(i,l){return i.then(function(){return l.continue().catch(At)})},Promise.resolve())})},t}(si);function Pp(){return{onFetch:function(t){t.fetchFn=function(){var n,r,o,i,l,a,c=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(o=t.fetchOptions)==null||(i=o.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",m=(u==null?void 0:u.direction)==="backward",p=((l=t.state.data)==null?void 0:l.pages)||[],v=((a=t.state.data)==null?void 0:a.pageParams)||[],b=Dd(),g=b==null?void 0:b.signal,C=v,P=!1,y=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},x=function(I,A,L,H){return C=H?[A].concat(C):[].concat(C,[A]),H?[L].concat(I):[].concat(I,[L])},j=function(I,A,L,H){if(P)return Promise.reject("Cancelled");if(typeof L>"u"&&!A&&I.length)return Promise.resolve(I);var R={queryKey:t.queryKey,signal:g,pageParam:L,meta:t.meta},N=y(R),W=Promise.resolve(N).then(function(Z){return x(I,L,Z,H)});if(Oo(N)){var q=W;q.cancel=N.cancel}return W},O;if(!p.length)O=j([]);else if(f){var k=typeof d<"u",E=k?d:lc(t.options,p);O=j(p,k,E)}else if(m){var T=typeof d<"u",V=T?d:kp(t.options,p);O=j(p,T,V,!0)}else(function(){C=[];var $=typeof t.options.getNextPageParam>"u",I=c&&p[0]?c(p[0],0,p):!0;O=I?j([],$,v[0]):Promise.resolve(x([],v[0],p[0]));for(var A=function(R){O=O.then(function(N){var W=c&&p[R]?c(p[R],R,p):!0;if(W){var q=$?v[R]:lc(t.options,N);return j(N,$,q)}return Promise.resolve(x(N,v[R],p[R]))})},L=1;L<p.length;L++)A(L)})();var _=O.then(function($){return{pages:$,pageParams:C}}),z=_;return z.cancel=function(){P=!0,b==null||b.abort(),Oo(O)&&O.cancel()},_}}}}function lc(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function kp(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var Ep=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new vp,this.mutationCache=n.mutationCache||new jp,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=vo.subscribe(function(){vo.isFocused()&&Co.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Co.subscribe(function(){vo.isFocused()&&Co.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,o;(r=this.unsubscribeFocus)==null||r.call(this),(o=this.unsubscribeOnline)==null||o.call(this)},t.isFetching=function(r,o){var i=Gn(r,o),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(r){return this.mutationCache.findAll(w({},r,{fetching:!0})).length},t.getQueryData=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(o){var i=o.queryKey,l=o.state,a=l.data;return[i,a]})},t.setQueryData=function(r,o,i){var l=Ei(r),a=this.defaultQueryOptions(l);return this.queryCache.build(this,a).setData(o,i)},t.setQueriesData=function(r,o,i){var l=this;return jt.batch(function(){return l.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,l.setQueryData(c,o,i)]})})},t.getQueryState=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state},t.removeQueries=function(r,o){var i=Gn(r,o),l=i[0],a=this.queryCache;jt.batch(function(){a.findAll(l).forEach(function(c){a.remove(c)})})},t.resetQueries=function(r,o,i){var l=this,a=Gn(r,o,i),c=a[0],u=a[1],d=this.queryCache,f=w({},c,{active:!0});return jt.batch(function(){return d.findAll(c).forEach(function(m){m.reset()}),l.refetchQueries(f,u)})},t.cancelQueries=function(r,o,i){var l=this,a=Gn(r,o,i),c=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=jt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.cancel(d)})});return Promise.all(f).then(At).catch(At)},t.invalidateQueries=function(r,o,i){var l,a,c,u=this,d=Gn(r,o,i),f=d[0],m=d[1],p=w({},f,{active:(l=(a=f.refetchActive)!=null?a:f.active)!=null?l:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return jt.batch(function(){return u.queryCache.findAll(f).forEach(function(v){v.invalidate()}),u.refetchQueries(p,m)})},t.refetchQueries=function(r,o,i){var l=this,a=Gn(r,o,i),c=a[0],u=a[1],d=jt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.fetch(void 0,w({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),f=Promise.all(d).then(At);return u!=null&&u.throwOnError||(f=f.catch(At)),f},t.fetchQuery=function(r,o,i){var l=Ei(r,o,i),a=this.defaultQueryOptions(l);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},t.prefetchQuery=function(r,o,i){return this.fetchQuery(r,o,i).then(At).catch(At)},t.fetchInfiniteQuery=function(r,o,i){var l=Ei(r,o,i);return l.behavior=Pp(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(r,o,i){return this.fetchInfiniteQuery(r,o,i).then(At).catch(At)},t.cancelMutations=function(){var r=this,o=jt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(o).then(At).catch(At)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,o){var i=this.queryDefaults.find(function(l){return pr(r)===pr(l.queryKey)});i?i.defaultOptions=o:this.queryDefaults.push({queryKey:r,defaultOptions:o})},t.getQueryDefaults=function(r){var o;return r?(o=this.queryDefaults.find(function(i){return Do(r,i.queryKey)}))==null?void 0:o.defaultOptions:void 0},t.setMutationDefaults=function(r,o){var i=this.mutationDefaults.find(function(l){return pr(r)===pr(l.mutationKey)});i?i.defaultOptions=o:this.mutationDefaults.push({mutationKey:r,defaultOptions:o})},t.getMutationDefaults=function(r){var o;return r?(o=this.mutationDefaults.find(function(i){return Do(r,i.mutationKey)}))==null?void 0:o.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var o=w({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!o.queryHash&&o.queryKey&&(o.queryHash=Ll(o.queryKey,o)),o},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:w({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),Ip=Zg.unstable_batchedUpdates;jt.setBatchNotifyFunction(Ip);var Mp=console;bp(Mp);var ac=Fe.createContext(void 0),Fp=Fe.createContext(!1);function Tp(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ac),window.ReactQueryClientContext):ac}var Ap=function(t){var n=t.client,r=t.contextSharing,o=r===void 0?!1:r,i=t.children;Fe.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var l=Tp(o);return Fe.createElement(Fp.Provider,{value:o},Fe.createElement(l.Provider,{value:n},i))};let Dp={data:""},Op=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Dp},_p=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vp=/\/\*[^]*?\*\/|  +/g,cc=/\n+/g,Yn=(e,t)=>{let n="",r="",o="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":r+=i[1]=="f"?Yn(l,i):i+"{"+Yn(l,i[1]=="k"?"":t)+"}":typeof l=="object"?r+=Yn(l,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Yn.p?Yn.p(i,l):i+":"+l+";")}return n+(t&&o?t+"{"+o+"}":o)+r},Sn={},$d=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+$d(e[n]);return t}return e},Lp=(e,t,n,r,o)=>{let i=$d(e),l=Sn[i]||(Sn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Sn[l]){let c=i!==e?e:(u=>{let d,f,m=[{}];for(;d=_p.exec(u.replace(Vp,""));)d[4]?m.shift():d[3]?(f=d[3].replace(cc," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(cc," ").trim();return m[0]})(e);Sn[l]=Yn(o?{["@keyframes "+l]:c}:c,n?"":"."+l)}let a=n&&Sn.g?Sn.g:null;return n&&(Sn.g=Sn[l]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Sn[l],t,r,a),l},$p=(e,t,n)=>e.reduce((r,o,i)=>{let l=t[i];if(l&&l.call){let a=l(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=c?"."+c:a&&typeof a=="object"?a.props?"":Yn(a,""):a===!1?"":a}return r+o+(l??"")},"");function ii(e){let t=this||{},n=e.call?e(t.p):e;return Lp(n.unshift?n.raw?$p(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,Op(t.target),t.g,t.o,t.k)}let Rd,Zi,Ji;ii.bind({g:1});let _n=ii.bind({k:1});function Rp(e,t,n,r){Yn.p=t,Rd=e,Zi=n,Ji=r}function lr(e,t){let n=this||{};return function(){let r=arguments;function o(i,l){let a=Object.assign({},i),c=a.className||o.className;n.p=Object.assign({theme:Zi&&Zi()},a),n.o=/ *go\d+/.test(c),a.className=ii.apply(n,r)+(c?" "+c:""),t&&(a.ref=l);let u=e;return e[0]&&(u=a.as||e,delete a.as),Ji&&u[0]&&Ji(a),Rd(u,a)}return t?t(o):o}}var Np=e=>typeof e=="function",_o=(e,t)=>Np(e)?e(t):e,zp=(()=>{let e=0;return()=>(++e).toString()})(),Nd=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Bp=20,$l="default",zd=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return zd(e,{type:e.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(l=>l.id===o||o===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},wo=[],Bd={toasts:[],pausedAt:void 0,settings:{toastLimit:Bp}},yn={},Hd=(e,t=$l)=>{yn[t]=zd(yn[t]||Bd,e),wo.forEach(([n,r])=>{n===t&&r(yn[t])})},Wd=e=>Object.keys(yn).forEach(t=>Hd(e,t)),Hp=e=>Object.keys(yn).find(t=>yn[t].toasts.some(n=>n.id===e)),li=(e=$l)=>t=>{Hd(t,e)},Wp={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Gp=(e={},t=$l)=>{let[n,r]=h.useState(yn[t]||Bd),o=h.useRef(yn[t]);h.useEffect(()=>(o.current!==yn[t]&&r(yn[t]),wo.push([t,r]),()=>{let l=wo.findIndex(([a])=>a===t);l>-1&&wo.splice(l,1)}),[t]);let i=n.toasts.map(l=>{var a,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((a=e[l.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Wp[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...n,toasts:i}},Up=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||zp()}),Bs=e=>(t,n)=>{let r=Up(t,e,n);return li(r.toasterId||Hp(r.id))({type:2,toast:r}),r.id},wt=(e,t)=>Bs("blank")(e,t);wt.error=Bs("error");wt.success=Bs("success");wt.loading=Bs("loading");wt.custom=Bs("custom");wt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?li(t)(n):Wd(n)};wt.dismissAll=e=>wt.dismiss(void 0,e);wt.remove=(e,t)=>{let n={type:4,toastId:e};t?li(t)(n):Wd(n)};wt.removeAll=e=>wt.remove(void 0,e);wt.promise=(e,t,n)=>{let r=wt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let i=t.success?_o(t.success,o):void 0;return i?wt.success(i,{id:r,...n,...n==null?void 0:n.success}):wt.dismiss(r),o}).catch(o=>{let i=t.error?_o(t.error,o):void 0;i?wt.error(i,{id:r,...n,...n==null?void 0:n.error}):wt.dismiss(r)}),e};var qp=1e3,Kp=(e,t="default")=>{let{toasts:n,pausedAt:r}=Gp(e,t),o=h.useRef(new Map).current,i=h.useCallback((f,m=qp)=>{if(o.has(f))return;let p=setTimeout(()=>{o.delete(f),l({type:4,toastId:f})},m);o.set(f,p)},[]);h.useEffect(()=>{if(r)return;let f=Date.now(),m=n.map(p=>{if(p.duration===1/0)return;let v=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(v<0){p.visible&&wt.dismiss(p.id);return}return setTimeout(()=>wt.dismiss(p.id,t),v)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[n,r,t]);let l=h.useCallback(li(t),[t]),a=h.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=h.useCallback((f,m)=>{l({type:1,toast:{id:f,height:m}})},[l]),u=h.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),d=h.useCallback((f,m)=>{let{reverseOrder:p=!1,gutter:v=8,defaultPosition:b}=m||{},g=n.filter(y=>(y.position||b)===(f.position||b)&&y.height),C=g.findIndex(y=>y.id===f.id),P=g.filter((y,x)=>x<C&&y.visible).length;return g.filter(y=>y.visible).slice(...p?[P+1]:[0,P]).reduce((y,x)=>y+(x.height||0)+v,0)},[n]);return h.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=o.get(f.id);m&&(clearTimeout(m),o.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:a,endPause:u,calculateOffset:d}}},Qp=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yp=_n`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xp=_n`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Zp=lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yp} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xp} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Jp=_n`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ex=lr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Jp} 1s linear infinite;
`,tx=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nx=_n`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rx=lr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sx=lr("div")`
  position: absolute;
`,ox=lr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ix=_n`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lx=lr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ix} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ax=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?h.createElement(lx,null,t):t:n==="blank"?null:h.createElement(ox,null,h.createElement(ex,{...r}),n!=="loading"&&h.createElement(sx,null,n==="error"?h.createElement(Zp,{...r}):h.createElement(rx,{...r})))},cx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ux=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dx="0%{opacity:0;} 100%{opacity:1;}",hx="0%{opacity:1;} 100%{opacity:0;}",fx=lr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mx=lr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gx=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Nd()?[dx,hx]:[cx(n),ux(n)];return{animation:t?`${_n(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_n(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},px=h.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?gx(e.position||t||"top-center",e.visible):{opacity:0},i=h.createElement(ax,{toast:e}),l=h.createElement(mx,{...e.ariaProps},_o(e.message,e));return h.createElement(fx,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:i,message:l}):h.createElement(h.Fragment,null,i,l))});Rp(h.createElement);var xx=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let i=h.useCallback(l=>{if(l){let a=()=>{let c=l.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return h.createElement("div",{ref:i,className:t,style:n},o)},bx=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Nd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},yx=ii`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,io=16,vx=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,toasterId:i,containerStyle:l,containerClassName:a})=>{let{toasts:c,handlers:u}=Kp(n,i);return h.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:io,left:io,right:io,bottom:io,pointerEvents:"none",...l},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,m=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),p=bx(f,m);return h.createElement(xx,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?yx:"",style:p},d.type==="custom"?_o(d.message,d):o?o(d):h.createElement(px,{toast:d,position:f}))}))},Pe=wt;const Gd=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ai=h.createContext({}),Rl=h.createContext(null),ci=typeof document<"u",Cx=ci?h.useLayoutEffect:h.useEffect,Ud=h.createContext({strict:!1}),Nl=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),wx="framerAppearId",qd="data-"+Nl(wx);function Sx(e,t,n,r){const{visualElement:o}=h.useContext(ai),i=h.useContext(Ud),l=h.useContext(Rl),a=h.useContext(Gd).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,l)});const d=h.useRef(!!(n[qd]&&!window.HandoffComplete));return Cx(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Gr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jx(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Gr(n)&&(n.current=r))},[t])}function _s(e){return typeof e=="string"||Array.isArray(e)}function ui(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const zl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bl=["initial",...zl];function di(e){return ui(e.animate)||Bl.some(t=>_s(e[t]))}function Kd(e){return!!(di(e)||e.variants)}function Px(e,t){if(di(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_s(n)?n:void 0,animate:_s(r)?r:void 0}}return e.inherit!==!1?t:{}}function kx(e){const{initial:t,animate:n}=Px(e,h.useContext(ai));return h.useMemo(()=>({initial:t,animate:n}),[uc(t),uc(n)])}function uc(e){return Array.isArray(e)?e.join(" "):e}const dc={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const e in dc)Vs[e]={isEnabled:t=>dc[e].some(n=>!!t[n])};function Ex(e){for(const t in e)Vs[t]={...Vs[t],...e[t]}}const Qd=h.createContext({}),Yd=h.createContext({}),Ix=Symbol.for("motionComponentSymbol");function Mx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&Ex(e);function i(a,c){let u;const d={...h.useContext(Gd),...a,layoutId:Fx(a)},{isStatic:f}=d,m=kx(a),p=r(a,f);if(!f&&ci){m.visualElement=Sx(o,p,d,t);const v=h.useContext(Yd),b=h.useContext(Ud).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,b,e,v))}return h.createElement(ai.Provider,{value:m},u&&m.visualElement?h.createElement(u,{visualElement:m.visualElement,...d}):null,n(o,a,jx(p,m.visualElement,c),p,f,m.visualElement))}const l=h.forwardRef(i);return l[Ix]=o,l}function Fx({layoutId:e}){const t=h.useContext(Qd).id;return t&&e!==void 0?t+"-"+e:e}function Tx(e){function t(r,o={}){return Mx(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const Ax=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hl(e){return typeof e!="string"||e.includes("-")?!1:!!(Ax.indexOf(e)>-1||/[A-Z]/.test(e))}const Vo={};function Dx(e){Object.assign(Vo,e)}const Hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Er=new Set(Hs);function Xd(e,{layout:t,layoutId:n}){return Er.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vo[e]||e==="opacity")}const Bt=e=>!!(e&&e.getVelocity),Ox={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_x=Hs.length;function Vx(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let l=0;l<_x;l++){const a=Hs[l];if(e[a]!==void 0){const c=Ox[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Zd=e=>t=>typeof t=="string"&&t.startsWith(e),Jd=Zd("--"),el=Zd("var(--"),Lx=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,$x=(e,t)=>t&&typeof e=="number"?t.transform(e):e,nr=(e,t,n)=>Math.min(Math.max(n,e),t),Ir={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ps={...Ir,transform:e=>nr(0,1,e)},lo={...Ir,default:1},ks=e=>Math.round(e*1e5)/1e5,hi=/(-)?([\d]*\.?[\d])+/g,eh=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Rx=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ws(e){return typeof e=="string"}const Gs=e=>({test:t=>Ws(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hn=Gs("deg"),vn=Gs("%"),Ie=Gs("px"),Nx=Gs("vh"),zx=Gs("vw"),hc={...vn,parse:e=>vn.parse(e)/100,transform:e=>vn.transform(e*100)},fc={...Ir,transform:Math.round},th={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:lo,scaleX:lo,scaleY:lo,scaleZ:lo,skew:Hn,skewX:Hn,skewY:Hn,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Ps,originX:hc,originY:hc,originZ:Ie,zIndex:fc,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:fc};function Wl(e,t,n,r){const{style:o,vars:i,transform:l,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(Jd(f)){i[f]=m;continue}const p=th[f],v=$x(m,p);if(Er.has(f)){if(c=!0,l[f]=v,!d)continue;m!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=Vx(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=a;o.transformOrigin=`${f} ${m} ${p}`}}const Gl=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nh(e,t,n){for(const r in t)!Bt(t[r])&&!Xd(r,n)&&(e[r]=t[r])}function Bx({transformTemplate:e},t,n){return h.useMemo(()=>{const r=Gl();return Wl(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Hx(e,t,n){const r=e.style||{},o={};return nh(o,r,e),Object.assign(o,Bx(e,t,n)),e.transformValues?e.transformValues(o):o}function Wx(e,t,n){const r={},o=Hx(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Gx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Gx.has(e)}let rh=e=>!Lo(e);function Ux(e){e&&(rh=t=>t.startsWith("on")?!Lo(t):e(t))}try{Ux(require("@emotion/is-prop-valid").default)}catch{}function qx(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(rh(o)||n===!0&&Lo(o)||!t&&!Lo(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function mc(e,t,n){return typeof e=="string"?e:Ie.transform(t+n*e)}function Kx(e,t,n){const r=mc(t,e.x,e.width),o=mc(n,e.y,e.height);return`${r} ${o}`}const Qx={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yx={offset:"strokeDashoffset",array:"strokeDasharray"};function Xx(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?Qx:Yx;e[i.offset]=Ie.transform(-r);const l=Ie.transform(t),a=Ie.transform(n);e[i.array]=`${l} ${a}`}function Ul(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:l,pathSpacing:a=1,pathOffset:c=0,...u},d,f,m){if(Wl(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:v,dimensions:b}=e;p.transform&&(b&&(v.transform=p.transform),delete p.transform),b&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Kx(b,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),l!==void 0&&Xx(p,l,a,c,!1)}const sh=()=>({...Gl(),attrs:{}}),ql=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Zx(e,t,n,r){const o=h.useMemo(()=>{const i=sh();return Ul(i,t,{enableHardwareAcceleration:!1},ql(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nh(i,e.style,e),o.style={...i,...o.style}}return o}function Jx(e=!1){return(n,r,o,{latestValues:i},l)=>{const c=(Hl(n)?Zx:Wx)(r,i,l,n),d={...qx(r,typeof n=="string",e),...c,ref:o},{children:f}=r,m=h.useMemo(()=>Bt(f)?f.get():f,[f]);return h.createElement(n,{...d,children:m})}}function oh(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const ih=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lh(e,t,n,r){oh(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(ih.has(o)?o:Nl(o),t.attrs[o])}function Kl(e,t){const{style:n}=e,r={};for(const o in n)(Bt(n[o])||t.style&&Bt(t.style[o])||Xd(o,e))&&(r[o]=n[o]);return r}function ah(e,t){const n=Kl(e,t);for(const r in e)if(Bt(e[r])||Bt(t[r])){const o=Hs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Ql(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function eb(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const $o=e=>Array.isArray(e),tb=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nb=e=>$o(e)?e[e.length-1]||0:e;function So(e){const t=Bt(e)?e.get():e;return tb(t)?t.toValue():t}function rb({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const l={latestValues:sb(r,o,i,e),renderState:t()};return n&&(l.mount=a=>n(r,a,l)),l}const ch=e=>(t,n)=>{const r=h.useContext(ai),o=h.useContext(Rl),i=()=>rb(e,t,r,o);return n?i():eb(i)};function sb(e,t,n,r){const o={},i=r(e,{});for(const m in i)o[m]=So(i[m]);let{initial:l,animate:a}=e;const c=di(e),u=Kd(e);t&&u&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const f=d?a:l;return f&&typeof f!="boolean"&&!ui(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const v=Ql(e,p);if(!v)return;const{transitionEnd:b,transition:g,...C}=v;for(const P in C){let y=C[P];if(Array.isArray(y)){const x=d?y.length-1:0;y=y[x]}y!==null&&(o[P]=y)}for(const P in b)o[P]=b[P]}),o}const ut=e=>e;class gc{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ob(e){let t=new gc,n=new gc,r=0,o=!1,i=!1;const l=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,m=f?t:n;return u&&l.add(c),m.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),l.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),l.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const ao=["prepare","read","update","preRender","render","postRender"],ib=40;function lb(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=ao.reduce((f,m)=>(f[m]=ob(()=>n=!0),f),{}),l=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,ib),1),o.timestamp=f,o.isProcessing=!0,ao.forEach(l),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:ao.reduce((f,m)=>{const p=i[m];return f[m]=(v,b=!1,g=!1)=>(n||c(),p.schedule(v,b,g)),f},{}),cancel:f=>ao.forEach(m=>i[m].cancel(f)),state:o,steps:i}}const{schedule:st,cancel:Vn,state:Pt,steps:Mi}=lb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0),ab={useVisualState:ch({scrapeMotionValuesFromProps:ah,createRenderState:sh,onMount:(e,t,{renderState:n,latestValues:r})=>{st.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),st.render(()=>{Ul(n,r,{enableHardwareAcceleration:!1},ql(t.tagName),e.transformTemplate),lh(t,n)})}})},cb={useVisualState:ch({scrapeMotionValuesFromProps:Kl,createRenderState:Gl})};function ub(e,{forwardMotionProps:t=!1},n,r){return{...Hl(e)?ab:cb,preloadedFeatures:n,useRender:Jx(t),createVisualElement:r,Component:e}}function Fn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function fi(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const db=e=>t=>uh(t)&&e(t,fi(t));function An(e,t,n,r){return Fn(e,t,db(n),r)}const hb=(e,t)=>n=>t(e(n)),Jn=(...e)=>e.reduce(hb);function dh(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const pc=dh("dragHorizontal"),xc=dh("dragVertical");function hh(e){let t=!1;if(e==="y")t=xc();else if(e==="x")t=pc();else{const n=pc(),r=xc();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function fh(){const e=hh(!0);return e?(e(),!1):!0}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}function bc(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,l)=>{if(i.pointerType==="touch"||fh())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&st.update(()=>a[r](i,l))};return An(e.current,n,o,{passive:!e.getProps()[r]})}class fb extends ar{mount(){this.unmount=Jn(bc(this.node,!0),bc(this.node,!1))}unmount(){}}class mb extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jn(Fn(this.node.current,"focus",()=>this.onFocus()),Fn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mh=(e,t)=>t?e===t?!0:mh(e,t.parentElement):!1;function Fi(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,fi(n))}class gb extends ar{constructor(){super(...arguments),this.removeStartListeners=ut,this.removeEndListeners=ut,this.removeAccessibleListeners=ut,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=An(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();st.update(()=>{!f&&!mh(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),l=An(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Jn(i,l),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=a=>{a.key!=="Enter"||!this.checkPressEnd()||Fi("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&st.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Fn(this.node.current,"keyup",l),Fi("down",(a,c)=>{this.startPress(a,c)})},n=Fn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Fi("cancel",(i,l)=>this.cancelPress(i,l))},o=Fn(this.node.current,"blur",r);this.removeAccessibleListeners=Jn(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&st.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fh()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&st.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=An(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Fn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tl=new WeakMap,Ti=new WeakMap,pb=e=>{const t=tl.get(e.target);t&&t(e)},xb=e=>{e.forEach(pb)};function bb({root:e,...t}){const n=e||document;Ti.has(n)||Ti.set(n,{});const r=Ti.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(xb,{root:e,...t})),r[o]}function yb(e,t,n){const r=bb(t);return tl.set(e,n),r.observe(e),()=>{tl.delete(e),r.unobserve(e)}}const vb={some:0,all:1};class Cb extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:vb[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return yb(this.node.current,l,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wb(t,n))&&this.startObserver()}unmount(){}}function wb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sb={inView:{Feature:Cb},tap:{Feature:gb},focus:{Feature:mb},hover:{Feature:fb}};function gh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function jb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Pb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function mi(e,t,n){const r=e.getProps();return Ql(r,t,n!==void 0?n:r.custom,jb(e),Pb(e))}let kb=ut,Yl=ut;const er=e=>e*1e3,Dn=e=>e/1e3,Eb={current:!1},ph=e=>Array.isArray(e)&&typeof e[0]=="number";function xh(e){return!!(!e||typeof e=="string"&&bh[e]||ph(e)||Array.isArray(e)&&e.every(xh))}const bs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,bh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bs([0,.65,.55,1]),circOut:bs([.55,0,1,.45]),backIn:bs([.31,.01,.66,-.59]),backOut:bs([.33,1.53,.69,.99])};function yh(e){if(e)return ph(e)?bs(e):Array.isArray(e)?e.map(yh):bh[e]}function Ib(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:l="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=yh(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function Mb(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const vh=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fb=1e-7,Tb=12;function Ab(e,t,n,r,o){let i,l,a=0;do l=t+(n-t)/2,i=vh(l,r,o)-e,i>0?n=l:t=l;while(Math.abs(i)>Fb&&++a<Tb);return l}function Us(e,t,n,r){if(e===t&&n===r)return ut;const o=i=>Ab(i,0,1,e,n);return i=>i===0||i===1?i:vh(o(i),t,r)}const Db=Us(.42,0,1,1),Ob=Us(0,0,.58,1),Ch=Us(.42,0,.58,1),_b=e=>Array.isArray(e)&&typeof e[0]!="number",wh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sh=e=>t=>1-e(1-t),Xl=e=>1-Math.sin(Math.acos(e)),jh=Sh(Xl),Vb=wh(Xl),Ph=Us(.33,1.53,.69,.99),Zl=Sh(Ph),Lb=wh(Zl),$b=e=>(e*=2)<1?.5*Zl(e):.5*(2-Math.pow(2,-10*(e-1))),Rb={linear:ut,easeIn:Db,easeInOut:Ch,easeOut:Ob,circIn:Xl,circInOut:Vb,circOut:jh,backIn:Zl,backInOut:Lb,backOut:Ph,anticipate:$b},yc=e=>{if(Array.isArray(e)){Yl(e.length===4);const[t,n,r,o]=e;return Us(t,n,r,o)}else if(typeof e=="string")return Rb[e];return e},Jl=(e,t)=>n=>!!(Ws(n)&&Rx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),kh=(e,t,n)=>r=>{if(!Ws(r))return r;const[o,i,l,a]=r.match(hi);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(l),alpha:a!==void 0?parseFloat(a):1}},Nb=e=>nr(0,255,e),Ai={...Ir,transform:e=>Math.round(Nb(e))},xr={test:Jl("rgb","red"),parse:kh("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ai.transform(e)+", "+Ai.transform(t)+", "+Ai.transform(n)+", "+ks(Ps.transform(r))+")"};function zb(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const nl={test:Jl("#"),parse:zb,transform:xr.transform},Ur={test:Jl("hsl","hue"),parse:kh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+vn.transform(ks(t))+", "+vn.transform(ks(n))+", "+ks(Ps.transform(r))+")"},Dt={test:e=>xr.test(e)||nl.test(e)||Ur.test(e),parse:e=>xr.test(e)?xr.parse(e):Ur.test(e)?Ur.parse(e):nl.parse(e),transform:e=>Ws(e)?e:e.hasOwnProperty("red")?xr.transform(e):Ur.transform(e)},at=(e,t,n)=>-n*e+n*t+e;function Di(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Bb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,l=0;if(!t)o=i=l=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=Di(c,a,e+1/3),i=Di(c,a,e),l=Di(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}const Oi=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Hb=[nl,xr,Ur],Wb=e=>Hb.find(t=>t.test(e));function vc(e){const t=Wb(e);let n=t.parse(e);return t===Ur&&(n=Bb(n)),n}const Eh=(e,t)=>{const n=vc(e),r=vc(t),o={...n};return i=>(o.red=Oi(n.red,r.red,i),o.green=Oi(n.green,r.green,i),o.blue=Oi(n.blue,r.blue,i),o.alpha=at(n.alpha,r.alpha,i),xr.transform(o))};function Gb(e){var t,n;return isNaN(e)&&Ws(e)&&(((t=e.match(hi))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(eh))===null||n===void 0?void 0:n.length)||0)>0}const Ih={regex:Lx,countKey:"Vars",token:"${v}",parse:ut},Mh={regex:eh,countKey:"Colors",token:"${c}",parse:Dt.parse},Fh={regex:hi,countKey:"Numbers",token:"${n}",parse:Ir.parse};function _i(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function Ro(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&_i(n,Ih),_i(n,Mh),_i(n,Fh),n}function Th(e){return Ro(e).values}function Ah(e){const{values:t,numColors:n,numVars:r,tokenised:o}=Ro(e),i=t.length;return l=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(Ih.token,l[c]):c<r+n?a=a.replace(Mh.token,Dt.transform(l[c])):a=a.replace(Fh.token,ks(l[c]));return a}}const Ub=e=>typeof e=="number"?0:e;function qb(e){const t=Th(e);return Ah(e)(t.map(Ub))}const rr={test:Gb,parse:Th,createTransformer:Ah,getAnimatableNone:qb},Dh=(e,t)=>n=>`${n>0?t:e}`;function Oh(e,t){return typeof e=="number"?n=>at(e,t,n):Dt.test(e)?Eh(e,t):e.startsWith("var(")?Dh(e,t):Vh(e,t)}const _h=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,l)=>Oh(i,t[l]));return i=>{for(let l=0;l<r;l++)n[l]=o[l](i);return n}},Kb=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Oh(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Vh=(e,t)=>{const n=rr.createTransformer(t),r=Ro(e),o=Ro(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Jn(_h(r.values,o.values),n):Dh(e,t)},Ls=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Cc=(e,t)=>n=>at(e,t,n);function Qb(e){return typeof e=="number"?Cc:typeof e=="string"?Dt.test(e)?Eh:Vh:Array.isArray(e)?_h:typeof e=="object"?Kb:Cc}function Yb(e,t,n){const r=[],o=n||Qb(e[0]),i=e.length-1;for(let l=0;l<i;l++){let a=o(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||ut:t;a=Jn(c,a)}r.push(a)}return r}function Lh(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Yl(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Yb(t,r,o),a=l.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Ls(e[d],e[d+1],u);return l[d](f)};return n?u=>c(nr(e[0],e[i-1],u)):c}function Xb(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ls(0,t,r);e.push(at(n,1,o))}}function Zb(e){const t=[0];return Xb(t,e.length-1),t}function Jb(e,t){return e.map(n=>n*t)}function ey(e,t){return e.map(()=>t||Ch).splice(0,e.length-1)}function No({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=_b(r)?r.map(yc):yc(r),i={done:!1,value:t[0]},l=Jb(n&&n.length===t.length?n:Zb(t),e),a=Lh(l,t,{ease:Array.isArray(o)?o:ey(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function $h(e,t){return t?e*(1e3/t):0}const ty=5;function Rh(e,t,n){const r=Math.max(t-ty,0);return $h(n-e(r),t-r)}const Vi=.001,ny=.01,wc=10,ry=.05,sy=1;function oy({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;kb(e<=er(wc));let l=1-t;l=nr(ry,sy,l),e=nr(ny,wc,Dn(e)),l<1?(o=u=>{const d=u*l,f=d*e,m=d-n,p=rl(u,l),v=Math.exp(-f);return Vi-m/p*v},i=u=>{const f=u*l*e,m=f*n+n,p=Math.pow(l,2)*Math.pow(u,2)*e,v=Math.exp(-f),b=rl(Math.pow(u,2),l);return(-o(u)+Vi>0?-1:1)*((m-p)*v)/b}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Vi+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=ly(o,i,a);if(e=er(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:l*2*Math.sqrt(r*u),duration:e}}}const iy=12;function ly(e,t,n){let r=n;for(let o=1;o<iy;o++)r=r-e(r)/t(r);return r}function rl(e,t){return e*Math.sqrt(1-t*t)}const ay=["duration","bounce"],cy=["stiffness","damping","mass"];function Sc(e,t){return t.some(n=>e[n]!==void 0)}function uy(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Sc(e,cy)&&Sc(e,ay)){const n=oy(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Nh({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],l={done:!1,value:o},{stiffness:a,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=uy({...r,velocity:-Dn(r.velocity||0)}),p=f||0,v=c/(2*Math.sqrt(a*u)),b=i-o,g=Dn(Math.sqrt(a/u)),C=Math.abs(b)<5;n||(n=C?.01:2),t||(t=C?.005:.5);let P;if(v<1){const y=rl(g,v);P=x=>{const j=Math.exp(-v*g*x);return i-j*((p+v*g*b)/y*Math.sin(y*x)+b*Math.cos(y*x))}}else if(v===1)P=y=>i-Math.exp(-g*y)*(b+(p+g*b)*y);else{const y=g*Math.sqrt(v*v-1);P=x=>{const j=Math.exp(-v*g*x),O=Math.min(y*x,300);return i-j*((p+v*g*b)*Math.sinh(O)+y*b*Math.cosh(O))/y}}return{calculatedDuration:m&&d||null,next:y=>{const x=P(y);if(m)l.done=y>=d;else{let j=p;y!==0&&(v<1?j=Rh(P,y,x):j=0);const O=Math.abs(j)<=n,k=Math.abs(i-x)<=t;l.done=O&&k}return l.value=l.done?i:x,l}}}function jc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:l,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},p=E=>a!==void 0&&E<a||c!==void 0&&E>c,v=E=>a===void 0?c:c===void 0||Math.abs(a-E)<Math.abs(c-E)?a:c;let b=n*t;const g=f+b,C=l===void 0?g:l(g);C!==g&&(b=C-f);const P=E=>-b*Math.exp(-E/r),y=E=>C+P(E),x=E=>{const T=P(E),V=y(E);m.done=Math.abs(T)<=u,m.value=m.done?C:V};let j,O;const k=E=>{p(m.value)&&(j=E,O=Nh({keyframes:[m.value,v(m.value)],velocity:Rh(y,E,m.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:E=>{let T=!1;return!O&&j===void 0&&(T=!0,x(E),k(E)),j!==void 0&&E>j?O.next(E-j):(!T&&x(E),m)}}}const dy=e=>{const t=({timestamp:n})=>e(n);return{start:()=>st.update(t,!0),stop:()=>Vn(t),now:()=>Pt.isProcessing?Pt.timestamp:performance.now()}},Pc=2e4;function kc(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Pc;)t+=n,r=e.next(t);return t>=Pc?1/0:t}const hy={decay:jc,inertia:jc,tween:No,keyframes:No,spring:Nh};function zo({autoplay:e=!0,delay:t=0,driver:n=dy,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let p=1,v=!1,b,g;const C=()=>{g=new Promise(q=>{b=q})};C();let P;const y=hy[o]||No;let x;y!==No&&typeof r[0]!="number"&&(x=Lh([0,100],r,{clamp:!1}),r=[0,100]);const j=y({...m,keyframes:r});let O;a==="mirror"&&(O=y({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let k="idle",E=null,T=null,V=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=kc(j));const{calculatedDuration:_}=j;let z=1/0,$=1/0;_!==null&&(z=_+l,$=z*(i+1)-l);let I=0;const A=q=>{if(T===null)return;p>0&&(T=Math.min(T,q)),p<0&&(T=Math.min(q-$/p,T)),E!==null?I=E:I=Math.round(q-T)*p;const Z=I-t*(p>=0?1:-1),ne=p>=0?Z<0:Z>$;I=Math.max(Z,0),k==="finished"&&E===null&&(I=$);let J=I,fe=j;if(i){const ce=Math.min(I,$)/z;let ae=Math.floor(ce),Ce=ce%1;!Ce&&ce>=1&&(Ce=1),Ce===1&&ae--,ae=Math.min(ae,i+1),!!(ae%2)&&(a==="reverse"?(Ce=1-Ce,l&&(Ce-=l/z)):a==="mirror"&&(fe=O)),J=nr(0,1,Ce)*z}const le=ne?{done:!1,value:r[0]}:fe.next(J);x&&(le.value=x(le.value));let{done:pe}=le;!ne&&_!==null&&(pe=p>=0?I>=$:I<=0);const X=E===null&&(k==="finished"||k==="running"&&pe);return f&&f(le.value),X&&R(),le},L=()=>{P&&P.stop(),P=void 0},H=()=>{k="idle",L(),b(),C(),T=V=null},R=()=>{k="finished",d&&d(),L(),b()},N=()=>{if(v)return;P||(P=n(A));const q=P.now();c&&c(),E!==null?T=q-E:(!T||k==="finished")&&(T=q),k==="finished"&&C(),V=T,E=null,k="running",P.start()};e&&N();const W={then(q,Z){return g.then(q,Z)},get time(){return Dn(I)},set time(q){q=er(q),I=q,E!==null||!P||p===0?E=q:T=P.now()-q/p},get duration(){const q=j.calculatedDuration===null?kc(j):j.calculatedDuration;return Dn(q)},get speed(){return p},set speed(q){q===p||!P||(p=q,W.time=Dn(I))},get state(){return k},play:N,pause:()=>{k="paused",E=I},stop:()=>{v=!0,k!=="idle"&&(k="idle",u&&u(),H())},cancel:()=>{V!==null&&A(V),H()},complete:()=>{k="finished"},sample:q=>(T=0,A(q))};return W}function fy(e){let t;return()=>(t===void 0&&(t=e()),t)}const my=fy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gy=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),co=10,py=2e4,xy=(e,t)=>t.type==="spring"||e==="backgroundColor"||!xh(t.ease);function by(e,t,{onUpdate:n,onComplete:r,...o}){if(!(my()&&gy.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let l=!1,a,c,u=!1;const d=()=>{c=new Promise(y=>{a=y})};d();let{keyframes:f,duration:m=300,ease:p,times:v}=o;if(xy(t,o)){const y=zo({...o,repeat:0,delay:0});let x={done:!1,value:f[0]};const j=[];let O=0;for(;!x.done&&O<py;)x=y.sample(O),j.push(x.value),O+=co;v=void 0,f=j,m=O-co,p="linear"}const b=Ib(e.owner.current,t,f,{...o,duration:m,ease:p,times:v}),g=()=>{u=!1,b.cancel()},C=()=>{u=!0,st.update(g),a(),d()};return b.onfinish=()=>{u||(e.set(Mb(f,o)),r&&r(),C())},{then(y,x){return c.then(y,x)},attachTimeline(y){return b.timeline=y,b.onfinish=null,ut},get time(){return Dn(b.currentTime||0)},set time(y){b.currentTime=er(y)},get speed(){return b.playbackRate},set speed(y){b.playbackRate=y},get duration(){return Dn(m)},play:()=>{l||(b.play(),Vn(g))},pause:()=>b.pause(),stop:()=>{if(l=!0,b.playState==="idle")return;const{currentTime:y}=b;if(y){const x=zo({...o,autoplay:!1});e.setWithVelocity(x.sample(y-co).value,x.sample(y).value,co)}C()},complete:()=>{u||b.finish()},cancel:C}}function yy({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ut,pause:ut,stop:ut,then:i=>(i(),Promise.resolve()),cancel:ut,complete:ut});return t?zo({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const vy={type:"spring",stiffness:500,damping:25,restSpeed:10},Cy=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wy={type:"keyframes",duration:.8},Sy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jy=(e,{keyframes:t})=>t.length>2?wy:Er.has(e)?e.startsWith("scale")?Cy(t[1]):vy:Sy,sl=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rr.test(t)||t==="0")&&!t.startsWith("url(")),Py=new Set(["brightness","contrast","saturate","opacity"]);function ky(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hi)||[];if(!r)return e;const o=n.replace(r,"");let i=Py.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const Ey=/([a-z-]*)\(.*?\)/g,ol={...rr,getAnimatableNone:e=>{const t=e.match(Ey);return t?t.map(ky).join(" "):e}},Iy={...th,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:ol,WebkitFilter:ol},ea=e=>Iy[e];function zh(e,t){let n=ea(e);return n!==ol&&(n=rr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Bh=e=>/^0[^.\s]+$/.test(e);function My(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Bh(e)}function Fy(e,t,n,r){const o=sl(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const l=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?l:i[u-1]),My(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=zh(t,a)}return i}function Ty({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:l,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function ta(e,t){return e[t]||e.default||e}const Ay={skipAnimations:!1},na=(e,t,n,r={})=>o=>{const i=ta(r,e)||{},l=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-er(l);const c=Fy(t,e,n,i),u=c[0],d=c[c.length-1],f=sl(e,u),m=sl(e,d);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(Ty(i)||(p={...p,...jy(e,p)}),p.duration&&(p.duration=er(p.duration)),p.repeatDelay&&(p.repeatDelay=er(p.repeatDelay)),!f||!m||Eb.current||i.type===!1||Ay.skipAnimations)return yy(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=by(t,e,p);if(v)return v}return zo(p)};function Bo(e){return!!(Bt(e)&&e.add)}const Hh=e=>/^\-?\d*\.?\d+$/.test(e);function ra(e,t){e.indexOf(t)===-1&&e.push(t)}function sa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class oa{constructor(){this.subscriptions=[]}add(t){return ra(this.subscriptions,t),()=>sa(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const l=this.subscriptions[i];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dy=e=>!isNaN(parseFloat(e));class Oy{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:l}=Pt;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Dy(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new oa);const r=this.events[t].add(n);return t==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$h(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ns(e,t){return new Oy(e,t)}const Wh=e=>t=>t.test(e),_y={test:e=>e==="auto",parse:e=>e},Gh=[Ir,Ie,vn,Hn,zx,Nx,_y],ds=e=>Gh.find(Wh(e)),Vy=[...Gh,Dt,rr],Ly=e=>Vy.find(Wh(e));function $y(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ns(n))}function Ry(e,t){const n=mi(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const l in i){const a=nb(i[l]);$y(e,l,a)}}function Ny(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),l=i.length;if(l)for(let a=0;a<l;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Hh(d)||Bh(d))?d=parseFloat(d):!Ly(d)&&rr.test(u)&&(d=zh(c,u)),e.addValue(c,ns(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function zy(e,t){return t?(t[e]||t.default||t).from:void 0}function By(e,t,n){const r={};for(const o in e){const i=zy(o,t);if(i!==void 0)r[o]=i;else{const l=n.getValue(o);l&&(r[o]=l.get())}}return r}function Hy({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Wy(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Uh(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const m=e.getValue(f),p=a[f];if(!m||p===void 0||d&&Hy(d,f))continue;const v={delay:n,elapsed:0,...ta(i||{},f)};if(window.HandoffAppearAnimations){const C=e.getProps()[qd];if(C){const P=window.HandoffAppearAnimations(C,f,m,st);P!==null&&(v.elapsed=P,v.isHandoff=!0)}}let b=!v.isHandoff&&!Wy(m,p);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(na(f,m,p,e.shouldReduceMotion&&Er.has(f)?{type:!1}:v));const g=m.animation;Bo(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return l&&Promise.all(u).then(()=>{l&&Ry(e,l)}),u}function il(e,t,n={}){const r=mi(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Uh(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return Gy(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,l]:[l,i];return c().then(()=>u())}else return Promise.all([i(),l(n.delay)])}function Gy(e,t,n=0,r=0,o=1,i){const l=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Uy).forEach((u,d)=>{u.notify("AnimationStart",t),l.push(il(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(l)}function Uy(e,t){return e.sortNodePosition(t)}function qy(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>il(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=il(e,t,n);else{const o=typeof t=="function"?mi(e,t,n.custom):t;r=Promise.all(Uh(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Ky=[...zl].reverse(),Qy=zl.length;function Yy(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qy(e,n,r)))}function Xy(e){let t=Yy(e);const n=Jy();let r=!0;const o=(c,u)=>{const d=mi(e,u);if(d){const{transition:f,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function i(c){t=c(e)}function l(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],p=new Set;let v={},b=1/0;for(let C=0;C<Qy;C++){const P=Ky[C],y=n[P],x=d[P]!==void 0?d[P]:f[P],j=_s(x),O=P===u?y.isActive:null;O===!1&&(b=C);let k=x===f[P]&&x!==d[P]&&j;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...v},!y.isActive&&O===null||!x&&!y.prevProp||ui(x)||typeof x=="boolean")continue;let T=Zy(y.prevProp,x)||P===u&&y.isActive&&!k&&j||C>b&&j,V=!1;const _=Array.isArray(x)?x:[x];let z=_.reduce(o,{});O===!1&&(z={});const{prevResolvedValues:$={}}=y,I={...$,...z},A=L=>{T=!0,p.has(L)&&(V=!0,p.delete(L)),y.needsAnimating[L]=!0};for(const L in I){const H=z[L],R=$[L];if(v.hasOwnProperty(L))continue;let N=!1;$o(H)&&$o(R)?N=!gh(H,R):N=H!==R,N?H!==void 0?A(L):p.add(L):H!==void 0&&p.has(L)?A(L):y.protectedKeys[L]=!0}y.prevProp=x,y.prevResolvedValues=z,y.isActive&&(v={...v,...z}),r&&e.blockInitialAnimation&&(T=!1),T&&(!k||V)&&m.push(..._.map(L=>({animation:L,options:{type:P,...c}})))}if(p.size){const C={};p.forEach(P=>{const y=e.getBaseTarget(P);y!==void 0&&(C[P]=y)}),m.push({animation:C})}let g=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(m):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const m=l(d,c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:l,setActive:a,setAnimateFunction:i,getState:()=>n}}function Zy(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gh(t,e):!1}function hr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jy(){return{animate:hr(!0),whileInView:hr(),whileHover:hr(),whileTap:hr(),whileDrag:hr(),whileFocus:hr(),exit:hr()}}class ev extends ar{constructor(t){super(t),t.animationState||(t.animationState=Xy(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ui(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let tv=0;class nv extends ar{constructor(){super(...arguments),this.id=tv++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const rv={animation:{Feature:ev},exit:{Feature:nv}},Ec=(e,t)=>Math.abs(e-t);function sv(e,t){const n=Ec(e.x,t.x),r=Ec(e.y,t.y);return Math.sqrt(n**2+r**2)}class qh{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$i(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=sv(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:v}=f,{timestamp:b}=Pt;this.history.push({...v,timestamp:b});const{onStart:g,onMove:C}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Li(m,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=$i(f.type==="pointercancel"?this.lastMoveEventInfo:Li(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),v&&v(f,g)},!uh(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const l=fi(t),a=Li(l,this.transformPagePoint),{point:c}=a,{timestamp:u}=Pt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,$i(a,this.history)),this.removeListeners=Jn(An(this.contextWindow,"pointermove",this.handlePointerMove),An(this.contextWindow,"pointerup",this.handlePointerUp),An(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vn(this.updatePoint)}}function Li(e,t){return t?{point:t(e.point)}:e}function Ic(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $i({point:e},t){return{point:e,delta:Ic(e,Kh(t)),offset:Ic(e,ov(t)),velocity:iv(t,.1)}}function ov(e){return e[0]}function Kh(e){return e[e.length-1]}function iv(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Kh(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>er(t)));)n--;if(!r)return{x:0,y:0};const i=Dn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ut(e){return e.max-e.min}function ll(e,t=0,n=.01){return Math.abs(e-t)<=n}function Mc(e,t,n,r=.5){e.origin=r,e.originPoint=at(t.min,t.max,e.origin),e.scale=Ut(n)/Ut(t),(ll(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=at(n.min,n.max,e.origin)-e.originPoint,(ll(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Es(e,t,n,r){Mc(e.x,t.x,n.x,r?r.originX:void 0),Mc(e.y,t.y,n.y,r?r.originY:void 0)}function Fc(e,t,n){e.min=n.min+t.min,e.max=e.min+Ut(t)}function lv(e,t,n){Fc(e.x,t.x,n.x),Fc(e.y,t.y,n.y)}function Tc(e,t,n){e.min=t.min-n.min,e.max=e.min+Ut(t)}function Is(e,t,n){Tc(e.x,t.x,n.x),Tc(e.y,t.y,n.y)}function av(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?at(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?at(n,e,r.max):Math.min(e,n)),e}function Ac(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function cv(e,{top:t,left:n,bottom:r,right:o}){return{x:Ac(e.x,n,o),y:Ac(e.y,t,r)}}function Dc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function uv(e,t){return{x:Dc(e.x,t.x),y:Dc(e.y,t.y)}}function dv(e,t){let n=.5;const r=Ut(e),o=Ut(t);return o>r?n=Ls(t.min,t.max-r,e.min):r>o&&(n=Ls(e.min,e.max-o,t.min)),nr(0,1,n)}function hv(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const al=.35;function fv(e=al){return e===!1?e=0:e===!0&&(e=al),{x:Oc(e,"left","right"),y:Oc(e,"top","bottom")}}function Oc(e,t,n){return{min:_c(e,t),max:_c(e,n)}}function _c(e,t){return typeof e=="number"?e:e[t]||0}const Vc=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:Vc(),y:Vc()}),Lc=()=>({min:0,max:0}),ft=()=>({x:Lc(),y:Lc()});function Kt(e){return[e("x"),e("y")]}function Qh({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function mv({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gv(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ri(e){return e===void 0||e===1}function cl({scale:e,scaleX:t,scaleY:n}){return!Ri(e)||!Ri(t)||!Ri(n)}function mr(e){return cl(e)||Yh(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Yh(e){return $c(e.x)||$c(e.y)}function $c(e){return e&&e!=="0%"}function Ho(e,t,n){const r=e-n,o=t*r;return n+o}function Rc(e,t,n,r,o){return o!==void 0&&(e=Ho(e,o,r)),Ho(e,n,r)+t}function ul(e,t=0,n=1,r,o){e.min=Rc(e.min,t,n,r,o),e.max=Rc(e.max,t,n,r,o)}function Xh(e,{x:t,y:n}){ul(e.x,t.translate,t.scale,t.originPoint),ul(e.y,n.translate,n.scale,n.originPoint)}function pv(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,l;for(let a=0;a<o;a++){i=n[a],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Xh(e,l)),r&&mr(i.latestValues)&&Kr(e,i.latestValues))}t.x=Nc(t.x),t.y=Nc(t.y)}function Nc(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Un(e,t){e.min=e.min+t,e.max=e.max+t}function zc(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,l=at(e.min,e.max,i);ul(e,t[n],t[r],l,t.scale)}const xv=["x","scaleX","originX"],bv=["y","scaleY","originY"];function Kr(e,t){zc(e.x,t,xv),zc(e.y,t,bv)}function Zh(e,t){return Qh(gv(e.getBoundingClientRect(),t))}function yv(e,t,n){const r=Zh(e,n),{scroll:o}=t;return o&&(Un(r.x,o.offset.x),Un(r.y,o.offset.y)),r}const Jh=({current:e})=>e?e.ownerDocument.defaultView:null,vv=new WeakMap;class Cv{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fi(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:v}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hh(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kt(g=>{let C=this.getAxisMotionValue(g).get()||0;if(vn.test(C)){const{projection:P}=this.visualElement;if(P&&P.layout){const y=P.layout.layoutBox[g];y&&(C=Ut(y)*(parseFloat(C)/100))}}this.originPoint[g]=C}),v&&st.update(()=>v(d,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:v,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=wv(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&b(d,f)},a=(d,f)=>this.stop(d,f),c=()=>Kt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new qh(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Jh(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&st.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!uo(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=av(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Gr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=cv(o.layoutBox,n):this.constraints=!1,this.elastic=fv(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Kt(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=hv(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=yv(r,o.root,this.visualElement.getTransformPagePoint());let l=uv(o.layout.layoutBox,i);if(n){const a=n(mv(l));this.hasMutatedConstraints=!!a,a&&(l=Qh(a))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Kt(d=>{if(!uo(d,n,this.currentDirection))return;let f=c&&c[d]||{};l&&(f={min:0,max:0});const m=o?200:1e6,p=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(na(t,r,0,n))}stopAnimation(){Kt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kt(n=>{const{drag:r}=this.getProps();if(!uo(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:a}=o.layout.layoutBox[n];i.set(t[n]-at(l,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kt(l=>{const a=this.getAxisMotionValue(l);if(a){const c=a.get();o[l]=dv({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kt(l=>{if(!uo(l,t,null))return;const a=this.getAxisMotionValue(l),{min:c,max:u}=this.constraints[l];a.set(at(c,u,o[l]))})}addListeners(){if(!this.visualElement.current)return;vv.set(this.visualElement,this);const t=this.visualElement.current,n=An(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const l=Fn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{l(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:l=al,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:l,dragMomentum:a}}}function uo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wv(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Sv extends ar{constructor(t){super(t),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new Cv(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bc=e=>(t,n)=>{e&&st.update(()=>e(t,n))};class jv extends ar{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(t){this.session=new qh(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Bc(t),onStart:Bc(n),onMove:r,onEnd:(i,l)=>{delete this.session,o&&st.update(()=>o(i,l))}}}mount(){this.removePointerDownListener=An(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Pv(){const e=h.useContext(Rl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const jo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=Hc(e,t.target.x),r=Hc(e,t.target.y);return`${n}% ${r}%`}},kv={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=rr.parse(e);if(o.length>5)return r;const i=rr.createTransformer(e),l=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=a,o[1+l]/=c;const u=at(a,c,.5);return typeof o[2+l]=="number"&&(o[2+l]/=u),typeof o[3+l]=="number"&&(o[3+l]/=u),i(o)}};class Ev extends Fe.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;Dx(Iv),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,l=r.projection;return l&&(l.isPresent=i,o||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||st.postRender(()=>{const a=l.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ef(e){const[t,n]=Pv(),r=h.useContext(Qd);return Fe.createElement(Ev,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Yd),isPresent:t,safeToRemove:n})}const Iv={borderRadius:{...hs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hs,borderTopRightRadius:hs,borderBottomLeftRadius:hs,borderBottomRightRadius:hs,boxShadow:kv},tf=["TopLeft","TopRight","BottomLeft","BottomRight"],Mv=tf.length,Wc=e=>typeof e=="string"?parseFloat(e):e,Gc=e=>typeof e=="number"||Ie.test(e);function Fv(e,t,n,r,o,i){o?(e.opacity=at(0,n.opacity!==void 0?n.opacity:1,Tv(r)),e.opacityExit=at(t.opacity!==void 0?t.opacity:1,0,Av(r))):i&&(e.opacity=at(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<Mv;l++){const a=`border${tf[l]}Radius`;let c=Uc(t,a),u=Uc(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Gc(c)===Gc(u)?(e[a]=Math.max(at(Wc(c),Wc(u),r),0),(vn.test(u)||vn.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=at(t.rotate||0,n.rotate||0,r))}function Uc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Tv=nf(0,.5,jh),Av=nf(.5,.95,ut);function nf(e,t,n){return r=>r<e?0:r>t?1:n(Ls(e,t,r))}function qc(e,t){e.min=t.min,e.max=t.max}function qt(e,t){qc(e.x,t.x),qc(e.y,t.y)}function Kc(e,t,n,r,o){return e-=t,e=Ho(e,1/n,r),o!==void 0&&(e=Ho(e,1/o,r)),e}function Dv(e,t=0,n=1,r=.5,o,i=e,l=e){if(vn.test(t)&&(t=parseFloat(t),t=at(l.min,l.max,t/100)-l.min),typeof t!="number")return;let a=at(i.min,i.max,r);e===i&&(a-=t),e.min=Kc(e.min,t,n,a,o),e.max=Kc(e.max,t,n,a,o)}function Qc(e,t,[n,r,o],i,l){Dv(e,t[n],t[r],t[o],t.scale,i,l)}const Ov=["x","scaleX","originX"],_v=["y","scaleY","originY"];function Yc(e,t,n,r){Qc(e.x,t,Ov,n?n.x:void 0,r?r.x:void 0),Qc(e.y,t,_v,n?n.y:void 0,r?r.y:void 0)}function Xc(e){return e.translate===0&&e.scale===1}function rf(e){return Xc(e.x)&&Xc(e.y)}function Vv(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function sf(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Zc(e){return Ut(e.x)/Ut(e.y)}class Lv{constructor(){this.members=[]}add(t){ra(this.members,t),t.scheduleRender()}remove(t){if(sa(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jc(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const l=e.x.scale*t.x,a=e.y.scale*t.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const $v=(e,t)=>e.depth-t.depth;class Rv{constructor(){this.children=[],this.isDirty=!1}add(t){ra(this.children,t),this.isDirty=!0}remove(t){sa(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($v),this.isDirty=!1,this.children.forEach(t)}}function Nv(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Vn(r),e(i-t))};return st.read(r,!0),()=>Vn(r)}function zv(e){window.MotionDebug&&window.MotionDebug.record(e)}function Bv(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Hv(e,t,n){const r=Bt(e)?e:ns(e);return r.start(na("",r,t,n)),r.animation}const eu=["","X","Y","Z"],Wv={visibility:"hidden"},tu=1e3;let Gv=0;const gr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function of({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},a=t==null?void 0:t()){this.id=Gv++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gr.totalNodes=gr.resolvedTargetDeltas=gr.recalculatedProjection=0,this.nodes.forEach(Kv),this.nodes.forEach(Jv),this.nodes.forEach(eC),this.nodes.forEach(Qv),zv(gr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rv)}addEventListener(l,a){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new oa),this.eventHandlers.get(l).add(a)}notifyListeners(l,...a){const c=this.eventHandlers.get(l);c&&c.notify(...a)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bv(l),this.instance=l;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Nv(m,250),jo.hasAnimatedSinceResize&&(jo.hasAnimatedSinceResize=!1,this.nodes.forEach(ru))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||oC,{onLayoutAnimationStart:g,onLayoutAnimationComplete:C}=d.getProps(),P=!this.targetLayout||!sf(this.targetLayout,v)||p,y=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const x={...ta(b,"layout"),onPlay:g,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else m||ru(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tC),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nu);return}this.isUpdating||this.nodes.forEach(Xv),this.isUpdating=!1,this.nodes.forEach(Zv),this.nodes.forEach(Uv),this.nodes.forEach(qv),this.clearAllSnapshots();const a=performance.now();Pt.delta=nr(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Mi.update.process(Pt),Mi.preRender.process(Pt),Mi.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Yv),this.sharedNodes.forEach(nC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!rf(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;l&&(a||mr(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return l&&(c=this.removeTransform(c)),iC(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ft();const a=l.measureViewportBox(),{scroll:c}=this.root;return c&&(Un(a.x,c.offset.x),Un(a.y,c.offset.y)),a}removeElementScroll(l){const a=ft();qt(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){qt(a,l);const{scroll:m}=this.root;m&&(Un(a.x,-m.offset.x),Un(a.y,-m.offset.y))}Un(a.x,d.offset.x),Un(a.y,d.offset.y)}}return a}applyTransform(l,a=!1){const c=ft();qt(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Kr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),mr(d.latestValues)&&Kr(c,d.latestValues)}return mr(this.latestValues)&&Kr(c,this.latestValues),c}removeTransform(l){const a=ft();qt(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!mr(u.latestValues))continue;cl(u.latestValues)&&u.updateSnapshot();const d=ft(),f=u.measurePageBox();qt(d,f),Yc(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return mr(this.latestValues)&&Yc(a,this.latestValues),a}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Is(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lv(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),Xh(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Is(this.relativeTargetOrigin,this.target,p.target),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cl(this.parent.latestValues)||Yh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;pv(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=qr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr());const b=this.projectionTransform;Es(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Jc(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),gr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=ft(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,b=p!==v,g=this.getStack(),C=!g||g.members.length<=1,P=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(sC));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const j=x/1e3;su(f.x,l.x,j),su(f.y,l.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Is(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rC(this.relativeTarget,this.relativeTargetOrigin,m,j),y&&Vv(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ft()),qt(y,this.relativeTarget)),b&&(this.animationValues=d,Fv(d,u,this.latestValues,j,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{jo.hasAnimatedSinceResize=!0,this.currentAnimation=Hv(0,tu,{...l,onUpdate:a=>{this.mixTargetDelta(a),l.onUpdate&&l.onUpdate(a)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=l;if(!(!a||!c||!u)){if(this!==l&&this.layout&&u&&lf(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ft();const f=Ut(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const m=Ut(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+m}qt(a,c),Kr(a,d),Es(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(l,a){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Lv),this.sharedNodes.get(l).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let a=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<eu.length;d++){const f="rotate"+eu[d];c[f]&&(u[f]=c[f],l.setStaticValue(f,0))}l.render();for(const d in u)l.setStaticValue(d,u[d]);l.scheduleRender()}getProjectionStyles(l){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Wv;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=So(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=So(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mr(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Jc(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Vo){if(m[b]===void 0)continue;const{correct:g,applyTo:C}=Vo[b],P=u.transform==="none"?m[b]:g(m[b],f);if(C){const y=C.length;for(let x=0;x<y;x++)u[C[x]]=P}else u[b]=P}return this.options.layoutId&&(u.pointerEvents=f===this?So(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var a;return(a=l.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(nu),this.root.sharedNodes.clear()}}}function Uv(e){e.updateLayout()}function qv(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,l=n.source!==e.layout.source;i==="size"?Kt(f=>{const m=l?n.measuredBox[f]:n.layoutBox[f],p=Ut(m);m.min=r[f].min,m.max=m.min+p}):lf(i,n.layoutBox,r)&&Kt(f=>{const m=l?n.measuredBox[f]:n.layoutBox[f],p=Ut(r[f]);m.max=m.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const a=qr();Es(a,r,n.layoutBox);const c=qr();l?Es(c,e.applyTransform(o,!0),n.measuredBox):Es(c,r,n.layoutBox);const u=!rf(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const v=ft();Is(v,n.layoutBox,m.layoutBox);const b=ft();Is(b,r,p.layoutBox),sf(v,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Kv(e){gr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qv(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yv(e){e.clearSnapshot()}function nu(e){e.clearMeasurements()}function Xv(e){e.isLayoutDirty=!1}function Zv(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ru(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jv(e){e.resolveTargetDelta()}function eC(e){e.calcProjection()}function tC(e){e.resetRotation()}function nC(e){e.removeLeadSnapshot()}function su(e,t,n){e.translate=at(t.translate,0,n),e.scale=at(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ou(e,t,n,r){e.min=at(t.min,n.min,r),e.max=at(t.max,n.max,r)}function rC(e,t,n,r){ou(e.x,t.x,n.x,r),ou(e.y,t.y,n.y,r)}function sC(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oC={duration:.45,ease:[.4,0,.1,1]},iu=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),lu=iu("applewebkit/")&&!iu("chrome/")?Math.round:ut;function au(e){e.min=lu(e.min),e.max=lu(e.max)}function iC(e){au(e.x),au(e.y)}function lf(e,t,n){return e==="position"||e==="preserve-aspect"&&!ll(Zc(t),Zc(n),.2)}const lC=of({attachResizeListener:(e,t)=>Fn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ni={current:void 0},af=of({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ni.current){const e=new lC({});e.mount(window),e.setOptions({layoutScroll:!0}),Ni.current=e}return Ni.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aC={pan:{Feature:jv},drag:{Feature:Sv,ProjectionNode:af,MeasureLayout:ef}},cC=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uC(e){const t=cC.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function dl(e,t,n=1){const[r,o]=uC(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return Hh(l)?parseFloat(l):l}else return el(o)?dl(o,t,n+1):o}function dC(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!el(i))return;const l=dl(i,r);l&&o.set(l)});for(const o in t){const i=t[o];if(!el(i))continue;const l=dl(i,r);l&&(t[o]=l,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const hC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cf=e=>hC.has(e),fC=e=>Object.keys(e).some(cf),cu=e=>e===Ir||e===Ie,uu=(e,t)=>parseFloat(e.split(", ")[t]),du=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return uu(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?uu(i[1],e):0}},mC=new Set(["x","y","z"]),gC=Hs.filter(e=>!mC.has(e));function pC(e){const t=[];return gC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const rs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:du(4,13),y:du(5,14)};rs.translateX=rs.x;rs.translateY=rs.y;const xC=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:l}=i,a={};l==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=rs[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=rs[u](c,i)}),e},bC=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(cf);let i=[],l=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=ds(d);const m=t[c];let p;if($o(m)){const v=m.length,b=m[0]===null?1:0;d=m[b],f=ds(d);for(let g=b;g<v&&m[g]!==null;g++)p?Yl(ds(m[g])===p):p=ds(m[g])}else p=ds(m);if(f!==p)if(cu(f)&&cu(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&p===Ie&&(t[c]=m.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||m===0)?d===0?u.set(p.transform(d)):t[c]=f.transform(m):(l||(i=pC(e),l=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=xC(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),ci&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function yC(e,t,n,r){return fC(t)?bC(e,t,n,r):{target:t,transitionEnd:r}}const vC=(e,t,n,r)=>{const o=dC(e,t,r);return t=o.target,r=o.transitionEnd,yC(e,t,n,r)},hl={current:null},uf={current:!1};function CC(){if(uf.current=!0,!!ci)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hl.current=e.matches;e.addListener(t),t()}else hl.current=!1}function wC(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],l=n[o];if(Bt(i))e.addValue(o,i),Bo(r)&&r.add(o);else if(Bt(l))e.addValue(o,ns(i,{owner:e})),Bo(r)&&r.remove(o);else if(l!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,ns(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const hu=new WeakMap,df=Object.keys(Vs),SC=df.length,fu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jC=Bl.length;class PC{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.isControllingVariants=di(n),this.isVariantNode=Kd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];a[f]!==void 0&&Bt(m)&&(m.set(a[f],!1),Bo(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,hu.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uf.current||CC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hl.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hu.delete(this.current),this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Er.has(t),o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let l,a;for(let c=0;c<SC;c++){const u=df[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:p}=Vs[u];m&&(l=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Gr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fu.length;r++){const o=fu[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=wC(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<jC;r++){const o=Bl[r],i=this.props[o];(_s(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ns(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Ql(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Bt(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new oa),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hf extends PC{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let l=By(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),l&&(l=o(l))),i){Ny(this,r,l);const a=vC(this,r,l,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function kC(e){return window.getComputedStyle(e)}class EC extends hf{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Er.has(n)){const r=ea(n);return r&&r.default||0}else{const r=kC(t),o=(Jd(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Zh(t,n)}build(t,n,r,o){Wl(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Kl(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){oh(t,n,r,o)}}class IC extends hf{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Er.has(n)){const r=ea(n);return r&&r.default||0}return n=ih.has(n)?n:Nl(n),t.getAttribute(n)}measureInstanceViewportBox(){return ft()}scrapeMotionValuesFromProps(t,n){return ah(t,n)}build(t,n,r,o){Ul(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){lh(t,n,r,o)}mount(t){this.isSVGTag=ql(t.tagName),super.mount(t)}}const MC=(e,t)=>Hl(e)?new IC(t,{enableHardwareAcceleration:!1}):new EC(t,{enableHardwareAcceleration:!0}),FC={layout:{ProjectionNode:af,MeasureLayout:ef}},TC={...rv,...Sb,...aC,...FC},tt=Tx((e,t)=>ub(e,t,TC,MC));class AC{async login(t){const n=[{id:"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",email:"manager@nekservice.ru",name:"Менеджер",role:"manager",rating:4.8,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"3",email:"tech@nekservice.ru",name:"Техник",role:"technician",rating:4.5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date}];return new Promise((r,o)=>{setTimeout(()=>{const i=n.find(l=>l.email===t.email);i&&t.password==="password"?r({user:i,token:"mock-jwt-token-"+i.id}):o(new Error("Неверный email или пароль"))},1e3)})}async getCurrentUser(){return new Promise((t,n)=>{setTimeout(()=>{const r=localStorage.getItem("token");if(r){const i={id:r.split("-").pop()||"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date};t(i)}else n(new Error("No token found"))},500)})}async logout(){return Promise.resolve()}}const mu=new AC,ff=h.createContext(void 0),ia=()=>{const e=h.useContext(ff);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},DC=({children:e})=>{const[t,n]=h.useState(null),[r,o]=h.useState(!0),[i,l]=h.useState(null);h.useEffect(()=>{(async()=>{try{if(localStorage.getItem("token")){const p=await mu.getCurrentUser();n(p)}}catch{localStorage.removeItem("token")}finally{o(!1)}})()},[]);const d={user:t,isAuthenticated:!!t,isLoading:r,error:i,login:async f=>{try{o(!0),l(null);const{user:m,token:p}=await mu.login(f);localStorage.setItem("token",p),n(m)}catch(m){throw l(m.message||"Ошибка входа в систему"),m}finally{o(!1)}},logout:()=>{localStorage.removeItem("token"),n(null),l(null)},updateUser:f=>{t&&n({...t,...f})}};return s.jsx(ff.Provider,{value:d,children:e})},fr=280,OC=({children:e})=>{var C,P;const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=ig(),l=lg(i.breakpoints.down("md")),a=ep(),c=tp(),{user:u,logout:d}=ia(),f=[{text:"Дашборд",icon:s.jsx(mg,{}),path:"/dashboard"},{text:"Заказы",icon:s.jsx(Mo,{}),path:"/orders"},{text:"Клиенты",icon:s.jsx(Fo,{}),path:"/clients"},{text:"Склад",icon:s.jsx(El,{}),path:"/inventory"},{text:"Сотрудники",icon:s.jsx(gg,{}),path:"/employees"},{text:"Касса",icon:s.jsx(pg,{}),path:"/cash-register"},{text:"Отчеты",icon:s.jsx(fd,{}),path:"/reports"},{text:"Настройки",icon:s.jsx(md,{}),path:"/settings"}],m=()=>{n(!t)},p=y=>{o(y.currentTarget)},v=()=>{o(null)},b=()=>{d(),v()},g=s.jsxs(B,{children:[s.jsxs(B,{sx:{p:3,background:"#1A1A1A",color:"white",textAlign:"center"},children:[s.jsx(S,{variant:"h5",fontWeight:"bold",sx:{color:"#FF6B35"},children:"НЭК СЕРВИС"}),s.jsx(S,{variant:"body2",sx:{opacity:.9,mt:.5,color:"#9E9E9E"},children:"CRM Система"})]}),s.jsx(Ds,{}),s.jsx(Yr,{sx:{px:2,py:1},children:f.map(y=>{const x=c.pathname===y.path;return s.jsx(tt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{onClick:()=>{a(y.path),l&&n(!1)},sx:{display:"flex",alignItems:"center",p:2,mb:1,borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",backgroundColor:x?"primary.main":"transparent",color:x?"white":"text.primary","&:hover":{backgroundColor:x?"primary.dark":"action.hover"}},children:[y.icon,s.jsx(S,{variant:"body1",sx:{ml:2,fontWeight:x?600:400},children:y.text})]})},y.text)})})]});return s.jsxs(B,{sx:{display:"flex"},children:[s.jsx(ag,{position:"fixed",sx:{width:{md:`calc(100% - ${fr}px)`},ml:{md:`${fr}px`},backgroundColor:"#1A1A1A",color:"text.primary",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:s.jsxs(cg,{children:[s.jsx(Be,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{md:"none"}},children:s.jsx(ug,{})}),s.jsx(S,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,color:"text.primary"},children:((C=f.find(y=>y.path===c.pathname))==null?void 0:C.text)||"Дашборд"}),s.jsx(Be,{color:"inherit",sx:{mr:1},children:s.jsx(kl,{badgeContent:3,color:"error",children:s.jsx(gs,{})})}),s.jsx(Be,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:p,color:"inherit",children:s.jsx(rt,{sx:{width:32,height:32,bgcolor:"primary.main"},children:(P=u==null?void 0:u.name)==null?void 0:P.charAt(0)})})]})}),s.jsx(B,{sx:{position:"fixed",top:64,left:{md:fr},right:0,zIndex:1100,backgroundColor:"#1A1A1A",borderBottom:"1px solid rgba(255,107,53,0.2)",display:{xs:"none",md:"flex"},borderRadius:"0 0 8px 8px"},children:s.jsx(B,{sx:{display:"flex",alignItems:"center",px:2,py:1,width:"100%",overflowX:"auto","&::-webkit-scrollbar":{height:4},"&::-webkit-scrollbar-track":{backgroundColor:"#1A1A1A"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#FF6B35",borderRadius:2}},children:f.map((y,x)=>{const j=c.pathname===y.path;return s.jsxs(Fe.Fragment,{children:[s.jsx(B,{onClick:()=>a(y.path),sx:{display:"flex",alignItems:"center",px:2,py:1,cursor:"pointer",borderRadius:1,transition:"all 0.2s ease-in-out",backgroundColor:j?"rgba(255,107,53,0.2)":"transparent","&:hover":{backgroundColor:j?"rgba(255,107,53,0.3)":"rgba(255,107,53,0.1)"},whiteSpace:"nowrap",minWidth:"fit-content"},children:s.jsx(S,{variant:"body2",sx:{fontWeight:j?600:400,fontSize:"0.875rem",color:j?"primary.main":"text.secondary"},children:y.text})}),x<f.length-1&&s.jsx(B,{sx:{width:"1px",height:"20px",backgroundColor:"rgba(255,107,53,0.3)",mx:1}})]},y.text)})})}),s.jsxs(B,{component:"nav",sx:{width:{md:fr},flexShrink:{md:0}},"aria-label":"mailbox folders",children:[s.jsx(Ua,{variant:"temporary",open:t,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:fr,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},children:g}),s.jsx(Ua,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:fr,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},open:!0,children:g})]}),s.jsx(B,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${fr}px)`},mt:{xs:8,md:12},minHeight:"calc(100vh - 64px)",backgroundColor:"#1A1A1A"},children:s.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e})}),s.jsxs(dg,{anchorEl:r,open:!!r,onClose:v,onClick:v,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[s.jsxs(ie,{onClick:()=>a("/settings"),children:[s.jsx(hg,{fontSize:"small",sx:{mr:1}}),"Профиль"]}),s.jsx(Ds,{}),s.jsxs(ie,{onClick:b,children:[s.jsx(fg,{fontSize:"small",sx:{mr:1}}),"Выйти"]})]})]})};var qs=e=>e.type==="checkbox",br=e=>e instanceof Date,Ot=e=>e==null;const mf=e=>typeof e=="object";var mt=e=>!Ot(e)&&!Array.isArray(e)&&mf(e)&&!br(e),gf=e=>mt(e)&&e.target?qs(e.target)?e.target.checked:e.target.value:e,_C=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pf=(e,t)=>e.has(_C(t)),VC=e=>{const t=e.constructor&&e.constructor.prototype;return mt(t)&&t.hasOwnProperty("isPrototypeOf")},la=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(la&&(e instanceof Blob||r))&&(n||mt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!VC(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=pt(e[o]));else return e;return t}var gi=e=>/^\w*$/.test(e),dt=e=>e===void 0,aa=e=>Array.isArray(e)?e.filter(Boolean):[],ca=e=>aa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(e,t,n)=>{if(!t||!mt(e))return n;const r=(gi(t)?[t]:ca(t)).reduce((o,i)=>Ot(o)?o:o[i],e);return dt(r)||r===e?dt(e[t])?n:e[t]:r},Wt=e=>typeof e=="boolean",Ze=(e,t,n)=>{let r=-1;const o=gi(t)?[t]:ca(t),i=o.length,l=i-1;for(;++r<i;){const a=o[r];let c=n;if(r!==l){const u=e[a];c=mt(u)||Array.isArray(u)?u:isNaN(+o[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Wo={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xf=Fe.createContext(null);xf.displayName="HookFormContext";const ua=()=>Fe.useContext(xf);var bf=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const l=i;return t._proxyFormState[l]!==rn.all&&(t._proxyFormState[l]=!r||rn.all),n&&(n[l]=!0),e[l]}});return o};const da=typeof window<"u"?Fe.useLayoutEffect:Fe.useEffect;function LC(e){const t=ua(),{control:n=t.control,disabled:r,name:o,exact:i}=e||{},[l,a]=Fe.useState(n._formState),c=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return da(()=>n._subscribe({name:o,formState:c.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[o,r,i]),Fe.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Fe.useMemo(()=>bf(l,n,c.current,!1),[l,n])}var Gt=e=>typeof e=="string",yf=(e,t,n,r,o)=>Gt(e)?(r&&t.watch.add(e),he(n,e,o)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),he(n,i))):(r&&(t.watchAll=!0),n),fl=e=>Ot(e)||!mf(e);function In(e,t,n=new WeakSet){if(fl(e)||fl(t))return e===t;if(br(e)&&br(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const l=e[i];if(!o.includes(i))return!1;if(i!=="ref"){const a=t[i];if(br(l)&&br(a)||mt(l)&&mt(a)||Array.isArray(l)&&Array.isArray(a)?!In(l,a,n):l!==a)return!1}}return!0}function $C(e){const t=ua(),{control:n=t.control,name:r,defaultValue:o,disabled:i,exact:l,compute:a}=e||{},c=Fe.useRef(o),u=Fe.useRef(a),d=Fe.useRef(void 0);u.current=a;const f=Fe.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,p]=Fe.useState(u.current?u.current(f):f);return da(()=>n._subscribe({name:r,formState:{values:!0},exact:l,callback:v=>{if(!i){const b=yf(r,n._names,v.values||n._formValues,!1,c.current);if(u.current){const g=u.current(b);In(g,d.current)||(p(g),d.current=g)}else p(b)}}}),[n,i,r,l]),Fe.useEffect(()=>n._removeUnmounted()),m}function RC(e){const t=ua(),{name:n,disabled:r,control:o=t.control,shouldUnregister:i,defaultValue:l}=e,a=pf(o._names.array,n),c=Fe.useMemo(()=>he(o._formValues,n,he(o._defaultValues,n,l)),[o,n,l]),u=$C({control:o,name:n,defaultValue:c,exact:!0}),d=LC({control:o,name:n,exact:!0}),f=Fe.useRef(e),m=Fe.useRef(void 0),p=Fe.useRef(o.register(n,{...e.rules,value:u,...Wt(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const v=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!he(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!he(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!he(d.validatingFields,n)},error:{enumerable:!0,get:()=>he(d.errors,n)}}),[d,n]),b=Fe.useCallback(y=>p.current.onChange({target:{value:gf(y),name:n},type:Wo.CHANGE}),[n]),g=Fe.useCallback(()=>p.current.onBlur({target:{value:he(o._formValues,n),name:n},type:Wo.BLUR}),[n,o._formValues]),C=Fe.useCallback(y=>{const x=he(o._fields,n);x&&y&&(x._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:j=>y.setCustomValidity(j),reportValidity:()=>y.reportValidity()})},[o._fields,n]),P=Fe.useMemo(()=>({name:n,value:u,...Wt(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:b,onBlur:g,ref:C}),[n,r,d.disabled,b,g,C,u]);return Fe.useEffect(()=>{const y=o._options.shouldUnregister||i,x=m.current;x&&x!==n&&!a&&o.unregister(x),o.register(n,{...f.current.rules,...Wt(f.current.disabled)?{disabled:f.current.disabled}:{}});const j=(O,k)=>{const E=he(o._fields,O);E&&E._f&&(E._f.mount=k)};if(j(n,!0),y){const O=pt(he(o._options.defaultValues,n,f.current.defaultValue));Ze(o._defaultValues,n,O),dt(he(o._formValues,n))&&Ze(o._formValues,n,O)}return!a&&o.register(n),m.current=n,()=>{(a?y&&!o._state.action:y)?o.unregister(n):j(n,!1)}},[n,o,a,i]),Fe.useEffect(()=>{o._setDisabledField({disabled:r,name:n})},[r,n,o]),Fe.useMemo(()=>({field:P,formState:d,fieldState:v}),[P,d,v])}const nt=e=>e.render(RC(e));var vf=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},Ms=e=>Array.isArray(e)?e:[e],gu=()=>{let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}};function Cf(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],i=t[r];if(o&&mt(o)&&i){const l=Cf(o,i);mt(l)&&(n[r]=l)}else e[r]&&(n[r]=i)}return n}var zt=e=>mt(e)&&!Object.keys(e).length,ha=e=>e.type==="file",sn=e=>typeof e=="function",Go=e=>{if(!la)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},wf=e=>e.type==="select-multiple",fa=e=>e.type==="radio",NC=e=>fa(e)||qs(e),zi=e=>Go(e)&&e.isConnected;function zC(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=dt(e)?r++:e[t[r++]];return e}function BC(e){for(const t in e)if(e.hasOwnProperty(t)&&!dt(e[t]))return!1;return!0}function ht(e,t){const n=Array.isArray(t)?t:gi(t)?[t]:ca(t),r=n.length===1?e:zC(e,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(mt(r)&&zt(r)||Array.isArray(r)&&BC(r))&&ht(e,n.slice(0,-1)),e}var HC=e=>{for(const t in e)if(sn(e[t]))return!0;return!1};function Sf(e){return Array.isArray(e)||mt(e)&&!HC(e)}function ml(e,t={}){for(const n in e)Sf(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ml(e[n],t[n])):Ot(e[n])||(t[n]=!0);return t}function Nr(e,t,n){n||(n=ml(t));for(const r in e)Sf(e[r])?dt(t)||fl(n[r])?n[r]=ml(e[r],Array.isArray(e[r])?[]:{}):Nr(e[r],Ot(t)?{}:t[r],n[r]):n[r]=!In(e[r],t[r]);return n}const pu={value:!1,isValid:!1},xu={value:!0,isValid:!0};var jf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dt(e[0].attributes.value)?dt(e[0].value)||e[0].value===""?xu:{value:e[0].value,isValid:!0}:xu:pu}return pu},Pf=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>dt(e)?e:t?e===""?NaN:e&&+e:n&&Gt(e)?new Date(e):r?r(e):e;const bu={isValid:!1,value:null};var kf=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,bu):bu;function yu(e){const t=e.ref;return ha(t)?t.files:fa(t)?kf(e.refs).value:wf(t)?[...t.selectedOptions].map(({value:n})=>n):qs(t)?jf(e.refs).value:Pf(dt(t.value)?e.ref.value:t.value,e)}var WC=(e,t,n,r)=>{const o={};for(const i of e){const l=he(t,i);l&&Ze(o,i,l._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Uo=e=>e instanceof RegExp,fs=e=>dt(e)?e:Uo(e)?e.source:mt(e)?Uo(e.value)?e.value.source:e.value:e,vu=e=>({isOnSubmit:!e||e===rn.onSubmit,isOnBlur:e===rn.onBlur,isOnChange:e===rn.onChange,isOnAll:e===rn.all,isOnTouch:e===rn.onTouched});const Cu="AsyncFunction";var GC=e=>!!e&&!!e.validate&&!!(sn(e.validate)&&e.validate.constructor.name===Cu||mt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Cu)),UC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),wu=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Fs=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const i=he(e,o);if(i){const{_f:l,...a}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],o)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Fs(a,t))break}else if(mt(a)&&Fs(a,t))break}}};function Su(e,t,n){const r=he(e,n);if(r||gi(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),l=he(t,i),a=he(e,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};o.pop()}return{name:n}}var qC=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return zt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!r||rn.all))},KC=(e,t,n)=>!e||!t||e===t||Ms(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),QC=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,YC=(e,t)=>!aa(he(e,t)).length&&ht(e,t),XC=(e,t,n)=>{const r=Ms(he(e,n));return Ze(r,"root",t[n]),Ze(e,n,r),e};function ju(e,t,n="validate"){if(Gt(e)||Array.isArray(e)&&e.every(Gt)||Wt(e)&&!e)return{type:n,message:Gt(e)?e:"",ref:t}}var Or=e=>mt(e)&&!Uo(e)?e:{value:e,message:""},Pu=async(e,t,n,r,o,i)=>{const{ref:l,refs:a,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:p,validate:v,name:b,valueAsNumber:g,mount:C}=e._f,P=he(n,b);if(!C||t.has(b))return{};const y=a?a[0]:l,x=z=>{o&&y.reportValidity&&(y.setCustomValidity(Wt(z)?"":z||""),y.reportValidity())},j={},O=fa(l),k=qs(l),E=O||k,T=(g||ha(l))&&dt(l.value)&&dt(P)||Go(l)&&l.value===""||P===""||Array.isArray(P)&&!P.length,V=vf.bind(null,b,r,j),_=(z,$,I,A=jn.maxLength,L=jn.minLength)=>{const H=z?$:I;j[b]={type:z?A:L,message:H,ref:l,...V(z?A:L,H)}};if(i?!Array.isArray(P)||!P.length:c&&(!E&&(T||Ot(P))||Wt(P)&&!P||k&&!jf(a).isValid||O&&!kf(a).isValid)){const{value:z,message:$}=Gt(c)?{value:!!c,message:c}:Or(c);if(z&&(j[b]={type:jn.required,message:$,ref:y,...V(jn.required,$)},!r))return x($),j}if(!T&&(!Ot(f)||!Ot(m))){let z,$;const I=Or(m),A=Or(f);if(!Ot(P)&&!isNaN(P)){const L=l.valueAsNumber||P&&+P;Ot(I.value)||(z=L>I.value),Ot(A.value)||($=L<A.value)}else{const L=l.valueAsDate||new Date(P),H=W=>new Date(new Date().toDateString()+" "+W),R=l.type=="time",N=l.type=="week";Gt(I.value)&&P&&(z=R?H(P)>H(I.value):N?P>I.value:L>new Date(I.value)),Gt(A.value)&&P&&($=R?H(P)<H(A.value):N?P<A.value:L<new Date(A.value))}if((z||$)&&(_(!!z,I.message,A.message,jn.max,jn.min),!r))return x(j[b].message),j}if((u||d)&&!T&&(Gt(P)||i&&Array.isArray(P))){const z=Or(u),$=Or(d),I=!Ot(z.value)&&P.length>+z.value,A=!Ot($.value)&&P.length<+$.value;if((I||A)&&(_(I,z.message,$.message),!r))return x(j[b].message),j}if(p&&!T&&Gt(P)){const{value:z,message:$}=Or(p);if(Uo(z)&&!P.match(z)&&(j[b]={type:jn.pattern,message:$,ref:l,...V(jn.pattern,$)},!r))return x($),j}if(v){if(sn(v)){const z=await v(P,n),$=ju(z,y);if($&&(j[b]={...$,...V(jn.validate,$.message)},!r))return x($.message),j}else if(mt(v)){let z={};for(const $ in v){if(!zt(z)&&!r)break;const I=ju(await v[$](P,n),y,$);I&&(z={...I,...V($,I.message)},x(I.message),r&&(j[b]=z))}if(!zt(z)&&(j[b]={ref:y,...z},!r))return j}}return x(!0),j};const ZC={mode:rn.onSubmit,reValidateMode:rn.onChange,shouldFocusError:!0};function JC(e={}){let t={...ZC,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:sn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=mt(t.defaultValues)||mt(t.values)?pt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:pt(o),l={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:gu(),state:gu()},p=t.criteriaMode===rn.all,v=F=>U=>{clearTimeout(u),u=setTimeout(F,U)},b=async F=>{if(!t.disabled&&(d.isValid||f.isValid||F)){const U=t.resolver?zt((await k()).errors):await T(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},g=(F,U)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(a.mount)).forEach(Q=>{Q&&(U?Ze(n.validatingFields,Q,U):ht(n.validatingFields,Q))}),m.state.next({validatingFields:n.validatingFields,isValidating:!zt(n.validatingFields)}))},C=(F,U=[],Q,te,ee=!0,re=!0)=>{if(te&&Q&&!t.disabled){if(l.action=!0,re&&Array.isArray(he(r,F))){const ue=Q(he(r,F),te.argA,te.argB);ee&&Ze(r,F,ue)}if(re&&Array.isArray(he(n.errors,F))){const ue=Q(he(n.errors,F),te.argA,te.argB);ee&&Ze(n.errors,F,ue),YC(n.errors,F)}if((d.touchedFields||f.touchedFields)&&re&&Array.isArray(he(n.touchedFields,F))){const ue=Q(he(n.touchedFields,F),te.argA,te.argB);ee&&Ze(n.touchedFields,F,ue)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Nr(o,i)),m.state.next({name:F,isDirty:_(F,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ze(i,F,U)},P=(F,U)=>{Ze(n.errors,F,U),m.state.next({errors:n.errors})},y=F=>{n.errors=F,m.state.next({errors:n.errors,isValid:!1})},x=(F,U,Q,te)=>{const ee=he(r,F);if(ee){const re=he(i,F,dt(Q)?he(o,F):Q);dt(re)||te&&te.defaultChecked||U?Ze(i,F,U?re:yu(ee._f)):I(F,re),l.mount&&b()}},j=(F,U,Q,te,ee)=>{let re=!1,ue=!1;const je={name:F};if(!t.disabled){if(!Q||te){(d.isDirty||f.isDirty)&&(ue=n.isDirty,n.isDirty=je.isDirty=_(),re=ue!==je.isDirty);const Ae=In(he(o,F),U);ue=!!he(n.dirtyFields,F),Ae?ht(n.dirtyFields,F):Ze(n.dirtyFields,F,!0),je.dirtyFields=n.dirtyFields,re=re||(d.dirtyFields||f.dirtyFields)&&ue!==!Ae}if(Q){const Ae=he(n.touchedFields,F);Ae||(Ze(n.touchedFields,F,Q),je.touchedFields=n.touchedFields,re=re||(d.touchedFields||f.touchedFields)&&Ae!==Q)}re&&ee&&m.state.next(je)}return re?je:{}},O=(F,U,Q,te)=>{const ee=he(n.errors,F),re=(d.isValid||f.isValid)&&Wt(U)&&n.isValid!==U;if(t.delayError&&Q?(c=v(()=>P(F,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Ze(n.errors,F,Q):ht(n.errors,F)),(Q?!In(ee,Q):ee)||!zt(te)||re){const ue={...te,...re&&Wt(U)?{isValid:U}:{},errors:n.errors,name:F};n={...n,...ue},m.state.next(ue)}},k=async F=>{g(F,!0);const U=await t.resolver(i,t.context,WC(F||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(F),U},E=async F=>{const{errors:U}=await k(F);if(F)for(const Q of F){const te=he(U,Q);te?Ze(n.errors,Q,te):ht(n.errors,Q)}else n.errors=U;return U},T=async(F,U,Q={valid:!0})=>{for(const te in F){const ee=F[te];if(ee){const{_f:re,...ue}=ee;if(re){const je=a.array.has(re.name),Ae=ee._f&&GC(ee._f);Ae&&d.validatingFields&&g([re.name],!0);const Ee=await Pu(ee,a.disabled,i,p,t.shouldUseNativeValidation&&!U,je);if(Ae&&d.validatingFields&&g([re.name]),Ee[re.name]&&(Q.valid=!1,U))break;!U&&(he(Ee,re.name)?je?XC(n.errors,Ee,re.name):Ze(n.errors,re.name,Ee[re.name]):ht(n.errors,re.name))}!zt(ue)&&await T(ue,U,Q)}}return Q.valid},V=()=>{for(const F of a.unMount){const U=he(r,F);U&&(U._f.refs?U._f.refs.every(Q=>!zi(Q)):!zi(U._f.ref))&&pe(F)}a.unMount=new Set},_=(F,U)=>!t.disabled&&(F&&U&&Ze(i,F,U),!In(W(),o)),z=(F,U,Q)=>yf(F,a,{...l.mount?i:dt(U)?o:Gt(F)?{[F]:U}:U},Q,U),$=F=>aa(he(l.mount?i:o,F,t.shouldUnregister?he(o,F,[]):[])),I=(F,U,Q={})=>{const te=he(r,F);let ee=U;if(te){const re=te._f;re&&(!re.disabled&&Ze(i,F,Pf(U,re)),ee=Go(re.ref)&&Ot(U)?"":U,wf(re.ref)?[...re.ref.options].forEach(ue=>ue.selected=ee.includes(ue.value)):re.refs?qs(re.ref)?re.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(ee)?ue.checked=!!ee.find(je=>je===ue.value):ue.checked=ee===ue.value||!!ee)}):re.refs.forEach(ue=>ue.checked=ue.value===ee):ha(re.ref)?re.ref.value="":(re.ref.value=ee,re.ref.type||m.state.next({name:F,values:pt(i)})))}(Q.shouldDirty||Q.shouldTouch)&&j(F,ee,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&N(F)},A=(F,U,Q)=>{for(const te in U){if(!U.hasOwnProperty(te))return;const ee=U[te],re=F+"."+te,ue=he(r,re);(a.array.has(F)||mt(ee)||ue&&!ue._f)&&!br(ee)?A(re,ee,Q):I(re,ee,Q)}},L=(F,U,Q={})=>{const te=he(r,F),ee=a.array.has(F),re=pt(U);Ze(i,F,re),ee?(m.array.next({name:F,values:pt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&m.state.next({name:F,dirtyFields:Nr(o,i),isDirty:_(F,re)})):te&&!te._f&&!Ot(re)?A(F,re,Q):I(F,re,Q),wu(F,a)&&m.state.next({...n,name:F}),m.state.next({name:l.mount?F:void 0,values:pt(i)})},H=async F=>{l.mount=!0;const U=F.target;let Q=U.name,te=!0;const ee=he(r,Q),re=Ae=>{te=Number.isNaN(Ae)||br(Ae)&&isNaN(Ae.getTime())||In(Ae,he(i,Q,Ae))},ue=vu(t.mode),je=vu(t.reValidateMode);if(ee){let Ae,Ee;const en=U.type?yu(ee._f):gf(F),Ke=F.type===Wo.BLUR||F.type===Wo.FOCUS_OUT,ot=!UC(ee._f)&&!t.resolver&&!he(n.errors,Q)&&!ee._f.deps||QC(Ke,he(n.touchedFields,Q),n.isSubmitted,je,ue),$n=wu(Q,a,Ke);Ze(i,Q,en),Ke?(!U||!U.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(F),c&&c(0)):ee._f.onChange&&ee._f.onChange(F);const Rn=j(Q,en,Ke),It=!zt(Rn)||$n;if(!Ke&&m.state.next({name:Q,type:F.type,values:pt(i)}),ot)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ke&&b():Ke||b()),It&&m.state.next({name:Q,...$n?{}:Rn});if(!Ke&&$n&&m.state.next({...n}),t.resolver){const{errors:cr}=await k([Q]);if(re(en),te){const ur=Su(n.errors,r,Q),Nn=Su(cr,r,ur.name||Q);Ae=Nn.error,Q=Nn.name,Ee=zt(cr)}}else g([Q],!0),Ae=(await Pu(ee,a.disabled,i,p,t.shouldUseNativeValidation))[Q],g([Q]),re(en),te&&(Ae?Ee=!1:(d.isValid||f.isValid)&&(Ee=await T(r,!0)));te&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&N(ee._f.deps),O(Q,Ee,Ae,Rn))}},R=(F,U)=>{if(he(n.errors,U)&&F.focus)return F.focus(),1},N=async(F,U={})=>{let Q,te;const ee=Ms(F);if(t.resolver){const re=await E(dt(F)?F:ee);Q=zt(re),te=F?!ee.some(ue=>he(re,ue)):Q}else F?(te=(await Promise.all(ee.map(async re=>{const ue=he(r,re);return await T(ue&&ue._f?{[re]:ue}:ue)}))).every(Boolean),!(!te&&!n.isValid)&&b()):te=Q=await T(r);return m.state.next({...!Gt(F)||(d.isValid||f.isValid)&&Q!==n.isValid?{}:{name:F},...t.resolver||!F?{isValid:Q}:{},errors:n.errors}),U.shouldFocus&&!te&&Fs(r,R,F?ee:a.mount),te},W=(F,U)=>{let Q={...l.mount?i:o};return U&&(Q=Cf(U.dirtyFields?n.dirtyFields:n.touchedFields,Q)),dt(F)?Q:Gt(F)?he(Q,F):F.map(te=>he(Q,te))},q=(F,U)=>({invalid:!!he((U||n).errors,F),isDirty:!!he((U||n).dirtyFields,F),error:he((U||n).errors,F),isValidating:!!he(n.validatingFields,F),isTouched:!!he((U||n).touchedFields,F)}),Z=F=>{F&&Ms(F).forEach(U=>ht(n.errors,U)),m.state.next({errors:F?n.errors:{}})},ne=(F,U,Q)=>{const te=(he(r,F,{_f:{}})._f||{}).ref,ee=he(n.errors,F)||{},{ref:re,message:ue,type:je,...Ae}=ee;Ze(n.errors,F,{...Ae,...U,ref:te}),m.state.next({name:F,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&te&&te.focus&&te.focus()},J=(F,U)=>sn(F)?m.state.subscribe({next:Q=>"values"in Q&&F(z(void 0,U),Q)}):z(F,U,!0),fe=F=>m.state.subscribe({next:U=>{KC(F.name,U.name,F.exact)&&qC(U,F.formState||d,Se,F.reRenderRoot)&&F.callback({values:{...i},...n,...U,defaultValues:o})}}).unsubscribe,le=F=>(l.mount=!0,f={...f,...F.formState},fe({...F,formState:f})),pe=(F,U={})=>{for(const Q of F?Ms(F):a.mount)a.mount.delete(Q),a.array.delete(Q),U.keepValue||(ht(r,Q),ht(i,Q)),!U.keepError&&ht(n.errors,Q),!U.keepDirty&&ht(n.dirtyFields,Q),!U.keepTouched&&ht(n.touchedFields,Q),!U.keepIsValidating&&ht(n.validatingFields,Q),!t.shouldUnregister&&!U.keepDefaultValue&&ht(o,Q);m.state.next({values:pt(i)}),m.state.next({...n,...U.keepDirty?{isDirty:_()}:{}}),!U.keepIsValid&&b()},X=({disabled:F,name:U})=>{(Wt(F)&&l.mount||F||a.disabled.has(U))&&(F?a.disabled.add(U):a.disabled.delete(U))},ce=(F,U={})=>{let Q=he(r,F);const te=Wt(U.disabled)||Wt(t.disabled);return Ze(r,F,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:F}},name:F,mount:!0,...U}}),a.mount.add(F),Q?X({disabled:Wt(U.disabled)?U.disabled:t.disabled,name:F}):x(F,!0,U.value),{...te?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:fs(U.min),max:fs(U.max),minLength:fs(U.minLength),maxLength:fs(U.maxLength),pattern:fs(U.pattern)}:{},name:F,onChange:H,onBlur:H,ref:ee=>{if(ee){ce(F,U),Q=he(r,F);const re=dt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ue=NC(re),je=Q._f.refs||[];if(ue?je.find(Ae=>Ae===re):re===Q._f.ref)return;Ze(r,F,{_f:{...Q._f,...ue?{refs:[...je.filter(zi),re,...Array.isArray(he(o,F))?[{}]:[]],ref:{type:re.type,name:F}}:{ref:re}}}),x(F,!1,void 0,re)}else Q=he(r,F,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(pf(a.array,F)&&l.action)&&a.unMount.add(F)}}},ae=()=>t.shouldFocusError&&Fs(r,R,a.mount),Ce=F=>{Wt(F)&&(m.state.next({disabled:F}),Fs(r,(U,Q)=>{const te=he(r,Q);te&&(U.disabled=te._f.disabled||F,Array.isArray(te._f.refs)&&te._f.refs.forEach(ee=>{ee.disabled=te._f.disabled||F}))},0,!1))},Oe=(F,U)=>async Q=>{let te;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ee=pt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:ue}=await k();n.errors=re,ee=pt(ue)}else await T(r);if(a.disabled.size)for(const re of a.disabled)ht(ee,re);if(ht(n.errors,"root"),zt(n.errors)){m.state.next({errors:{}});try{await F(ee,Q)}catch(re){te=re}}else U&&await U({...n.errors},Q),ae(),setTimeout(ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Ne=(F,U={})=>{he(r,F)&&(dt(U.defaultValue)?L(F,pt(he(o,F))):(L(F,U.defaultValue),Ze(o,F,pt(U.defaultValue))),U.keepTouched||ht(n.touchedFields,F),U.keepDirty||(ht(n.dirtyFields,F),n.isDirty=U.defaultValue?_(F,pt(he(o,F))):_()),U.keepError||(ht(n.errors,F),d.isValid&&b()),m.state.next({...n}))},Ye=(F,U={})=>{const Q=F?pt(F):o,te=pt(Q),ee=zt(F),re=ee?o:te;if(U.keepDefaultValues||(o=Q),!U.keepValues){if(U.keepDirtyValues){const ue=new Set([...a.mount,...Object.keys(Nr(o,i))]);for(const je of Array.from(ue))he(n.dirtyFields,je)?Ze(re,je,he(i,je)):L(je,he(re,je))}else{if(la&&dt(F))for(const ue of a.mount){const je=he(r,ue);if(je&&je._f){const Ae=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(Go(Ae)){const Ee=Ae.closest("form");if(Ee){Ee.reset();break}}}}if(U.keepFieldsRef)for(const ue of a.mount)L(ue,he(re,ue));else r={}}i=t.shouldUnregister?U.keepDefaultValues?pt(o):{}:pt(re),m.array.next({values:{...re}}),m.state.next({values:{...re}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,l.watch=!!t.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!In(F,o)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:U.keepDirtyValues?U.keepDefaultValues&&i?Nr(o,i):n.dirtyFields:U.keepDefaultValues&&F?Nr(o,F):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},oe=(F,U)=>Ye(sn(F)?F(i):F,U),ge=(F,U={})=>{const Q=he(r,F),te=Q&&Q._f;if(te){const ee=te.refs?te.refs[0]:te.ref;ee.focus&&(ee.focus(),U.shouldSelect&&sn(ee.select)&&ee.select())}},Se=F=>{n={...n,...F}},Ue={control:{register:ce,unregister:pe,getFieldState:q,handleSubmit:Oe,setError:ne,_subscribe:fe,_runSchema:k,_focusError:ae,_getWatch:z,_getDirty:_,_setValid:b,_setFieldArray:C,_setDisabledField:X,_setErrors:y,_getFieldArray:$,_reset:Ye,_resetDefaultValues:()=>sn(t.defaultValues)&&t.defaultValues().then(F=>{oe(F,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Ce,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(F){l=F},get _defaultValues(){return o},get _names(){return a},set _names(F){a=F},get _formState(){return n},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:le,trigger:N,register:ce,handleSubmit:Oe,watch:J,setValue:L,getValues:W,reset:oe,resetField:Ne,clearErrors:Z,unregister:pe,setError:ne,setFocus:ge,getFieldState:q};return{...Ue,formControl:Ue}}function Ef(e={}){const t=Fe.useRef(void 0),n=Fe.useRef(void 0),[r,o]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:sn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:sn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!sn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...a}=JC(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,da(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>o({...i._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),i._formState.isReady=!0,l},[i]),Fe.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Fe.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Fe.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Fe.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Fe.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),Fe.useEffect(()=>{e.values&&!In(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,o(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=bf(r,i),t.current}var ku=function(e,t,n){if(e&&"reportValidity"in e){var r=he(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},If=function(e,t){var n=function(o){var i=t.fields[o];i&&i.ref&&"reportValidity"in i.ref?ku(i.ref,o,e):i.refs&&i.refs.forEach(function(l){return ku(l,o,e)})};for(var r in t.fields)n(r)},e0=function(e,t){t.shouldUseNativeValidation&&If(e,t);var n={};for(var r in e){var o=he(t.fields,r);Ze(n,r,Object.assign(e[r],{ref:o&&o.ref}))}return n},Mf=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),function(r,o,i){try{return Promise.resolve(function(l,a){try{var c=(t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:o}))).then(function(u){return i.shouldUseNativeValidation&&If({},i),{values:n.rawValues?r:u,errors:{}}}))}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(l){if(!l.inner)throw l;return{values:{},errors:e0((a=l,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(a.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,m=f&&f[d.type];u[d.path]=vf(d.path,c,u,d.type,m?[].concat(m,d.message):d.message)}return u},{})),i)};var a,c}))}catch(l){return Promise.reject(l)}}};function Mr(e){this._maxSize=e,this.clear()}Mr.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Mr.prototype.get=function(e){return this._values[e]};Mr.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var t0=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ff=/^\d+$/,n0=/^\d/,r0=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s0=/^\s*(['"]?)(.*?)(\1)\s*$/,ma=512,Eu=new Mr(ma),Iu=new Mr(ma),Mu=new Mr(ma),wr={Cache:Mr,split:gl,normalizePath:Bi,setter:function(e){var t=Bi(e);return Iu.get(e)||Iu.set(e,function(r,o){for(var i=0,l=t.length,a=r;i<l-1;){var c=t[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return r;a=a[t[i++]]}a[t[i]]=o})},getter:function(e,t){var n=Bi(e);return Mu.get(e)||Mu.set(e,function(o){for(var i=0,l=n.length;i<l;)if(o!=null||!t)o=o[n[i++]];else return;return o})},join:function(e){return e.reduce(function(t,n){return t+(ga(n)||Ff.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){o0(Array.isArray(e)?e:gl(e),t,n)}};function Bi(e){return Eu.get(e)||Eu.set(e,gl(e).map(function(t){return t.replace(s0,"$2")}))}function gl(e){return e.match(t0)||[""]}function o0(e,t,n){var r=e.length,o,i,l,a;for(i=0;i<r;i++)o=e[i],o&&(a0(o)&&(o='"'+o+'"'),a=ga(o),l=!a&&/^\d+$/.test(o),t.call(n,o,a,l,i,e))}function ga(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function i0(e){return e.match(n0)&&!e.match(Ff)}function l0(e){return r0.test(e)}function a0(e){return!ga(e)&&(i0(e)||l0(e))}const c0=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,pi=e=>e.match(c0)||[],xi=e=>e[0].toUpperCase()+e.slice(1),pa=(e,t)=>pi(e).join(t).toLowerCase(),Tf=e=>pi(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),u0=e=>xi(Tf(e)),d0=e=>pa(e,"_"),h0=e=>pa(e,"-"),f0=e=>xi(pa(e," ")),m0=e=>pi(e).map(xi).join(" ");var Hi={words:pi,upperFirst:xi,camelCase:Tf,pascalCase:u0,snakeCase:d0,kebabCase:h0,sentenceCase:f0,titleCase:m0},xa={exports:{}};xa.exports=function(e){return Af(g0(e),e)};xa.exports.array=Af;function Af(e,t){var n=e.length,r=new Array(n),o={},i=n,l=p0(t),a=x0(e);for(t.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)o[i]||c(e[i],i,new Set);return r;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!o[d]){o[d]=!0;var p=l.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var v=p[--d];c(v,a.get(v),f)}while(d);f.delete(u)}r[--n]=u}}}function g0(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}function p0(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}function x0(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var b0=xa.exports;const y0=Jg(b0),v0=Object.prototype.toString,C0=Error.prototype.toString,w0=RegExp.prototype.toString,S0=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",j0=/^Symbol\((.*)\)(.*)$/;function P0(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Fu(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return P0(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return S0.call(e).replace(j0,"Symbol($1)");const r=v0.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+C0.call(e)+"]":r==="RegExp"?w0.call(e):null}function tr(e,t){let n=Fu(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=Fu(this[r],t);return i!==null?i:o},2)}function Df(e){return e==null?[]:[].concat(e)}let Of,_f,Vf,k0=/\$\{\s*(\w+)\s*\}/g;Of=Symbol.toStringTag;class Tu{constructor(t,n,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Of]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],Df(t).forEach(i=>{if(_t.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}_f=Symbol.hasInstance;Vf=Symbol.toStringTag;class _t extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(k0,(o,i)=>tr(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o,i){const l=new Tu(t,n,r,o);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Vf]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_t)}static[_f](t){return Tu[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let pn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=r!=null&&r!==n?` (cast from the value \`${tr(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${tr(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${tr(n,!0)}\``+o}},Rt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},E0={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},pl={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},I0={isValue:"${path} field must be ${value}"},Po={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},M0={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},F0={notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${tr(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${tr(n,!0)}\``}return _t.formatError(pn.notType,e)}};Object.assign(Object.create(null),{mixed:pn,string:Rt,number:E0,date:pl,object:Po,array:M0,boolean:I0,tuple:F0});const ba=e=>e&&e.__isYupSchema__;class qo{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,l=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new qo(t,(a,c)=>{var u;let d=l(...a)?o:i;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn(r,t,n);if(o===void 0||o===t)return t;if(!ba(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const ho={context:"$",value:"."};class Fr{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ho.context,this.isValue=this.key[0]===ho.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ho.context:this.isValue?ho.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&wr.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Fr.prototype.__isYupRef=!0;const yr=e=>e==null;function _r(e){function t({value:n,path:r="",options:o,originalValue:i,schema:l},a,c){const{name:u,test:d,params:f,message:m,skipAbsent:p}=e;let{parent:v,context:b,abortEarly:g=l.spec.abortEarly,disableStackTrace:C=l.spec.disableStackTrace}=o;const P={value:n,parent:v,context:b};function y(_={}){const z=Lf(Object.assign({value:n,originalValue:i,label:l.spec.label,path:_.path||r,spec:l.spec,disableStackTrace:_.disableStackTrace||C},f,_.params),P),$=new _t(_t.formatError(_.message||m,z),n,z.path,_.type||u,z.disableStackTrace);return $.params=z,$}const x=g?a:c;let j={path:r,parent:v,type:u,from:o.from,createError:y,resolve(_){return $f(_,P)},options:o,originalValue:i,schema:l};const O=_=>{_t.isError(_)?x(_):_?c(null):x(y())},k=_=>{_t.isError(_)?x(_):a(_)};if(p&&yr(n))return O(!0);let T;try{var V;if(T=d.call(j,n,j),typeof((V=T)==null?void 0:V.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(O,k)}}catch(_){k(_);return}O(T)}return t.OPTIONS=e,t}function Lf(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=$f(e[n],t);return e}function $f(e,t){return Fr.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function T0(e,t,n,r=n){let o,i,l;return t?(wr.forEach(t,(a,c,u)=>{let d=c?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:o,value:n});let f=e.type==="tuple",m=u?parseInt(d,10):0;if(e.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[m],e=f?e.spec.types[m]:e.innerType}if(!u){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${e.type}")`);o=n,n=n&&n[d],e=e.fields[d]}i=d,l=c?"["+a+"]":"."+a}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class Ko extends Set{describe(){const t=[];for(const n of this.values())t.push(Fr.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Ko(this.values())}merge(t,n){const r=this.clone();return t.forEach(o=>r.add(o)),n.forEach(o=>r.delete(o)),r}}function Qr(e,t=new Map){if(ba(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Qr(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Qr(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Qr(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Qr(o,t)}else throw Error(`Unable to clone ${e}`);return n}function A0(e){if(!(e!=null&&e.length))return;const t=[];let n="",r=!1,o=!1;for(let i=0;i<e.length;i++){const l=e[i];if(l==="["&&!o){n&&(t.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(l==="]"&&!o){n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(l==='"'){o=!o;continue}if(l==="."&&!r&&!o){n&&(t.push(n),n="");continue}n+=l}return n&&t.push(...n.split(".").filter(Boolean)),t}function D0(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(r=>({message:r,path:A0(n)}))}function Rf(e,t){var n;if(!((n=e.inner)!=null&&n.length)&&e.errors.length)return D0(e,t);const r=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(o=>Rf(o,r))}class Cn{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ko,this._blacklist=new Ko,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(pn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Qr(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const o=Object.assign({},n.spec,r.spec);return r.spec=o,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{t.tests.forEach(l=>{i.test(l.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((o,i)=>i.resolve(o,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,o,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(o=t.recursive)!=null?o:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({},n,{value:t})),o=n.assert==="ignore-optionality",i=r._cast(t,n);if(n.assert!==!1&&!r.isType(i)){if(o&&yr(i))return i;let l=tr(t),a=tr(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${l} 
`+(a!==l?`result of cast: ${a}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((o,i)=>i.call(this,o,t,this,n),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,o){let{path:i,originalValue:l=t,strict:a=this.spec.strict}=n,c=t;a||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:l,options:n,tests:u},r,d=>{if(d.length)return o(d,c);this.runTests({path:i,value:c,originalValue:l,options:n,tests:this.tests},r,o)})}runTests(t,n,r){let o=!1,{tests:i,value:l,originalValue:a,path:c,options:u}=t,d=b=>{o||(o=!0,n(b,l))},f=b=>{o||(o=!0,r(b,l))},m=i.length,p=[];if(!m)return f([]);let v={value:l,originalValue:a,path:c,options:u,schema:this};for(let b=0;b<i.length;b++){const g=i[b];g(v,d,function(P){P&&(Array.isArray(P)?p.push(...P):p.push(P)),--m<=0&&f(p)})}}asNestedTest({key:t,index:n,parent:r,parentPath:o,originalParent:i,options:l}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=r[a];const d=Object.assign({},l,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${o||""}[${c?a:`"${a}"`}]`:(o?`${o}.`:"")+t});return(f,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i=(r=n==null?void 0:n.disableStackTrace)!=null?r:o.spec.disableStackTrace;return new Promise((l,a)=>o._validate(t,n,(c,u)=>{_t.isError(c)&&(c.value=u),a(c)},(c,u)=>{c.length?a(new _t(c,u,void 0,void 0,i)):l(u)}))}validateSync(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i,l=(r=n==null?void 0:n.disableStackTrace)!=null?r:o.spec.disableStackTrace;return o._validate(t,Object.assign({},n,{sync:!0}),(a,c)=>{throw _t.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new _t(a,t,void 0,void 0,l);i=c}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(_t.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(_t.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Qr(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=_r({message:n,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=_r({message:n,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=pn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=pn.notNull){return this.nullability(!1,t)}required(t=pn.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=pn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=_r(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(l=>!(l.OPTIONS.name===n.name&&(i||l.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),o=Df(t).map(i=>new Fr(i));return o.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new qo(o,n):qo.fromOptions(o,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=_r({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=pn.oneOf){let r=this.clone();return t.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r.internalTests.whiteList=_r({message:n,name:"oneOf",skipAbsent:!0,test(o){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(o)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),r}notOneOf(t,n=pn.notOneOf){let r=this.clone();return t.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r.internalTests.blacklist=_r({message:n,name:"notOneOf",test(o){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(o)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:o,optional:i,nullable:l}=n.spec;return{meta:o,label:r,optional:i,nullable:l,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&t?Lf(Object.assign({},c.OPTIONS.params),t):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await t.validate(r,{abortEarly:!1})}}catch(o){if(o instanceof _t)return{issues:Rf(o)};throw o}}}}}Cn.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Cn.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:l}=T0(this,t,n,r.context);return l[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])Cn.prototype[e]=Cn.prototype.oneOf;for(const e of["not","nope"])Cn.prototype[e]=Cn.prototype.notOneOf;const O0=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _0(e){const t=xl(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function xl(e){var t,n;const r=O0.exec(e);return r?{year:Pn(r[1]),month:Pn(r[2],1)-1,day:Pn(r[3],1),hour:Pn(r[4]),minute:Pn(r[5]),second:Pn(r[6]),millisecond:r[7]?Pn(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Pn(r[10]),minuteOffset:Pn(r[11])}:null}function Pn(e,t=0){return Number(e)||t}let V0=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,L0=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,$0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,R0="^\\d{4}-\\d{2}-\\d{2}",N0="\\d{2}:\\d{2}:\\d{2}",z0="(([+-]\\d{2}(:?\\d{2})?)|Z)",B0=new RegExp(`${R0}T${N0}(\\.\\d+)?${z0}$`),H0=e=>yr(e)||e===e.trim(),W0={}.toString();function Tt(){return new Nf}class Nf extends Cn{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===W0?t:r})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||pn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Rt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Rt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Rt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,o,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:o,name:i}=n:o=n),this.test({name:i||"matches",message:o||Rt.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&r||l.search(t)!==-1})}email(t=Rt.email){return this.matches(V0,{name:"email",message:t,excludeEmptyString:!0})}url(t=Rt.url){return this.matches(L0,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Rt.uuid){return this.matches($0,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,o;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:o=void 0}=t:n=t),this.matches(B0,{name:"datetime",message:n||Rt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Rt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const l=xl(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:n||Rt.datetime_precision,params:{precision:o},skipAbsent:!0,test:i=>{if(!i||o==null)return!0;const l=xl(i);return l?l.precision===o:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Rt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:H0})}lowercase(t=Rt.lowercase){return this.transform(n=>yr(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yr(n)||n===n.toLowerCase()})}uppercase(t=Rt.uppercase){return this.transform(n=>yr(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yr(n)||n===n.toUpperCase()})}}Tt.prototype=Nf.prototype;let G0=new Date(""),U0=e=>Object.prototype.toString.call(e)==="[object Date]";class bi extends Cn{constructor(){super({type:"date",check(t){return U0(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=_0(t),isNaN(t)?bi.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(Fr.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=pl.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(t,n=pl.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}bi.INVALID_DATE=G0;bi.prototype;function q0(e,t=[]){let n=[],r=new Set,o=new Set(t.map(([l,a])=>`${l}-${a}`));function i(l,a){let c=wr.split(l)[0];r.add(c),o.has(`${a}-${c}`)||n.push([a,c])}for(const l of Object.keys(e)){let a=e[l];r.add(l),Fr.isRef(a)&&a.isSibling?i(a.path,l):ba(a)&&"deps"in a&&a.deps.forEach(c=>i(c,l))}return y0.array(Array.from(r),n).reverse()}function Au(e,t){let n=1/0;return e.some((r,o)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=o,!0}),n}function zf(e){return(t,n)=>Au(e,t)-Au(e,n)}const K0=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function ko(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ko(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=ko(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(ko)}):"optional"in e?e.optional():e}const Q0=(e,t)=>{const n=[...wr.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),o=wr.getter(wr.join(n),!0)(e);return!!(o&&r in o)};let Du=e=>Object.prototype.toString.call(e)==="[object Object]";function Ou(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Y0=zf([]);function ya(e){return new Bf(e)}class Bf extends Cn{constructor(t){super({type:"object",check(n){return Du(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Y0,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let i=this.fields,l=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(o).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of a){let m=i[f],p=f in o,v=o[f];if(m){let b;u.path=(n.path?`${n.path}.`:"")+f,m=m.resolve({value:v,context:n.context,parent:c});let g=m instanceof Cn?m.spec:void 0,C=g==null?void 0:g.strict;if(g!=null&&g.strip){d=d||f in o;continue}b=!n.__validating||!C?m.cast(v,u):v,b!==void 0&&(c[f]=b)}else p&&!l&&(c[f]=v);(p!==f in c||c[f]!==v)&&(d=!0)}return d?c:o}_validate(t,n={},r,o){let{from:i=[],originalValue:l=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:l},...i],n.__validating=!0,n.originalValue=l,super._validate(t,n,r,(c,u)=>{if(!a||!Du(u)){o(c,u);return}l=l||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Fr.isRef(m)||d.push(m.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:l}))}this.runTests({tests:d,value:u,originalValue:l,options:n},r,f=>{o(f.sort(this._sortErrors).concat(c),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const l=r[o];r[o]=l===void 0?i:l}return n.withMutation(o=>o.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var o;const i=this.fields[r];let l=t;(o=l)!=null&&o.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(l):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=q0(t,n),r._sortErrors=zf(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),o)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return ko(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,o])=>t.includes(r)&&t.includes(o)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let o=wr.getter(t,!0);return this.transform(i=>{if(!i)return i;let l=i;return Q0(i,t)&&(l=Object.assign({},i),r||delete l[t],l[n]=o(i)),l})}json(){return this.transform(K0)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Po.exact,test(n){if(n==null)return!0;const r=Ou(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=Po.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=Ou(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=Po.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const o of Object.keys(n))r[t(o)]=n[o];return r})}camelCase(){return this.transformKeys(Hi.camelCase)}snakeCase(){return this.transformKeys(Hi.snakeCase)}constantCase(){return this.transformKeys(t=>Hi.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,l]of Object.entries(n.fields)){var o;let a=t;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=l.describe(a)}return r}}ya.prototype=Bf.prototype;const X0=ya({email:Tt().email("Введите корректный email").required("Email обязателен"),password:Tt().min(6,"Пароль должен содержать минимум 6 символов").required("Пароль обязателен")}),Z0=()=>{var u,d;const[e,t]=h.useState(!1),{login:n,error:r,isLoading:o}=ia(),{register:i,handleSubmit:l,formState:{errors:a}}=Ef({resolver:Mf(X0)}),c=async f=>{try{await n(f),Pe.success("Добро пожаловать в НЭК Сервис!")}catch(m){Pe.error(m.message||"Ошибка входа в систему")}};return s.jsx(B,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",p:2},children:s.jsx(xg,{maxWidth:"sm",children:s.jsx(tt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs(we,{sx:{borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"hidden"},children:[s.jsxs(B,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:4,textAlign:"center",color:"white"},children:[s.jsx(gd,{sx:{fontSize:60,mb:2}}),s.jsx(S,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"НЭК Сервис"}),s.jsx(S,{variant:"body1",sx:{opacity:.9},children:"CRM Система для сервисного центра"})]}),s.jsxs(ke,{sx:{p:4},children:[s.jsx(S,{variant:"h5",fontWeight:"600",gutterBottom:!0,textAlign:"center",children:"Вход в систему"}),s.jsx(S,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mb:3},children:"Введите ваши учетные данные для входа"}),r&&s.jsx(bg,{severity:"error",sx:{mb:3},children:r}),s.jsxs(B,{component:"form",onSubmit:l(c),children:[s.jsx(se,{...i("email"),fullWidth:!0,label:"Email",type:"email",margin:"normal",error:!!a.email,helperText:(u=a.email)==null?void 0:u.message,InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Il,{color:"action"})})},sx:{mb:2}}),s.jsx(se,{...i("password"),fullWidth:!0,label:"Пароль",type:e?"text":"password",margin:"normal",error:!!a.password,helperText:(d=a.password)==null?void 0:d.message,InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(yg,{color:"action"})}),endAdornment:s.jsx(xt,{position:"end",children:s.jsx(Be,{"aria-label":"toggle password visibility",onClick:()=>t(!e),edge:"end",children:e?s.jsx(vg,{}):s.jsx(is,{})})})},sx:{mb:3}}),s.jsx(me,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:o,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:o?"Вход...":"Войти"})]}),s.jsxs(B,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:2},children:[s.jsx(S,{variant:"body2",color:"text.secondary",textAlign:"center",gutterBottom:!0,children:"Тестовые учетные записи:"}),s.jsx(S,{variant:"body2",color:"text.secondary",textAlign:"center",children:"admin@nekservice.ru / password"}),s.jsx(S,{variant:"body2",color:"text.secondary",textAlign:"center",children:"manager@nekservice.ru / password"}),s.jsx(S,{variant:"body2",color:"text.secondary",textAlign:"center",children:"tech@nekservice.ru / password"})]})]})]})})})})},J0=[{title:"Всего заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Mo,{}),color:"#1976d2"},{title:"Активные заказы",value:"89",change:"+5%",changeType:"positive",icon:s.jsx(wg,{}),color:"#ed6c02"},{title:"Завершенные",value:"1,158",change:"+18%",changeType:"positive",icon:s.jsx(Ml,{}),color:"#2e7d32"},{title:"Доход за месяц",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(pd,{}),color:"#9c27b0"},{title:"Клиенты",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(Fo,{}),color:"#f57c00"},{title:"Запчасти на складе",value:"1,234",change:"-3%",changeType:"negative",icon:s.jsx(El,{}),color:"#d32f2f"}],ew=[{month:"Янв",revenue:24e5},{month:"Фев",revenue:22e5},{month:"Мар",revenue:28e5},{month:"Апр",revenue:26e5},{month:"Май",revenue:32e5},{month:"Июн",revenue:2847500}],_u=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],Vu=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],Lu=[{id:"#001247",client:"Петров И.И.",device:"iPhone 14",status:"В работе",amount:15e3},{id:"#001246",client:"Сидорова М.А.",device:"Samsung Galaxy S23",status:"Завершен",amount:12e3},{id:"#001245",client:"Козлов А.В.",device:"MacBook Pro",status:"Ожидание",amount:45e3},{id:"#001244",client:"Волкова Е.С.",device:"iPad Air",status:"В работе",amount:18e3}],tw=({title:e,value:t,change:n,changeType:r,icon:o,color:i})=>s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsxs(we,{sx:{height:"100%",position:"relative",overflow:"hidden"},children:[s.jsxs(ke,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(rt,{sx:{bgcolor:i,width:56,height:56},children:o}),s.jsx(lt,{label:n,color:r==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(S,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:t}),s.jsx(S,{variant:"body2",color:"text.secondary",children:e})]}),s.jsx(B,{sx:{position:"absolute",top:0,right:0,width:100,height:100,background:`linear-gradient(135deg, ${i}20, ${i}10)`,borderRadius:"0 0 0 100%"}})]})}),nw=()=>s.jsxs(B,{children:[s.jsx(S,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Дашборд"}),s.jsx(S,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Обзор деятельности сервисного центра"}),s.jsx(D,{container:!0,spacing:3,sx:{mb:4},children:J0.map((e,t)=>s.jsx(D,{item:!0,xs:12,sm:6,md:4,lg:2,children:s.jsx(tw,{...e})},t))}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,lg:8,children:s.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Динамика доходов"}),s.jsx(B,{height:300,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(Pd,{data:ew,children:[s.jsx(xo,{strokeDasharray:"3 3"}),s.jsx(bo,{dataKey:"month"}),s.jsx(yo,{}),s.jsx(Wr,{formatter:e=>[`₽${e.toLocaleString()}`,"Доход"]}),s.jsx(kd,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]})})})}),s.jsx(D,{item:!0,xs:12,lg:4,children:s.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Статус заказов"}),s.jsx(B,{height:300,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(Ed,{children:[s.jsx(Id,{data:_u,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:_u.map((e,t)=>s.jsx(Md,{fill:e.color},`cell-${t}`))}),s.jsx(Wr,{formatter:e=>[`${e}%`,"Процент"]})]})})})]})})})}),s.jsx(D,{item:!0,xs:12,lg:6,children:s.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ техников"}),s.jsx(Yr,{children:Vu.map((e,t)=>s.jsxs(Fe.Fragment,{children:[s.jsxs(hn,{children:[s.jsx(Cg,{children:s.jsx(rt,{sx:{bgcolor:"primary.main"},children:e.name.split(" ").map(n=>n[0]).join("")})}),s.jsx(fn,{primary:e.name,secondary:s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsxs(S,{variant:"body2",children:[e.orders," заказов"]}),s.jsxs(S,{variant:"body2",children:["₽",e.revenue.toLocaleString()]}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ps,{sx:{fontSize:16,color:"orange",mr:.5}}),s.jsx(S,{variant:"body2",children:e.rating})]})]})})]}),t<Vu.length-1&&s.jsx(Ds,{})]},t))})]})})})}),s.jsx(D,{item:!0,xs:12,lg:6,children:s.jsx(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Последние заказы"}),s.jsx(Yr,{children:Lu.map((e,t)=>s.jsxs(Fe.Fragment,{children:[s.jsx(hn,{children:s.jsx(fn,{primary:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(S,{variant:"body1",fontWeight:"500",children:e.id}),s.jsx(lt,{label:e.status,size:"small",color:e.status==="Завершен"?"success":e.status==="В работе"?"warning":"default"})]}),secondary:s.jsxs(B,{children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:[e.client," • ",e.device]}),s.jsxs(S,{variant:"body2",fontWeight:"500",children:["₽",e.amount.toLocaleString()]})]})})}),t<Lu.length-1&&s.jsx(Ds,{})]},t))})]})})})})]})]}),Hf=h.createContext(void 0);function Te(){const e=h.useContext(Hf);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Wf=h.createContext(void 0),be=()=>{const e=h.useContext(Wf);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function $e(e){return Sg("MuiDataGrid",e)}const G=xd("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),rw=e=>{const{classes:t}=e;return Le({root:["main"]},$e,t)},sw=He("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function Gf(e){const t=be(),n=rw(t);return s.jsx(sw,{className:n.root,ownerState:t,children:e.children})}function ow(e,t){var n=function(x){var j=x.__resizeTriggers__,O=j.firstElementChild,k=j.lastElementChild,E=O.firstElementChild;k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight,E.style.width=O.offsetWidth+1+"px",E.style.height=O.offsetHeight+1+"px",O.scrollLeft=O.scrollWidth,O.scrollTop=O.scrollHeight},r=function(x){return x.offsetWidth!=x.__resizeLast__.width||x.offsetHeight!=x.__resizeLast__.height},o=function(x){if(!(x.target.className.indexOf("contract-trigger")<0&&x.target.className.indexOf("expand-trigger")<0)){var j=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){r(j)&&(j.__resizeLast__.width=j.offsetWidth,j.__resizeLast__.height=j.offsetHeight,j.__resizeListeners__.forEach(function(O){O.call(j,x)}))})}},i=!1,l="",a="animationstart",c="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{var f=document.createElement("fakeelement");if(f.style.animationName!==void 0&&(i=!0),i===!1){for(var m=0;m<c.length;m++)if(f.style[c[m]+"AnimationName"]!==void 0){d=c[m],l="-"+d.toLowerCase()+"-",a=u[m],i=!0;break}}}var p="resizeanim",v="@"+l+"keyframes "+p+" { from { opacity: 0; } to { opacity: 0; } } ",b=l+"animation: 1ms "+p+"; ",g=function(x,j){if(!j.getElementById("muiDetectElementResize")){var O=(v||"")+".Mui-resizeTriggers { "+(b||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',k=j.constructor.name==="ShadowRoot"?j:x.head||x.getElementsByTagName("head")[0],E=x.createElement("style");E.id="muiDetectElementResize",E.type="text/css",e!=null&&E.setAttribute("nonce",e),E.styleSheet?E.styleSheet.cssText=O:E.appendChild(x.createTextNode(O)),k.appendChild(E)}},C=function(x,j){if(!x.__resizeTriggers__){var O=x.ownerDocument,k=t.getComputedStyle(x);k&&k.position=="static"&&(x.style.position="relative"),g(O,x.getRootNode()),x.__resizeLast__={},x.__resizeListeners__=[],(x.__resizeTriggers__=O.createElement("div")).className="Mui-resizeTriggers",x.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',x.appendChild(x.__resizeTriggers__),n(x),x.addEventListener("scroll",o,!0),a&&(x.__resizeTriggers__.__animationListener__=function(T){T.animationName==p&&n(x)},x.__resizeTriggers__.addEventListener(a,x.__resizeTriggers__.__animationListener__))}x.__resizeListeners__.push(j)},P=function(x,j){if(x.__resizeListeners__.splice(x.__resizeListeners__.indexOf(j),1),!x.__resizeListeners__.length){x.removeEventListener("scroll",o,!0),x.__resizeTriggers__.__animationListener__&&(x.__resizeTriggers__.removeEventListener(a,x.__resizeTriggers__.__animationListener__),x.__resizeTriggers__.__animationListener__=null);try{x.__resizeTriggers__=!x.removeChild(x.__resizeTriggers__)}catch{}}};return{addResizeListener:C,removeResizeListener:P}}const iw=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],lw=h.forwardRef(function(t,n){const{children:r,defaultHeight:o=null,defaultWidth:i=null,disableHeight:l=!1,disableWidth:a=!1,nonce:c,onResize:u,style:d}=t,f=ye(t,iw),[m,p]=h.useState({height:o,width:i}),v=h.useRef(null),b=h.useRef(null),g=ln(()=>{if(b.current){const x=b.current.offsetHeight||0,j=b.current.offsetWidth||0,k=qa(b.current).getComputedStyle(b.current),E=parseInt(k.paddingLeft,10)||0,T=parseInt(k.paddingRight,10)||0,V=parseInt(k.paddingTop,10)||0,_=parseInt(k.paddingBottom,10)||0,z=x-V-_,$=j-E-T;(!l&&m.height!==z||!a&&m.width!==$)&&(p({height:z,width:$}),u&&u({height:z,width:$}))}});Jt(()=>{var x;if(b.current=v.current.parentElement,!b)return;const j=qa((x=b.current)!=null?x:void 0),O=ow(c,j);return O.addResizeListener(b.current,g),g(),()=>{O.removeResizeListener(b.current,g)}},[c,g]);const C={overflow:"visible"},P={};l||(C.height=0,P.height=m.height),a||(C.width=0,P.width=m.width);const y=kr(v,n);return s.jsx("div",w({ref:y,style:w({},C,d)},f,{children:m.height===null&&m.width===null?null:r(P)}))}),cn=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},va=(e,t)=>e;function aw(e){return e.acceptsApiRef}cn(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const xe=(e,t)=>aw(t)?t(e):t(e.current.state);var Qo="NOT_FOUND";function cw(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Qo},put:function(r,o){t={key:r,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function uw(e,t){var n=[];function r(a){var c=n.findIndex(function(d){return t(a,d.key)});if(c>-1){var u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Qo}function o(a,c){r(a)===Qo&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function i(){return n}function l(){n=[]}return{get:r,put:o,getEntries:i,clear:l}}var dw=function(t,n){return t===n};function hw(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var o=n.length,i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function Uf(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?dw:r,i=n.maxSize,l=i===void 0?1:i,a=n.resultEqualityCheck,c=hw(o),u=l===1?cw(c):uw(l,c);function d(){var f=u.get(arguments);if(f===Qo){if(f=e.apply(null,arguments),a){var m=u.getEntries(),p=m.find(function(v){return a(v.value,f)});p&&(f=p.value)}u.put(arguments,f)}return f}return d.clearCache=function(){return u.clear()},d}function fw(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function mw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];var u=0,d,f={memoizeOptions:void 0},m=a.pop();if(typeof m=="object"&&(f=m,m=a.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var p=f,v=p.memoizeOptions,b=v===void 0?n:v,g=Array.isArray(b)?b:[b],C=fw(a),P=e.apply(void 0,[function(){return u++,m.apply(null,arguments)}].concat(g)),y=e(function(){for(var j=[],O=C.length,k=0;k<O;k++)j.push(C[k].apply(null,arguments));return d=P.apply(null,j),d});return Object.assign(y,{resultFunc:m,memoizedResultFunc:P,dependencies:C,lastResult:function(){return d},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),y};return o}var gw=mw(Uf);const Mn={cache:null};cn(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const ve=(...e)=>{Mn.cache===null&&(Mn.cache={});const t=(...n)=>{const[r,o]=n,i=!!r.current,l=i?r.current.instanceId:o??"default",a=i?r.current.state:r;Mn.cache===null&&(Mn.cache={});const{cache:c}=Mn;if(c[l]&&c[l].get(e))return c[l].get(e)(a,l);const u=gw(...e);return c[l]||(c[l]=new Map),c[l].set(e,u),u(a,l)};return t.acceptsApiRef=!0,t},pw=e=>{typeof e<"u"?Mn.cache&&Mn.cache[e]&&delete Mn.cache[e]:Mn.cache=null},wn=e=>e.rows,yi=ve(wn,e=>e.totalRowCount),xw=ve(wn,e=>e.loading),bw=ve(wn,e=>e.totalTopLevelRowCount),Xr=ve(wn,e=>e.idRowsLookup),Ca=ve(wn,e=>e.idToIdLookup),Xn=ve(wn,e=>e.tree),yw=ve(wn,e=>e.groupingName),wa=ve(wn,e=>e.treeDepth),vr=ve(wn,e=>e.ids),vw=ve(wn,e=>e==null?void 0:e.additionalRowGroups),Ks=ve(vw,e=>e==null?void 0:e.pinnedRows),Cw=ve(Ks,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),Sa=e=>e.sorting,ja=ve(Sa,e=>e.sortedRows),Pa=ve(ja,Xr,(e,t)=>e.map(n=>({id:n,model:t[n]}))),tn=ve(Sa,e=>e.sortModel),ww=ve(tn,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{})),jr=e=>e.columns,ss=ve(jr,e=>e.all),ls=ve(jr,e=>e.lookup),an=ve(ss,ls,(e,t)=>e.map(n=>t[n])),Tn=ve(jr,e=>e.columnVisibilityModel),Et=ve(an,Tn,(e,t)=>e.filter(n=>t[n.field]!==!1));ve(Et,e=>e.map(t=>t.field));const Pr=ve(Et,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),vi=ve(Et,Pr,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),ka=ve(an,e=>e.filter(t=>t.filterable)),Sw=ve(an,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{}));va(ve(ka,e=>e.map(t=>t.field)));va(ve(Et,e=>e.length));const jw=va(ve(Pr,vi,(e,t)=>({totalWidth:t,positions:e}))),Qs=e=>e.filter,Nt=ve(Qs,e=>e.filterModel);ve(Nt,e=>e.quickFilterValues);const Pw=ve(Qs,e=>e.visibleRowsLookup),qf=ve(Qs,e=>e.filteredRowsLookup);ve(Qs,e=>e.filteredDescendantCountLookup);const Ln=ve(Pw,Pa,(e,t)=>t.filter(n=>e[n.id]!==!1)),Ts=ve(Ln,e=>e.map(t=>t.id)),kw=ve(qf,Pa,(e,t)=>t.filter(n=>e[n.id]!==!1)),Ew=ve(kw,e=>e.map(t=>t.id)),Kf=ve(Ln,Xn,wa,(e,t,n)=>n<2?e:e.filter(r=>{var o;return((o=t[r.id])==null?void 0:o.depth)===0})),Qf=ve(Ln,e=>e.length),Yf=ve(Kf,e=>e.length),Iw=ve(Nt,ls,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var o,i;if(!r.columnField)return!1;const l=t[r.columnField];if(!(l!=null&&l.filterOperators)||(l==null||(o=l.filterOperators)==null?void 0:o.length)===0)return!1;const a=l.filterOperators.find(c=>c.value===r.operatorValue);return a?!a.InputComponent||r.value!=null&&((i=r.value)==null?void 0:i.toString())!=="":!1})}),Mw=ve(Iw,e=>e.reduce((n,r)=>(n[r.columnField]?n[r.columnField].push(r):n[r.columnField]=[r],n),{})),Tr=e=>e.density,Fw=ve(Tr,e=>e.value),Ys=ve(Tr,e=>e.rowHeight),Xf=ve(Tr,e=>e.headerHeight),Ea=ve(Tr,e=>e.headerGroupingMaxDepth),Tw=ve(Tr,e=>e.factor),Xs=ve(Tr,e=>e.headerHeight*(1+e.headerGroupingMaxDepth));function Aw(e){var t,n;const r=Te(),o=be(),i=xe(r,Xs),[l,a]=h.useState(()=>{var d,f;return(d=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?d:null}),c=h.useCallback(()=>{var d,f;a((d=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?d:null)},[r]);Jt(()=>r.current.subscribeEvent("viewportInnerSizeChange",c),[r,c]);let u=(t=l==null?void 0:l.height)!=null?t:0;return o.autoHeight&&u===0&&(u="auto"),l?s.jsx("div",w({style:{height:u,width:(n=l==null?void 0:l.width)!=null?n:0,position:"absolute",top:i,bottom:u==="auto"?0:void 0}},e)):null}function Dw(){const e=Te(),t=be(),n=xe(e,yi),r=xe(e,Qf),o=xe(e,xw),i=!o&&n===0,l=!o&&n>0&&r===0;let a=null;if(i){var c;a=s.jsx(t.components.NoRowsOverlay,w({},(c=t.componentsProps)==null?void 0:c.noRowsOverlay))}if(l){var u;a=s.jsx(t.components.NoResultsOverlay,w({},(u=t.componentsProps)==null?void 0:u.noResultsOverlay))}if(o){var d;a=s.jsx(t.components.LoadingOverlay,w({},(d=t.componentsProps)==null?void 0:d.loadingOverlay))}return a===null?null:s.jsx(Aw,{children:a})}function Ow(e){const{children:t,VirtualScrollerComponent:n,ColumnHeadersComponent:r}=e,o=Te(),i=be(),l=xe(o,Xs),[a,c]=h.useState(i.disableVirtualization),u=h.useCallback(()=>{c(!0)},[]),d=h.useCallback(()=>{c(!1)},[]);h.useEffect(()=>{c(i.disableVirtualization)},[i.disableVirtualization]),o.current.unstable_disableVirtualization=u,o.current.unstable_enableVirtualization=d;const f=h.useRef(null),m=h.useRef(null),p=h.useRef(null),v=h.useRef(null);o.current.columnHeadersContainerElementRef=m,o.current.columnHeadersElementRef=f,o.current.windowRef=p,o.current.renderingZoneRef=v;const b=h.useCallback(g=>{o.current.publishEvent("resize",g)},[o]);return s.jsxs(Gf,{children:[s.jsx(Dw,{}),s.jsx(r,{ref:m,innerRef:f}),s.jsx(lw,{nonce:i.nonce,disableHeight:i.autoHeight,onResize:b,children:g=>{const C={width:g.width,height:g.height?g.height-l:"auto",marginTop:l};return s.jsx(n,{ref:p,style:C,disableVirtualization:a})}}),t]})}function gt(e,t){const n=h.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}class _w extends h.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:n}))}logError(t,n){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,n)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.state):this.props.children}}function Vw(e){const{children:t}=e,n=Te(),r=gt(n,"GridErrorHandler"),o=be(),i=n.current.state.error;return s.jsx(_w,{hasError:i!=null,api:n,logger:r,render:l=>{var a;return s.jsx(Gf,{children:s.jsx(o.components.ErrorOverlay,w({},l,i,(a=o.componentsProps)==null?void 0:a.errorOverlay))})},children:t})}function Lw(){var e;const t=Te(),n=be(),r=h.useRef(null);return t.current.footerRef=r,n.hideFooter?null:s.jsx("div",{ref:r,children:s.jsx(n.components.Footer,w({},(e=n.componentsProps)==null?void 0:e.footer))})}function $w(){var e;const t=Te(),n=be(),r=h.useRef(null);return t.current.headerRef=r,s.jsx("div",{ref:r,children:s.jsx(n.components.Header,w({},(e=n.componentsProps)==null?void 0:e.header))})}function Zf(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ge(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Zf(e))&&(r&&(r+=" "),r+=t);return r}var kt;(function(e){e.Cell="cell",e.Row="row"})(kt||(kt={}));var Ve;(function(e){e.Edit="edit",e.View="view"})(Ve||(Ve={}));var We;(function(e){e.Edit="edit",e.View="view"})(We||(We={}));const Zr={client:"client",server:"server"};var Vt;(function(e){e.And="and",e.Or="or"})(Vt||(Vt={}));var kn;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(kn||(kn={}));var mn;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(mn||(mn={}));var En;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(En||(En={}));var gn;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(gn||(gn={}));var $s;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})($s||($s={}));function Jf(e){return e.field!==void 0}const em=e=>e.focus,on=ve(em,e=>e.cell),Rw=ve(em,e=>e.columnHeader),tm=e=>e.tabIndex,Yo=ve(tm,e=>e.cell),nm=ve(tm,e=>e.columnHeader),Nw=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let Wi;function zw(){return Wi===void 0&&document.createElement("div").focus({get preventScroll(){return Wi=!0,!1}}),Wi}const Bw=e=>{const{align:t,showRightBorder:n,isEditable:r,classes:o}=e,i={root:["cell",`cell--text${Sr(t)}`,r&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return Le(i,$e,o)};function Hw(e){const{align:t,children:n,colIndex:r,cellMode:o,field:i,formattedValue:l,hasFocus:a,height:c,isEditable:u,rowId:d,tabIndex:f,value:m,width:p,className:v,showRightBorder:b,colSpan:g,disableDragEvents:C,onClick:P,onDoubleClick:y,onMouseDown:x,onMouseUp:j,onKeyDown:O,onDragEnter:k,onDragOver:E}=e,T=ye(e,Nw),V=l??m,_=h.useRef(null),z=h.useRef(null),$=Te(),I=be(),A={align:t,showRightBorder:b,isEditable:u,classes:I.classes},L=Bw(A),H=h.useCallback(le=>pe=>{const X=$.current.getCellParams(d,i||"");$.current.publishEvent(le,X,pe),j&&j(pe)},[$,i,j,d]),R=h.useCallback(le=>pe=>{const X=$.current.getCellParams(d,i||"");$.current.publishEvent(le,X,pe),x&&x(pe)},[$,i,x,d]),N=h.useCallback((le,pe)=>X=>{if(!X.currentTarget.contains(X.target)||!$.current.getRow(d))return;const ce=$.current.getCellParams(d,i||"");$.current.publishEvent(le,ce,X),pe&&pe(X)},[$,i,d]),W={minWidth:p,maxWidth:p,minHeight:c,maxHeight:c==="auto"?"none":c};h.useEffect(()=>{if(!a||o===Ve.Edit)return;const le=ni($.current.rootElementRef.current);if(_.current&&!_.current.contains(le.activeElement)){const pe=_.current.querySelector('[tabindex="0"]'),X=z.current||pe||_.current;if(zw())X.focus({preventScroll:!0});else{const ce=$.current.getScrollPosition();X.focus(),$.current.scroll(ce)}}},[a,o,$]);let q=T.onFocus;const ne=$.current.getColumn(i).type==="actions",J=()=>{if(n==null){const le=V==null?void 0:V.toString();return s.jsx("div",{title:le,className:L.content,children:le})}return h.isValidElement(n)&&ne?h.cloneElement(n,{focusElementRef:z}):n},fe=C?null:{onDragEnter:N("cellDragEnter",k),onDragOver:N("cellDragOver",E)};return s.jsx("div",w({ref:_,className:Ge(v,L.root),role:"cell","data-field":i,"data-colindex":r,"aria-colindex":r+1,"aria-colspan":g,style:W,tabIndex:(o==="view"||!u)&&!ne?f:-1,onClick:N("cellClick",P),onDoubleClick:N("cellDoubleClick",y),onMouseDown:R("cellMouseDown"),onMouseUp:H("cellMouseUp"),onKeyDown:N("cellKeyDown",O)},fe,T,{onFocus:q,children:J()}))}const Ww=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],Gw=e=>{const{classes:t}=e;return Le({root:["booleanCell"]},$e,t)},Uw=e=>{const{value:t}=e,n=ye(e,Ww),r=Te(),o=be(),i={classes:o.classes},l=Gw(i),a=h.useMemo(()=>t?o.components.BooleanCellTrueIcon:o.components.BooleanCellFalseIcon,[o.components.BooleanCellFalseIcon,o.components.BooleanCellTrueIcon,t]);return s.jsx(a,w({fontSize:"small",className:l.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))},qw=h.memo(Uw),Kw=e=>e.rowNode.isAutoGenerated?"":s.jsx(qw,w({},e)),Qw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Yw=e=>{const{classes:t}=e;return Le({root:["editBooleanCell"]},$e,t)};function Xw(e){var t;const{id:n,value:r,field:o,className:i,hasFocus:l,onValueChange:a}=e,c=ye(e,Qw),u=Te(),d=h.useRef(null),f=Lt(),[m,p]=h.useState(r),v=be(),b={classes:v.classes},g=Yw(b),C=h.useCallback(async P=>{const y=P.target.checked;a&&await a(P,y),p(y),await u.current.setEditCellValue({id:n,field:o,value:y},P)},[u,o,n,a]);return h.useEffect(()=>{p(r)},[r]),Jt(()=>{l&&d.current.focus()},[l]),s.jsx("label",w({htmlFor:f,className:Ge(g.root,i)},c,{children:s.jsx(v.components.BaseCheckbox,w({id:f,inputRef:d,checked:!!m,onChange:C,size:"small"},(t=v.componentsProps)==null?void 0:t.baseCheckbox))}))}const Zw=e=>s.jsx(Xw,w({},e)),Jw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],eS=He(bd)({fontSize:"inherit"}),tS=e=>{const{classes:t}=e;return Le({root:["editInputCell"]},$e,t)};function nS(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,inputProps:l,onValueChange:a}=e,c=ye(e,Jw),u=o.type==="dateTime",d=Te(),f=h.useRef(),m=h.useMemo(()=>{let y;n==null?y=null:n instanceof Date?y=n:y=new Date((n??"").toString());let x;return y==null||Number.isNaN(y.getTime())?x="":x=new Date(y.getTime()-y.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:y,formatted:x}},[n,u]),[p,v]=h.useState(m),g={classes:be().classes},C=tS(g),P=h.useCallback(async y=>{const x=y.target.value;let j;if(x==="")j=null;else{const[O,k]=x.split("T"),[E,T,V]=O.split("-");if(j=new Date,j.setFullYear(Number(E),Number(T)-1,Number(V)),j.setHours(0,0,0,0),k){const[_,z]=k.split(":");j.setHours(Number(_),Number(z),0,0)}}a&&await a(y,j),v({parsed:j,formatted:x}),d.current.setEditCellValue({id:t,field:r,value:j},y)},[d,r,t,a]);return h.useEffect(()=>{v(y=>{var x,j;return m.parsed!==y.parsed&&((x=m.parsed)==null?void 0:x.getTime())!==((j=y.parsed)==null?void 0:j.getTime())?m:y})},[m]),Jt(()=>{i&&f.current.focus()},[i]),s.jsx(eS,w({inputRef:f,fullWidth:!0,className:C.root,type:u?"datetime-local":"date",inputProps:w({max:u?"9999-12-31T23:59":"9999-12-31"},l),value:p.formatted,onChange:P},c))}const rm=e=>s.jsx(nS,w({},e)),rS=ct(s.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),sS=ct(s.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),$u=ct(s.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Ru=ct(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),oS=ct(s.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),iS=ct(s.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),lS=ct(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ct(s.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");ct(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const aS=ct(s.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),cS=ct(s.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),uS=ct(s.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),dS=ct(s.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),hS=ct(s.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),fS=ct(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Gi=ct(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),sm=ct(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),mS=ct(s.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Ia=ct(s.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),om=ct(s.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),gS=ct(s.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),pS=ct(s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),xS=ct(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function Zn(e){return typeof e=="object"&&e!==null?e.value:e}function Xo(e,t){if(t===void 0)return;const n=t.find(r=>{const o=Zn(r);return String(o)===String(e)});return Zn(n)}const bS=["item","applyValue","type","apiRef","focusElementRef"],yS=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,f=a?l.label:d;return s.jsx(o,{value:u,children:f},c)}),im=500;function xn(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,f=ye(e,bS),m=h.useRef(),[p,v]=h.useState((t=l.value)!=null?t:""),[b,g]=h.useState(!1),C=Lt(),P=be(),x=(r=(((n=P.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,j=c==="singleSelect"?{select:!0,SelectProps:w({native:x},(o=P.componentsProps)==null?void 0:o.baseSelect),children:yS(u.current.getColumn(l.columnField),u.current,x?"option":ie)}:{},O=h.useCallback(E=>{let T=E.target.value;if(c==="singleSelect"){const V=u.current.getColumn(l.columnField),_=typeof V.valueOptions=="function"?V.valueOptions({field:V.field}):V.valueOptions;T=Xo(T,_)}clearTimeout(m.current),v(String(T)),g(!0),m.current=setTimeout(()=>{a(w({},l,{value:T})),g(!1)},im)},[u,a,l,c]);h.useEffect(()=>()=>{clearTimeout(m.current)},[]),h.useEffect(()=>{var E;const T=(E=l.value)!=null?E:"";v(String(T))},[l.value]);const k=b?{endAdornment:s.jsx(Ia,{})}:f.InputProps;return s.jsx(P.components.BaseTextField,w({id:C,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:O,variant:"standard",type:c||"text",InputProps:k,InputLabelProps:{shrink:!0},inputRef:d},j,f,(i=P.componentsProps)==null?void 0:i.baseTextField))}const vS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],CS=e=>{const{classes:t}=e;return Le({root:["editInputCell"]},$e,t)},wS=He(bd,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>w({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),SS=h.forwardRef((e,t)=>{var n,r;const o=be(),{id:i,value:l,field:a,colDef:c,hasFocus:u,debounceMs:d=(n=o.experimentalFeatures)!=null&&n.newEditingApi?200:im,isProcessingProps:f,onValueChange:m}=e,p=ye(e,vS),v=Te(),b=h.useRef(),[g,C]=h.useState(l),P=CS(o),y=h.useCallback(async j=>{var O;const k=j.target.value;m&&await m(j,k);const E=v.current.getColumn(a);let T=k;E.valueParser&&(O=o.experimentalFeatures)!=null&&O.newEditingApi&&(T=E.valueParser(k,v.current.getCellParams(i,a))),C(T),v.current.setEditCellValue({id:i,field:a,value:T,debounceMs:d,unstable_skipValueParser:!0},j)},[v,d,a,i,m,(r=o.experimentalFeatures)==null?void 0:r.newEditingApi]),x=v.current.unstable_getEditCellMeta?v.current.unstable_getEditCellMeta(i,a):{};return h.useEffect(()=>{x.changeReason!=="debouncedSetEditCellValue"&&C(l)},[x.changeReason,l]),Jt(()=>{u&&b.current.focus()},[u]),s.jsx(wS,w({ref:t,inputRef:b,className:P.root,ownerState:o,fullWidth:!0,type:c.type==="number"?c.type:"text",value:g??"",onChange:y,endAdornment:f?s.jsx(Ia,{}):void 0},p))}),jS=e=>s.jsx(SS,w({},e)),Ma=e=>e==="Escape",lm=e=>e==="Enter",am=e=>e==="Tab",cm=e=>e===" ",PS=e=>e.indexOf("Arrow")===0,kS=e=>e==="Home"||e==="End",ES=e=>e.indexOf("Page")===0,bl=e=>e==="Delete"||e==="Backspace";function Ci(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const IS=["Enter","Escape","Tab"],MS=["Enter","Tab"],FS=e=>lm(e.key)||bl(e.key)||Ci(e),TS=e=>IS.indexOf(e)>-1,Nu=e=>MS.indexOf(e)>-1,Zs=e=>kS(e)||PS(e)||ES(e)||cm(e),yl=e=>!!e.key,AS=e=>am(e)||Ma(e),DS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],OS=(e,t)=>{const n=typeof e=="object",r=n?e.value:e,o=n?e.value:e,i=n?e.label:e;return s.jsx(t,{value:o,children:i},r)};function _S(e){return!!e.key}function VS(e){var t,n,r;const o=be(),{id:i,value:l,api:a,field:c,row:u,colDef:d,hasFocus:f,error:m,onValueChange:p,initialOpen:v=o.editMode===kt.Cell}=e,b=ye(e,DS),g=Te(),C=h.useRef(),P=h.useRef(),[y,x]=h.useState(v),O=(n=(((t=o.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1;let k;typeof d.valueOptions=="function"?k=d.valueOptions({id:i,row:u,field:c}):k=d.valueOptions,d.valueFormatter&&(k=k.map(_=>{if(typeof _=="object")return _;const z={field:c,api:a,value:_};return{value:_,label:String(d.valueFormatter(z))}}));const E=async _=>{var z;x(!1);const $=_.target,I=Xo($.value,k);p&&await p(_,I);const A=await g.current.setEditCellValue({id:i,field:c,value:I},_);if((z=o.experimentalFeatures)!=null&&z.newEditingApi||o.editMode===kt.Row||A===!1)return;if(await Promise.resolve(g.current.commitCellChange({id:i,field:c},_))&&(g.current.setCellMode(i,c,"view"),_.key)){const H=g.current.getCellParams(i,c);g.current.publishEvent("cellNavigationKeyDown",H,_)}},T=(_,z)=>{if(o.editMode===kt.Row){x(!1);return}if(z==="backdropClick"||Ma(_.key)){var $;($=o.experimentalFeatures)!=null&&$.newEditingApi?g.current.stopCellEditMode({id:i,field:c,ignoreModifications:!0}):g.current.setCellMode(i,c,"view")}},V=_=>{_S(_)&&_.key==="Enter"||x(!0)};return Jt(()=>{f&&P.current.focus()},[f]),s.jsx(o.components.BaseSelect,w({ref:C,inputRef:P,value:l,onChange:E,open:y,onOpen:V,MenuProps:{onClose:T},error:m,native:O,fullWidth:!0},b,(r=o.componentsProps)==null?void 0:r.baseSelect,{children:k.map(_=>OS(_,O?"option":ie))}))}const LS=e=>s.jsx(VS,w({},e)),$S=["open","target","onClickAway","children","position","className","onExited"],RS=e=>{const{classes:t}=e;return Le({root:["menu"]},$e,t)},NS=He(Fl,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${G.menuList}`]:{outline:0}})),zS={"bottom-start":"top left","bottom-end":"top right"},um=e=>{var t;const{open:n,target:r,onClickAway:o,children:i,position:l,className:a,onExited:c}=e,u=ye(e,$S),d=Te(),f=h.useRef(r),m=h.useRef(n),p=be(),v=RS(p);h.useEffect(()=>{m.current&&f.current&&f.current.focus();const g=n?"menuOpen":"menuClose";d.current.publishEvent(g,{target:r}),m.current=n,f.current=r},[d,n,r]);const b=g=>C=>{g&&g(),c&&c(C)};return s.jsx(NS,w({as:p.components.BasePopper,className:Ge(a,v.root),ownerState:p,open:n,anchorEl:r,transition:!0,placement:l},u,(t=p.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:g,placement:C})=>s.jsx(yd,{onClickAway:o,mouseEvent:"onMouseDown",children:s.jsx(jg,w({},g,{style:{transformOrigin:zS[C]},onExited:b(g==null?void 0:g.onExited),children:s.jsx(Zt,{children:i})}))})}))},BS=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],HS=e=>typeof e.getActions=="function",WS=e=>{const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:l}=e,a=ye(e,BS),[c,u]=h.useState(-1),[d,f]=h.useState(!1),m=Te(),p=h.useRef(null),v=h.useRef(null),b=h.useRef(!1),g=h.useRef({}),C=Lt(),P=Lt(),y=be();if(h.useLayoutEffect(()=>{r||Object.entries(g.current).forEach(([I,A])=>{A==null||A.stop({},()=>{delete g.current[I]})})},[r]),h.useEffect(()=>{if(c<0||!p.current||c>=p.current.children.length)return;p.current.children[c].focus({preventScroll:!0})},[c]),h.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),h.useImperativeHandle(l,()=>({focus(){b.current||u(0)}}),[]),!HS(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const x=t.getActions(m.current.getRowParams(n)),j=x.filter(I=>!I.props.showInMenu),O=x.filter(I=>I.props.showInMenu),k=j.length+(O.length?1:0);h.useEffect(()=>{c>=k&&u(k-1)},[c,k]);const E=()=>{f(!0),u(k-1),b.current=!0},T=()=>{f(!1)},V=I=>A=>{g.current[I]=A},_=(I,A)=>L=>{u(I),b.current=!0,A&&A(L)},z=I=>{if(k<=1)return;let A=c;I.key==="ArrowRight"?A+=1:I.key==="ArrowLeft"&&(A-=1),!(A<0||A>=k)&&A!==c&&(I.preventDefault(),I.stopPropagation(),u(A))},$=I=>{I.key==="Tab"&&I.preventDefault(),["Tab","Enter","Escape"].includes(I.key)&&T()};return s.jsxs("div",w({role:"menu",ref:p,tabIndex:-1,className:G.actionsCell,onKeyDown:z},a,{children:[j.map((I,A)=>h.cloneElement(I,{key:A,touchRippleRef:V(A),onClick:_(A,I.props.onClick),tabIndex:c===A?o:-1})),O.length>0&&P&&s.jsx(Be,{ref:v,id:P,"aria-label":m.current.getLocaleText("actionsCellMore"),"aria-controls":C,"aria-expanded":d?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:E,touchRippleRef:V(P),tabIndex:c===j.length?o:-1,children:s.jsx(y.components.MoreActionsIcon,{fontSize:"small"})}),O.length>0&&s.jsx(um,{onClickAway:T,onClick:T,open:d,target:v.current,position:i,children:s.jsx(vd,{id:C,className:G.menuList,onKeyDown:$,"aria-labelledby":P,variant:"menu",autoFocusItem:!0,children:O.map((I,A)=>h.cloneElement(I,{key:A}))})})]}))},GS=e=>s.jsx(WS,w({},e)),US=["field","align","width","contentWidth"],qS=e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton",`cell--text${Sr(t)}`]};return Le(r,$e,n)};function KS(e){const{align:t,width:n,contentWidth:r}=e,o=ye(e,US),l={classes:be().classes,align:t},a=qS(l);return s.jsx("div",w({className:a.root,style:{width:n}},o,{children:s.jsx(Pg,{width:`${r}%`})}))}const QS=He("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${G.autoHeight}`]:t.autoHeight},{[`&.${G.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${G["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${G["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${G["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${G.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${G.editBooleanCell}`]:t.editBooleanCell},{[`& .${G["cell--editing"]}`]:t["cell--editing"]},{[`& .${G["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${G["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${G["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${G["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${G.cell}`]:t.cell},{[`& .${G.cellContent}`]:t.cellContent},{[`& .${G.cellCheckbox}`]:t.cellCheckbox},{[`& .${G.cellSkeleton}`]:t.cellSkeleton},{[`& .${G.checkboxInput}`]:t.checkboxInput},{[`& .${G["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${G["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${G["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${G["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${G["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${G["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${G["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${G["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${G.columnHeader}`]:t.columnHeader},{[`& .${G.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${G.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${G.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${G["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${G["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${G.columnSeparator}`]:t.columnSeparator},{[`& .${G.filterIcon}`]:t.filterIcon},{[`& .${G.iconSeparator}`]:t.iconSeparator},{[`& .${G.menuIcon}`]:t.menuIcon},{[`& .${G.menuIconButton}`]:t.menuIconButton},{[`& .${G.menuOpen}`]:t.menuOpen},{[`& .${G.menuList}`]:t.menuList},{[`& .${G["row--editable"]}`]:t["row--editable"]},{[`& .${G["row--editing"]}`]:t["row--editing"]},{[`& .${G["row--dragging"]}`]:t["row--dragging"]},{[`& .${G.row}`]:t.row},{[`& .${G.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${G.rowReorderCell}`]:t.rowReorderCell},{[`& .${G["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${G.sortIcon}`]:t.sortIcon},{[`& .${G.withBorder}`]:t.withBorder},{[`& .${G.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${G.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${G.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${G["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?Tl(nn(e.palette.divider,1),.88):Al(nn(e.palette.divider,1),.68);return w({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${G.autoHeight}`]:{height:"auto",[`& .${G["row--lastVisible"]} .${G.cell}`]:{borderBottomColor:"transparent"}},[`& .${G["virtualScrollerContent--overflowed"]} .${G["row--lastVisible"]} .${G.cell}`]:{borderBottomColor:"transparent"},[`& .${G.columnHeader}, & .${G.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${G.columnHeader}:focus-within, & .${G.cell}:focus-within`]:{outline:`solid ${nn(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${G.columnHeader}:focus, & .${G.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${G.columnHeaderCheckbox}, & .${G.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${G.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${G["columnHeader--sorted"]} .${G.iconButtonContainer}, & .${G["columnHeader--filtered"]} .${G.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${G.columnHeader}:not(.${G["columnHeader--sorted"]}) .${G.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${G.columnHeader}:not(.${G["columnHeader--sorted"]}):hover .${G.sortIcon}`]:{opacity:.5},[`& .${G.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${G.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${G["columnHeader--filledGroup"]} .${G.columnHeaderTitleContainer}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${G["columnHeader--filledGroup"]}.${G["columnHeader--showColumnBorder"]} .${G.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${G["columnHeader--filledGroup"]}.${G["columnHeader--showColumnBorder"]}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${G.sortIcon}, & .${G.filterIcon}`]:{fontSize:"inherit"},[`& .${G["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${G["columnHeader--alignCenter"]} .${G.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${G["columnHeader--alignRight"]} .${G.columnHeaderDraggableContainer}, & .${G["columnHeader--alignRight"]} .${G.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${G["columnHeader--alignCenter"]} .${G.menuIcon}, & .${G["columnHeader--alignRight"]} .${G.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${G["columnHeader--alignRight"]} .${G.menuIcon}, & .${G["columnHeader--alignRight"]} .${G.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${G["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${G.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${G["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${G["columnSeparator--sideRight"]}`]:{right:-12},[`& .${G["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${G["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${G.iconSeparator}`]:{color:"inherit"},[`& .${G.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${G.columnHeader}:hover`]:{[`& .${G.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${G.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${G.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${G.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${G.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${G.row}:not(.${G["row--dynamicHeight"]}) > .${G.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${G.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${G.cell}.${G["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${G["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${G["row--editing"]} .${G.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${G.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${G.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${G.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${G.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${G.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${G["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${G.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${G.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${G["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${G["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${G["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${G.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${G.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${G["columnHeader--dragging"]}, & .${G["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${G["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${G.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${G.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${G.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${G.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${G.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),YS=["children","className"],XS=e=>{const{autoHeight:t,density:n,classes:r}=e,o={root:["root",t&&"autoHeight",`root--density${Sr(n)}`]};return Le(o,$e,r)},ZS=h.forwardRef(function(t,n){const r=be(),{children:o,className:i}=t,l=ye(t,YS),a=Te(),c=xe(a,Et),u=xe(a,yi),d=xe(a,Fw),f=xe(a,Ea),m=h.useRef(null),p=kr(m,n),v=xe(a,Cw),b=w({},r,{density:d}),g=XS(b);a.current.rootElementRef=m;const[C,P]=h.useState(!1);return Jt(()=>{P(!0)},[]),Jt(()=>{C&&a.current.unstable_updateGridDimensionsRef()},[a,C]),C?s.jsx(QS,w({ref:p,className:Ge(i,g.root),ownerState:b,role:"grid","aria-colcount":c.length,"aria-rowcount":f+1+v+u,"aria-multiselectable":!r.disableMultipleSelection,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},l,{children:o})):null}),JS=["className"],ej=e=>{const{classes:t}=e;return Le({root:["footerContainer"]},$e,t)},tj=He("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${e.palette.mode==="light"?Tl(nn(e.palette.divider,1),.88):Al(nn(e.palette.divider,1),.68)}`})),nj=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,JS),i=be(),l=ej(i);return s.jsx(tj,w({ref:n,className:Ge(l.root,r),ownerState:i},o))}),rj=["className"],sj=e=>{const{classes:t}=e;return Le({root:["overlay"]},$e,t)},oj=He("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:nn(e.palette.background.default,e.palette.action.disabledOpacity)})),wi=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,rj),i=be(),l=sj(i);return s.jsx(oj,w({ref:n,className:Ge(l.root,r),ownerState:i},o))}),ij=["className"],lj=e=>{const{classes:t}=e;return Le({root:["iconButtonContainer"]},$e,t)},aj=He("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),dm=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,ij),i=be(),l=lj(i);return s.jsx(aj,w({ref:n,className:Ge(l.root,r),ownerState:i},o))}),cj=e=>{const{classes:t}=e;return Le({icon:["sortIcon"]},$e,t)};function uj(e,t,n,r){let o;const i={};return t==="asc"?o=e.ColumnSortedAscendingIcon:t==="desc"?o=e.ColumnSortedDescendingIcon:(o=e.ColumnUnsortedIcon,i.sortingOrder=r),o?s.jsx(o,w({fontSize:"small",className:n},i)):null}function dj(e){const{direction:t,index:n,sortingOrder:r}=e,o=Te(),i=be(),l=w({},e,{classes:i.classes}),a=cj(l),c=uj(i.components,t,a.icon,r);if(!c)return null;const u=s.jsx(Be,{tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:c});return s.jsxs(dm,{children:[n!=null&&s.jsx(kl,{badgeContent:n,color:"default",children:u}),n==null&&u]})}const hj=h.memo(dj),fj=e=>{const{classes:t,open:n}=e;return Le({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},$e,t)},mj=h.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,l=Te(),a=be(),c=w({},e,{classes:a.classes}),u=fj(c),d=h.useCallback(f=>{f.preventDefault(),f.stopPropagation(),l.current.toggleColumnMenu(t.field)},[l,t.field]);return s.jsx("div",{className:u.root,children:s.jsx(Be,{ref:i,tabIndex:-1,className:u.button,"aria-label":l.current.getLocaleText("columnMenuLabel"),title:l.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:o,children:s.jsx(a.components.ColumnMenuIcon,{fontSize:"small"})})})});function gj({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:l,onExited:a}){const c=Te(),u=c.current.getColumn(o),d=h.useCallback(f=>{f.stopPropagation(),c.current.hideColumnMenu()},[c]);return l?s.jsx(um,{placement:`bottom-${u.align==="right"?"start":"end"}`,open:i,target:l,onClickAway:d,onExited:a,children:s.jsx(n,w({currentColumn:u,hideMenu:d,open:i,id:e,labelledby:t},r))}):null}function pj(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function xj(e,t){return e.closest(`.${t}`)}function Fa(e){return e.replace(/["\\]/g,"\\$&")}function bj(e,t){return e.querySelector(`[role="columnheader"][data-field="${Fa(t)}"]`)}function hm(e){return`.${G.row}[data-id="${Fa(String(e))}"]`}function yj(e,t){return e.querySelector(hm(t))}function vj(e,{id:t,field:n}){const r=hm(t),o=`.${G.cell}[data-field="${Fa(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}const Cj=["className"],wj=e=>{const{classes:t}=e;return Le({root:["columnHeaderTitle"]},$e,t)},Sj=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),jj=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,Cj),i=be(),l=wj(i);return s.jsx(Sj,w({ref:n,className:Ge(l.root,r),ownerState:i},o))});function Pj(e){var t;const{label:n,description:r,columnWidth:o}=e,i=be(),l=h.useRef(null),[a,c]=h.useState("");return h.useEffect(()=>{if(!r&&l&&l.current){const u=pj(l.current);c(u?n:"")}},[l,o,r,n]),s.jsx(i.components.BaseTooltip,w({title:r||a},(t=i.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsx(jj,{ref:l,children:n})}))}const kj=["resizable","resizing","height","side"];var vl;(function(e){e.Left="left",e.Right="right"})(vl||(vl={}));const Ej=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${Sr(o)}`],icon:["iconSeparator"]};return Le(i,$e,r)};function Ij(e){const{height:t,side:n=vl.Right}=e,r=ye(e,kj),o=be(),i=w({},e,{side:n,classes:o.classes}),l=Ej(i),a=h.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return s.jsx("div",w({className:l.root,style:{minHeight:t,opacity:o.showColumnRightBorder?0:1}},r,{onClick:a,children:s.jsx(o.components.ColumnResizeIcon,{className:l.icon})}))}const Mj=h.memo(Ij),Fj=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","disableHeaderSeparator"],fm=h.forwardRef(function(t,n){const{classes:r,columnMenuOpen:o,colIndex:i,height:l,isResizing:a,sortDirection:c,hasFocus:u,tabIndex:d,separatorSide:f,isDraggable:m,headerComponent:p,description:v,width:b,columnMenuIconButton:g=null,columnMenu:C=null,columnTitleIconButtons:P=null,headerClassName:y,label:x,resizable:j,draggableContainerProps:O,columnHeaderSeparatorProps:k,disableHeaderSeparator:E}=t,T=ye(t,Fj),V=Te(),_=be(),z=h.useRef(null),[$,I]=h.useState(o),A=kr(z,n);let L="none";return c!=null&&(L=c==="asc"?"ascending":"descending"),h.useEffect(()=>{$||I(o)},[$,o]),h.useLayoutEffect(()=>{const H=V.current.state.columnMenu;if(u&&!H.open){const N=z.current.querySelector('[tabindex="0"]')||z.current;N==null||N.focus(),V.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[V,u]),s.jsxs("div",w({ref:A,className:Ge(r.root,y),style:{height:l,width:b,minWidth:b,maxWidth:b},role:"columnheader",tabIndex:d,"aria-colindex":i+1,"aria-sort":L,"aria-label":p==null?x:void 0},T,{children:[s.jsxs("div",w({className:r.draggableContainer,draggable:m},O,{children:[s.jsxs("div",{className:r.titleContainer,children:[s.jsx("div",{className:r.titleContainerContent,children:p!==void 0?p:s.jsx(Pj,{label:x,description:v,columnWidth:b})}),P]}),g]})),!E&&s.jsx(Mj,w({resizable:!_.disableColumnResize&&!!j,resizing:a,height:l,side:f},k)),C]}))}),Tj=e=>{const{column:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,filterItemsCounter:l}=e,a=o!=null,c=l!=null&&l>0,u=t.type==="number",d={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",a&&"columnHeader--sorted",c&&"columnHeader--filtered",u&&"columnHeader--numeric",i&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Le(d,$e,n)};function Aj(e){var t,n,r,o,i;const{column:l,columnMenuOpen:a,colIndex:c,headerHeight:u,isResizing:d,isLastColumn:f,sortDirection:m,sortIndex:p,filterItemsCounter:v,hasFocus:b,tabIndex:g,extendRowFullWidth:C,disableReorder:P,separatorSide:y}=e,x=Te(),j=be(),O=h.useRef(null),k=Lt(),E=Lt(),T=h.useRef(null),[V,_]=h.useState(a),{hasScrollX:z,hasScrollY:$}=(t=x.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},I=h.useMemo(()=>!j.disableColumnReorder&&!P&&!l.disableReorder,[j.disableColumnReorder,P,l.disableReorder]);let A;l.renderHeader&&(A=l.renderHeader(x.current.getColumnHeaderParams(l.field)));const H=f?!(f&&z&&!$)&&!C:j.showColumnRightBorder,R=w({},e,{classes:j.classes,showRightBorder:H}),N=Tj(R),W=h.useCallback(Ce=>Oe=>{Oe.currentTarget.contains(Oe.target)&&x.current.publishEvent(Ce,x.current.getColumnHeaderParams(l.field),Oe)},[x,l.field]),q=h.useMemo(()=>({onClick:W("columnHeaderClick"),onDoubleClick:W("columnHeaderDoubleClick"),onMouseOver:W("columnHeaderOver"),onMouseOut:W("columnHeaderOut"),onMouseEnter:W("columnHeaderEnter"),onMouseLeave:W("columnHeaderLeave"),onKeyDown:W("columnHeaderKeyDown"),onFocus:W("columnHeaderFocus"),onBlur:W("columnHeaderBlur")}),[W]),Z=h.useMemo(()=>I?{onDragStart:W("columnHeaderDragStart"),onDragEnter:W("columnHeaderDragEnter"),onDragOver:W("columnHeaderDragOver"),onDragEnd:W("columnHeaderDragEnd")}:{},[I,W]),ne=h.useMemo(()=>({onMouseDown:W("columnSeparatorMouseDown")}),[W]);h.useEffect(()=>{V||_(a)},[V,a]);const J=h.useCallback(()=>{_(!1)},[]),fe=!j.disableColumnMenu&&!l.disableColumnMenu&&s.jsx(mj,{column:l,columnMenuId:k,columnMenuButtonId:E,open:V,iconButtonRef:T}),le=s.jsx(gj,{columnMenuId:k,columnMenuButtonId:E,field:l.field,open:a,target:T.current,ContentComponent:j.components.ColumnMenu,contentComponentProps:(n=j.componentsProps)==null?void 0:n.columnMenu,onExited:J}),pe=(r=l.sortingOrder)!=null?r:j.sortingOrder,X=s.jsxs(h.Fragment,{children:[!j.disableColumnFilter&&s.jsx(j.components.ColumnHeaderFilterIconButton,w({field:l.field,counter:v},(o=j.componentsProps)==null?void 0:o.columnHeaderFilterIconButton)),l.sortable&&!l.hideSortIcons&&s.jsx(hj,{direction:m,index:p,sortingOrder:pe})]});h.useLayoutEffect(()=>{const Ce=x.current.state.columnMenu;if(b&&!Ce.open){const Ne=O.current.querySelector('[tabindex="0"]')||O.current;Ne==null||Ne.focus(),x.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[x,b]);const ce=typeof l.headerClassName=="function"?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,ae=(i=l.headerName)!=null?i:l.field;return s.jsx(fm,w({ref:O,classes:N,columnMenuOpen:a,colIndex:c,height:u,isResizing:d,sortDirection:m,hasFocus:b,tabIndex:g,separatorSide:y,isDraggable:I,headerComponent:A,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:fe,columnTitleIconButtons:X,headerClassName:ce,label:ae,resizable:!j.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:le,draggableContainerProps:Z,columnHeaderSeparatorProps:ne},q))}const Zo=e=>e.preferencePanel;var sr;(function(e){e.filters="filters",e.columns="columns"})(sr||(sr={}));const Dj=e=>{const{classes:t}=e;return Le({icon:["filterIcon"]},$e,t)};function Oj(e){var t;const{counter:n,field:r,onClick:o}=e,i=Te(),l=be(),a=w({},e,{classes:l.classes}),c=Dj(a),u=h.useCallback(f=>{f.preventDefault(),f.stopPropagation();const{open:m,openedPanelValue:p}=Zo(i.current.state);m&&p===sr.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),o&&o(i.current.getColumnHeaderParams(r),f)},[i,r,o]);if(!n)return null;const d=s.jsx(Be,{onClick:u,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:s.jsx(l.components.ColumnFilteredIcon,{className:c.icon,fontSize:"small"})});return s.jsx(l.components.BaseTooltip,w({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=l.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsxs(dm,{children:[n>1&&s.jsx(kl,{badgeContent:n,color:"default",children:d}),n===1&&d]})}))}const _j=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],Vj=e=>{const{classes:t}=e;return Le({root:["checkboxInput"]},$e,t)},Lj=h.forwardRef(function(t,n){var r;const{field:o,id:i,value:l,rowNode:a,hasFocus:c,tabIndex:u}=t,d=ye(t,_j),f=Te(),m=be(),p={classes:m.classes},v=Vj(p),b=h.useRef(null),g=h.useRef(),C=kr(b,n),P=f.current.getCellElement(i,o),y=k=>{const E={value:k.target.checked,id:i};f.current.publishEvent("rowSelectionCheckboxChange",E,k)};h.useLayoutEffect(()=>{u===0&&P&&(P.tabIndex=-1)},[P,u]),h.useEffect(()=>{if(c){var k;const E=(k=b.current)==null?void 0:k.querySelector("input");E==null||E.focus({preventScroll:!0})}else g.current&&g.current.stop({})},[c]);const x=h.useCallback(k=>{cm(k.key)&&k.stopPropagation(),Zs(k.key)&&!k.shiftKey&&f.current.publishEvent("cellNavigationKeyDown",t,k)},[f,t]);if(a.position==="footer")return null;const j=f.current.isRowSelectable(i),O=f.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return a.isPinned?null:s.jsx(m.components.BaseCheckbox,w({ref:C,tabIndex:u,checked:l,onChange:y,className:v.root,inputProps:{"aria-label":O},onKeyDown:x,disabled:!j,touchRippleRef:g},(r=m.componentsProps)==null?void 0:r.baseCheckbox,d))}),$j=Lj,Yt=e=>e.selection,Rj=ve(Yt,e=>e.length),Nj=ve(Yt,Xr,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Jo=ve(Yt,e=>e.reduce((t,n)=>(t[n]=n,t),{})),as=e=>e.pagination,ys=ve(as,e=>e.page),As=ve(as,e=>e.pageSize);ve(as,e=>e.pageCount);const Ta=ve(as,Xn,wa,Ln,Kf,(e,t,n,r,o)=>{const i=o.length,l=Math.min(e.pageSize*e.page,i-1),a=Math.min(l+e.pageSize-1,i-1);if(l===-1||a===-1)return null;if(n<2)return{firstRowIndex:l,lastRowIndex:a};const c=o[l],u=a-l+1,d=r.findIndex(p=>p.id===c.id);let f=d,m=0;for(;f<r.length&&m<=u;){const p=r[f],v=t[p.id].depth;(m<u||v>0)&&(f+=1),v===0&&(m+=1)}return{firstRowIndex:d,lastRowIndex:f-1}}),zj=ve(Ln,Ta,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),mm=ve(Ts,Ta,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Bj=["field","colDef"],Hj=e=>{const{classes:t}=e;return Le({root:["checkboxInput"]},$e,t)},Wj=h.forwardRef(function(t,n){var r;const o=ye(t,Bj),[,i]=h.useState(!1),l=Te(),a=be(),c={classes:a.classes},u=Hj(c),d=xe(l,nm),f=xe(l,Yt),m=xe(l,Ts),p=xe(l,mm),v=h.useMemo(()=>typeof a.isRowSelectable!="function"?f:f.filter(E=>l.current.getRow(E)?a.isRowSelectable(l.current.getRowParams(E)):!1),[l,a.isRowSelectable,f]),b=h.useMemo(()=>(!a.pagination||!a.checkboxSelectionVisibleOnly?m:p).reduce((T,V)=>(T[V]=!0,T),{}),[a.pagination,a.checkboxSelectionVisibleOnly,p,m]),g=h.useMemo(()=>v.filter(E=>b[E]).length,[v,b]),C=g>0&&g<Object.keys(b).length,P=g>0,y=E=>{const T={value:E.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",T)},x=d!==null&&d.field===t.field?0:-1;h.useLayoutEffect(()=>{const E=l.current.getColumnHeaderElement(t.field);x===0&&E&&(E.tabIndex=-1)},[x,l,t.field]);const j=h.useCallback(E=>{E.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!P}),Zs(E.key)&&!E.shiftKey&&l.current.publishEvent("columnHeaderNavigationKeyDown",t,E)},[l,t,P]),O=h.useCallback(()=>{i(E=>!E)},[]);h.useEffect(()=>l.current.subscribeEvent("selectionChange",O),[l,O]);const k=l.current.getLocaleText(P?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return s.jsx(a.components.BaseCheckbox,w({ref:n,indeterminate:C,checked:P,onChange:y,className:u.root,inputProps:{"aria-label":k},tabIndex:x,onKeyDown:j},(r=a.componentsProps)==null?void 0:r.baseCheckbox,o))}),Gj=e=>{const{onClick:t}=e,n=Te(),r=be(),o=h.useCallback(i=>{t(i),n.current.showPreferences(sr.columns)},[n,t]);return r.disableColumnSelector?null:s.jsx(ie,{onClick:o,children:n.current.getLocaleText("columnMenuShowColumns")})},Uj=e=>{const{column:t,onClick:n}=e,r=Te(),o=be(),i=h.useCallback(l=>{n(l),r.current.showFilterPanel(t==null?void 0:t.field)},[r,t==null?void 0:t.field,n]);return o.disableColumnFilter||!(t!=null&&t.filterable)?null:s.jsx(ie,{onClick:i,children:r.current.getLocaleText("columnMenuFilter")})},qj=["hideMenu","currentColumn","open","id","labelledby","className","children"],Kj=h.forwardRef(function(t,n){const{hideMenu:r,open:o,id:i,labelledby:l,className:a,children:c}=t,u=ye(t,qj),d=h.useCallback(f=>{am(f.key)&&f.preventDefault(),AS(f.key)&&r(f)},[r]);return s.jsx(vd,w({id:i,ref:n,className:Ge(G.menuList,a),"aria-labelledby":l,onKeyDown:d,autoFocus:o},u,{children:c}))}),Qj=cn(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),gm=(e,t)=>t&&e.length>1?(Qj(),[e[0]]):e,zu=(e,t)=>n=>w({},n,{sorting:w({},n.sorting,{sortModel:gm(e,t)})}),Yj=e=>e==="desc",Xj=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const r=Yj(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator;return{getSortCellParams:i=>({id:i,field:n.field,rowNode:t.current.getRowNode(i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}},Zj=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const l=t.params[i],a=n.params[i];return r=o.comparator(l.value,a.value,l,a),r},0),Jj=(e,t)=>{const n=e.map(r=>Xj(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>Zj(n,o,i)).map(o=>o.node.id)},Bu=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},Aa=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,e1=new Intl.Collator,t1=(e,t)=>{const n=Aa(e,t);return n!==null?n:typeof e=="string"?e1.compare(e.toString(),t.toString()):e-t},pm=(e,t)=>{const n=Aa(e,t);return n!==null?n:Number(e)-Number(t)},xm=(e,t)=>{const n=Aa(e,t);return n!==null?n:e>t?1:e<t?-1:0};function n1(e){return typeof e=="number"}function bm(e){return typeof e=="function"}function r1(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Eo(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const os=(e,t,n)=>Math.max(t,Math.min(n,e));function On(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!On(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const l=o[i];if(!On(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!On(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function s1(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function o1(e,t,n){const r=s1(e);return()=>t+(n-t)*r()}function ym(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const i1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function vm(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,color:l,error:a,helperText:c,size:u,variant:d}=e,f=ye(e,i1),m={color:l,error:a,helperText:c,size:u,variant:d},[p,v]=h.useState(t.value||[]),b=Lt(),g=be();h.useEffect(()=>{var P;const y=(P=t.value)!=null?P:[];v(y.map(String))},[t.value]);const C=h.useCallback((P,y)=>{v(y.map(String)),n(w({},t,{value:[...y]}))},[n,t]);return s.jsx(Br,w({multiple:!0,freeSolo:!0,options:[],filterOptions:(P,y)=>{const{inputValue:x}=y;return x==null||x===""?[]:[x]},id:b,value:p,onChange:C,renderTags:(P,y)=>P.map((x,j)=>s.jsx(lt,w({variant:"outlined",size:"small",label:x},y({index:j})))),renderInput:P=>{var y;return s.jsx(g.components.BaseTextField,w({},P,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},P.InputLabelProps,{shrink:!0}),inputRef:i,type:r||"text"},m,(y=g.componentsProps)==null?void 0:y.baseTextField))}},f))}const l1=e=>{if(!e)return null;const t=new RegExp(Eo(e),"i");return({value:n})=>n!=null?t.test(n.toString()):!1},a1=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(Eo(n),"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:xn},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?r.compare(n,o.toString())===0:!1},InputComponent:xn},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${Eo(n)}.*$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:xn},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${Eo(n)}$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:xn},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:vm}],or={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:t1,type:"string",align:"left",filterOperators:a1(),renderEditCell:jS,getApplyQuickFilterFn:l1},Da="actions",c1=w({},or,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:GS,getApplyQuickFilterFn:void 0}),u1=["item","applyValue","apiRef","focusElementRef"];function d1(e){var t,n,r,o;const{item:i,applyValue:l,apiRef:a,focusElementRef:c}=e,u=ye(e,u1),[d,f]=h.useState(i.value||""),m=be(),v=(n=(((t=m.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!0,b=v?"option":ie,g=h.useCallback(C=>{const P=C.target.value;f(P),l(w({},i,{value:P}))},[l,i]);return h.useEffect(()=>{f(i.value||"")},[i.value]),s.jsxs(m.components.BaseTextField,w({label:a.current.getLocaleText("filterPanelInputLabel"),value:d,onChange:g,select:!0,variant:"standard",SelectProps:w({native:v,displayEmpty:!0},(r=m.componentsProps)==null?void 0:r.baseSelect),InputLabelProps:{shrink:!0},inputRef:c},u,(o=m.componentsProps)==null?void 0:o.baseTextField,{children:[s.jsx(b,{value:"",children:a.current.getLocaleText("filterValueAny")}),s.jsx(b,{value:"true",children:a.current.getLocaleText("filterValueTrue")}),s.jsx(b,{value:"false",children:a.current.getLocaleText("filterValueFalse")})]}))}const h1=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:n})=>!!n===t},InputComponent:d1}];function f1({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const Cm=w({},or,{type:"boolean",align:"center",headerAlign:"center",renderCell:Kw,renderEditCell:Zw,sortComparator:pm,valueFormatter:f1,filterOperators:h1(),getApplyQuickFilterFn:void 0,aggregable:!1}),Wn="__check__",Js=w({},Cm,{field:Wn,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>Jo(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>s.jsx(Wj,w({},e)),renderCell:e=>s.jsx($j,w({},e))}),m1=["item","applyValue","type","apiRef","focusElementRef","InputProps"],g1=500;function Vr(e){var t,n;const{item:r,applyValue:o,type:i,apiRef:l,focusElementRef:a,InputProps:c}=e,u=ye(e,m1),d=h.useRef(),[f,m]=h.useState((t=r.value)!=null?t:""),[p,v]=h.useState(!1),b=Lt(),g=be(),C=h.useCallback(P=>{const y=P.target.value;clearTimeout(d.current),m(String(y)),v(!0),d.current=setTimeout(()=>{o(w({},r,{value:y})),v(!1)},g1)},[o,r]);return h.useEffect(()=>()=>{clearTimeout(d.current)},[]),h.useEffect(()=>{var P;const y=(P=r.value)!=null?P:"";m(String(y))},[r.value]),s.jsx(g.components.BaseTextField,w({id:b,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:C,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:w({},p?{endAdornment:s.jsx(Ia,{})}:{},c,{inputProps:w({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},c==null?void 0:c.inputProps)})},u,(n=g.componentsProps)==null?void 0:n.baseTextField))}const p1=/(\d+)-(\d+)-(\d+)/,x1=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Lr(e,t,n,r){if(!e.value)return null;const[o,i,l,a,c]=e.value.match(n?x1:p1).slice(1).map(Number),u=new Date(o,i-1,l,a||0,c||0).getTime();return({value:d})=>{if(!d)return!1;const f=d instanceof Date?d:new Date(d.toString());if(r)return t(f.getTime(),u);const p=(d instanceof Date?new Date(f):f).setHours(n?f.getHours():0,n?f.getMinutes():0,0,0);return t(p,u)}}const wm=e=>[{value:"is",getApplyFilterFn:t=>Lr(t,(n,r)=>n===r,e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Lr(t,(n,r)=>n!==r,e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Lr(t,(n,r)=>n>r,e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Lr(t,(n,r)=>n>=r,e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Lr(t,(n,r)=>n<r,e,!e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Lr(t,(n,r)=>n<=r,e),InputComponent:Vr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function b1({value:e}){return e instanceof Date?e.toLocaleDateString():e??""}function y1({value:e}){return e instanceof Date?e.toLocaleString():e??""}const v1=w({},or,{type:"date",sortComparator:xm,valueFormatter:b1,filterOperators:wm(),renderEditCell:rm,getApplyQuickFilterFn:void 0}),C1=w({},or,{type:"dateTime",sortComparator:xm,valueFormatter:y1,filterOperators:wm(!0),renderEditCell:rm,getApplyQuickFilterFn:void 0}),qn=e=>e==null?null:Number(e),w1=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>qn(t)===qn(e),S1=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>qn(t)===e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>qn(t)!==e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:qn(t)>e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:qn(t)>=e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:qn(t)<e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:qn(t)<=e.value,InputComponent:xn,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:vm,InputComponentProps:{type:"number"}}],j1=w({},or,{type:"number",align:"right",headerAlign:"right",sortComparator:pm,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>n1(e)?e.toLocaleString():e||"",filterOperators:S1(),getApplyQuickFilterFn:w1}),P1=["item","applyValue","type","apiRef","focusElementRef"],k1=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,f=a?l.label:d;return s.jsx(o,{value:u,children:f},c)});function Hu(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,f=ye(e,P1),[m,p]=h.useState((t=l.value)!=null?t:""),v=Lt(),b=be(),C=(r=(((n=b.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,P=l.columnField?u.current.getColumn(l.columnField):null,y=h.useMemo(()=>{if(P!==null)return typeof P.valueOptions=="function"?P.valueOptions({field:P.field}):P.valueOptions},[P]),x=h.useCallback(j=>{let O=j.target.value;O=Xo(O,y),p(String(O)),a(w({},l,{value:O}))},[a,l,y]);return h.useEffect(()=>{var j;let O;if(y!==void 0){if(O=Xo(l.value,y),O!==l.value){a(w({},l,{value:O}));return}}else O=l.value;O=(j=O)!=null?j:"",p(String(O))},[l,y,a]),s.jsx(b.components.BaseTextField,w({id:v,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:x,variant:"standard",type:c||"text",InputLabelProps:{shrink:!0},inputRef:d,select:!0,SelectProps:w({native:C},(o=b.componentsProps)==null?void 0:o.baseSelect)},f,(i=b.componentsProps)==null?void 0:i.baseTextField,{children:k1(u.current.getColumn(l.columnField),u.current,C?"option":ie)}))}const E1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],I1=(e,t)=>Zn(e)===Zn(t),M1=kg();function F1(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:i,error:l,helperText:a,size:c,variant:u="standard"}=e,d=ye(e,E1),f={color:i,error:l,helperText:a,size:c,variant:u},m=Lt(),p=be(),v=t.columnField?r.current.getColumn(t.columnField):null,b=h.useMemo(()=>v!=null&&v.valueOptions?typeof v.valueOptions=="function"?v.valueOptions({field:v.field}):v.valueOptions:[],[v]),g=h.useMemo(()=>b==null?void 0:b.map(Zn),[b]),{valueFormatter:C,field:P}=r.current.getColumn(t.columnField),y=O=>typeof O=="object"?O.label:C&&O!==""?C({value:O,field:P,api:r.current}):O,x=h.useMemo(()=>Array.isArray(t.value)?b!==void 0?t.value.map(k=>{const E=Zn(k);return(g==null?void 0:g.findIndex(V=>V===E))||0}).filter(k=>k>=0).map(k=>b[k]):t.value:[],[t.value,b,g]);h.useEffect(()=>{(!Array.isArray(t.value)||x.length!==t.value.length)&&n(w({},t,{value:x.map(Zn)}))},[t,x,n]);const j=h.useCallback((O,k)=>{n(w({},t,{value:[...k.map(Zn)]}))},[n,t]);return s.jsx(Br,w({multiple:!0,options:b,isOptionEqualToValue:I1,filterOptions:M1,id:m,value:x,onChange:j,renderTags:(O,k)=>O.map((E,T)=>s.jsx(lt,w({variant:"outlined",size:"small",label:y(E)},k({index:T})))),renderInput:O=>{var k;return s.jsx(p.components.BaseTextField,w({},O,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},O.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},f,(k=p.componentsProps)==null?void 0:k.baseTextField))}},d))}const Kn=e=>e==null||typeof e!="object"?e:e.value,T1=(e,t,n)=>{if(!e)return null;const{valueOptions:r,valueFormatter:o,field:i}=t,l=[Kn(e).toString()],a=typeof r=="function"?r({field:i}):r||[];return a&&a.forEach(c=>{let u,d;typeof c=="object"?(u=c.value,d=c.label):(u=c,o?d=o({value:c,field:i,api:n.current}):d=c),d.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(l.includes(u)||l.push(u.toString()))}),({value:c})=>c!=null?l.includes(Kn(c).toString()):!1},A1=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Kn(t)===Kn(e.value),InputComponent:Hu},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Kn(t)!==Kn(e.value),InputComponent:Hu},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Kn);return({value:n})=>t.includes(Kn(n))},InputComponent:F1}],D1=w({},or,{type:"singleSelect",renderEditCell:LS,filterOperators:A1(),getApplyQuickFilterFn:T1}),ei="__default__",O1=()=>({string:or,number:j1,date:v1,dateTime:C1,boolean:Cm,singleSelect:D1,[Da]:c1,[ei]:or}),Sm=["maxWidth","minWidth","width","flex"],jm=(e={})=>{const t=w({},O1());return Object.entries(e).forEach(([n,r])=>{t[n]?t[n]=w({},t[n],r):t[n]=w({},t[r.extendType||ei],r)}),t};function _1({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r={all:{},frozenFields:[],freeze:i=>{const l=r.all[i];l&&l.frozen!==!0&&(r.all[i].frozen=!0,r.frozenFields.push(i))}};function o(){if(r.frozenFields.length===n.length)return;const i={min:{},max:{}};let l=e,a=t,c=0;r.frozenFields.forEach(u=>{l-=r.all[u].computedWidth,a-=r.all[u].flex});for(let u=0;u<n.length;u+=1){const d=n[u];if(r.all[d.field]&&r.all[d.field].frozen===!0)continue;let m=l/a*d.flex;m<d.minWidth?(c+=d.minWidth-m,m=d.minWidth,i.min[d.field]=!0):m>d.maxWidth&&(c+=d.maxWidth-m,m=d.maxWidth,i.max[d.field]=!0),r.all[d.field]={frozen:!1,computedWidth:m,flex:d.flex}}c<0?Object.keys(i.max).forEach(u=>{r.freeze(u)}):c>0?Object.keys(i.min).forEach(u=>{r.freeze(u)}):n.forEach(({field:u})=>{r.freeze(u)}),o()}return o(),r.all}const Pm=(e,t)=>{const n={};let r=0,o=0;const i=[];e.all.forEach(a=>{const c=w({},e.lookup[a]);if(e.columnVisibilityModel[a]===!1)c.computedWidth=0;else{let u;c.flex&&c.flex>0?(r+=c.flex,u=0,i.push(c)):u=os(c.width,c.minWidth,c.maxWidth),o+=u,c.computedWidth=u}n[a]=c});const l=Math.max(t-o,0);if(r>0&&t>0){const a=_1({initialFreeSpace:l,totalFlexUnits:r,flexColumns:i});Object.keys(a).forEach(c=>{n[c].computedWidth=a[c].computedWidth})}return w({},e,{lookup:n})},V1=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},l=[];for(let d=0;d<n.length;d+=1){const f=n[d];e.lookup[f]&&(i[f]=!0,l.push(f))}const a=l.length===0?e.all:[...l,...e.all.filter(d=>!i[d])],c=w({},e.lookup);for(let d=0;d<o.length;d+=1){const f=o[d],m=w({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([p,v])=>{m[p]=v===-1?1/0:v}),c[f]=m}return{all:a,lookup:c}},L1=(e,t)=>!t||!e[t]?e[ei]:e[t],zr=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:r,currentColumnVisibilityModel:o=Tn(e),shouldRegenColumnVisibilityModelFromColumns:i,keepOnlyColumnsToUpsert:l=!1})=>{var a,c,u,d;const f=!e.current.state.columns;let m;if(f)m={all:[],lookup:{}};else{const x=jr(e.current.state);m={all:l?[]:[...x.all],lookup:w({},x.lookup)}}let p={};l&&!f&&(p=Object.keys(m.lookup).reduce((x,j)=>w({},x,{[j]:!1}),{}));const v={};t.forEach(x=>{const{field:j}=x;v[j]=!0,p[j]=!0;let O=m.lookup[j];O==null?(O=w({},L1(r,x.type),{field:j,hasBeenResized:!1}),m.all.push(j)):l&&m.all.push(j);let k=O.hasBeenResized;Sm.forEach(E=>{x[E]!==void 0&&(k=!0,x[E]===-1&&(x[E]=1/0))}),m.lookup[j]=w({},O,{hide:x.hide==null?!1:x.hide},x,{hasBeenResized:k})}),l&&!f&&Object.keys(m.lookup).forEach(x=>{p[x]||delete m.lookup[x]});const b=w({},m.lookup),g=e.current.unstable_applyPipeProcessors("hydrateColumns",m);let C={};if(i){let x=!1;const j=w({},o);f?g.all.forEach(O=>{j[O]=!m.lookup[O].hide}):l&&Object.keys(j).forEach(O=>{g.lookup[O]||(delete j[O],x=!0)}),g.all.forEach(O=>{if(!v[O]&&b[O]===g.lookup[O])return;let k=o[O];k===void 0&&(f?k=!0:k=!!jr(e.current.state).lookup[O]);const E=!g.lookup[O].hide;E!==k&&(x=!0,j[O]=E)}),x||f?C=j:C=o}else C=o;const P=V1(g,n),y=w({},P,{columnVisibilityModel:C});return Pm(y,(a=(c=(u=e.current).getRootDimensions)==null||(d=c.call(u))==null?void 0:d.viewportInnerSize.width)!=null?a:0)},Wu=e=>t=>w({},t,{columns:e});function Cl({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=e;for(let l=n;l<r;l+=1)if(o[l]){const c=o[l].id,u=t.current.unstable_getCellColSpanInfo(c,e);u&&u.spannedByColSpan&&(i=u.leftVisibleCellIndex)}return i}function $1({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:r,lastRowToRender:o,apiRef:i,visibleRows:l}){const a=Math.max(e-n,t);return Cl({firstColumnToRender:a,apiRef:i,firstRowToRender:r,lastRowToRender:o,visibleRows:l})}const R1=e=>{const{column:t,onClick:n}=e,r=Te(),o=be(),i=h.useRef(),c=Et(r).filter(d=>d.disableColumnMenu!==!0).length===1,u=h.useCallback(d=>{c||(n(d),i.current=setTimeout(()=>{r.current.setColumnVisibility(t==null?void 0:t.field,!1)},100))},[r,t==null?void 0:t.field,n,c]);return h.useEffect(()=>()=>clearTimeout(i.current),[]),o.disableColumnSelector||t.hideable===!1?null:s.jsx(ie,{onClick:u,disabled:c,children:r.current.getLocaleText("columnMenuHideColumn")})};function N1(e){var t;const{column:n,onClick:r}=e,o=Te(),i=xe(o,tn),l=be(),a=(t=n.sortingOrder)!=null?t:l.sortingOrder,c=h.useMemo(()=>{if(!n)return null;const d=i.find(f=>f.field===n.field);return d==null?void 0:d.sort},[n,i]),u=h.useCallback(d=>{r(d);const f=d.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(n,f)},[o,n,r]);return!n||!n.sortable?null:s.jsxs(h.Fragment,{children:[a.includes(null)?s.jsx(ie,{onClick:u,disabled:c==null,children:o.current.getLocaleText("columnMenuUnsort")}):null,a.includes("asc")?s.jsx(ie,{onClick:u,"data-value":"asc",disabled:c==="asc",children:o.current.getLocaleText("columnMenuSortAsc")}):null,a.includes("desc")?s.jsx(ie,{onClick:u,"data-value":"desc",disabled:c==="desc",children:o.current.getLocaleText("columnMenuSortDesc")}):null]})}const z1=h.forwardRef(function(t,n){const{hideMenu:r,currentColumn:o}=t,i=Te(),l=[s.jsx(N1,{onClick:r,column:o}),s.jsx(Uj,{onClick:r,column:o}),s.jsx(R1,{onClick:r,column:o}),s.jsx(Gj,{onClick:r,column:o})],a=i.current.unstable_applyPipeProcessors("columnMenu",l,o);return s.jsx(Kj,w({ref:n},t,{children:a.map((c,u)=>h.cloneElement(c,{key:u,onClick:r,column:o}))}))}),B1=["className"],H1=e=>{const{classes:t}=e;return Le({root:["panelContent"]},$e,t)},W1=He("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function km(e){const{className:t}=e,n=ye(e,B1),r=be(),o=H1(r);return s.jsx(W1,w({className:Ge(t,o.root),ownerState:r},n))}const G1=["className"],U1=e=>{const{classes:t}=e;return Le({root:["panelFooter"]},$e,t)},q1=He("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function Em(e){const{className:t}=e,n=ye(e,G1),r=be(),o=U1(r);return s.jsx(q1,w({className:Ge(t,o.root),ownerState:r},n))}const K1=["className"],Q1=e=>{const{classes:t}=e;return Le({root:["panelHeader"]},$e,t)},Y1=He("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function X1(e){const{className:t}=e,n=ye(e,K1),r=be(),o=Q1(r);return s.jsx(Y1,w({className:Ge(t,o.root),ownerState:r},n))}const Z1=["className","slotProps"],J1=e=>{const{classes:t}=e;return Le({root:["panelWrapper"]},$e,t)},eP=He("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),tP=()=>!0,Im=h.forwardRef(function(t,n){const{className:r,slotProps:o={}}=t,i=ye(t,Z1),l=be(),a=J1(l);return s.jsx(Eg,w({open:!0,disableEnforceFocus:!0,isEnabled:tP},o.TrapFocus,{children:s.jsx(eP,w({ref:n,tabIndex:-1,className:Ge(r,a.root),ownerState:l},i))}))}),nP=!1,rP=["sort","searchPredicate","autoFocusSearchField"],sP=e=>{const{classes:t}=e;return Le({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},$e,t)},oP=He("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),iP=He("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Ig.root}`]:{marginRight:e.spacing(.5)}})),lP=He(Be)({justifyContent:"flex-end"}),Gu=new Intl.Collator,aP=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function cP(e){var t,n,r;const o=Te(),i=h.useRef(null),l=xe(o,an),a=xe(o,Tn),c=be(),[u,d]=h.useState(""),f=sP(c),{sort:m,searchPredicate:p=aP,autoFocusSearchField:v=!0}=e,b=ye(e,rP),g=h.useMemo(()=>{switch(m){case"asc":return[...l].sort((E,T)=>Gu.compare(E.headerName||E.field,T.headerName||T.field));case"desc":return[...l].sort((E,T)=>-Gu.compare(E.headerName||E.field,T.headerName||T.field));default:return l}},[l,m]),C=E=>{const{name:T}=E.target;o.current.setColumnVisibility(T,a[T]===!1)},P=h.useCallback(E=>{if(o.current.unstable_caches.columns.isUsingColumnVisibilityModel){const T=Tn(o),V=w({},T);return l.forEach(_=>{_.hideable&&(E?delete V[_.field]:V[_.field]=!1)}),o.current.setColumnVisibilityModel(V)}return o.current.updateColumns(l.map(T=>T.hideable!==!1?{field:T.field,hide:!E}:T))},[o,l]),y=h.useCallback(E=>{d(E.target.value)},[]),x=h.useMemo(()=>{if(!u)return g;const E=u.toLowerCase();return g.filter(T=>p(T,E))},[g,u,p]),j=h.useRef(null);h.useEffect(()=>{v?i.current.focus():j.current&&typeof j.current.focus=="function"&&j.current.focus()},[v]);let O=!1;const k=E=>O===!1&&E.hideable!==!1?(O=!0,!0):!1;return s.jsxs(Im,w({},b,{children:[s.jsx(X1,{children:s.jsx(c.components.BaseTextField,w({label:o.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:o.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:i,value:u,onChange:y,variant:"standard",fullWidth:!0},(t=c.componentsProps)==null?void 0:t.baseTextField))}),s.jsx(km,{children:s.jsx(oP,{className:f.root,ownerState:c,children:x.map(E=>{var T;return s.jsxs(iP,{className:f.columnsPanelRow,ownerState:c,children:[s.jsx(xs,{control:s.jsx(c.components.BaseSwitch,w({disabled:E.hideable===!1,checked:a[E.field]!==!1,onClick:C,name:E.field,size:"small",inputRef:k(E)?j:void 0},(T=c.componentsProps)==null?void 0:T.baseSwitch)),label:E.headerName||E.field}),!c.disableColumnReorder&&nP&&s.jsx(lP,{draggable:!0,"aria-label":o.current.getLocaleText("columnsPanelDragIconLabel"),title:o.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:s.jsx(om,{})})]},E.field)})})}),s.jsxs(Em,{children:[s.jsx(c.components.BaseButton,w({onClick:()=>P(!1)},(n=c.componentsProps)==null?void 0:n.baseButton,{children:o.current.getLocaleText("columnsPanelHideAllButton")})),s.jsx(c.components.BaseButton,w({onClick:()=>P(!0)},(r=c.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const uP=["children","className","classes"],dP=xd("MuiDataGrid",["panel","paper"]),hP=He(Fl,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),fP=He(Zt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),mP=h.forwardRef((e,t)=>{var n;const{children:r,className:o}=e,i=ye(e,uP),l=Te(),a=be(),c=dP,[u,d]=h.useState(!1),f=h.useCallback(()=>{l.current.hidePreferences()},[l]),m=h.useCallback(b=>{Ma(b.key)&&l.current.hidePreferences()},[l]),p=h.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}],[]),v=(n=l.current.columnHeadersContainerElementRef)==null?void 0:n.current;return v?s.jsx(hP,w({ref:t,placement:"bottom-start",className:Ge(o,c.panel),ownerState:a,anchorEl:v,modifiers:p},i,{children:s.jsx(yd,{mouseEvent:"onMouseUp",onClickAway:f,children:s.jsx(fP,{className:c.paper,ownerState:a,elevation:8,onKeyDown:m,children:u&&r})})})):null}),gP=h.forwardRef(function(t,n){var r,o,i;const l=Te(),a=xe(l,an),c=be(),u=xe(l,Zo),d=l.current.unstable_applyPipeProcessors("preferencePanel",null,(r=u.openedPanelValue)!=null?r:sr.filters);return s.jsx(c.components.Panel,w({ref:n,as:c.components.BasePopper,open:a.length>0&&u.open},(o=c.componentsProps)==null?void 0:o.panel,t,(i=c.componentsProps)==null?void 0:i.basePopper,{children:d}))}),pP=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],xP=["InputComponentProps"],bP=e=>{const{classes:t}=e;return Le({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},$e,t)},yP=He("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),vP=He(ze,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),CP=He(ze,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),wP=He(ze,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),SP=He(ze,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),jP=He(ze,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),PP=e=>{switch(e){case Vt.And:return"filterPanelOperatorAnd";case Vt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},ms=e=>e.headerName||e.field,Uu=new Intl.Collator,kP=h.forwardRef(function(t,n){var r,o,i,l,a,c,u;const{item:d,hasMultipleFilters:f,deleteFilter:m,applyFilterChanges:p,multiFilterOperator:v,showMultiFilterOperators:b,disableMultiFilterOperator:g,applyMultiFilterOperatorChanges:C,focusElementRef:P,linkOperators:y=[Vt.And,Vt.Or],columnsSort:x,deleteIconProps:j={},linkOperatorInputProps:O={},operatorInputProps:k={},columnInputProps:E={},valueInputProps:T={}}=t,V=ye(t,pP),_=Te(),z=xe(_,ka),$=Lt(),I=Lt(),A=Lt(),L=Lt(),H=be(),R=bP(H),N=h.useRef(null),W=h.useRef(null),q=f&&y.length>0,Z=((r=H.componentsProps)==null?void 0:r.baseFormControl)||{},J=(i=(((o=H.componentsProps)==null?void 0:o.baseSelect)||{}).native)!=null?i:!0,fe=J?"option":ie,{InputComponentProps:le}=T,pe=ye(T,xP),X=h.useMemo(()=>{switch(x){case"asc":return z.sort((oe,ge)=>Uu.compare(ms(oe),ms(ge)));case"desc":return z.sort((oe,ge)=>-Uu.compare(ms(oe),ms(ge)));default:return z}},[z,x]),ce=d.columnField?_.current.getColumn(d.columnField):null,ae=h.useMemo(()=>{var oe;return!d.operatorValue||!ce?null:(oe=ce.filterOperators)==null?void 0:oe.find(ge=>ge.value===d.operatorValue)},[d,ce]),Ce=h.useCallback(oe=>{const ge=oe.target.value,Se=_.current.getColumn(ge);if(Se.field===ce.field)return;const De=Se.filterOperators.find(F=>F.value===d.operatorValue)||Se.filterOperators[0],Ue=!De.InputComponent||De.InputComponent!==(ae==null?void 0:ae.InputComponent);p(w({},d,{columnField:ge,operatorValue:De.value,value:Ue?void 0:d.value}))},[_,p,d,ce,ae]),Oe=h.useCallback(oe=>{const ge=oe.target.value,Se=ce==null?void 0:ce.filterOperators.find(Ue=>Ue.value===ge),De=!(Se!=null&&Se.InputComponent)||(Se==null?void 0:Se.InputComponent)!==(ae==null?void 0:ae.InputComponent);p(w({},d,{operatorValue:ge,value:De?void 0:d.value}))},[p,d,ce,ae]),Ne=h.useCallback(oe=>{const ge=oe.target.value===Vt.And.toString()?Vt.And:Vt.Or;C(ge)},[C]),Ye=()=>{H.disableMultipleColumnsFiltering?d.value===void 0?m(d):p(w({},d,{value:void 0})):m(d)};return h.useImperativeHandle(P,()=>({focus:()=>{if(ae!=null&&ae.InputComponent){var oe;N==null||(oe=N.current)==null||oe.focus()}else W.current.focus()}}),[ae]),s.jsxs(yP,w({ref:n,className:R.root,ownerState:H},V,{children:[s.jsx(vP,w({variant:"standard",as:H.components.BaseFormControl},Z,j,{className:Ge(R.deleteIcon,Z.className,j.className),ownerState:H,children:s.jsx(Be,{"aria-label":_.current.getLocaleText("filterPanelDeleteIconLabel"),title:_.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ye,size:"small",children:s.jsx(H.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),s.jsx(CP,w({variant:"standard",as:H.components.BaseFormControl},Z,O,{sx:w({display:q?"flex":"none",visibility:b?"visible":"hidden"},Z.sx||{},O.sx||{}),className:Ge(R.linkOperatorInput,Z.className,O.className),ownerState:H,children:s.jsx(H.components.BaseSelect,w({inputProps:{"aria-label":_.current.getLocaleText("filterPanelLinkOperator")},value:v,onChange:Ne,disabled:!!g||y.length===1,native:J},(l=H.componentsProps)==null?void 0:l.baseSelect,{children:y.map(oe=>s.jsx(fe,{value:oe.toString(),children:_.current.getLocaleText(PP(oe))},oe.toString()))}))})),s.jsxs(wP,w({variant:"standard",as:H.components.BaseFormControl},Z,E,{className:Ge(R.columnInput,Z.className,E.className),ownerState:H,children:[s.jsx(Je,{htmlFor:$,id:I,children:_.current.getLocaleText("filterPanelColumns")}),s.jsx(H.components.BaseSelect,w({labelId:I,id:$,label:_.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:Ce,native:J},(a=H.componentsProps)==null?void 0:a.baseSelect,{children:X.map(oe=>s.jsx(fe,{value:oe.field,children:ms(oe)},oe.field))}))]})),s.jsxs(SP,w({variant:"standard",as:H.components.BaseFormControl},Z,k,{className:Ge(R.operatorInput,Z.className,k.className),ownerState:H,children:[s.jsx(Je,{htmlFor:A,id:L,children:_.current.getLocaleText("filterPanelOperators")}),s.jsx(H.components.BaseSelect,w({labelId:L,label:_.current.getLocaleText("filterPanelOperators"),id:A,value:d.operatorValue,onChange:Oe,native:J,inputRef:W},(c=H.componentsProps)==null?void 0:c.baseSelect,{children:ce==null||(u=ce.filterOperators)==null?void 0:u.map(oe=>s.jsx(fe,{value:oe.value,children:oe.label||_.current.getLocaleText(`filterOperator${Sr(oe.value)}`)},oe.value))}))]})),s.jsx(jP,w({variant:"standard",as:H.components.BaseFormControl},Z,pe,{className:Ge(R.valueInput,Z.className,pe.className),ownerState:H,children:ae!=null&&ae.InputComponent?s.jsx(ae.InputComponent,w({apiRef:_,item:d,applyValue:p,focusElementRef:N},ae.InputComponentProps,le)):null}))]}))}),EP=["linkOperators","columnsSort","filterFormProps","children"],IP=h.forwardRef(function(t,n){var r;const o=Te(),i=be(),l=xe(o,Nt),a=xe(o,ka),c=h.useRef(null),{linkOperators:u=[Vt.And,Vt.Or],columnsSort:d,filterFormProps:f}=t,m=ye(t,EP),p=h.useCallback(x=>{o.current.upsertFilterItem(x)},[o]),v=h.useCallback(x=>{o.current.setFilterLinkOperator(x)},[o]),b=h.useCallback(()=>{const x=a.find(j=>{var O;return(O=j.filterOperators)==null?void 0:O.length});return x?{columnField:x.field,operatorValue:x.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[a]),g=h.useMemo(()=>{if(l.items.length)return l.items;const x=b();return x?[x]:[]},[l.items,b]),C=g.length>1,P=()=>{const x=b();x&&o.current.upsertFilterItems([...g,x])},y=h.useCallback(x=>{const j=g.length===1;o.current.deleteFilterItem(x),j&&o.current.hideFilterPanel()},[o,g.length]);return h.useEffect(()=>{u.length>0&&l.linkOperator&&!u.includes(l.linkOperator)&&v(u[0])},[u,v,l.linkOperator]),h.useEffect(()=>{g.length>0&&c.current.focus()},[g.length]),s.jsxs(Im,w({ref:n},m,{children:[s.jsx(km,{children:g.map((x,j)=>s.jsx(kP,w({item:x,applyFilterChanges:p,deleteFilter:y,hasMultipleFilters:C,showMultiFilterOperators:j>0,multiFilterOperator:l.linkOperator,disableMultiFilterOperator:j!==1,applyMultiFilterOperatorChanges:v,focusElementRef:j===g.length-1?c:null,linkOperators:u,columnsSort:d},f),x.id==null?j:x.id))}),!i.disableMultipleColumnsFiltering&&s.jsx(Em,{children:s.jsx(i.components.BaseButton,w({onClick:P,startIcon:s.jsx(sm,{})},(r=i.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")}))})]}))}),MP=["hideMenu","options"],FP=["hideMenu","options"],TP=e=>{const t=Te(),{hideMenu:n,options:r}=e,o=ye(e,MP);return s.jsx(ie,w({onClick:()=>{t.current.exportDataAsCsv(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))},AP=e=>{const t=Te(),{hideMenu:n,options:r}=e,o=ye(e,FP);return s.jsx(ie,w({onClick:()=>{t.current.exportDataAsPrint(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))},Rs=()=>({items:[],linkOperator:Vt.And,quickFilterValues:[],quickFilterLogicOperator:Vt.And}),DP=["className","rowCount","visibleRowCount"],OP=e=>{const{classes:t}=e;return Le({root:["rowCount"]},$e,t)},_P=He("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),VP=h.forwardRef(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,l=ye(t,DP),a=Te(),c=be(),u=OP(c);if(o===0)return null;const d=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return s.jsxs(_P,w({ref:n,className:Ge(u.root,r),ownerState:c},l,{children:[a.current.getLocaleText("footerTotalRows")," ",d]}))}),LP=["className","selectedRowCount"],$P=e=>{const{classes:t}=e;return Le({root:["selectedRowCount"]},$e,t)},RP=He("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),NP=h.forwardRef(function(t,n){const{className:r,selectedRowCount:o}=t,i=ye(t,LP),l=Te(),a=be(),c=$P(a),u=l.current.getLocaleText("footerRowSelected")(o);return s.jsx(RP,w({ref:n,className:Ge(c.root,r),ownerState:a},i,{children:u}))}),zP=h.forwardRef(function(t,n){var r;const o=Te(),i=be(),l=xe(o,bw),a=xe(o,Rj),c=xe(o,Yf),u=!i.hideFooterSelectedRowCount&&a>0?s.jsx(NP,{selectedRowCount:a}):s.jsx("div",{}),d=!i.hideFooterRowCount&&!i.pagination?s.jsx(VP,{rowCount:l,visibleRowCount:c}):null,f=i.pagination&&!i.hideFooterPagination&&i.components.Pagination&&s.jsx(i.components.Pagination,w({},(r=i.componentsProps)==null?void 0:r.pagination));return s.jsxs(nj,w({ref:n},t,{children:[u,d,f]}))}),BP=h.forwardRef(function(t,n){var r,o;const i=be();return s.jsxs("div",w({ref:n},t,{children:[s.jsx(i.components.PreferencesPanel,w({},(r=i.componentsProps)==null?void 0:r.preferencesPanel)),i.components.Toolbar&&s.jsx(i.components.Toolbar,w({},(o=i.componentsProps)==null?void 0:o.toolbar))]}))}),HP=h.forwardRef(function(t,n){return s.jsx(wi,w({ref:n},t,{children:s.jsx(Mg,{})}))}),WP=h.forwardRef(function(t,n){const o=Te().current.getLocaleText("noRowsLabel");return s.jsx(wi,w({ref:n},t,{children:o}))}),GP=He(Fg)(({theme:e})=>({[`& .${Ka.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Ka.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),UP=h.forwardRef(function(t,n){var r;const o=Te(),i=be(),l=xe(o,as),a=h.useMemo(()=>Math.floor(l.rowCount/(l.pageSize||1)),[l.rowCount,l.pageSize]),c=h.useCallback(d=>{const f=Number(d.target.value);o.current.setPageSize(f)},[o]),u=h.useCallback((d,f)=>{o.current.setPage(f)},[o]);return s.jsx(GP,w({ref:n,component:"div",count:l.rowCount,page:l.page<=a?l.page:a,rowsPerPageOptions:(r=i.rowsPerPageOptions)!=null&&r.includes(l.pageSize)?i.rowsPerPageOptions:[],rowsPerPage:l.pageSize,onPageChange:u,onRowsPerPageChange:c},o.current.getLocaleText("MuiTablePagination"),t))}),Si=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=Ta(e),n=zj(e)):(n=Ln(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},Ar=(e,t)=>{const n=Si(e,t);return h.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},Oa="__detail_panel_toggle__",qP=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],KP=["changeReason"],QP=e=>{const{editable:t,editing:n,selected:r,isLastVisible:o,rowHeight:i,classes:l}=e;return Le({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",o&&"row--lastVisible",i==="auto"&&"row--dynamicHeight"]},$e,l)},YP=({width:e})=>{if(!e)return null;const t={width:e};return s.jsx("div",{className:"MuiDataGrid-cell",style:t})},XP=h.forwardRef(function(t,n){var r;const{selected:o,rowId:i,row:l,index:a,style:c,position:u,rowHeight:d,className:f,visibleColumns:m,renderedColumns:p,containerWidth:v,firstColumnToRender:b,cellFocus:g,cellTabIndex:C,editRowsState:P,isLastVisible:y=!1,onClick:x,onDoubleClick:j,onMouseEnter:O,onMouseLeave:k}=t,E=ye(t,qP),T=Te(),V=h.useRef(null),_=be(),z=Ar(T,_),$=xe(T,vi),I=xe(T,tn),A=xe(T,wa),L=xe(T,Ea),H=kr(V,n),R=a+L+2,{hasScrollX:N,hasScrollY:W}=(r=T.current.getRootDimensions())!=null?r:{hasScrollX:!1,hasScrollY:!1},q={selected:o,isLastVisible:y,classes:_.classes,editing:T.current.getRowMode(i)===We.Edit,editable:_.editMode===kt.Row,rowHeight:d},Z=QP(q);h.useLayoutEffect(()=>{d==="auto"&&V.current&&typeof ResizeObserver>"u"&&T.current.unstable_storeRowHeightMeasurement(i,V.current.clientHeight,u)},[T,d,i,u]),h.useLayoutEffect(()=>{if(z.range){const De=T.current.getRowIndexRelativeToVisibleRows(i);De!=null&&T.current.unstable_setLastMeasuredRowIndex(De)}const oe=V.current;if(!oe||d!=="auto"||typeof ResizeObserver>"u")return;const Se=new ResizeObserver(De=>{const[Ue]=De,F=Ue.borderBoxSize&&Ue.borderBoxSize.length>0?Ue.borderBoxSize[0].blockSize:Ue.contentRect.height;T.current.unstable_storeRowHeightMeasurement(i,F,u)});return Se.observe(oe),()=>Se.disconnect()},[T,z.range,a,d,i,u]);const ne=h.useCallback((oe,ge)=>Se=>{Se.target.nodeType===1&&!Se.currentTarget.contains(Se.target)||T.current.getRow(i)&&(T.current.publishEvent(oe,T.current.getRowParams(i),Se),ge&&ge(Se))},[T,i]),J=h.useCallback(oe=>{const ge=xj(oe.target,G.cell),Se=ge==null?void 0:ge.getAttribute("data-field");Se&&(Se===Js.field||Se===Oa||Se==="__reorder__"||T.current.getCellMode(i,Se)===Ve.Edit||T.current.getColumn(Se).type===Da)||ne("rowClick",x)(oe)},[T,x,ne,i]),fe=h.useCallback((oe,ge)=>{var Se;const De=T.current.getCellParams(i,oe.field),Ue=[],F=_.disableColumnReorder&&oe.disableReorder||!_.rowReordering&&!!I.length&&A>1&&Object.keys(P).length>0;oe.cellClassName&&Ue.push(Ge(typeof oe.cellClassName=="function"?oe.cellClassName(De):oe.cellClassName));const U=P[i]?P[i][oe.field]:null;let Q=null;if(U==null&&oe.renderCell){var te;Q=oe.renderCell(w({},De,{api:T.current})),Ue.push(Ge(G["cell--withRenderer"],(te=_.classes)==null?void 0:te["cell--withRenderer"]))}if(U!=null&&oe.renderEditCell){var ee;let je=l;T.current.unstable_getRowWithUpdatedValues&&(je=T.current.unstable_getRowWithUpdatedValues(i,oe.field));const Ae=ye(U,KP),Ee=w({},De,{row:je},Ae,{api:T.current});Q=oe.renderEditCell(Ee),Ue.push(Ge(G["cell--editing"],(ee=_.classes)==null?void 0:ee["cell--editing"]))}_.getCellClassName&&Ue.push(_.getCellClassName(De));const re=g!==null&&g.id===i&&g.field===oe.field,ue=C!==null&&C.id===i&&C.field===oe.field&&De.cellMode==="view"?0:-1;return s.jsx(_.components.Cell,w({value:De.value,field:oe.field,width:ge.width,rowId:i,height:d,showRightBorder:ge.showRightBorder,formattedValue:De.formattedValue,align:oe.align||"left",cellMode:De.cellMode,colIndex:ge.indexRelativeToAllColumns,isEditable:De.isEditable,hasFocus:re,tabIndex:ue,className:Ge(Ue),colSpan:ge.colSpan,disableDragEvents:F},(Se=_.componentsProps)==null?void 0:Se.cell,{children:Q}),oe.field)},[T,C,P,g,_,l,d,i,A,I.length]),le=T.current.unstable_getRowInternalSizes(i);let pe=d;if(pe==="auto"&&le){let oe=0;const ge=Object.entries(le).reduce((Se,[De,Ue])=>/^base[A-Z]/.test(De)?(oe+=1,Ue>Se?Ue:Se):Se,0);ge>0&&oe>1&&(pe=ge)}const X=w({},c,{maxHeight:d==="auto"?"none":d,minHeight:pe});if(le!=null&&le.spacingTop){const oe=_.rowSpacingType==="border"?"borderTopWidth":"marginTop";X[oe]=le.spacingTop}if(le!=null&&le.spacingBottom){const oe=_.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ge=X[oe];typeof ge!="number"&&(ge=parseInt(ge||"0",10)),ge+=le.spacingBottom,X[oe]=ge}const ce=T.current.unstable_applyPipeProcessors("rowClassName",[],i);if(typeof _.getRowClassName=="function"){var ae;const oe=a-(((ae=z.range)==null?void 0:ae.firstRowIndex)||0),ge=w({},T.current.getRowParams(i),{isFirstVisible:oe===0,isLastVisible:oe===z.rows.length-1,indexRelativeToCurrentPage:oe});ce.push(_.getRowClassName(ge))}const Ce=o1(1e4,20,80),Oe=[];for(let oe=0;oe<p.length;oe+=1){const ge=p[oe],Se=b+oe,De=Se===m.length-1,F=De?!(De&&N&&!W)&&_.disableExtendRowFullWidth:_.showCellRightBorder,U=T.current.unstable_getCellColSpanInfo(i,Se);if(U&&!U.spannedByColSpan)if(l){const{colSpan:Q,width:te}=U.cellProps,ee={width:te,colSpan:Q,showRightBorder:F,indexRelativeToAllColumns:Se};Oe.push(fe(ge,ee))}else{const{width:Q}=U.cellProps,te=Math.round(Ce());Oe.push(s.jsx(_.components.SkeletonCell,{width:Q,contentWidth:te,field:ge.field,align:ge.align},ge.field))}}const Ne=v-$,Ye=l?{onClick:J,onDoubleClick:ne("rowDoubleClick",j),onMouseEnter:ne("rowMouseEnter",O),onMouseLeave:ne("rowMouseLeave",k)}:null;return s.jsxs("div",w({ref:H,"data-id":i,"data-rowindex":a,role:"row",className:Ge(...ce,Z.root,f),"aria-rowindex":R,"aria-selected":o,style:X},Ye,E,{children:[Oe,Ne>0&&s.jsx(YP,{width:Ne})]}))}),qu=1e3;class ZP{constructor(t=qu){this.timeouts=new Map,this.cleanupTimeout=qu,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class JP{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var ir;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(ir||(ir={}));class ek{}function tk(e){let t=0;return function(r,o,i,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new JP:new ZP);const[a]=h.useState(new ek),c=h.useRef(null),u=h.useRef();u.current=i;const d=h.useRef(null);if(!c.current&&u.current){const f=(m,p,v)=>{if(!p.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,p,v)}};c.current=r.current.subscribeEvent(o,f,l),t+=1,d.current={cleanupToken:t},e.registry.register(a,()=>{var m;(m=c.current)==null||m.call(c),c.current=null,d.current=null},d.current)}else!u.current&&c.current&&(c.current(),c.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));h.useEffect(()=>{if(!c.current&&u.current){const f=(m,p,v)=>{if(!p.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,p,v)}};c.current=r.current.subscribeEvent(o,f,l)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var f;(f=c.current)==null||f.call(c),c.current=null}},[r,o,l])}}const nk={registry:null},de=tk(nk),rk={isFirst:!0};function Re(e,t,n){de(e,t,n,rk)}const Ku=1,sk=1.5,ok=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return Le(r,$e,n)},ik=He("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${G["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${G["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${G["scrollArea--left"]}`]:{left:0},[`&.${G["scrollArea--right"]}`]:{right:0}}));function lk(e){const{scrollDirection:t}=e,n=h.useRef(null),r=Te(),o=h.useRef(),[i,l]=h.useState(!1),a=xe(r,Xf),c=h.useRef({left:0,top:0}),u=be(),d=w({},u,{scrollDirection:t}),f=ok(d),m=h.useCallback(b=>{c.current=b},[]),p=h.useCallback(b=>{let g;if(t==="left")g=b.clientX-n.current.getBoundingClientRect().right;else if(t==="right")g=Math.max(1,b.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");g=(g-Ku)*sk+Ku,clearTimeout(o.current),o.current=setTimeout(()=>{r.current.scroll({left:c.current.left+g,top:c.current.top})})},[t,r]);h.useEffect(()=>()=>{clearTimeout(o.current)},[]);const v=h.useCallback(()=>{l(b=>!b)},[]);return de(r,"rowsScroll",m),de(r,"columnHeaderDragStart",v),de(r,"columnHeaderDragEnd",v),i?s.jsx(ik,{ref:n,className:Ge(f.root),ownerState:d,onDragOver:p,style:{height:a}}):null}const Qu=h.memo(lk),ak=({apiRef:e,props:t,children:n})=>s.jsx(Wf.Provider,{value:t,children:s.jsx(Hf.Provider,{value:e,children:n})}),ck=r1()&&window.localStorage.getItem("DEBUG")!=null,vs=()=>{},uk={debug:vs,info:vs,warn:vs,error:vs},Yu=["debug","info","warn","error"];function Xu(e,t,n=console){const r=Yu.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return Yu.reduce((i,l,a)=>(a>=r?i[l]=(...c)=>{const[u,...d]=c;n[l](`MUI: ${e} - ${u}`,...d)}:i[l]=vs,i),{})}const dk=(e,t)=>{e.current.getLogger=h.useCallback(n=>ck?Xu(n,"debug",t.logger):t.logLevel?Xu(n,t.logLevel.toString(),t.logger):uk,[t.logLevel,t.logger])};function qe(e,t,n){const r=h.useRef(t),[o]=h.useState(Object.keys(t)),i=h.useCallback(()=>{e.current&&o.forEach(l=>{e.current.hasOwnProperty(l)||(e.current[l]=(...a)=>r.current[l](...a))})},[o,e]);h.useEffect(()=>{r.current=t},[t]),h.useEffect(()=>{i()},[i]),i()}class hk{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let l=o.length-1;l>=0;l-=1){const a=o[l];r.highPriority.has(a)&&a.apply(this,n)}for(let l=0;l<i.length;l+=1){const a=i[l];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const fk=e=>e.isPropagationStopped!==void 0;let Zu=0;function mk(e,t){const n=h.useRef();n.current||(n.current={unstable_eventManager:new hk,unstable_caches:{},state:{},instanceId:Zu},Zu+=1),h.useImperativeHandle(e,()=>n.current,[n]);const r=h.useCallback((...l)=>{const[a,c,u={}]=l;if(u.defaultMuiPrevented=!1,fk(u)&&u.isPropagationStopped())return;const d=t.signature===ir.DataGridPro?{api:n.current}:{};n.current.unstable_eventManager.emit(a,c,u,d)},[n,t.signature]),o=h.useCallback((l,a,c)=>{n.current.unstable_eventManager.on(l,a,c);const u=n.current;return()=>{u.unstable_eventManager.removeListener(l,a)}},[n]),i=h.useCallback(l=>{n.current.publishEvent("componentError",l)},[n]);return qe(n,{subscribeEvent:o,publishEvent:r,showError:i}),h.useEffect(()=>{const l=n.current;return()=>{pw(l.instanceId),l.publishEvent("unmount")}},[n]),n}function gk(e,t){const n=h.useCallback(r=>{e.current.setState(o=>w({},o,{error:r}))},[e]);h.useEffect(()=>{t.error?n({error:t.error}):n(null)},[n,t.error]),de(e,"componentError",n)}const pk=(e,t)=>{const n=h.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.getLocaleText=n},xk=e=>{const t=h.useRef({}),n=h.useCallback(c=>{c&&Object.values(c.appliers).forEach(u=>{u()})},[]),r=h.useCallback((c,u,d)=>{t.current[c]||(t.current[c]={processors:new Map,appliers:{}});const f=t.current[c];return f.processors.get(u)!==d&&(f.processors.set(u,d),n(f)),()=>{t.current[c].processors.set(u,null)}},[n]),o=h.useCallback((c,u,d)=>(t.current[c]||(t.current[c]={processors:new Map,appliers:{}}),t.current[c].appliers[u]=d,()=>{const f=t.current[c].appliers,m=ye(f,[u].map(Os));t.current[c].appliers=m}),[]),i=h.useCallback(c=>{const u=t.current[c];n(u)},[n]),l=h.useCallback((...c)=>{const[u,d,f]=c;return t.current[u]?Array.from(t.current[u].processors.values()).reduce((p,v)=>v?v(p,f):p,d):d},[]);qe(e,{unstable_registerPipeProcessor:r,unstable_registerPipeApplier:o,unstable_requestPipeProcessorsApplication:i,unstable_applyPipeProcessors:l})},eo=e=>{const t=h.useRef(!0);t.current&&(t.current=!1,e())},St=(e,t,n)=>{const r=h.useRef(),o=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=h.useCallback(()=>{r.current=e.current.unstable_registerPipeProcessor(t,o.current,n)},[e,n,t]);eo(()=>{i()});const l=h.useRef(!0);h.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},_a=(e,t,n)=>{const r=h.useRef(),o=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=h.useCallback(()=>{r.current=e.current.unstable_registerPipeApplier(t,o.current,n)},[e,n,t]);eo(()=>{i()});const l=h.useRef(!0);h.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},Va=(e,t,n,r)=>{const o=h.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,n,r)},[e,r,n,t]);eo(()=>{o()});const i=h.useRef(!0);h.useEffect(()=>{i.current?i.current=!1:o()},[o])},to="none",Ju={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},bk=e=>{const t=h.useRef(new Map),n=h.useRef({}),r=h.useCallback((c,u,d)=>{const f=()=>{const v=n.current[u],b=ye(v,[c].map(Os));n.current[u]=b};n.current[u]||(n.current[u]={});const m=n.current[u],p=m[c];return m[c]=d,!p||p===d||c===e.current.unstable_getActiveStrategy(Ju[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),f},[e]),o=h.useCallback((c,u)=>{const d=e.current.unstable_getActiveStrategy(Ju[c]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[d])throw new Error(`No processor found for processor "${c}" on strategy "${d}"`);const m=f[d];return m(u)},[e]),i=h.useCallback(c=>{var u;const f=Array.from(t.current.entries()).find(([,m])=>m.group!==c?!1:m.isAvailable());return(u=f==null?void 0:f[0])!=null?u:to},[]),l=h.useCallback((c,u,d)=>{t.current.set(u,{group:c,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);qe(e,{unstable_registerStrategyProcessor:r,unstable_applyStrategyProcessor:o,unstable_getActiveStrategy:i,unstable_setStrategyAvailability:l})},yk=(e,t,n,r,o)=>{const i=gt(e,"useNativeEventListener"),[l,a]=h.useState(!1),c=h.useRef(r),u=h.useCallback(d=>c.current&&c.current(d),[]);h.useEffect(()=>{c.current=r},[r]),h.useEffect(()=>{let d;if(bm(t)?d=t():d=t&&t.current?t.current:null,d&&n&&!l){i.debug(`Binding native ${n} event`),d.addEventListener(n,u,o);const f=d;a(!0);const m=()=>{i.debug(`Clearing native ${n} event`),f.removeEventListener(n,u,o)};e.current.subscribeEvent("unmount",m)}},[t,u,n,l,i,o,e])},vk=["stateId"],Ck=(e,t)=>{const n=h.useRef({}),[,r]=h.useState(),o=h.useCallback(u=>{const{stateId:d}=u,f=ye(u,vk);n.current[d]=w({},f,{stateId:d})},[]),i=h.useCallback((u,d)=>{let f;if(bm(u)?f=u(e.current.state):f=u,e.current.state===f)return!1;let m=!1;const p=[];if(Object.keys(n.current).forEach(v=>{const b=n.current[v],g=b.stateSelector(e.current.state,e.current.instanceId),C=b.stateSelector(f,e.current.instanceId);C!==g&&(p.push({stateId:b.stateId,hasPropChanged:C!==b.propModel}),b.propModel!==void 0&&C!==b.propModel&&(m=!0))}),p.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${p[0].stateId}, therefore, you're not allowed to update ${p.map(v=>v.stateId).join(", ")} in the same transaction.`);if(m||(e.current.state=f,e.current.publishEvent&&e.current.publishEvent("stateChange",f)),p.length===1){const{stateId:v,hasPropChanged:b}=p[0],g=n.current[v],C=g.stateSelector(f,e.current.instanceId);if(g.propOnChange&&b){const P=t.signature===ir.DataGridPro?{api:e.current,reason:d}:{reason:d};g.propOnChange(C,P)}m||e.current.publishEvent(g.changeEvent,C,{reason:d})}return!m},[e,t.signature]),l=h.useCallback((u,d,f)=>e.current.setState(m=>w({},m,{[u]:d(m[u])}),f),[e]),a=h.useCallback(()=>r(()=>e.current.state),[e]);qe(e,{setState:i,forceUpdate:a,unstable_updateControlState:l,unstable_registerControlState:o})},wk=(e,t)=>{const n=mk(e,t);return dk(n,t),gk(n,t),Ck(n,t),xk(n),bk(n),pk(n,t),n},Ht=(e,t,n)=>{const r=h.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function ed(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Sk(e){var t;return((t=window.getSelection())==null?void 0:t.toString())!==""?!0:e?(e.selectionEnd||0)-(e.selectionStart||0)>0:!1}const jk=e=>{const t=h.useCallback((o=!1)=>{if(e.current.getSelectedRows().size===0)return;const i=e.current.getDataAsCsv({includeHeaders:o,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(i).catch(()=>{ed(i)}):ed(i)},[e]),n=h.useCallback(o=>{const i=o.ctrlKey||o.metaKey||o.altKey;String.fromCharCode(o.keyCode)!=="C"||!i||Sk(o.target)||e.current.unstable_copySelectedRowsToClipboard(o.altKey)},[e]);yk(e,e.current.rootElementRef,"keydown",n),qe(e,{unstable_copySelectedRowsToClipboard:t})},Mm=e=>e.columnMenu,Pk=e=>w({},e,{columnMenu:{open:!1}}),kk=e=>{const t=gt(e,"useGridColumnMenu"),n=h.useCallback(a=>{e.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===a?u:(t.debug("Opening Column Menu"),w({},u,{columnMenu:{open:!0,field:a}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=h.useCallback(()=>{e.current.setState(c=>!c.columnMenu.open&&c.columnMenu.field===void 0?c:(t.debug("Hiding Column Menu"),w({},c,{columnMenu:w({},c.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),o=h.useCallback(a=>{t.debug("Toggle Column Menu");const c=Mm(e.current.state);!c.open||c.field!==a?n(a):r()},[e,t,n,r]);qe(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o});const l=h.useCallback((a,c)=>{if(!c.target.classList.contains(G.menuIconButton)||!c.relatedTarget)return;const u=c.relatedTarget.classList.contains(G.menuList),d=c.relatedTarget.getAttribute("role")==="menuitem";(u||d)&&e.current.setColumnHeaderFocus(a.field)},[e]);de(e,"columnResizeStart",r),de(e,"columnHeaderFocus",l),de(e,"virtualScrollerWheel",e.current.hideColumnMenu),de(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Ek=(e,t,n)=>{var r,o,i,l,a,c,u;const d=!!t.columnVisibilityModel||!!((r=t.initialState)!=null&&(o=r.columns)!=null&&o.columnVisibilityModel);n.current.unstable_caches.columns={isUsingColumnVisibilityModel:d};const f=jm(t.columnTypes),m=zr({apiRef:n,columnTypes:f,columnsToUpsert:t.columns,initialState:(i=t.initialState)==null?void 0:i.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:(l=(a=t.columnVisibilityModel)!=null?a:(c=t.initialState)==null||(u=c.columns)==null?void 0:u.columnVisibilityModel)!=null?l:{},keepOnlyColumnsToUpsert:!0});return w({},e,{columns:m})};function Ik(e,t){var n,r;const o=gt(e,"useGridColumns"),i=h.useMemo(()=>jm(t.columnTypes),[t.columnTypes]),l=h.useRef(t.columns),a=h.useRef(i);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Tn,changeEvent:"columnVisibilityModelChange"});const c=h.useCallback($=>{o.debug("Updating columns state."),e.current.setState(Wu($)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",$.all)},[o,e]),u=h.useCallback($=>ls(e)[$],[e]),d=h.useCallback(()=>an(e),[e]),f=h.useCallback(()=>Et(e),[e]),m=h.useCallback(()=>jw(e),[e]),p=h.useCallback(($,I=!0)=>(I?Et(e):an(e)).findIndex(L=>L.field===$),[e]),v=h.useCallback($=>{const I=p($);return Pr(e)[I]},[e,p]),b=h.useCallback($=>{Tn(e)!==$&&(e.current.setState(A=>w({},A,{columns:zr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:$,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,i]),g=h.useCallback($=>{const I=zr({apiRef:e,columnTypes:i,columnsToUpsert:$,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});c(I)},[e,c,i]),C=h.useCallback($=>e.current.updateColumns([$]),[e]),P=h.useCallback(($,I)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var A;const L=Tn(e),H=(A=L[$])!=null?A:!0;if(I!==H){const R=w({},L,{[$]:I});e.current.setColumnVisibilityModel(R)}}else{const L=e.current.getColumn($),H=w({},L,{hide:!I});e.current.updateColumns([H]);const R={field:$,colDef:H,isVisible:I};e.current.publishEvent("columnVisibilityChange",R)}},[e]),y=h.useCallback(($,I)=>{const A=ss(e),L=A.findIndex(W=>W===$);if(L===I)return;o.debug(`Moving column ${$} to index ${I}`);const H=[...A],R=H.splice(L,1)[0];H.splice(I,0,R),c(w({},jr(e.current.state),{all:H}));const N={field:$,element:e.current.getColumnHeaderElement($),colDef:e.current.getColumn($),targetIndex:I,oldIndex:L};e.current.publishEvent("columnOrderChange",N)},[e,o,c]),x=h.useCallback(($,I)=>{o.debug(`Updating column ${$} width to ${I}`);const A=e.current.getColumn($),L=w({},A,{width:I});e.current.updateColumns([L]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement($),colDef:L,width:I})},[e,o]);qe(e,{getColumn:u,getAllColumns:d,getColumnIndex:p,getColumnPosition:v,getVisibleColumns:f,getColumnsMeta:m,updateColumn:C,updateColumns:g,setColumnVisibilityModel:b,setColumnVisibility:P,setColumnIndex:y,setColumnWidth:x});const O=h.useCallback(($,I)=>{const A={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var L,H,R;const q=Tn(e);(!I.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((L=(H=t.initialState)==null||(R=H.columns)==null?void 0:R.columnVisibilityModel)!=null?L:{}).length>0||Object.keys(q).length>0)&&(A.columnVisibilityModel=q)}A.orderedFields=ss(e);const N=an(e),W={};return N.forEach(q=>{if(q.hasBeenResized){const Z={};Sm.forEach(ne=>{let J=q[ne];J===1/0&&(J=-1),Z[ne]=J}),W[q.field]=Z}}),Object.keys(W).length>0&&(A.dimensions=W),w({},$,{columns:A})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),k=h.useCallback(($,I)=>{var A;const L=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(A=I.stateToRestore.columns)==null?void 0:A.columnVisibilityModel:void 0,H=I.stateToRestore.columns;if(L==null&&H==null)return $;const R=zr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:H,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:L,keepOnlyColumnsToUpsert:!1});return e.current.setState(Wu(R)),H!=null&&e.current.publishEvent("columnsChange",R.all),$},[e,i]),E=h.useCallback(($,I)=>{if(I===sr.columns){var A;const L=t.components.ColumnsPanel;return s.jsx(L,w({},(A=t.componentsProps)==null?void 0:A.columnsPanel))}return $},[t.components.ColumnsPanel,(r=t.componentsProps)==null?void 0:r.columnsPanel]);St(e,"exportState",O),St(e,"restoreState",k),St(e,"preferencePanel",E);const T=h.useRef(null);de(e,"viewportInnerSizeChange",$=>{T.current!==$.width&&(T.current=$.width,c(Pm(jr(e.current.state),$.width)))}),Re(e,"columnVisibilityChange",t.onColumnVisibilityChange);const _=h.useCallback(()=>{o.info("Columns pipe processing have changed, regenerating the columns");const $=zr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});c($)},[e,o,c,i]);_a(e,"hydrateColumns",_);const z=h.useRef(!0);h.useEffect(()=>{if(z.current){z.current=!1;return}if(o.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&a.current===i)return;const $=zr({apiRef:e,columnTypes:i,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,a.current=i,c($)},[o,e,c,t.columns,i]),h.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,o,t.columnVisibilityModel])}const Mk=e=>e.columnGrouping,Fm=ve(Mk,e=>e.lookup),Fk=["groupId","children"];function Tk(e){return e.groupPath!==void 0}const Tm=(e,t,n)=>{if(Jf(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{Tm(i,[...t,r],n)})},Am=e=>{if(!e)return{};const t={};return e.forEach(n=>{Tm(n,[],t)}),t},La=e=>{let t={};return e.forEach(n=>{if(Jf(n))return;const{groupId:r,children:o}=n,i=ye(n,Fk);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");o||console.warn(`MUI: group groupId=${r} has no children.`);const l=w({},i,{groupId:r}),a=La(o);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=w({},t,a,{[r]:l})}),w({},t)},Ak=(e,t)=>{var n;const r=La((n=t.columnGroupingModel)!=null?n:[]);return w({},e,{columnGrouping:{lookup:r,groupCollapsedModel:{}}})},Dk=(e,t)=>{var n;const r=h.useCallback(a=>{var c,u;return(c=(u=ls(e)[a])==null?void 0:u.groupPath)!=null?c:[]},[e]),o=h.useCallback(()=>Fm(e),[e]);qe(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:o});const l=h.useRef(!0);h.useEffect(()=>{var a,c;if(l.current){l.current=!1;return}if(!((a=t.experimentalFeatures)!=null&&a.columnGrouping))return;const u=La((c=t.columnGroupingModel)!=null?c:[]);e.current.setState(d=>w({},d,{columnGrouping:w({},d.columnGrouping,{lookup:u})}))},[e,t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping])},Ui=.7,qi=1.3,Dm=(e,t,n,r)=>{switch(e){case $s.Compact:return{value:e,headerHeight:Math.floor(t*Ui),rowHeight:Math.floor(n*Ui),headerGroupingMaxDepth:r,factor:Ui};case $s.Comfortable:return{value:e,headerHeight:Math.floor(t*qi),rowHeight:Math.floor(n*qi),headerGroupingMaxDepth:r,factor:qi};default:return{value:e,headerHeight:t,rowHeight:n,headerGroupingMaxDepth:r,factor:1}}},Ok=(e,t)=>{let n;if(t.columnGroupingModel==null||Object.keys(t.columnGroupingModel).length===0)n=0;else{const r=Am(t.columnGroupingModel),o=e.columns,i=o.all.filter(l=>o.columnVisibilityModel[l]!==!1);i.length===0?n=0:n=Math.max(...i.map(l=>{var a,c;return(a=(c=r[l])==null?void 0:c.length)!=null?a:0}))}return w({},e,{density:Dm(t.density,t.headerHeight,t.rowHeight,n)})},_k=(e,t)=>{const n=xe(e,Et),r=n.length>0?Math.max(...n.map(a=>{var c,u;return(c=(u=a.groupPath)==null?void 0:u.length)!=null?c:0})):0,o=gt(e,"useDensity"),i=h.useCallback((a,c=t.headerHeight,u=t.rowHeight,d=r)=>{o.debug(`Set grid density to ${a}`),e.current.setState(f=>{const m=Tr(f),p=Dm(a,c,u,d);return On(m,p)?f:w({},f,{density:p})}),e.current.forceUpdate()},[o,e,t.headerHeight,t.rowHeight,r]);h.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,r)},[e,t.density,t.rowHeight,t.headerHeight,r]),qe(e,{setDensity:i})};function Vk(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI: exportAs not supported")}const Om=(e,t)=>{if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(r=>n.includes(r))?`"${n}"`:n}return e};cn(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const Lk=(e,t,n,r)=>t.map(o=>{const i=n(e,o.field);return Om(i.formattedValue,r)});function $k(e){const{columns:t,rowIds:n,getCellParams:r,delimiterCharacter:o,includeHeaders:i}=e,l=n.reduce((c,u)=>`${c}${Lk(u,t,r,o).join(o)}\r
`,"").trim();return i?`${`${t.filter(c=>c.field!==Js.field).map(c=>Om(c.headerName||c.field,o)).join(o)}\r
`}${l}`.trim():l}const _m=({apiRef:e,options:t})=>{const n=an(e);return t.fields?t.fields.map(o=>n.find(i=>i.field===o)).filter(o=>!!o):(t.allColumns?n:Et(e)).filter(o=>!o.disableExport)},Rk=({apiRef:e})=>{var t,n;const r=Ew(e),o=Xn(e),i=e.current.getSelectedRows(),l=r.filter(d=>{var f;return((f=o[d].position)!=null?f:"body")==="body"}),a=Ks(e),c=(a==null||(t=a.top)==null?void 0:t.map(d=>d.id))||[],u=(a==null||(n=a.bottom)==null?void 0:n.map(d=>d.id))||[];return l.unshift(...c),l.push(...u),i.size>0?l.filter(d=>i.has(d)):l},Nk=e=>{const t=gt(e,"useGridCsvExport"),n=h.useCallback((l={})=>{var a,c;t.debug("Get data as CSV");const u=_m({apiRef:e,options:l}),f=((a=l.getRowsToExport)!=null?a:Rk)({apiRef:e});return $k({columns:u,rowIds:f,getCellParams:e.current.getCellParams,delimiterCharacter:l.delimiter||",",includeHeaders:(c=l.includeHeaders)!=null?c:!0})},[t,e]),r=h.useCallback(l=>{t.debug("Export data as CSV");const a=n(l),c=new Blob([l!=null&&l.utf8WithBom?new Uint8Array([239,187,191]):"",a],{type:"text/csv"});Vk(c,"csv",l==null?void 0:l.fileName)},[t,n]);qe(e,{getDataAsCsv:n,exportDataAsCsv:r});const i=h.useCallback((l,a)=>{var c;return(c=a.csvOptions)!=null&&c.disableToolbarButton?l:[...l,{component:s.jsx(TP,{options:a.csvOptions}),componentName:"csvExport"}]},[]);St(e,"exportMenu",i)},Ns=e=>e.rowsMeta;function zk(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Bk(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):null}const Hk=(e,t)=>{const n=gt(e,"useGridPrintExport"),r=h.useRef(null),o=h.useRef(null),i=h.useRef({});h.useEffect(()=>{r.current=ni(e.current.rootElementRef.current)},[e]);const l=h.useCallback((p,v)=>new Promise(b=>{if(!p&&!v){b();return}const g=_m({apiRef:e,options:{fields:p,allColumns:v}}).map(y=>y.field),C=an(e),P={};C.forEach(y=>{P[y.field]=g.includes(y.field)}),e.current.setColumnVisibilityModel(P),b()}),[e]),a=h.useCallback(p=>{const v=document.createElement("iframe");return v.style.position="absolute",v.style.width="0px",v.style.height="0px",v.title=p||document.title,v},[]),c=h.useCallback((p,v)=>{var b,g;const C=w({copyStyles:!0,hideToolbar:!1,hideFooter:!1},v),P=p.contentDocument;if(!P)return;const y=Xs(e),x=Ns(e.current.state),j=e.current.rootElementRef.current,O=j.cloneNode(!0),k=O.querySelector(`.${G.virtualScroller}`);k.style.height="auto",k.style.width="auto",k.parentElement.style.width="auto",k.parentElement.style.height="auto";const E=O.querySelector(`.${G.main}`);E.style.overflow="visible";const T=Bk();T&&T>=108&&(O.style.contain="size");const _=O.querySelector(`.${G.columnHeaders}`).querySelector(`.${G.columnHeadersInner}`);_.style.width="100%";let z=((b=j.querySelector(`.${G.toolbarContainer}`))==null?void 0:b.clientHeight)||0,$=((g=j.querySelector(`.${G.footerContainer}`))==null?void 0:g.clientHeight)||0;if(C.hideToolbar){var I;(I=O.querySelector(`.${G.toolbarContainer}`))==null||I.remove(),z=0}if(C.hideFooter){var A;(A=O.querySelector(`.${G.footerContainer}`))==null||A.remove(),$=0}O.style.height=`${x.currentPageTotalHeight+y+z+$}px`;const L=document.createElement("div");L.appendChild(O),P.body.innerHTML=L.innerHTML;const H=typeof C.pageStyle=="function"?C.pageStyle():C.pageStyle;if(typeof H=="string"){const R=P.createElement("style");R.appendChild(P.createTextNode(H)),P.head.appendChild(R)}if(C.bodyClassName&&P.body.classList.add(...C.bodyClassName.split(" ")),C.copyStyles){const R=r.current.querySelectorAll("style, link[rel='stylesheet']");for(let N=0;N<R.length;N+=1){const W=R[N];if(W.tagName==="STYLE"){const q=P.createElement(W.tagName),Z=W.sheet;if(Z){let ne="";for(let J=0;J<Z.cssRules.length;J+=1)typeof Z.cssRules[J].cssText=="string"&&(ne+=`${Z.cssRules[J].cssText}\r
`);q.appendChild(P.createTextNode(ne)),P.head.appendChild(q)}}else if(W.getAttribute("href")){const q=P.createElement(W.tagName);for(let Z=0;Z<W.attributes.length;Z+=1){const ne=W.attributes[Z];ne&&q.setAttribute(ne.nodeName,ne.nodeValue||"")}P.head.appendChild(q)}}}p.contentWindow.print()},[e,r]),u=h.useCallback(p=>{var v,b;r.current.body.removeChild(p),e.current.restoreState(o.current||{}),(v=o.current)!=null&&(b=v.columns)!=null&&b.columnVisibilityModel||e.current.setColumnVisibilityModel(i.current),e.current.unstable_enableVirtualization(),o.current=null,i.current={}},[e]),f={exportDataAsPrint:h.useCallback(async p=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(o.current=e.current.exportState(),i.current=Tn(e),t.pagination){const b=Qf(e);e.current.setPageSize(b)}await l(p==null?void 0:p.fields,p==null?void 0:p.allColumns),e.current.unstable_disableVirtualization(),await zk();const v=a(p==null?void 0:p.fileName);v.onload=()=>{c(v,p),v.contentWindow.matchMedia("print").addEventListener("change",g=>{g.matches===!1&&u(v)})},r.current.body.appendChild(v)},[t,n,e,a,c,u,l])};qe(e,f);const m=h.useCallback((p,v)=>{var b;return(b=v.printOptions)!=null&&b.disableToolbarButton?p:[...p,{component:s.jsx(AP,{options:v.printOptions}),componentName:"printExport"}]},[]);St(e,"exportMenu",m)},Wk=["rowsBeforePartialUpdates"];function Gk(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const wl=(e,t,n)=>{const r=t?t(e):e.id;return Gk(r,e,n),r},Io=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let i=0;i<e.length;i+=1){const l=e[i],a=wl(l,t);o.idRowsLookup[a]=l,o.idToIdLookup[a]=a,o.ids.push(a)}return o},Vm=({apiRef:e,previousTree:t,rowCountProp:n,loadingProp:r})=>{const o=e.current.unstable_caches.rows,i=ye(o,Wk),l=n??0,a=e.current.unstable_applyStrategyProcessor("rowTreeCreation",w({},i,{previousTree:t})),c=e.current.unstable_applyPipeProcessors("hydrateRows",a),u=c.treeDepth===1?c.ids.length:Object.values(c.tree).filter(d=>d.parent==null&&!d.isPinned).length;return w({},c,{groupingResponseBeforeRowHydration:a,loading:r,totalRowCount:Math.max(l,c.ids.length),totalTopLevelRowCount:Math.max(l,u)})},Lm=(e,t,n)=>{var r;const o=(r=e[t])==null?void 0:r.children;if(o==null)return[];const i=[];for(let l=0;l<o.length;l+=1){const a=o[l],c=e[a];(!n||!c.isAutoGenerated)&&i.push(a),i.push(...Lm(e,c.id,n))}return i};function $m(e){var t,n;const r=Ks(e),o=(r==null||(t=r.top)==null?void 0:t.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0,i=(r==null||(n=r.bottom)==null?void 0:n.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0;return{top:o,bottom:i}}const Sl=(e,t)=>{const n=w({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operatorValue==null){const r=ls(t)[n.columnField];n.operatorValue=r&&r.filterOperators[0].value}return n},Uk=cn(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),qk=cn("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),Kk=cn(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),Rm=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?(Uk(),o=[e.items[0]]):o=e.items;const i=r&&o.some(a=>a.id==null),l=o.some(a=>a.operatorValue==null);return i&&qk(),l&&Kk(),l||i?w({},e,{items:o.map(a=>Sl(a,n))}):e.items!==o?w({},e,{items:o}):e},td=(e,t,n)=>r=>w({},r,{filterModel:Rm(e,t,n)}),Nm=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const n=t.current.getColumn(e.columnField);if(!n)return null;let r;if(n.valueParser){var o;const d=n.valueParser;r=Array.isArray(e.value)?(o=e.value)==null?void 0:o.map(f=>d(f)):d(e.value)}else r=e.value;const i=w({},e,{value:r}),l=n.filterOperators;if(!(l!=null&&l.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const a=l.find(d=>d.value===i.operatorValue);if(!a)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${i.operatorValue}'.`);const c=a.getApplyFilterFn(i,n);return typeof c!="function"?null:{fn:d=>{const f=t.current.getCellParams(d,i.columnField);return c(f)},item:i}},Qk=(e,t)=>{const{items:n}=e,r=n.map(o=>Nm(o,t)).filter(o=>!!o);return r.length===0?null:(o,i)=>{const l={};return(i?r.filter(c=>i(c.item.columnField)):r).forEach(c=>{l[c.item.id]=c.fn(o)}),l}},Yk=(e,t)=>{const{quickFilterValues:n=[]}=e;if(n.length===0)return null;const r=ss(t),o={};r.forEach(l=>{const a=t.current.getColumn(l),c=a==null?void 0:a.getApplyQuickFilterFn;c&&(o[l]=n.map(u=>c(u,a,t)))});const i=n.filter((l,a)=>Object.keys(o).some(c=>o[c][a]!=null));return i.length===0?null:(l,a)=>{const c={},u=[];Object.keys(o).forEach(f=>{(!a||a(f))&&(c[f]=t.current.getCellParams(l,f),u.push(f))});const d={};return i.forEach((f,m)=>{const p=u.some(v=>{var b,g;return o[v][m]==null?!1:(b=(g=o[v])[m])==null?void 0:b.call(g,c[v])});d[f]=p}),d}},Xk=(e,t)=>{const n=Qk(e,t),r=Yk(e,t);return(o,i)=>({passingFilterItems:n&&n(o,i),passingQuickFilterValues:r&&r(o,i)})},Zk=(e,t,n,r)=>{var o,i;const l=n.items.filter(f=>Nm(f,r)!==null),a=e.filter(f=>f!=null),c=t.filter(f=>f!=null),u=(o=n.quickFilterLogicOperator)!=null?o:Rs().quickFilterLogicOperator,d=(i=n.linkOperator)!=null?i:Rs().linkOperator;if(a.length>0){const f=m=>a.some(p=>p[m.id]);if(d===Vt.And){if(!l.every(f))return!1}else if(!l.some(f))return!1}if(c.length>0&&n.quickFilterValues!=null){const f=m=>c.some(p=>p[m]);if(u===Vt.And){if(!n.quickFilterValues.every(f))return!1}else if(!n.quickFilterValues.some(f))return!1}return!0},Jk=(e,t,n)=>{var r,o,i,l;const a=(r=(o=t.filterModel)!=null?o:(i=t.initialState)==null||(l=i.filter)==null?void 0:l.filterModel)!=null?r:Rs();return w({},e,{filter:{filterModel:Rm(a,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},eE=(e,t)=>{var n,r,o;const i=gt(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Nt,changeEvent:"filterModelChange"});const l=h.useCallback(()=>{e.current.setState(E=>{const T=Nt(E,e.current.instanceId),V=t.filterMode===Zr.client?Xk(T,e):null,_=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:V,filterModel:T??Rs()});return w({},E,{filter:w({},E.filter,_)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),a=h.useCallback(()=>{l(),e.current.forceUpdate()},[e,l]),c=h.useCallback(E=>{const T=Nt(e),V=[...T.items],_=V.findIndex(z=>z.id===E.id);_===-1?V.push(E):V[_]=E,e.current.setFilterModel(w({},T,{items:V}),"upsertFilterItem")},[e]),u=h.useCallback(E=>{const T=Nt(e),V=[...T.items];E.forEach(_=>{const z=E.findIndex($=>$.id===_.id);z===-1?V.push(_):V[z]=_}),e.current.setFilterModel(w({},T,{items:E}),"upsertFilterItems")},[e]),d=h.useCallback(E=>{const T=Nt(e),V=T.items.filter(_=>_.id!==E.id);V.length!==T.items.length&&e.current.setFilterModel(w({},T,{items:V}),"deleteFilterItem")},[e]),f=h.useCallback(E=>{if(i.debug("Displaying filter panel"),E){const T=Nt(e),V=T.items.filter($=>{var I;if($.value!==void 0)return!0;const L=(I=e.current.getColumn($.columnField).filterOperators)==null?void 0:I.find(R=>R.value===$.operatorValue);return!(typeof(L==null?void 0:L.requiresFilterValue)>"u"?!0:L==null?void 0:L.requiresFilterValue)});let _;V.find($=>$.columnField===E)?_=V:t.disableMultipleColumnsFiltering?_=[Sl({columnField:E},e)]:_=[...V,Sl({columnField:E},e)],e.current.setFilterModel(w({},T,{items:_}))}e.current.showPreferences(sr.filters)},[e,i,t.disableMultipleColumnsFiltering]),m=h.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),p=h.useCallback(E=>{const T=Nt(e);T.linkOperator!==E&&e.current.setFilterModel(w({},T,{linkOperator:E}),"changeLogicOperator")},[e]),v=h.useCallback(E=>{const T=Nt(e);On(T.quickFilterValues,E)||e.current.setFilterModel(w({},T,{quickFilterValues:[...E]}))},[e]),b=h.useCallback((E,T)=>{Nt(e)!==E&&(i.debug("Setting filter model"),e.current.unstable_updateControlState("filter",td(E,t.disableMultipleColumnsFiltering,e),T),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),g=h.useCallback(()=>{const E=Ln(e);return new Map(E.map(T=>[T.id,T.model]))},[e]);qe(e,{setFilterLinkOperator:p,unstable_applyFilters:a,deleteFilterItem:d,upsertFilterItem:c,upsertFilterItems:u,setFilterModel:b,showFilterPanel:f,hideFilterPanel:m,getVisibleRowModels:g,setQuickFilterValues:v});const P=h.useCallback((E,T)=>{var V,_;const z=Nt(e);return!T.exportOnlyDirtyModels||t.filterModel!=null||((V=t.initialState)==null||(_=V.filter)==null?void 0:_.filterModel)!=null||!On(z,Rs())?w({},E,{filter:{filterModel:z}}):E},[e,t.filterModel,(n=t.initialState)==null||(r=n.filter)==null?void 0:r.filterModel]),y=h.useCallback((E,T)=>{var V;const _=(V=T.stateToRestore.filter)==null?void 0:V.filterModel;return _==null?E:(e.current.unstable_updateControlState("filter",td(_,t.disableMultipleColumnsFiltering,e),"restoreState"),w({},E,{callbacks:[...E.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),x=h.useCallback((E,T)=>{if(T===sr.filters){var V;const _=t.components.FilterPanel;return s.jsx(_,w({},(V=t.componentsProps)==null?void 0:V.filterPanel))}return E},[t.components.FilterPanel,(o=t.componentsProps)==null?void 0:o.filterPanel]),j=h.useCallback(E=>{if(t.filterMode===Zr.client&&E.isRowMatchingFilters){const T=vr(e),V={};for(let _=0;_<T.length;_+=1){const z=T[_];let $;if(typeof z=="string"&&z.startsWith("auto-generated-group-footer"))$=!0;else{const{passingFilterItems:I,passingQuickFilterValues:A}=E.isRowMatchingFilters(z);$=Zk([I],[A],E.filterModel,e)}V[z]=$}return{filteredRowsLookup:V,visibleRowsLookup:V,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);St(e,"exportState",P),St(e,"restoreState",y),St(e,"preferencePanel",x),Va(e,to,"filtering",j);const O=h.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const E=Nt(e),T=Sw(e),V=E.items.filter(_=>_.columnField&&T[_.columnField]);V.length<E.items.length&&e.current.setFilterModel(w({},E,{items:V}))},[e,i]),k=h.useCallback(E=>{E==="filtering"&&e.current.unstable_applyFilters()},[e]);de(e,"rowsSet",l),de(e,"rowExpansionChange",e.current.unstable_applyFilters),de(e,"columnsChange",O),de(e,"activeStrategyProcessorChange",k),eo(()=>{e.current.unstable_applyFilters()}),h.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},tE=e=>w({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),nE=(e,t)=>{const n=gt(e,"useGridFocus"),r=h.useRef(null),o=h.useCallback((g,C)=>{g&&e.current.getRow(g.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(g.id,g.field),C)},[e]),i=h.useCallback((g,C)=>{const P=on(e);(P==null?void 0:P.id)===g&&(P==null?void 0:P.field)===C||(e.current.setState(y=>(n.debug(`Focusing on cell with id=${g} and field=${C}`),w({},y,{tabIndex:{cell:{id:g,field:C},columnHeader:null},focus:{cell:{id:g,field:C},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(g)&&(P&&o(P,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(g,C))))},[e,n,o]),l=h.useCallback((g,C={})=>{const P=on(e);o(P,C),e.current.setState(y=>(n.debug(`Focusing on column header with colIndex=${g}`),w({},y,{tabIndex:{columnHeader:{field:g},cell:null},focus:{columnHeader:{field:g},cell:null}}))),e.current.forceUpdate()},[e,n,o]),a=h.useCallback((g,C,P)=>{let y=e.current.getColumnIndex(C),x=e.current.getRowIndexRelativeToVisibleRows(g);const j=Et(e);P==="right"?y+=1:P==="left"?y-=1:x+=1;const O=Si(e,{pagination:t.pagination,paginationMode:t.paginationMode});y>=j.length?(x+=1,x<O.rows.length&&(y=0)):y<0&&(x-=1,x>=0&&(y=j.length-1)),x=os(x,0,O.rows.length-1);const k=O.rows[x],E=e.current.unstable_getCellColSpanInfo(k.id,y);E&&E.spannedByColSpan&&(P==="left"||P==="below"?y=E.leftVisibleCellIndex:P==="right"&&(y=E.rightVisibleCellIndex)),y=os(y,0,j.length-1);const T=j[y];e.current.setCellFocus(k.id,T.field)},[e,t.pagination,t.paginationMode]),c=h.useCallback(({id:g,field:C})=>{e.current.setCellFocus(g,C)},[e]),u=h.useCallback((g,C)=>{C.key==="Enter"||C.key==="Tab"||Zs(C.key)||e.current.setCellFocus(g.id,g.field)},[e]),d=h.useCallback(({field:g},C)=>{C.target===C.currentTarget&&e.current.setColumnHeaderFocus(g,C)},[e]),f=h.useCallback(()=>{n.debug("Clearing focus"),e.current.setState(g=>w({},g,{focus:{cell:null,columnHeader:null}}))},[n,e]),m=h.useCallback(g=>{r.current=g},[]),p=h.useCallback(g=>{const C=r.current;r.current=null;const P=on(e);if(!P){C&&e.current.setCellFocus(C.id,C.field);return}if((C==null?void 0:C.id)===P.id&&(C==null?void 0:C.field)===P.field)return;const y=e.current.getCellElement(P.id,P.field);y!=null&&y.contains(g.target)||(C?e.current.setCellFocus(C.id,C.field):(e.current.setState(x=>w({},x,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),o(P,g)))},[e,o]),v=h.useCallback(g=>{if(g.cellMode==="view")return;const C=on(e);((C==null?void 0:C.id)!==g.id||(C==null?void 0:C.field)!==g.field)&&e.current.setCellFocus(g.id,g.field)},[e]),b=h.useCallback(()=>{const g=on(e);g&&!e.current.getRow(g.id)&&e.current.setState(C=>w({},C,{focus:{cell:null,columnHeader:null}}))},[e]);qe(e,{setCellFocus:i,setColumnHeaderFocus:l,unstable_moveFocusToRelativeCell:a}),h.useEffect(()=>{const g=ni(e.current.rootElementRef.current);return g.addEventListener("click",p),()=>{g.removeEventListener("click",p)}},[e,p]),de(e,"columnHeaderBlur",f),de(e,"cellDoubleClick",c),de(e,"cellMouseDown",m),de(e,"cellKeyDown",u),de(e,"cellModeChange",v),de(e,"columnHeaderFocus",d),de(e,"rowsSet",b)};function rE(e,t){const n=Ks(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const sE=(e,t)=>{const n=gt(e,"useGridKeyboardNavigation"),r=Ar(e,t).rows,o=h.useMemo(()=>rE(e,r),[e,r]),i=h.useCallback((f,m,p="left")=>{const v=Ln(e),b=e.current.unstable_getCellColSpanInfo(m,f);b&&b.spannedByColSpan&&(p==="left"?f=b.leftVisibleCellIndex:p==="right"&&(f=b.rightVisibleCellIndex));const g=v.findIndex(P=>P.id===m);n.debug(`Navigating to cell row ${g}, col ${f}`),e.current.scrollToIndexes({colIndex:f,rowIndex:g});const C=e.current.getVisibleColumns()[f].field;e.current.setCellFocus(m,C)},[e,n]),l=h.useCallback((f,m)=>{n.debug(`Navigating to header col ${f}`),e.current.scrollToIndexes({colIndex:f});const p=e.current.getVisibleColumns()[f].field;e.current.setColumnHeaderFocus(p,m)},[e,n]),a=h.useCallback(f=>o[f].id,[o]),c=h.useCallback((f,m)=>{const p=e.current.getRootDimensions();if(o.length===0||!p)return;const v=e.current.unstable_getViewportPageSize(),b=f.field?e.current.getColumnIndex(f.field):0,g=o.findIndex(O=>O.id===f.id),C=0,P=o.length-1,y=0,x=Et(e).length-1;let j=!0;switch(m.key){case"ArrowDown":case"Enter":{g<P&&i(b,a(g+1));break}case"ArrowUp":{g>C?i(b,a(g-1)):l(b,m);break}case"ArrowRight":{b<x&&i(b+1,a(g),"right");break}case"ArrowLeft":{b>y&&i(b-1,a(g));break}case"Tab":{m.shiftKey&&b>y?i(b-1,a(g),"left"):!m.shiftKey&&b<x&&i(b+1,a(g),"right");break}case" ":{if(f.field===Oa)break;const k=f.colDef;if(k&&k.type==="treeDataGroup")break;!m.shiftKey&&g<P&&i(b,a(Math.min(g+v,P)));break}case"PageDown":{g<P&&i(b,a(Math.min(g+v,P)));break}case"PageUp":{const O=Math.max(g-v,C);O!==g&&O>=C?i(b,a(O)):l(b,m);break}case"Home":{m.ctrlKey||m.metaKey||m.shiftKey?i(y,a(C)):i(y,a(g));break}case"End":{m.ctrlKey||m.metaKey||m.shiftKey?i(x,a(P)):i(x,a(g));break}default:j=!1}j&&m.preventDefault()},[e,o,i,l,a]),u=h.useCallback((f,m)=>{const p=m.currentTarget.querySelector(`.${G.columnHeaderTitleContainerContent}`);if(!!p&&p.contains(m.target)&&f.field!==Js.field||!e.current.getRootDimensions())return;const g=e.current.unstable_getViewportPageSize(),C=f.field?e.current.getColumnIndex(f.field):0,P=0,y=o.length-1,x=0,j=Et(e).length-1;let O=!0;switch(m.key){case"ArrowDown":{i(C,a(P));break}case"ArrowRight":{C<j&&l(C+1,m);break}case"ArrowLeft":{C>x&&l(C-1,m);break}case"PageDown":{y!==null&&i(C,a(Math.min(P+g,y)));break}case"Home":{l(x,m);break}case"End":{l(j,m);break}case"Enter":{(m.ctrlKey||m.metaKey)&&e.current.toggleColumnMenu(f.field);break}case" ":break;default:O=!1}O&&m.preventDefault()},[e,o,i,l,a]),d=h.useCallback((f,m)=>{if(!m.currentTarget.contains(m.target))return;const p=e.current.getCellParams(f.id,f.field);p.cellMode!==Ve.Edit&&Zs(m.key)&&e.current.publishEvent("cellNavigationKeyDown",p,m)},[e]);de(e,"cellNavigationKeyDown",c),de(e,"columnHeaderKeyDown",u),de(e,"cellKeyDown",d)},zm=e=>e?0:100,nd=e=>t=>w({},t,{pagination:w({},t.pagination,{pageSize:e})}),oE=(e,t)=>{var n,r;const o=gt(e,"useGridPageSize"),i=xe(e,Ys);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:As,changeEvent:"pageSizeChange"});const a={setPageSize:h.useCallback(f=>{f!==As(e)&&(o.debug(`Setting page size to ${f}`),e.current.setState(nd(f)),e.current.forceUpdate())},[e,o])};qe(e,a);const c=h.useCallback((f,m)=>{var p,v;const b=As(e);return!m.exportOnlyDirtyModels||t.pageSize!=null||((p=t.initialState)==null||(v=p.pagination)==null?void 0:v.pageSize)!=null||b!==zm(t.autoPageSize)?w({},f,{pagination:w({},f.pagination,{pageSize:b})}):f},[e,t.pageSize,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize,t.autoPageSize]),u=h.useCallback((f,m)=>{var p;const v=(p=m.stateToRestore.pagination)==null?void 0:p.pageSize;return v!=null&&e.current.setState(nd(v)),f},[e]);St(e,"exportState",c),St(e,"restoreState",u);const d=h.useCallback(()=>{const f=e.current.getRootDimensions();if(!t.autoPageSize||!f)return;const m=$m(e),p=Math.floor((f.viewportInnerSize.height-m.top-m.bottom)/i);e.current.setPageSize(p)},[e,t.autoPageSize,i]);de(e,"viewportInnerSizeChange",d),h.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),h.useEffect(()=>{d()},[d])},jl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,Pl=e=>e.pageCount?w({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,rd=e=>t=>w({},t,{pagination:Pl(w({},t.pagination,{page:e}))});cn(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const iE=(e,t)=>{var n,r;const o=gt(e,"useGridPage"),i=xe(e,Yf);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:ys,changeEvent:"pageChange"});const a={setPage:h.useCallback(m=>{o.debug(`Setting page to ${m}`),e.current.setState(rd(m)),e.current.forceUpdate()},[e,o])};qe(e,a);const c=h.useCallback((m,p)=>{var v,b;const g=ys(e);return!p.exportOnlyDirtyModels||t.page!=null||((v=t.initialState)==null||(b=v.pagination)==null?void 0:b.page)!=null||g!==0?w({},m,{pagination:w({},m.pagination,{page:g})}):m},[e,t.page,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.page]),u=h.useCallback((m,p)=>{var v,b;const g=(v=(b=p.stateToRestore.pagination)==null?void 0:b.page)!=null?v:ys(e);return e.current.setState(rd(g)),m},[e]);St(e,"exportState",c),St(e,"restoreState",u);const d=m=>{e.current.setState(p=>{const v=jl(p.pagination.rowCount,m);return w({},p,{pagination:Pl(w({},p.pagination,{pageCount:v,page:p.pagination.page}))})}),e.current.forceUpdate()},f=()=>e.current.scrollToIndexes({rowIndex:ys(e)*As(e)});de(e,"pageSizeChange",d),de(e,"pageChange",f),h.useEffect(()=>{},[t.rowCount,t.paginationMode]),h.useEffect(()=>{e.current.setState(m=>{const p=t.rowCount!==void 0?t.rowCount:i,v=jl(p,m.pagination.pageSize),b=t.page==null?m.pagination.page:t.page;return w({},m,{pagination:Pl(w({},m.pagination,{page:b,rowCount:p,pageCount:v}))})}),e.current.forceUpdate()},[i,t.rowCount,t.page,t.paginationMode,e])},lE=(e,t)=>{var n,r,o,i,l,a,c,u;let d;return t.pageSize!=null?d=t.pageSize:((n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize)!=null?d=t.initialState.pagination.pageSize:d=zm(t.autoPageSize),w({},e,{pagination:{pageSize:d,page:(o=(i=t.page)!=null?i:(l=t.initialState)==null||(a=l.pagination)==null?void 0:a.page)!=null?o:0,pageCount:jl((c=t.rowCount)!=null?c:0,d),rowCount:(u=t.rowCount)!=null?u:0}})},aE=(e,t)=>{oE(e,t),iE(e,t)},cE=(e,t)=>{var n,r;return w({},e,{preferencePanel:(n=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?n:{open:!1}})},uE=(e,t)=>{var n;const r=gt(e,"useGridPreferencesPanel"),o=h.useRef(),i=h.useRef(),l=h.useCallback(()=>{r.debug("Hiding Preferences Panel");const m=Zo(e.current.state);m.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:m.openedPanelValue}),e.current.setState(p=>w({},p,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),a=h.useCallback(()=>{i.current=setTimeout(()=>clearTimeout(o.current),0)},[]),c=h.useCallback(()=>{o.current=setTimeout(l,100)},[l]),u=h.useCallback(m=>{r.debug("Opening Preferences Panel"),a(),e.current.setState(p=>w({},p,{preferencePanel:w({},p.preferencePanel,{open:!0,openedPanelValue:m})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:m}),e.current.forceUpdate()},[r,a,e]);qe(e,{showPreferences:u,hidePreferences:c});const d=h.useCallback((m,p)=>{var v;const b=Zo(e.current.state);return!p.exportOnlyDirtyModels||((v=t.initialState)==null?void 0:v.preferencePanel)!=null||b.open?w({},m,{preferencePanel:b}):m},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),f=h.useCallback((m,p)=>{const v=p.stateToRestore.preferencePanel;return v!=null&&e.current.setState(b=>w({},b,{preferencePanel:v})),m},[e]);St(e,"exportState",d),St(e,"restoreState",f),h.useEffect(()=>()=>{clearTimeout(o.current),clearTimeout(i.current)},[])},it=e=>e.editRows;function sd(e){return typeof e.then=="function"}const dE=(e,t)=>{var n;const r=gt(e,"useGridEditRows"),o=y=>(...x)=>{t.editMode===kt.Cell&&y(...x)},i=h.useCallback((y,x,j)=>{e.current.getCellMode(y,x)!==j&&(r.debug(`Switching cell id: ${y} field: ${x} to mode: ${j}`),e.current.setState(O=>{const k=w({},O.editRows);return k[y]=w({},k[y]),j===Ve.Edit?k[y][x]={value:e.current.getCellValue(y,x)}:(delete k[y][x],Object.keys(k[y]).length||delete k[y]),w({},O,{editRows:k})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(y,x)))},[e,r]),l=h.useCallback((y,x)=>{const j=it(e.current.state);return j[y]&&j[y][x]?Ve.Edit:Ve.View},[e]),a=h.useCallback((y,x={})=>{var j;const{id:O,field:k}=y;e.current.unstable_runPendingEditCellValueMutation(O,k);const E=e.current.getEditRowsModel();if(!E[O]||!E[O][k])throw new Error(`MUI: Cell at id: ${O} and field: ${k} is not in edit mode.`);const T=E[O][k],V=e.current.getColumn(k),_=e.current.getRow(O);if((j=t.experimentalFeatures)!=null&&j.preventCommitWhileValidating){const I=E[O][k];if(I.isValidating||I.error)return!1}const z=w({},y,{value:T.value});let $=!!T.error;if(!$&&typeof V.preProcessEditCellProps=="function"){const I=V.preProcessEditCellProps({id:O,row:_,props:T});if(sd(I))return I.then(A=>(e.current.unstable_setEditCellProps({id:O,field:k,props:A}),A.error?!1:(e.current.publishEvent("cellEditCommit",z,x),!0)));e.current.unstable_setEditCellProps({id:O,field:k,props:I}),$=!!I.error}return $?!1:(e.current.publishEvent("cellEditCommit",z,x),!0)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),c=h.useCallback(y=>{const x=e.current.getColumn(y.field),j=e.current.getRow(y.id);return new Promise(O=>{let k={value:y.value};const T=e.current.getEditRowsModel()[y.id][y.field];if(typeof x.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(w({},y,{props:k})),O(!0);return}k=e.current.unstable_setEditCellProps(w({},y,{props:w({},T,{isValidating:!0})})),Promise.resolve(x.preProcessEditCellProps({id:y.id,row:j,props:w({},k,{value:e.current.unstable_parseValue(y.id,y.field,y.value)})})).then(V=>{e.current.unstable_setEditCellProps(w({},y,{props:w({},V,{isValidating:!1})})),O(!V.error)})})},[e]);qe(e,{setCellMode:i,getCellMode:l,commitCellChange:a,unstable_setCellEditingEditCellValue:c});const d=h.useCallback(async(y,x)=>{if(x.which===229)return;const{id:j,field:O,cellMode:k,isEditable:E}=y;if(!E)return;const T=k===Ve.Edit,V=x.ctrlKey||x.metaKey||x.altKey;if(!T&&FS(x)&&!V&&!(x.key===" "&&x.shiftKey)&&e.current.publishEvent("cellEditStart",y,x),!T&&bl(x.key)&&(e.current.setEditCellValue({id:j,field:O,value:""}),e.current.commitCellChange({id:j,field:O},x),e.current.publishEvent("cellEditStop",y,x)),T&&Nu(x.key)){const _={id:j,field:O};if(!await e.current.commitCellChange(_,x))return}T&&TS(x.key)&&e.current.publishEvent("cellEditStop",y,x)},[e]),f=h.useCallback((y,x)=>{y.isEditable&&e.current.publishEvent("cellEditStart",y,x)},[e]),m=async(y,x)=>{y.cellMode!==Ve.View&&(await e.current.commitCellChange(y,x),e.current.publishEvent("cellEditStop",y,x))},p=ln((y,x)=>{m(y,x)}),v=ln(()=>{const y=on(e);if(!y)return;const x=e.current.getCellParams(y.id,y.field);m(x,{})}),b=h.useCallback((y,x)=>{y.isEditable&&(e.current.setCellMode(y.id,y.field,Ve.Edit),yl(x)&&Ci(x)&&e.current.unstable_setEditCellProps({id:y.id,field:y.field,props:{value:""}}))},[e]),g=h.useCallback((y,x)=>{if(e.current.setCellMode(y.id,y.field,Ve.View),!!yl(x)){if(Nu(x.key)){e.current.publishEvent("cellNavigationKeyDown",y,x);return}(x.key==="Escape"||bl(x.key))&&e.current.setCellFocus(y.id,y.field)}},[e]),C=h.useCallback(y=>{const{id:x,field:j}=y,O=e.current.getEditRowsModel(),{value:k}=O[x][j];r.debug(`Setting cell id: ${x} field: ${j} to value: ${k==null?void 0:k.toString()}`);const E=e.current.getRow(x);if(E){const T=e.current.getColumn(y.field);let V=w({},E,{[j]:k});T.valueSetter&&(V=T.valueSetter({row:E,value:k})),e.current.updateRows([V])}},[e,r]),P=h.useCallback(y=>{const x=e.current.getRow(y.id),j=e.current.getColumn(y.field),O=j.preProcessEditCellProps?j.preProcessEditCellProps({id:y.id,row:x,props:y.props}):y.props;sd(O)?O.then(k=>{e.current.unstable_setEditCellProps(w({},y,{props:k}))}):e.current.unstable_setEditCellProps(w({},y,{props:O}))},[e]);de(e,"cellKeyDown",o(d)),de(e,"cellDoubleClick",o(f)),de(e,"cellFocusOut",o(p)),de(e,"columnHeaderDragStart",o(v)),de(e,"cellEditStart",o(b)),de(e,"cellEditStop",o(g)),de(e,"cellEditCommit",o(C)),de(e,"editCellPropsChange",o(P)),Re(e,"cellEditCommit",t.onCellEditCommit),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop)},hE=(e,t)=>{var n,r;const o=h.useRef(null),i=h.useRef(null),l=xe(e,an),a=k=>(...E)=>{t.editMode===kt.Row&&k(...E)},c=h.useCallback((k,E)=>{E!==e.current.getRowMode(k)&&(e.current.setState(T=>{const V=w({},T.editRows);return E===We.Edit?(V[k]={},l.forEach(_=>{const z=e.current.getCellParams(k,_.field);z.isEditable&&(V[k][_.field]={value:z.value})})):delete V[k],w({},T,{editRows:V})}),e.current.forceUpdate())},[e,l]),u=h.useCallback(k=>t.editMode===kt.Cell?We.View:it(e.current.state)[k]?We.Edit:We.View,[e,t.editMode]),d=h.useCallback((k,E={})=>{var T;if(t.editMode===kt.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(k);const _=e.current.getEditRowsModel()[k];if(!_)throw new Error(`MUI: Row at id: ${k} is not being edited.`);if((T=t.experimentalFeatures)!=null&&T.preventCommitWhileValidating&&!Object.keys(_).reduce((A,L)=>A&&!_[L].isValidating&&!_[L].error,!0)||Object.values(_).some(I=>!!I.error))return!1;const $=Object.keys(_).filter(I=>typeof e.current.getColumn(I).preProcessEditCellProps=="function");if($.length>0){const I=e.current.getRow(k),A=$.map(async L=>{const H=e.current.getColumn(L),R=await Promise.resolve(H.preProcessEditCellProps({id:k,row:I,props:_[L]}));return e.current.unstable_setEditCellProps({id:k,field:L,props:R}),R.error});return Promise.all(A).then(L=>L.some(H=>!!H)?!1:(e.current.publishEvent("rowEditCommit",k,E),!0))}return e.current.publishEvent("rowEditCommit",k,E),!0},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),f=h.useCallback(k=>{const T=e.current.getEditRowsModel()[k.id],V=e.current.getRow(k.id);let _=!0;return new Promise(z=>{Object.keys(T).forEach(async $=>{const I=e.current.getColumn($);let A=$===k.field?{value:k.value}:T[$];A=e.current.unstable_setEditCellProps({id:k.id,field:$,props:w({},A,{isValidating:!0})}),I.preProcessEditCellProps&&(A=await Promise.resolve(I.preProcessEditCellProps({id:k.id,row:V,props:w({},A,{value:$===k.field?e.current.unstable_parseValue(k.id,$,k.value):A.value})}))),A.error&&(_=!1),e.current.unstable_setEditCellProps({id:k.id,field:$,props:w({},A,{isValidating:!1})})}),z(_)})},[e]);qe(e,{setRowMode:c,getRowMode:u,commitRowChange:d,unstable_setRowEditingEditCellValue:f});const p=h.useCallback(async(k,E)=>{if(E.which===229)return;const{cellMode:T,isEditable:V}=k;if(!V)return;const _=T===Ve.Edit,z=e.current.getRowParams(k.id);if(_)if(E.key==="Enter"){var $;if(!await e.current.commitRowChange(k.id)&&($=t.experimentalFeatures)!=null&&$.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",z,E)}else E.key==="Escape"&&e.current.publishEvent("rowEditStop",z,E);else E.key==="Enter"&&e.current.publishEvent("rowEditStart",z,E)},[e,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),v=h.useCallback((k,E)=>{if(!k.isEditable)return;const T=e.current.getRowParams(k.id);e.current.publishEvent("rowEditStart",T,E)},[e]),b=h.useCallback(k=>{const E=e.current.getRow(k.id),V=e.current.getEditRowsModel()[k.id];Object.keys(V).forEach(async _=>{const z=e.current.getColumn(_);if(z.preProcessEditCellProps){const $=_===k.field?k.props:V[_],I=await Promise.resolve(z.preProcessEditCellProps({id:k.id,row:E,props:$}));e.current.unstable_setEditCellProps({id:k.id,field:_,props:I})}else _===k.field&&e.current.unstable_setEditCellProps(k)})},[e]),g=h.useCallback(k=>{e.current.setRowMode(k.id,We.Edit)},[e]),C=h.useCallback((k,E)=>{e.current.setRowMode(k.id,We.View),E.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",k,E)},[e]),P=h.useCallback(k=>{const T=e.current.getEditRowsModel()[k];if(!T)throw new Error(`MUI: Row at id: ${k} is not being edited.`);const V=e.current.getRow(k);if(V){let _=w({},V);Object.keys(T).forEach(z=>{const $=e.current.getColumn(z),I=T[z].value;$.valueSetter?_=$.valueSetter({row:_,value:I}):_[z]=I}),e.current.updateRows([_])}},[e]),y=h.useCallback(k=>{i.current=k},[]),x=async(k,E)=>{k.cellMode!==Ve.View&&(i.current=null,o.current=setTimeout(async()=>{var T;if(((T=i.current)==null?void 0:T.id)!==k.id){await e.current.commitRowChange(k.id,E);const V=e.current.getRowParams(k.id);e.current.publishEvent("rowEditStop",V,E)}}))},j=ln((k,E)=>{x(k,E)}),O=ln(()=>{const k=on(e);if(!k)return;const E=e.current.getCellParams(k.id,k.field);x(E,{})});de(e,"cellKeyDown",a(p)),de(e,"cellDoubleClick",a(v)),de(e,"editCellPropsChange",a(b)),de(e,"rowEditStart",a(g)),de(e,"rowEditStop",a(C)),de(e,"rowEditCommit",a(P)),de(e,"cellFocusIn",a(y)),de(e,"cellFocusOut",a(j)),de(e,"columnHeaderDragStart",a(O)),Re(e,"rowEditCommit",t.onRowEditCommit),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop)},fE=e=>w({},e,{editRows:{}});function mE(e,t){var n;const r=gt(e,"useGridEditRows");dE(e,t),hE(e,t);const o=h.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:it,changeEvent:"editRowsModelChange"});const i=h.useCallback(b=>!b.rowNode.isAutoGenerated&&!b.rowNode.isPinned&&!!b.colDef.editable&&!!b.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(b)),[t.isCellEditable]),l=(b,g,C,P)=>{if(!C){P();return}if(o.current[b]||(o.current[b]={}),o.current[b][g]){const[j]=o.current[b][g];clearTimeout(j)}const y=()=>{P();const[j]=o.current[b][g];clearTimeout(j),delete o.current[b][g]},x=setTimeout(()=>{P(),delete o.current[b][g]},C);o.current[b][g]=[x,y]},a=h.useCallback((b,g)=>{if(o.current[b]){if(!g)Object.keys(o.current[b]).forEach(C=>{const[,P]=o.current[b][C];P()});else if(o.current[b][g]){const[,C]=o.current[b][g];C()}}},[]),c=h.useCallback((b,g={})=>{l(b.id,b.field,b.debounceMs,()=>{var C;if((C=t.experimentalFeatures)!=null&&C.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(b):e.current.unstable_setCellEditingEditCellValue(b);const P={id:b.id,field:b.field,props:{value:b.value}};return e.current.publishEvent("editCellPropsChange",P,g)})},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),u=h.useCallback((b,g,C)=>{const P=e.current.getColumn(g);return P.valueParser?P.valueParser(C,e.current.getCellParams(b,g)):C},[e]),d=h.useCallback(b=>{const{id:g,field:C,props:P}=b;return r.debug(`Setting cell props on id: ${g} field: ${C}`),e.current.setState(x=>{const j=w({},x.editRows);return j[g]=w({},x.editRows[g]),j[g][C]=w({},P,{value:u(g,C,P.value)}),w({},x,{editRows:j})}),e.current.forceUpdate(),it(e.current.state)[g][C]},[e,r,u]),f=h.useCallback(b=>{it(e.current.state)!==b&&(r.debug("Setting editRows model"),e.current.setState(C=>w({},C,{editRows:b})),e.current.forceUpdate())},[e,r]),m=h.useCallback(()=>it(e.current.state),[e]),p=h.useCallback((b,g)=>{const C=g.detail>1;b.isEditable&&b.cellMode===Ve.View&&C&&g.preventDefault()},[]);de(e,"cellMouseDown",p),Re(e,"editCellPropsChange",t.onEditCellPropsChange),qe(e,{isCellEditable:i,setEditRowsModel:f,getEditRowsModel:m,setEditCellValue:c,unstable_setEditCellProps:d,unstable_parseValue:u,unstable_runPendingEditCellValueMutation:a}),h.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const gE=["id","field"],pE=["id","field"],xE=cn(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),bE=(e,t)=>{const[n,r]=h.useState({}),o=h.useRef(n),i=h.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u,signature:d}=t,f=I=>(...A)=>{t.editMode===kt.Cell&&I(...A)},m=h.useCallback((I,A)=>{const L=e.current.getCellParams(I,A);if(!e.current.isCellEditable(L))throw new Error(`MUI: The cell with id=${I} and field=${A} is not editable.`)},[e]),p=h.useCallback((I,A,L)=>{if(e.current.getCellMode(I,A)!==L)throw new Error(`MUI: The cell with id=${I} and field=${A} is not in ${L} mode.`)},[e]),v=h.useCallback((I,A)=>{if(!I.isEditable||I.cellMode===Ve.Edit)return;const L=w({},I,{reason:kn.cellDoubleClick});e.current.publishEvent("cellEditStart",L,A)},[e]),b=h.useCallback((I,A)=>{if(I.cellMode===Ve.View||e.current.getCellMode(I.id,I.field)===Ve.View)return;const L=w({},I,{reason:mn.cellFocusOut});e.current.publishEvent("cellEditStop",L,A)},[e]),g=h.useCallback((I,A)=>{if(I.cellMode===Ve.Edit){if(A.which===229)return;let L;if(A.key==="Escape"?L=mn.escapeKeyDown:A.key==="Enter"?L=mn.enterKeyDown:A.key==="Tab"&&(L=A.shiftKey?mn.shiftTabKeyDown:mn.tabKeyDown,A.preventDefault()),L){const H=w({},I,{reason:L});e.current.publishEvent("cellEditStop",H,A)}}else if(I.isEditable){let L;if(A.key===" "&&A.shiftKey)return;if(Ci(A)||(A.ctrlKey||A.metaKey)&&A.key==="v"?L=kn.printableKeyDown:A.key==="Enter"?L=kn.enterKeyDown:(A.key==="Delete"||A.key==="Backspace")&&(L=kn.deleteKeyDown),L){const H=w({},I,{reason:L,key:A.key});e.current.publishEvent("cellEditStart",H,A)}}},[e]),C=h.useCallback(I=>{const{id:A,field:L,reason:H,key:R}=I,N={id:A,field:L};H===kn.printableKeyDown?h.version.startsWith("18")?N.initialValue=R:N.deleteValue=!0:H===kn.deleteKeyDown&&(N.deleteValue=!0),e.current.startCellEditMode(N)},[e]),P=h.useCallback(I=>{const{id:A,field:L,reason:H}=I;e.current.unstable_runPendingEditCellValueMutation(A,L);let R;H===mn.enterKeyDown?R="below":H===mn.tabKeyDown?R="right":H===mn.shiftTabKeyDown&&(R="left");let N=H==="escapeKeyDown";it(e.current.state)[A][L].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(N=!0),e.current.stopCellEditMode({id:A,field:L,ignoreModifications:N,cellToFocusAfter:R})},[e,t.disableIgnoreModificationsIfProcessingProps]);de(e,"cellDoubleClick",f(v)),de(e,"cellFocusOut",f(b)),de(e,"cellKeyDown",f(g)),de(e,"cellEditStart",f(C)),de(e,"cellEditStop",f(P)),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop);const y=h.useCallback((I,A)=>{const L=it(e.current.state);return L[I]&&L[I][A]?Ve.Edit:Ve.View},[e]),x=ln(I=>{const A=I!==t.cellModesModel;if(u&&A){const L=d===ir.DataGridPro?{api:e.current}:{};u(I,L)}t.cellModesModel&&A||(r(I),o.current=I,e.current.publishEvent("cellModesModelChange",I))}),j=h.useCallback((I,A,L)=>{const H=w({},o.current);if(L!==null)H[I]=w({},H[I],{[A]:w({},L)});else{const R=H[I],N=ye(R,[A].map(Os));H[I]=N,Object.keys(H[I]).length===0&&delete H[I]}x(H)},[x]),O=h.useCallback((I,A,L)=>{e.current.setState(H=>{const R=w({},H.editRows);return L!==null?R[I]=w({},R[I],{[A]:w({},L)}):(delete R[I][A],Object.keys(R[I]).length===0&&delete R[I]),w({},H,{editRows:R})}),e.current.forceUpdate()},[e]),k=h.useCallback(I=>{const{id:A,field:L}=I,H=ye(I,gE);m(A,L),p(A,L,Ve.View),j(A,L,w({mode:Ve.Edit},H))},[m,p,j]),E=ln(I=>{const{id:A,field:L,deleteValue:H,initialValue:R}=I;let N=e.current.getCellValue(A,L);(H||R)&&(N=H?"":R),O(A,L,{value:N,error:!1,isProcessingProps:!1}),e.current.setCellFocus(A,L)}),T=h.useCallback(I=>{const{id:A,field:L}=I,H=ye(I,pE);p(A,L,Ve.Edit),j(A,L,w({mode:Ve.View},H))},[p,j]),V=ln(async I=>{const{id:A,field:L,ignoreModifications:H,cellToFocusAfter:R="none"}=I;p(A,L,Ve.Edit),e.current.unstable_runPendingEditCellValueMutation(A,L);const N=()=>{O(A,L,null),j(A,L,null),R!=="none"&&e.current.unstable_moveFocusToRelativeCell(A,L,R)};if(H){N();return}const W=it(e.current.state),{error:q,isProcessingProps:Z}=W[A][L];if(q||Z){i.current[A][L].mode=Ve.Edit,j(A,L,{mode:Ve.Edit});return}const ne=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(A,L);if(l){const J=fe=>{i.current[A][L].mode=Ve.Edit,j(A,L,{mode:Ve.Edit}),a?a(fe):xE()};try{const fe=e.current.getRow(A);Promise.resolve(l(ne,fe)).then(le=>{e.current.updateRows([le]),N()}).catch(J)}catch(fe){J(fe)}}else e.current.updateRows([ne]),N()}),_=h.useCallback(async I=>{var A,L;const{id:H,field:R,value:N,debounceMs:W,unstable_skipValueParser:q}=I;m(H,R),p(H,R,Ve.Edit);const Z=e.current.getColumn(R),ne=e.current.getRow(H);let J=N;Z.valueParser&&!q&&(J=Z.valueParser(N,e.current.getCellParams(H,R)));let fe=it(e.current.state),le=w({},fe[H][R],{value:J,changeReason:W?"debouncedSetEditCellValue":"setEditCellValue"});if(Z.preProcessEditCellProps){const pe=N!==fe[H][R].value;le=w({},le,{isProcessingProps:!0}),O(H,R,le),le=await Promise.resolve(Z.preProcessEditCellProps({id:H,row:ne,props:le,hasChanged:pe}))}return e.current.getCellMode(H,R)===Ve.View?!1:(fe=it(e.current.state),le=w({},le,{isProcessingProps:!1}),le.value=Z.preProcessEditCellProps?fe[H][R].value:J,O(H,R,le),fe=it(e.current.state),!((A=fe[H])!=null&&(L=A[R])!=null&&L.error))},[e,m,p,O]),z=h.useCallback((I,A)=>{const L=e.current.getColumn(A),H=it(e.current.state),{value:R}=H[I][A],N=e.current.getRow(I);return L.valueSetter?L.valueSetter({value:R,row:N}):w({},N,{[A]:R})},[e]);qe(e,{getCellMode:y,startCellEditMode:k,stopCellEditMode:T,unstable_setCellEditingEditCellValue:_,unstable_getRowWithUpdatedValuesFromCellEditing:z}),h.useEffect(()=>{c&&x(c)},[c,x]),h.useEffect(()=>{const I=Ca(e),A=i.current;i.current=ym(n),Object.entries(n).forEach(([L,H])=>{Object.entries(H).forEach(([R,N])=>{var W,q,Z;const ne=((W=A[L])==null||(q=W[R])==null?void 0:q.mode)||Ve.View,J=(Z=I[L])!=null?Z:L;N.mode===Ve.Edit&&ne===Ve.View?E(w({id:J,field:R},N)):N.mode===Ve.View&&ne===Ve.Edit&&V(w({id:J,field:R},N))})})},[e,n,E,V])},yE=["id"],vE=["id"],CE=cn(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),wE=(e,t)=>{const[n,r]=h.useState({}),o=h.useRef(n),i=h.useRef({}),l=h.useRef(null),a=h.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:u,rowModesModel:d,onRowModesModelChange:f,signature:m}=t,p=R=>(...N)=>{t.editMode===kt.Row&&R(...N)},v=h.useCallback((R,N)=>{const W=e.current.getCellParams(R,N);if(!e.current.isCellEditable(W))throw new Error(`MUI: The cell with id=${R} and field=${N} is not editable.`)},[e]),b=h.useCallback((R,N)=>{if(e.current.getRowMode(R)!==N)throw new Error(`MUI: The row with id=${R} is not in ${N} mode.`)},[e]),g=h.useCallback((R,N)=>{if(!R.isEditable||e.current.getRowMode(R.id)===We.Edit)return;const W=e.current.getRowParams(R.id),q=w({},W,{field:R.field,reason:En.cellDoubleClick});e.current.publishEvent("rowEditStart",q,N)},[e]),C=h.useCallback(R=>{a.current=R},[]),P=h.useCallback((R,N)=>{R.isEditable&&e.current.getRowMode(R.id)!==We.View&&(a.current=null,l.current=setTimeout(()=>{var W;if(l.current=null,((W=a.current)==null?void 0:W.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===We.View)return;const q=e.current.getRowParams(R.id),Z=w({},q,{field:R.field,reason:gn.rowFocusOut});e.current.publishEvent("rowEditStop",Z,N)}}))},[e]);h.useEffect(()=>()=>{clearTimeout(l.current)},[]);const y=h.useCallback((R,N)=>{if(R.cellMode===We.Edit){if(N.which===229)return;let W;if(N.key==="Escape")W=gn.escapeKeyDown;else if(N.key==="Enter")W=gn.enterKeyDown;else if(N.key==="Tab"){const q=ss(e).filter(Z=>e.current.isCellEditable(e.current.getCellParams(R.id,Z)));N.shiftKey?R.field===q[0]&&(W=gn.shiftTabKeyDown):R.field===q[q.length-1]&&(W=gn.tabKeyDown),W&&N.preventDefault()}if(W){const q=e.current.getRowParams(R.id),Z=w({},q,{reason:W,field:R.field});e.current.publishEvent("rowEditStop",Z,N)}}else if(R.isEditable){let W;if(N.key===" "&&N.shiftKey)return;if(Ci(N)||(N.ctrlKey||N.metaKey)&&N.key==="v"?W=En.printableKeyDown:N.key==="Enter"?W=En.enterKeyDown:(N.key==="Delete"||N.key==="Backspace")&&(W=En.deleteKeyDown),W){const q=e.current.getRowParams(R.id),Z=w({},q,{field:R.field,key:N.key,reason:W});e.current.publishEvent("rowEditStart",Z,N)}}},[e]),x=h.useCallback(R=>{const{id:N,field:W,reason:q,key:Z}=R,ne={id:N,fieldToFocus:W};q===En.printableKeyDown?h.version.startsWith("18")?ne.initialValue=Z:ne.deleteValue=!!W:q===En.deleteKeyDown&&(ne.deleteValue=!!W),e.current.startRowEditMode(ne)},[e]),j=h.useCallback(R=>{const{id:N,reason:W,field:q}=R;e.current.unstable_runPendingEditCellValueMutation(N);let Z;W===gn.enterKeyDown?Z="below":W===gn.tabKeyDown?Z="right":W===gn.shiftTabKeyDown&&(Z="left");let ne=W==="escapeKeyDown";const J=it(e.current.state);!ne&&!t.disableIgnoreModificationsIfProcessingProps&&(ne=Object.values(J[N]).some(fe=>fe.isProcessingProps)),e.current.stopRowEditMode({id:N,ignoreModifications:ne,field:q,cellToFocusAfter:Z})},[e,t.disableIgnoreModificationsIfProcessingProps]);de(e,"cellDoubleClick",p(g)),de(e,"cellFocusIn",p(C)),de(e,"cellFocusOut",p(P)),de(e,"cellKeyDown",p(y)),de(e,"rowEditStart",p(x)),de(e,"rowEditStop",p(j)),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop);const O=h.useCallback(R=>{if(t.editMode===kt.Cell)return We.View;const N=it(e.current.state);return N[R]&&Object.keys(N[R]).length>0?We.Edit:We.View},[e,t.editMode]),k=ln(R=>{const N=R!==t.rowModesModel;if(f&&N){const W=m===ir.DataGridPro?{api:e.current}:{};f(R,W)}t.rowModesModel&&N||(r(R),o.current=R,e.current.publishEvent("rowModesModelChange",R))}),E=h.useCallback((R,N)=>{const W=w({},o.current);N!==null?W[R]=w({},N):delete W[R],k(W)},[k]),T=h.useCallback((R,N)=>{e.current.setState(W=>{const q=w({},W.editRows);return N!==null?q[R]=N:delete q[R],w({},W,{editRows:q})}),e.current.forceUpdate()},[e]),V=h.useCallback((R,N,W)=>{e.current.setState(q=>{const Z=w({},q.editRows);return W!==null?Z[R]=w({},Z[R],{[N]:w({},W)}):(delete Z[R][N],Object.keys(Z[R]).length===0&&delete Z[R]),w({},q,{editRows:Z})}),e.current.forceUpdate()},[e]),_=h.useCallback(R=>{const{id:N}=R,W=ye(R,yE);b(N,We.View),E(N,w({mode:We.Edit},W))},[b,E]),z=ln(R=>{const{id:N,fieldToFocus:W,deleteValue:q,initialValue:Z}=R,J=ss(e).reduce((fe,le)=>{if(!e.current.getCellParams(N,le).isEditable)return fe;let X=e.current.getCellValue(N,le);return W===le&&(q||Z)&&(X=q?"":Z),fe[le]={value:X,error:!1,isProcessingProps:!1},fe},{});T(N,J),W&&e.current.setCellFocus(N,W)}),$=h.useCallback(R=>{const{id:N}=R,W=ye(R,vE);b(N,We.Edit),E(N,w({mode:We.View},W))},[b,E]),I=ln(R=>{const{id:N,ignoreModifications:W,field:q,cellToFocusAfter:Z="none"}=R;e.current.unstable_runPendingEditCellValueMutation(N);const ne=()=>{Z!=="none"&&q&&e.current.unstable_moveFocusToRelativeCell(N,q,Z),T(N,null),E(N,null)};if(W){ne();return}const J=it(e.current.state),fe=e.current.getRow(N);if(Object.values(J[N]).some(ce=>ce.isProcessingProps)){i.current[N].mode=We.Edit;return}if(Object.values(J[N]).some(ce=>ce.error)){i.current[N].mode=We.Edit,E(N,{mode:We.Edit});return}const X=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(N);if(c){const ce=ae=>{i.current[N].mode=We.Edit,E(N,{mode:We.Edit}),u?u(ae):CE()};try{Promise.resolve(c(X,fe)).then(ae=>{e.current.updateRows([ae]),ne()}).catch(ce)}catch(ae){ce(ae)}}else e.current.updateRows([X]),ne()}),A=h.useCallback(R=>{const{id:N,field:W,value:q,debounceMs:Z,unstable_skipValueParser:ne}=R;v(N,W);const J=e.current.getColumn(W),fe=e.current.getRow(N);let le=q;J.valueParser&&!ne&&(le=J.valueParser(q,e.current.getCellParams(N,W)));let pe=it(e.current.state),X=w({},pe[N][W],{value:le,changeReason:Z?"debouncedSetEditCellValue":"setEditCellValue"});return J.preProcessEditCellProps||V(N,W,X),new Promise(ce=>{const ae=[];if(J.preProcessEditCellProps){const Ce=X.value!==pe[N][W].value;X=w({},X,{isProcessingProps:!0}),V(N,W,X);const Oe=pe[N],Ne=ye(Oe,[W].map(Os)),Ye=Promise.resolve(J.preProcessEditCellProps({id:N,row:fe,props:X,hasChanged:Ce,otherFieldsProps:Ne})).then(oe=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}pe=it(e.current.state),oe=w({},oe,{isProcessingProps:!1}),oe.value=J.preProcessEditCellProps?pe[N][W].value:le,V(N,W,oe)});ae.push(Ye)}Object.entries(pe[N]).forEach(([Ce,Oe])=>{if(Ce===W)return;const Ne=e.current.getColumn(Ce);if(!Ne.preProcessEditCellProps)return;Oe=w({},Oe,{isProcessingProps:!0}),V(N,Ce,Oe),pe=it(e.current.state);const Ye=pe[N],oe=ye(Ye,[Ce].map(Os)),ge=Promise.resolve(Ne.preProcessEditCellProps({id:N,row:fe,props:Oe,hasChanged:!1,otherFieldsProps:oe})).then(Se=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}Se=w({},Se,{isProcessingProps:!1}),V(N,Ce,Se)});ae.push(ge)}),Promise.all(ae).then(()=>{e.current.getRowMode(N)===We.Edit?(pe=it(e.current.state),ce(!pe[N][W].error)):ce(!1)})})},[e,v,V]),L=h.useCallback(R=>{const N=it(e.current.state),W=e.current.getRow(R);let q=w({},W);return Object.entries(N[R]).forEach(([Z,ne])=>{const J=e.current.getColumn(Z);J.valueSetter?q=J.valueSetter({value:ne.value,row:q}):q[Z]=ne.value}),q},[e]);qe(e,{getRowMode:O,startRowEditMode:_,stopRowEditMode:$,unstable_setRowEditingEditCellValue:A,unstable_getRowWithUpdatedValuesFromRowEditing:L}),h.useEffect(()=>{d&&k(d)},[d,k]),h.useEffect(()=>{const R=Ca(e),N=i.current;i.current=ym(n),Object.entries(n).forEach(([W,q])=>{var Z,ne;const J=((Z=N[W])==null?void 0:Z.mode)||We.View,fe=(ne=R[W])!=null?ne:W;q.mode===We.Edit&&J===We.View?z(w({id:fe},q)):q.mode===We.View&&J===We.Edit&&I(w({id:fe},q))})},[e,n,z,I])},SE=e=>w({},e,{editRows:{}}),jE=(e,t)=>{bE(e,t),wE(e,t);const n=h.useRef({}),{isCellEditable:r}=t,o=h.useCallback(f=>f.rowNode.isAutoGenerated||!f.colDef.editable||!f.colDef.renderEditCell?!1:r?r(f):!f.rowNode.isPinned,[r]),i=(f,m,p,v)=>{if(!p){v();return}if(n.current[f]||(n.current[f]={}),n.current[f][m]){const[C]=n.current[f][m];clearTimeout(C)}const b=()=>{const[C]=n.current[f][m];clearTimeout(C),v(),delete n.current[f][m]},g=setTimeout(()=>{v(),delete n.current[f][m]},p);n.current[f][m]=[g,b]};h.useEffect(()=>{const f=n.current;return()=>{Object.entries(f).forEach(([m,p])=>{Object.keys(p).forEach(v=>{const[b]=f[m][v];clearTimeout(b),delete f[m][v]})})}},[]);const l=h.useCallback((f,m)=>{if(n.current[f]){if(!m)Object.keys(n.current[f]).forEach(p=>{const[,v]=n.current[f][p];v()});else if(n.current[f][m]){const[,p]=n.current[f][m];p()}}},[]),a=h.useCallback(f=>{const{id:m,field:p,debounceMs:v}=f;return new Promise(b=>{i(m,p,v,async()=>{const g=t.editMode===kt.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(m,p)===Ve.Edit){const C=await g(f);b(C)}})})},[e,t.editMode]),c=h.useCallback((f,m)=>t.editMode===kt.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(f,m):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(f),[e,t.editMode]),u=h.useCallback((f,m)=>({changeReason:it(e.current.state)[f][m].changeReason}),[e]);qe(e,{isCellEditable:o,setEditCellValue:a,unstable_runPendingEditCellValueMutation:l,unstable_getRowWithUpdatedValues:c,unstable_getEditCellMeta:u})},PE=(e,t,n)=>(n.current.unstable_caches.rows=Io({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),w({},e,{rows:Vm({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),kE=(e,t)=>{const n=gt(e,"useGridRows"),r=Ar(e,t),o=h.useRef(Date.now()),i=h.useRef(null),l=h.useCallback(V=>{var _;return(_=Xr(e)[V])!=null?_:null},[e]),a=h.useMemo(()=>r.rows.reduce((V,{id:_},z)=>(V[_]=z,V),{}),[r.rows]),c=h.useCallback((V,_)=>{const z=()=>{i.current=null,o.current=Date.now(),e.current.setState(I=>w({},I,{rows:Vm({apiRef:e,previousTree:Xn(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(i.current&&(clearTimeout(i.current),i.current=null),e.current.unstable_caches.rows=V,!_){z();return}const $=t.throttleRowsMs-(Date.now()-o.current);if($>0){i.current=setTimeout(z,$);return}z()},[t.throttleRowsMs,t.rowCount,t.loading,e]),u=h.useCallback(V=>{n.debug(`Updating all rows, new length ${V.length}`);const _=Io({rows:V,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),z=e.current.unstable_caches.rows;_.rowsBeforePartialUpdates=z.rowsBeforePartialUpdates,c(_,!0)},[n,t.getRowId,t.loading,t.rowCount,c,e]),d=h.useCallback(V=>{if(t.signature===ir.DataGrid&&V.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const _=new Map;V.forEach(A=>{const L=wl(A,t.getRowId,"A row was provided without id when calling updateRows():");_.has(L)?_.set(L,w({},_.get(L),A)):_.set(L,A)});const z=[],$=e.current.unstable_caches.rows,I={rowsBeforePartialUpdates:$.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:$.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:$.rowCountPropBeforePartialUpdates,idRowsLookup:w({},$.idRowsLookup),idToIdLookup:w({},$.idToIdLookup),ids:[...$.ids]};_.forEach((A,L)=>{if(A._action==="delete"){delete I.idRowsLookup[L],delete I.idToIdLookup[L],z.push(L);return}if(!e.current.getRow(L)){I.idRowsLookup[L]=A,I.idToIdLookup[L]=L,I.ids.push(L);return}I.idRowsLookup[L]=w({},e.current.getRow(L),A)}),z.length>0&&(I.ids=I.ids.filter(A=>!z.includes(A))),c(I,!0)},[t.signature,t.getRowId,c,e]),f=h.useCallback(()=>{const V=vr(e),_=Xr(e);return new Map(V.map(z=>[z,_[z]]))},[e]),m=h.useCallback(()=>yi(e),[e]),p=h.useCallback(()=>vr(e),[e]),v=h.useCallback(V=>a[V],[a]),b=h.useCallback((V,_)=>{const z=e.current.getRowNode(V);if(!z)throw new Error(`MUI: No row with id #${V} found`);const $=w({},z,{childrenExpanded:_});e.current.setState(I=>w({},I,{rows:w({},I.rows,{tree:w({},I.rows.tree,{[V]:$})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",$)},[e]),g=h.useCallback(V=>{var _;return(_=Xn(e)[V])!=null?_:null},[e]),C=h.useCallback(({skipAutoGeneratedRows:V=!0,groupId:_,applySorting:z,applyFiltering:$})=>{const I=Xn(e);let A;if(z){const L=I[_];if(!L)return[];const H=ja(e);A=[];const R=H.findIndex(N=>N===_)+1;for(let N=R;N<H.length&&I[H[N]].depth>L.depth;N+=1){const W=H[N],q=I[W];(!V||!q.isAutoGenerated)&&A.push(W)}}else A=Lm(I,_,V);if($){const L=qf(e);A=A.filter(H=>L[H]!==!1)}return A},[e]),P=h.useCallback((V,_)=>{const z=vr(e),$=z.findIndex(A=>A===V);if($===-1||$===_)return;n.debug(`Moving row ${V} to index ${_}`);const I=[...z];I.splice(_,0,I.splice($,1)[0]),e.current.setState(A=>w({},A,{rows:w({},A.rows,{ids:I})})),e.current.unstable_caches.rows.ids=I,e.current.publishEvent("rowsSet")},[e,n]),y=h.useCallback((V,_)=>{if(t.signature===ir.DataGrid&&_.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(_.length===0)return;const $=[...vr(e)],I=Xr(e),A=Ca(e),L=Xn(e),H=w({},I),R=w({},A),N=w({},L),W=_.map(q=>({id:wl(q,t.getRowId,"A row was provided without id when calling replaceRows()."),model:q}));W.forEach((q,Z)=>{const[ne]=$.splice(V+Z,1,q.id);delete H[ne],delete R[ne],delete N[ne]}),W.forEach(q=>{const Z={id:q.id,parent:null,depth:0,groupingKey:null,groupingField:null};H[q.id]=q.model,R[q.id]=q.id,N[q.id]=Z}),e.current.unstable_caches.rows.idRowsLookup=H,e.current.unstable_caches.rows.idToIdLookup=R,e.current.unstable_caches.rows.ids=$,e.current.setState(q=>{const Z={idRowsLookup:H,idToIdLookup:R,tree:N,ids:$};return w({},q,{rows:w({},q.rows,Z,{groupingResponseBeforeRowHydration:w({},q.rows.groupingResponseBeforeRowHydration,Z)})})}),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),x={getRow:l,getRowModels:f,getRowsCount:m,getAllRowIds:p,setRows:u,setRowIndex:P,updateRows:d,setRowChildrenExpansion:b,getRowNode:g,getRowIndexRelativeToVisibleRows:v,getRowGroupChildren:C,unstable_replaceRows:y},j=h.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let V;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?V=e.current.unstable_caches.rows:V=Io({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),c(V,!1)},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,c]),O=h.useCallback(V=>{V==="rowTreeCreation"&&j()},[j]),k=h.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==yw(e)&&j()},[e,j]);de(e,"activeStrategyProcessorChange",O),de(e,"strategyAvailabilityChange",k);const E=h.useCallback(()=>{e.current.setState(V=>w({},V,{rows:w({},V.rows,e.current.unstable_applyPipeProcessors("hydrateRows",V.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);_a(e,"hydrateRows",E),qe(e,x),h.useEffect(()=>()=>{i.current!==null&&clearTimeout(i.current)},[]);const T=h.useRef(!0);h.useEffect(()=>{if(T.current){T.current=!1;return}const V=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,_=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(V){_||(e.current.setState($=>w({},$,{rows:w({},$.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),z||(e.current.setState($=>w({},$,{rows:w({},$.rows,{totalRowCount:Math.max(t.rowCount||0,$.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,$.rows.totalTopLevelRowCount)})})),e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),c(Io({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,n,c,e])},EE=({ids:e,idRowsLookup:t,idToIdLookup:n,previousTree:r})=>{const o={};for(let i=0;i<e.length;i+=1){const l=e[i];r&&r[l]&&r[l].depth===0&&r[l].parent==null&&!r[l].isPinned?o[l]=r[l]:o[l]={id:l,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:to,tree:o,treeDepth:1,idRowsLookup:t,idToIdLookup:n,ids:e}},IE=e=>{Va(e,to,"rowTreeCreation",EE)};cn(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function ME(e){const t=h.useCallback(f=>({field:f,colDef:e.current.getColumn(f)}),[e]),n=h.useCallback((...f)=>e.current.getCellValue(...f),[e]),r=h.useCallback(f=>{const m=e.current.getRow(f);if(!m)throw new Error(`No row with id #${f} found`);return{id:f,columns:e.current.getAllColumns(),row:m,getValue:n}},[e,n]),o=h.useCallback((f,m)=>{const p=e.current.getRow(f),v=e.current.getRowNode(f);if(!p||!v)throw new Error(`No row with id #${f} found`);const b=on(e),g=Yo(e);return{id:f,field:m,row:p,rowNode:v,value:p[m],colDef:e.current.getColumn(m),cellMode:e.current.getCellMode(f,m),getValue:n,api:e.current,hasFocus:b!==null&&b.field===m&&b.id===f,tabIndex:g&&g.field===m&&g.id===f?0:-1}},[e,n]),i=h.useCallback((f,m)=>{const p=e.current.getColumn(m),v=e.current.getCellValue(f,m),b=e.current.getRow(f),g=e.current.getRowNode(f);if(!b||!g)throw new Error(`No row with id #${f} found`);const C=on(e),P=Yo(e),y={id:f,field:m,row:b,rowNode:g,colDef:p,cellMode:e.current.getCellMode(f,m),getValue:n,hasFocus:C!==null&&C.field===m&&C.id===f,tabIndex:P&&P.field===m&&P.id===f?0:-1,value:v,formattedValue:v};return p&&p.valueFormatter&&(y.formattedValue=p.valueFormatter({id:f,field:y.field,value:y.value,api:e.current})),y.isEditable=p&&e.current.isCellEditable(y),y},[e,n]),l=h.useCallback((f,m)=>{const p=e.current.getColumn(m);if(!p||!p.valueGetter){const v=e.current.getRow(f);if(!v)throw new Error(`No row with id #${f} found`);return v[m]}return p.valueGetter(o(f,m))},[e,o]),a=h.useCallback(f=>e.current.rootElementRef.current?bj(e.current.rootElementRef.current,f):null,[e]),c=h.useCallback(f=>e.current.rootElementRef.current?yj(e.current.rootElementRef.current,f):null,[e]),u=h.useCallback((f,m)=>e.current.rootElementRef.current?vj(e.current.rootElementRef.current,{id:f,field:m}):null,[e]);qe(e,{getCellValue:l,getCellParams:i,getCellElement:u,getRowParams:r,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:a})}const Bm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],FE=(e,t)=>{var n;return w({},e,{selection:(n=Bm(t.selectionModel))!=null?n:[]})},TE=(e,t)=>{const n=gt(e,"useGridSelection"),r=h.useMemo(()=>Bm(t.selectionModel,Yt(e.current.state)),[e,t.selectionModel]),o=h.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:r,propOnChange:t.onSelectionModelChange,stateSelector:Yt,changeEvent:"selectionChange"});const{checkboxSelection:i,disableMultipleSelection:l,disableSelectionOnClick:a,pagination:c,paginationMode:u,isRowSelectable:d}=t,f=!l||i,m=Ar(e,t),p=h.useCallback(I=>{var A;let L=I;const H=(A=o.current)!=null?A:I,R=e.current.isRowSelected(I);if(R){const N=Ts(e),W=N.findIndex(Z=>Z===H),q=N.findIndex(Z=>Z===L);if(W===q)return;W>q?L=N[q+1]:L=N[q-1]}o.current=I,e.current.selectRowRange({startId:H,endId:L},!R)},[e]),v=h.useCallback(I=>{Yt(e.current.state)!==I&&(n.debug("Setting selection model"),e.current.setState(L=>w({},L,{selection:I})),e.current.forceUpdate())},[e,n]),b=h.useCallback(I=>Yt(e.current.state).includes(I),[e]),g=h.useCallback(I=>{if(d&&!d(e.current.getRowParams(I)))return!1;const A=e.current.getRowNode(I);return!((A==null?void 0:A.position)==="footer"||A!=null&&A.isPinned)},[e,d]),C=h.useCallback(()=>Nj(e),[e]),P=h.useCallback((I,A=!0,L=!1)=>{if(e.current.isRowSelectable(I))if(o.current=I,L)n.debug(`Setting selection for row ${I}`),e.current.setSelectionModel(A?[I]:[]);else{n.debug(`Toggling selection for row ${I}`);const R=Yt(e.current.state).filter(W=>W!==I);A&&R.push(I),(R.length<2||f)&&e.current.setSelectionModel(R)}},[e,n,f]),y=h.useCallback((I,A=!0,L=!1)=>{n.debug("Setting selection for several rows");const H=I.filter(W=>e.current.isRowSelectable(W));let R;if(L)R=A?H:[];else{const W=w({},Jo(e));H.forEach(q=>{A?W[q]=q:delete W[q]}),R=Object.values(W)}(R.length<2||f)&&e.current.setSelectionModel(R)},[e,n,f]),x=h.useCallback(({startId:I,endId:A},L=!0,H)=>{if(!e.current.getRow(I)||!e.current.getRow(A))return;n.debug(`Expanding selection from row ${I} to row ${A}`);const R=Ts(e),N=R.indexOf(I),W=R.indexOf(A),[q,Z]=N>W?[W,N]:[N,W],ne=R.slice(q,Z+1);e.current.selectRows(ne,L,H)},[e,n]);qe(e,{selectRow:P,selectRows:y,selectRowRange:x,setSelectionModel:v,getSelectedRows:C,isRowSelected:b,isRowSelectable:g});const O=h.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const I=Yt(e.current.state),A=Xr(e),L=w({},Jo(e));let H=!1;I.forEach(R=>{A[R]||(delete L[R],H=!0)}),H&&e.current.setSelectionModel(Object.values(L))},[e,t.keepNonExistentRowsSelected]),k=h.useCallback((I,A)=>{const L=A.metaKey||A.ctrlKey,H=!i&&!L&&!yl(A),R=!f||H,N=e.current.isRowSelected(I);R?e.current.selectRow(I,H?!0:!N,!0):e.current.selectRow(I,!N,!1)},[e,f,i]),E=h.useCallback((I,A)=>{var L;if(a)return;const H=(L=A.target.closest(`.${G.cell}`))==null?void 0:L.getAttribute("data-field");H===Js.field||H===Oa||H&&e.current.getColumn(H).type===Da||e.current.getRowNode(I.id).isPinned||(A.shiftKey&&(f||i)?p(I.id):k(I.id,A))},[a,f,i,e,p,k]),T=h.useCallback((I,A)=>{if(f&&A.shiftKey){var L;(L=window.getSelection())==null||L.removeAllRanges()}},[f]),V=h.useCallback((I,A)=>{A.nativeEvent.shiftKey?p(I.id):e.current.selectRow(I.id,I.value)},[e,p]),_=h.useCallback(I=>{const L=t.checkboxSelectionVisibleOnly&&t.pagination?mm(e):Ts(e);e.current.selectRows(L,I.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),z=h.useCallback((I,A)=>{if(e.current.getCellMode(I.id,I.field)!==Ve.Edit&&A.currentTarget.contains(A.target)){if(Zs(A.key)&&A.shiftKey){const L=on(e);if(L&&L.id!==I.id){A.preventDefault();const H=e.current.isRowSelected(L.id);if(!f){e.current.selectRow(L.id,!H,!0);return}const R=e.current.getRowIndexRelativeToVisibleRows(L.id),N=e.current.getRowIndexRelativeToVisibleRows(I.id);let W,q;R>N?H?(W=N,q=R-1):(W=N,q=R):H?(W=R+1,q=N):(W=R,q=N);const Z=m.rows.slice(W,q+1).map(ne=>ne.id);e.current.selectRows(Z,!H);return}}if(A.key===" "&&A.shiftKey){A.preventDefault(),k(I.id,A);return}A.key.toLowerCase()==="a"&&(A.ctrlKey||A.metaKey)&&(A.preventDefault(),y(e.current.getAllRowIds(),!0))}},[e,k,y,m.rows,f]);de(e,"sortedRowsSet",O),de(e,"rowClick",E),de(e,"rowSelectionCheckboxChange",V),de(e,"headerSelectionCheckboxChange",_),de(e,"cellMouseDown",T),de(e,"cellKeyDown",z),h.useEffect(()=>{r!==void 0&&e.current.setSelectionModel(r)},[e,r]);const $=r!=null;h.useEffect(()=>{if($)return;const I=Yt(e.current.state);if(g){const A=I.filter(L=>g(L));A.length<I.length&&e.current.setSelectionModel(A)}},[e,g,$]),h.useEffect(()=>{const I=Yt(e.current.state);if(!f&&I.length>1){const{rows:A}=Si(e,{pagination:c,paginationMode:u}),L=A.reduce((R,{id:N})=>(R[N]=!0,R),{}),H=I.find(R=>{let N=!0;return g&&(N=g(R)),N&&L[R]});e.current.setSelectionModel(H!==void 0?[H]:[])}},[e,f,i,l,g,c,u])},AE={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},DE=["sortingOrder"],OE=h.memo(function(t){const{sortingOrder:n}=t,r=ye(t,DE),o=be(),[i]=n,l=i==="asc"?o.components.ColumnSortedAscendingIcon:o.components.ColumnSortedDescendingIcon;return l?s.jsx(l,w({},r)):null}),_E=["error","hasError","errorInfo"],VE=h.forwardRef(function(t,n){const{error:r}=t,o=ye(t,_E),i=Te(),l=i.current.getLocaleText("errorOverlayDefaultLabel"),a=xe(i,Ys);return s.jsx(wi,w({ref:n,sx:{width:"100%",minHeight:2*a}},o,{children:(r==null?void 0:r.message)||l}))}),LE=h.forwardRef(function(t,n){const o=Te().current.getLocaleText("noResultsOverlayLabel");return s.jsx(wi,w({ref:n},t,{children:o}))}),$E={BooleanCellTrueIcon:pS,BooleanCellFalseIcon:Gi,ColumnMenuIcon:fS,OpenFilterButtonIcon:oS,FilterPanelDeleteIcon:Gi,ColumnFilteredIcon:iS,ColumnSelectorIcon:aS,ColumnUnsortedIcon:OE,ColumnSortedAscendingIcon:rS,ColumnSortedDescendingIcon:sS,ColumnResizeIcon:cS,DensityCompactIcon:uS,DensityStandardIcon:dS,DensityComfortableIcon:hS,ExportIcon:gS,MoreActionsIcon:xS,TreeDataCollapseIcon:Ru,TreeDataExpandIcon:$u,GroupingCriteriaCollapseIcon:Ru,GroupingCriteriaExpandIcon:$u,DetailPanelExpandIcon:sm,DetailPanelCollapseIcon:mS,RowReorderIcon:om,QuickFilterIcon:lS,QuickFilterClearIcon:Gi},od=w({},$E,{BaseCheckbox:Tg,BaseTextField:se,BaseFormControl:ze,BaseSelect:et,BaseSwitch:Bn,BaseButton:me,BaseTooltip:Ag,BasePopper:Fl,Cell:Hw,SkeletonCell:KS,ColumnHeaderFilterIconButton:Oj,ColumnMenu:z1,ErrorOverlay:VE,Footer:zP,Header:BP,Toolbar:null,PreferencesPanel:gP,LoadingOverlay:HP,NoResultsOverlay:LE,NoRowsOverlay:WP,Pagination:UP,FilterPanel:IP,ColumnsPanel:cP,Panel:mP,Row:XP}),RE=e=>{const{classes:t}=e;return h.useMemo(()=>Le({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},$e,t),[t])},NE=(e,t)=>{const n={classes:t.classes},r=RE(n),o=h.useCallback(i=>{const l=w({},Js,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[Wn]!=null;return a&&!c?(i.lookup[Wn]=l,i.all=[Wn,...i.all]):!a&&c?(delete i.lookup[Wn],i.all=i.all.filter(u=>u!==Wn)):a&&c&&(i.lookup[Wn]=w({},l,i.lookup[Wn])),i},[e,r,t.checkboxSelection]);St(e,"hydrateColumns",o)},zE=(e,t)=>{var n,r,o,i;const l=(n=(r=t.sortModel)!=null?r:(o=t.initialState)==null||(i=o.sorting)==null?void 0:i.sortModel)!=null?n:[];return w({},e,{sorting:{sortModel:gm(l,t.disableMultipleColumnsSorting),sortedRows:[]}})},BE=(e,t)=>{var n,r;const o=gt(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:tn,changeEvent:"sortModelChange"});const i=h.useCallback((k,E)=>{const T=tn(e),V=T.findIndex(z=>z.field===k);let _=[...T];return V>-1?E?_.splice(V,1,E):_.splice(V,1):_=[...T,E],_},[e]),l=h.useCallback((k,E)=>{var T;const _=tn(e).find($=>$.field===k.field);if(_){var z;const $=E===void 0?Bu((z=k.sortingOrder)!=null?z:t.sortingOrder,_.sort):E;return $==null?void 0:w({},_,{sort:$})}return{field:k.field,sort:E===void 0?Bu((T=k.sortingOrder)!=null?T:t.sortingOrder):E}},[e,t.sortingOrder]),a=h.useCallback(()=>{e.current.setState(k=>{if(t.sortingMode===Zr.server)return o.debug("Skipping sorting rows as sortingMode = server"),w({},k,{sorting:w({},k.sorting,{sortedRows:vr(k,e.current.instanceId)})});const E=tn(k,e.current.instanceId),T=Jj(E,e),V=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:T});return w({},k,{sorting:w({},k.sorting,{sortedRows:V})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,o,t.sortingMode]),c=h.useCallback(k=>{tn(e)!==k&&(o.debug("Setting sort model"),e.current.setState(zu(k,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),u=h.useCallback((k,E,T)=>{if(!k.sortable)return;const V=l(k,E);let _;!T||t.disableMultipleColumnsSorting?_=V?[V]:[]:_=i(k.field,V),e.current.setSortModel(_)},[e,i,l,t.disableMultipleColumnsSorting]),d=h.useCallback(()=>tn(e),[e]),f=h.useCallback(()=>Pa(e).map(E=>E.model),[e]),m=h.useCallback(()=>ja(e),[e]),p=h.useCallback(k=>e.current.getSortedRowIds().indexOf(k),[e]),v=h.useCallback(k=>e.current.getSortedRowIds()[k],[e]);qe(e,{getSortModel:d,getSortedRows:f,getSortedRowIds:m,getRowIndex:p,getRowIdFromRowIndex:v,setSortModel:c,sortColumn:u,applySorting:a});const g=h.useCallback((k,E)=>{var T,V;const _=tn(e);return!E.exportOnlyDirtyModels||t.sortModel!=null||((T=t.initialState)==null||(V=T.sorting)==null?void 0:V.sortModel)!=null||_.length>0?w({},k,{sorting:{sortModel:_}}):k},[e,t.sortModel,(n=t.initialState)==null||(r=n.sorting)==null?void 0:r.sortModel]),C=h.useCallback((k,E)=>{var T;const V=(T=E.stateToRestore.sorting)==null?void 0:T.sortModel;return V==null?k:(e.current.setState(zu(V,t.disableMultipleColumnsSorting)),w({},k,{callbacks:[...k.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),P=h.useCallback(k=>{const E=Xn(e);if(!k.sortRowList){const _=[],z=[];return vr(e).forEach($=>{E[$].isPinned||(E[$].position==="footer"?z.push($):_.push($))}),[..._,...z]}const T=[],V=[];return Object.values(E).forEach(_=>{_.isPinned||(_.position==="footer"?V.push(_.id):T.push(_))}),[...k.sortRowList(T),...V]},[e]);St(e,"exportState",g),St(e,"restoreState",C),Va(e,to,"sorting",P);const y=h.useCallback(({colDef:k},E)=>{const T=E.shiftKey||E.metaKey||E.ctrlKey;u(k,void 0,T)},[u]),x=h.useCallback(({colDef:k},E)=>{lm(E.key)&&!E.ctrlKey&&!E.metaKey&&u(k,void 0,E.shiftKey)},[u]),j=h.useCallback(()=>{const k=tn(e),E=ls(e);if(k.length>0){const T=k.filter(V=>E[V.field]);T.length<k.length&&e.current.setSortModel(T)}},[e]),O=h.useCallback(k=>{k==="sorting"&&e.current.applySorting()},[e]);de(e,"columnHeaderClick",y),de(e,"columnHeaderKeyDown",x),de(e,"rowsSet",e.current.applySorting),de(e,"columnsChange",j),de(e,"activeStrategyProcessorChange",O),eo(()=>{e.current.applySorting()}),h.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function id(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const HE=(e,t)=>{const n=gt(e,"useGridScroll"),r=e.current.columnHeadersElementRef,o=e.current.windowRef,i=xe(e,Ln),l=h.useCallback(d=>{const f=yi(e),m=Et(e);if(!(d.rowIndex==null)&&f===0||m.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let v={};if(d.colIndex!=null){const P=Pr(e);let y;if(typeof d.rowIndex<"u"){var b;const x=(b=i[d.rowIndex])==null?void 0:b.id,j=e.current.unstable_getCellColSpanInfo(x,d.colIndex);j&&!j.spannedByColSpan&&(y=j.cellProps.width)}typeof y>"u"&&(y=m[d.colIndex].computedWidth),v.left=id({clientHeight:o.current.clientWidth,scrollTop:o.current.scrollLeft,offsetHeight:y,offsetTop:P[d.colIndex]})}if(d.rowIndex!=null){var g,C;const P=Ns(e.current.state),y=ys(e),x=As(e),j=t.pagination?d.rowIndex-y*x:d.rowIndex,O=P.positions[j+1]?P.positions[j+1]-P.positions[j]:P.currentPageTotalHeight-P.positions[j],k=((g=o.current.querySelector(`.${G["pinnedRows--top"]}`))==null?void 0:g.clientHeight)||0,E=((C=o.current.querySelector(`.${G["pinnedRows--bottom"]}`))==null?void 0:C.clientHeight)||0;v.top=id({clientHeight:o.current.clientHeight-k-E,scrollTop:o.current.scrollTop,offsetHeight:O,offsetTop:P.positions[j]})}return v=e.current.unstable_applyPipeProcessors("scrollToIndexes",v,d),typeof v.left!==void 0||typeof v.top!==void 0?(e.current.scroll(v),!0):!1},[n,e,o,t.pagination,i]),a=h.useCallback(d=>{o.current&&d.left!=null&&r.current&&(r.current.scrollLeft=d.left,o.current.scrollLeft=d.left,n.debug(`Scrolling left: ${d.left}`)),o.current&&d.top!=null&&(o.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[o,r,n]),c=h.useCallback(()=>o!=null&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);qe(e,{scroll:a,scrollToIndexes:l,getScrollPosition:c})};function WE(e,t){Re(e,"columnHeaderClick",t.onColumnHeaderClick),Re(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Re(e,"columnHeaderOver",t.onColumnHeaderOver),Re(e,"columnHeaderOut",t.onColumnHeaderOut),Re(e,"columnHeaderEnter",t.onColumnHeaderEnter),Re(e,"columnHeaderLeave",t.onColumnHeaderLeave),Re(e,"columnOrderChange",t.onColumnOrderChange),Re(e,"cellClick",t.onCellClick),Re(e,"cellDoubleClick",t.onCellDoubleClick),Re(e,"cellKeyDown",t.onCellKeyDown),Re(e,"cellFocusOut",t.onCellFocusOut),Re(e,"preferencePanelClose",t.onPreferencePanelClose),Re(e,"preferencePanelOpen",t.onPreferencePanelOpen),Re(e,"menuOpen",t.onMenuOpen),Re(e,"menuClose",t.onMenuClose),Re(e,"rowDoubleClick",t.onRowDoubleClick),Re(e,"rowClick",t.onRowClick),Re(e,"componentError",t.onError),Re(e,"stateChange",t.onStateChange)}const GE=({content:e,container:t,scrollBarSize:n})=>{const r=e.width>t.width,o=e.height>t.height;let i=!1,l=!1;return(r||o)&&(i=r,l=e.height+(i?n:0)>t.height,l&&(i=e.width+n>t.width)),{hasScrollX:i,hasScrollY:l}};function UE(e,t){const n=gt(e,"useResizeContainer"),r=h.useRef(!1),o=h.useRef(null),i=h.useRef(null),l=xe(e,Ns),a=xe(e,Xs),c=h.useCallback(()=>{var g;const C=(g=e.current.rootElementRef)==null?void 0:g.current,P=vi(e),y=$m(e);if(!o.current)return;let x;if(t.scrollbarSize!=null)x=t.scrollbarSize;else if(!P||!C)x=0;else{const z=ni(C).createElement("div");z.style.width="99px",z.style.height="99px",z.style.position="absolute",z.style.overflow="scroll",z.className="scrollDiv",C.appendChild(z),x=z.offsetWidth-z.clientWidth,C.removeChild(z)}let j,O,k;if(t.autoHeight)k=!1,O=Math.round(P)>o.current.width,j={width:o.current.width,height:l.currentPageTotalHeight+(O?x:0)};else{j={width:o.current.width,height:o.current.height-a};const _=GE({content:{width:Math.round(P),height:l.currentPageTotalHeight},container:{width:j.width,height:j.height-y.top-y.bottom},scrollBarSize:x});k=_.hasScrollY,O=_.hasScrollX}const E={width:j.width-(k?x:0),height:j.height-(O?x:0)},T={viewportOuterSize:j,viewportInnerSize:E,hasScrollX:O,hasScrollY:k,scrollBarSize:x},V=i.current;i.current=T,(T.viewportInnerSize.width!==(V==null?void 0:V.viewportInnerSize.width)||T.viewportInnerSize.height!==(V==null?void 0:V.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",T.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,a,l.currentPageTotalHeight]),u=h.useCallback(()=>{c(),e.current.publishEvent("debouncedResize",o.current)},[e,c]),d=h.useCallback(()=>i.current,[]),f=h.useCallback(()=>{const g=e.current.getRootDimensions();if(!g)return 0;const C=Si(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const y=e.current.unstable_getRenderContext(),x=y.lastRowIndex-y.firstRowIndex;return Math.min(x-1,C.rows.length)}const P=Math.floor(g.viewportInnerSize.height/Ys(e));return Math.min(P,C.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);qe(e,{resize:u,getRootDimensions:d,unstable_getViewportPageSize:f,unstable_updateGridDimensionsRef:c});const p=h.useMemo(()=>Cd(u,60),[u]),v=h.useRef(!0),b=h.useCallback(g=>{o.current=g;const C=/jsdom/.test(window.navigator.userAgent);if(g.height===0&&!r.current&&!t.autoHeight&&!C&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),g.width===0&&!r.current&&!C&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),v.current){u(),v.current=!1;return}p()},[t.autoHeight,p,n,u]);Jt(()=>c(),[c]),Re(e,"sortedRowsSet",c),Re(e,"pageChange",c),Re(e,"pageSizeChange",c),Re(e,"columnsChange",c),de(e,"resize",b),Re(e,"debouncedResize",t.onResize)}const qE=e=>w({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),KE=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,i=h.useRef({}),l=h.useRef(-1),a=h.useRef(!1),c=xe(e,Ys),u=xe(e,Qs),d=xe(e,as),f=xe(e,Sa),m=Ar(e,t),p=xe(e,Ks),v=h.useCallback(()=>{var T,V;a.current=!1;const _=Tw(e.current.state,e.current.instanceId),z=A=>{i.current[A.id]||(i.current[A.id]={sizes:{baseCenter:c},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:L,needsFirstMeasurement:H,sizes:R}=i.current[A.id];let N=c;const W=R.baseCenter;if(L)N=W;else if(n){const le=n(w({},A,{densityFactor:_}));if(le==="auto"){if(H){const pe=o?o(w({},A,{densityFactor:_})):c;N=pe??c}else N=W;a.current=!0,i.current[A.id].autoHeight=!0}else N=le??c,i.current[A.id].needsFirstMeasurement=!1,i.current[A.id].autoHeight=!1}else i.current[A.id].needsFirstMeasurement=!1;const q=Object.entries(R).reduce((le,[pe,X])=>(/^base[A-Z]/.test(pe)&&(le[pe]=X),le),{}),Z=w({},q,{baseCenter:N});if(r){var ne,J;const le=e.current.getRowIndexRelativeToVisibleRows(A.id),pe=r(w({},A,{isFirstVisible:le===0,isLastVisible:le===m.rows.length-1,indexRelativeToCurrentPage:le}));Z.spacingTop=(ne=pe.top)!=null?ne:0,Z.spacingBottom=(J=pe.bottom)!=null?J:0}const fe=e.current.unstable_applyPipeProcessors("rowHeight",Z,A);return i.current[A.id].sizes=fe,fe},$=[],I=m.rows.reduce((A,L)=>{$.push(A);let H=0,R=0;const N=z(L);return Object.entries(N).forEach(([W,q])=>{/^base[A-Z]/.test(W)?H=q>H?q:H:R+=q}),A+H+R},0);p==null||(T=p.top)==null||T.forEach(A=>{z(A)}),p==null||(V=p.bottom)==null||V.forEach(A=>{z(A)}),e.current.setState(A=>w({},A,{rowsMeta:{currentPageTotalHeight:I,positions:$}})),a.current||(l.current=1/0),e.current.forceUpdate()},[e,m.rows,c,n,r,o,p]),b=h.useCallback(T=>{const V=i.current[T];return V?V.sizes.baseCenter:c},[c]),g=T=>{var V;return(V=i.current[T])==null?void 0:V.sizes},C=h.useCallback((T,V)=>{i.current[T].sizes.baseCenter=V,i.current[T].isResized=!0,i.current[T].needsFirstMeasurement=!1,v()},[v]),P=h.useMemo(()=>Cd(v),[v]),y=h.useCallback((T,V,_)=>{if(!i.current[T]||!i.current[T].autoHeight)return;const z=i.current[T].sizes[`base${Sr(_)}`]!==V;i.current[T].needsFirstMeasurement=!1,i.current[T].sizes[`base${Sr(_)}`]=V,z&&P()},[P]),x=h.useCallback(T=>{var V;return((V=i.current[T])==null?void 0:V.autoHeight)||!1},[]),j=h.useCallback(()=>l.current,[]),O=h.useCallback(T=>{a.current&&T>l.current&&(l.current=T)},[]),k=h.useCallback(()=>{i.current={},v()},[v]);h.useEffect(()=>{v()},[c,u,d,f,v]),_a(e,"rowHeight",v),qe(e,{unstable_getLastMeasuredRowIndex:j,unstable_setLastMeasuredRowIndex:O,unstable_rowHasAutoHeight:x,unstable_getRowHeight:b,unstable_getRowInternalSizes:g,unstable_setRowHeight:C,unstable_storeRowHeightMeasurement:y,resetRowHeights:k})},QE=e=>{const t=h.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=h.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);qe(e,{exportState:t,restoreState:n})},YE=e=>{const t=h.useRef({}),n=h.useCallback((c,u,d)=>{const f=t.current;f[c]||(f[c]={}),f[c][u]=d},[]),r=h.useCallback((c,u)=>{var d;return(d=t.current[c])==null?void 0:d[u]},[]),o=h.useCallback(c=>{const{columnIndex:u,rowId:d,minFirstColumnIndex:f,maxLastColumnIndex:m,columns:p}=c,v=p.length,b=p[u],g=typeof b.colSpan=="function"?b.colSpan(e.current.getCellParams(d,b.field)):b.colSpan;if(!g||g===1)return n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:1,width:b.computedWidth}}),{colSpan:1};let C=b.computedWidth;for(let P=1;P<g;P+=1){const y=u+P;if(y>=f&&y<m){const x=p[y];C+=x.computedWidth,n(d,u+P,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(u+g,v-1),leftVisibleCellIndex:u})}n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:g,width:C}})}return{colSpan:g}},[e,n]),i=h.useCallback(({rowId:c,minFirstColumn:u,maxLastColumn:d,columns:f})=>{for(let m=u;m<d;m+=1){const p=o({columnIndex:m,rowId:c,minFirstColumnIndex:u,maxLastColumnIndex:d,columns:f});p.colSpan>1&&(m+=p.colSpan-1)}},[o]);qe(e,{unstable_getCellColSpanInfo:r,unstable_calculateColSpan:i});const a=h.useCallback(()=>{t.current={}},[]);de(e,"columnOrderChange",a)},XE=(e,t)=>{var n;const r=h.useCallback(o=>{var i;if(!((i=t.experimentalFeatures)!=null&&i.columnGrouping))return o;const l=Am(t.columnGroupingModel);return o.all.forEach(a=>{var c,u;const d=(c=l[a])!=null?c:[],f=o.lookup[a];Tk(f)&&On(d,f==null?void 0:f.groupPath)||(o.lookup[a]=w({},o.lookup[a],{groupPath:(u=l[a])!=null?u:[]}))}),o},[t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);St(e,"hydrateColumns",r)},ZE=e=>{var t,n;const r=wk(void 0,e);return XE(r,e),NE(r,e),IE(r),Ht(FE,r,e),Ht(Ek,r,e),Ht(Ak,r,e),Ht(PE,r,e),Ht((t=e.experimentalFeatures)!=null&&t.newEditingApi?SE:fE,r,e),Ht(tE,r,e),Ht(zE,r,e),Ht(cE,r,e),Ht(Jk,r,e),Ht(Ok,r,e),Ht(lE,r,e),Ht(qE,r,e),Ht(Pk,r,e),sE(r,e),TE(r,e),Ik(r,e),kE(r,e),ME(r),YE(r),Dk(r,e),((n=e.experimentalFeatures)!=null&&n.newEditingApi?jE:mE)(r,e),nE(r,e),uE(r,e),eE(r,e),BE(r,e),_k(r,e),aE(r,e),KE(r,e),HE(r,e),kk(r),Nk(r),Hk(r,e),jk(r),UE(r,e),WE(r,e),QE(r),r},JE={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},e2=100,t2={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:$s.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:kt.Cell,filterMode:Zr.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:Zr.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:Zr.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1},n2=e=>{if(e.pageSize>e2)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=Dg({props:e,name:"MuiDataGrid"}),n=h.useMemo(()=>w({},AE,t.localeText),[t.localeText]),r=h.useMemo(()=>{const o=t.components;if(!o)return w({},od);const i={};return Object.entries(od).forEach(([l,a])=>{i[l]=o[l]===void 0?a:o[l]}),i},[t.components]);return h.useMemo(()=>w({},t2,t,{localeText:n,components:r},JE),[t,n,r])},r2=["className"],s2=e=>{const{classes:t}=e;return Le({root:["virtualScroller"]},$e,t)},o2=He("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),i2=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,r2),i=be(),l=s2(i);return s.jsx(o2,w({ref:n,className:Ge(l.root,r),ownerState:i},o))}),l2=["className","style"],a2=e=>{const{classes:t,overflowedContent:n}=e;return Le({root:["virtualScrollerContent",n&&"virtualScrollerContent--overflowed"]},$e,t)},c2=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),u2=h.forwardRef(function(t,n){const{className:r,style:o}=t,i=ye(t,l2),l=be(),a=w({},l,{overflowedContent:!l.autoHeight&&(o==null?void 0:o.minHeight)==="auto"}),c=a2(a);return s.jsx(c2,w({ref:n,className:Ge(c.root,r),ownerState:a,style:o},i))}),d2=["className"],h2=e=>{const{classes:t}=e;return Le({root:["virtualScrollerRenderZone"]},$e,t)},f2=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),m2=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,d2),i=be(),l=h2(i);return s.jsx(f2,w({ref:n,className:Ge(l.root,r),ownerState:i},o))}),g2=["style"];function Jr(e,t,n=0,r=t.length){if(t.length<=0)return-1;if(n>=r)return n;const o=n+Math.floor((r-n)/2),i=t[o];return e<=i?Jr(e,t,n,o):Jr(e,t,o+1,r)}function p2(e,t,n){let r=1;for(;n<t.length&&t[n]<e;)n+=r,r*=2;return Jr(e,t,Math.floor(n/2),Math.min(n,t.length))}const Qn=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:r,maxLastIndex:o})=>[os(e-n,r,o),os(t+n,r,o)],x2=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,b2=e=>{var t,n;const r=Te(),o=be(),i=xe(r,Et),{ref:l,disableVirtualization:a,onRenderZonePositioning:c,renderZoneMinColumnIndex:u=0,renderZoneMaxColumnIndex:d=i.length,getRowProps:f}=e,m=xe(r,Pr),p=xe(r,vi),v=xe(r,Ys),b=xe(r,on),g=xe(r,Yo),C=xe(r,Ns),P=xe(r,it),y=xe(r,Jo),x=Ar(r,o),j=h.useRef(null),O=h.useRef(null),k=kr(l,O),[E,T]=h.useState(null),V=h.useRef(E),_=h.useRef({top:0,left:0}),[z,$]=h.useState({width:null,height:null}),I=h.useRef(p),A=h.useCallback(X=>{var ce,ae;const Ce=r.current.unstable_getLastMeasuredRowIndex();let Oe=Ce===1/0;(ce=x.range)!=null&&ce.lastRowIndex&&!Oe&&(Oe=Ce>=x.range.lastRowIndex);const Ne=os(Ce-(((ae=x.range)==null?void 0:ae.firstRowIndex)||0),0,C.positions.length);return Oe||C.positions[Ne]>=X?Jr(X,C.positions):p2(X,C.positions,Ne)},[r,(t=x.range)==null?void 0:t.firstRowIndex,(n=x.range)==null?void 0:n.lastRowIndex,C.positions]),L=h.useCallback(()=>{if(a)return{firstRowIndex:0,lastRowIndex:x.rows.length,firstColumnIndex:0,lastColumnIndex:i.length};const{top:X,left:ce}=_.current,ae=Math.min(A(X),C.positions.length-1),Ce=o.autoHeight?ae+x.rows.length:A(X+z.height);let Oe=!1,Ne=0,Ye=m.length;const[oe,ge]=Qn({firstIndex:ae,lastIndex:Ce,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:o.rowBuffer});for(let Se=oe;Se<ge&&!Oe;Se+=1){const De=x.rows[Se];Oe=r.current.unstable_rowHasAutoHeight(De.id)}return Oe||(Ne=Jr(ce,m),Ye=Jr(ce+z.width,m)),{firstRowIndex:ae,lastRowIndex:Ce,firstColumnIndex:Ne,lastColumnIndex:Ye}},[a,A,C.positions.length,o.autoHeight,o.rowBuffer,x.rows,m,i.length,r,z]);Jt(()=>{a?j.current.style.transform="translate3d(0px, 0px, 0px)":(O.current.scrollLeft=0,O.current.scrollTop=0)},[a]),Jt(()=>{$({width:O.current.clientWidth,height:O.current.clientHeight})},[C.currentPageTotalHeight]);const H=h.useCallback(X=>{$({width:X.width,height:X.height})},[]);de(r,"resize",H);const R=h.useCallback(X=>{const[ce,ae]=Qn({firstIndex:X.firstRowIndex,lastIndex:X.lastRowIndex,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:o.rowBuffer}),[Ce]=Qn({firstIndex:X.firstColumnIndex,lastIndex:X.lastColumnIndex,minFirstIndex:u,maxLastIndex:d,buffer:o.columnBuffer}),Oe=Cl({firstColumnToRender:Ce,apiRef:r,firstRowToRender:ce,lastRowToRender:ae,visibleRows:x.rows}),Ne=Ns(r.current.state).positions[ce],Ye=Pr(r)[Oe];j.current.style.transform=`translate3d(${Ye}px, ${Ne}px, 0px)`,typeof c=="function"&&c({top:Ne,left:Ye})},[r,x.rows,c,u,d,o.columnBuffer,o.rowBuffer]),N=h.useCallback(X=>{if(V.current&&x2(X,V.current)){R(X);return}T(X),R(X);const[ce,ae]=Qn({firstIndex:X.firstRowIndex,lastIndex:X.lastRowIndex,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:o.rowBuffer});r.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:ce,lastRowToRender:ae}),V.current=X},[r,T,V,x.rows.length,o.rowBuffer,R]);Jt(()=>{if(z.width==null)return;const X=L();N(X);const{top:ce,left:ae}=_.current,Ce={top:ce,left:ae,renderContext:X};r.current.publishEvent("rowsScroll",Ce)},[r,L,z.width,N]);const W=X=>{const{scrollTop:ce,scrollLeft:ae}=X.currentTarget;if(_.current.top=ce,_.current.left=ae,ae<0||ce<0||!V.current)return;const Ce=a?V.current:L(),Oe=Math.abs(Ce.firstRowIndex-V.current.firstRowIndex),Ne=Math.abs(Ce.lastRowIndex-V.current.lastRowIndex),Ye=Math.abs(Ce.firstColumnIndex-V.current.firstColumnIndex),oe=Math.abs(Ce.lastColumnIndex-V.current.lastColumnIndex),ge=Oe>=o.rowThreshold||Ne>=o.rowThreshold||Ye>=o.columnThreshold||oe>=o.columnThreshold||I.current!==p;r.current.publishEvent("rowsScroll",{top:ce,left:ae,renderContext:ge?Ce:V.current},X),ge&&(Vl.flushSync(()=>{N(Ce)}),I.current=p)},q=X=>{r.current.publishEvent("virtualScrollerWheel",{},X)},Z=X=>{r.current.publishEvent("virtualScrollerTouchMove",{},X)},ne=(X={renderContext:E})=>{const{renderContext:ce,minFirstColumn:ae=u,maxLastColumn:Ce=d,availableSpace:Oe=z.width,rowIndexOffset:Ne=0,position:Ye="center"}=X;if(!ce||Oe==null)return null;const oe=a?0:o.rowBuffer,ge=a?0:o.columnBuffer,[Se,De]=Qn({firstIndex:ce.firstRowIndex,lastIndex:ce.lastRowIndex,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:oe}),Ue=[];if(X.rows)X.rows.forEach(je=>{Ue.push(je),r.current.unstable_calculateColSpan({rowId:je.id,minFirstColumn:ae,maxLastColumn:Ce,columns:i})});else{if(!x.range)return null;for(let je=Se;je<De;je+=1){const Ae=x.rows[je];Ue.push(Ae),r.current.unstable_calculateColSpan({rowId:Ae.id,minFirstColumn:ae,maxLastColumn:Ce,columns:i})}}const[F,U]=Qn({firstIndex:ce.firstColumnIndex,lastIndex:ce.lastColumnIndex,minFirstIndex:ae,maxLastIndex:Ce,buffer:ge}),Q=Cl({firstColumnToRender:F,apiRef:r,firstRowToRender:Se,lastRowToRender:De,visibleRows:x.rows}),te=i.slice(Q,U),ee=[];for(let je=0;je<Ue.length;je+=1){var re,ue;const{id:Ae,model:Ee}=Ue[je],en=Se+je===x.rows.length-1,Ke=r.current.unstable_rowHasAutoHeight(Ae)?"auto":r.current.unstable_getRowHeight(Ae);let ot;y[Ae]==null?ot=!1:ot=r.current.isRowSelectable(Ae),ee.push(s.jsx(o.components.Row,w({row:Ee,rowId:Ae,rowHeight:Ke,cellFocus:b,cellTabIndex:g,editRowsState:P,renderedColumns:te,visibleColumns:i,firstColumnToRender:Q,lastColumnToRender:U,selected:ot,index:Ne+((x==null||(re=x.range)==null?void 0:re.firstRowIndex)||0)+Se+je,containerWidth:Oe,isLastVisible:en,position:Ye},typeof f=="function"?f(Ae,Ee):{},(ue=o.componentsProps)==null?void 0:ue.row),Ae))}return ee},J=z.width&&p>z.width,fe=h.useMemo(()=>{const X=Math.max(C.currentPageTotalHeight,1);let ce=!1;O!=null&&O.current&&X<=(O==null?void 0:O.current.clientHeight)&&(ce=!0);const ae={width:J?p:"auto",height:X,minHeight:ce?"100%":"auto"};return o.autoHeight&&x.rows.length===0&&(ae.height=2*v),ae},[O,p,C.currentPageTotalHeight,x.rows.length,J,o.autoHeight,v]);h.useEffect(()=>{r.current.publishEvent("virtualScrollerContentSizeChange")},[r,fe]),o.autoHeight&&x.rows.length===0&&(fe.height=2*v);const le={};J||(le.overflowX="hidden"),o.autoHeight&&(le.overflowY="hidden");const pe=h.useCallback(()=>V.current,[]);return r.current.unstable_getRenderContext=pe,{renderContext:E,updateRenderZonePosition:R,getRows:ne,getRootProps:(X={})=>{let{style:ce={}}=X,ae=ye(X,g2);return w({ref:k,onScroll:W,onWheel:q,onTouchMove:Z,style:w({},ce,le)},ae)},getContentProps:({style:X={}}={})=>({style:w({},X,fe)}),getRenderZoneProps:()=>({ref:j})}},y2=["className","disableVirtualization"],v2=h.forwardRef(function(t,n){const{className:r,disableVirtualization:o}=t,i=ye(t,y2),{getRootProps:l,getContentProps:a,getRenderZoneProps:c,getRows:u}=b2({ref:n,disableVirtualization:o});return s.jsx(i2,w({className:r},l(i),{children:s.jsx(u2,w({},a(),{children:s.jsx(m2,w({},c(),{children:u()}))}))}))}),C2=e=>{const{classes:t,headerAlign:n,isDragging:r,showRightBorder:o,showColumnBorder:i,groupId:l}=e;return Le({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",o&&"withBorder",i&&"columnHeader--showColumnBorder",l===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},$e,t)};function w2(e){var t,n;const{groupId:r,width:o,depth:i,maxDepth:l,fields:a,height:c,colIndex:u,isLastColumn:d,extendRowFullWidth:f}=e,m=be(),p=Te(),v=xe(p,Fm),{hasScrollX:b,hasScrollY:g}=(t=p.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},C=r?v[r]:{},{headerName:P=r??"",description:y="",headerAlign:x=void 0}=C;let j;const O=r&&((n=v[r])==null?void 0:n.renderHeaderGroup),k={groupId:r,headerName:P,description:y,depth:i,maxDepth:l,fields:a,colIndex:u,isLastColumn:d};r&&O&&(j=O(k));const T=d?!(d&&b&&!g)&&!f:m.showColumnRightBorder,V=m.showColumnRightBorder,_=w({},e,{classes:m.classes,showRightBorder:T,showColumnBorder:V,headerAlign:x,depth:i,isDragging:!1}),z=P??r,$=Lt(),I=r===null?`empty-group-cell-${$}`:r,A=C2(_),L=typeof C.headerClassName=="function"?C.headerClassName(k):C.headerClassName;return s.jsx(fm,{classes:A,columnMenuOpen:!1,colIndex:u,height:c,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:-1,isDraggable:!1,headerComponent:j,headerClassName:L,description:y,elementId:I,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:z,"aria-colspan":a.length,"data-fields":`|-${a.join("-|-")}-|`,disableHeaderSeparator:!0})}const ld=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function S2(e){return!!e.target}const j2=e=>{const{innerRef:t,minColumnIndex:n=0}=e,[r,o]=h.useState(""),[i,l]=h.useState(""),a=Te(),c=xe(a,Et),u=xe(a,Pr),d=xe(a,nm),f=xe(a,Yo),m=xe(a,Rw),p=xe(a,Xf),v=xe(a,Ea),b=xe(a,Xs),g=xe(a,Mw),C=xe(a,ww),P=xe(a,Mm),y=be(),x=h.useRef(null),j=kr(t,x),[O,k]=h.useState(null),E=h.useRef(O),T=h.useRef(0),V=Ar(a,y);h.useEffect(()=>{a.current.columnHeadersContainerElementRef.current.scrollLeft=0},[a]);const _=h.useRef(Uf($1,{equalityCheck:(ne,J)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(fe=>ne[fe]===J[fe])})),z=h.useCallback(ne=>{const[J,fe]=Qn({firstIndex:ne.firstRowIndex,lastIndex:ne.lastRowIndex,minFirstIndex:0,maxLastIndex:V.rows.length,buffer:y.rowBuffer}),le=_.current({firstColumnIndex:ne.firstColumnIndex,minColumnIndex:n,columnBuffer:y.columnBuffer,firstRowToRender:J,lastRowToRender:fe,apiRef:a,visibleRows:V.rows}),pe=le>0?T.current-u[le]:T.current;x.current.style.transform=`translate3d(${-pe}px, 0px, 0px)`},[u,n,y.columnBuffer,a,V.rows,y.rowBuffer]);h.useLayoutEffect(()=>{O&&z(O)},[O,z]);const $=h.useCallback(({left:ne,renderContext:J=null},fe)=>{var le,pe;if(!x.current||T.current===ne&&((le=E.current)==null?void 0:le.firstColumnIndex)===(J==null?void 0:J.firstColumnIndex)&&((pe=E.current)==null?void 0:pe.lastColumnIndex)===(J==null?void 0:J.lastColumnIndex))return;T.current=ne;let X=!1;J!==E.current||!E.current?(S2(fe)?(Vl.flushSync(()=>{k(J)}),X=!0):k(J),E.current=J):X=!0,J&&X&&z(J)},[z]),I=h.useCallback(ne=>l(ne.field),[]),A=h.useCallback(()=>l(""),[]),L=h.useCallback(ne=>o(ne.field),[]),H=h.useCallback(()=>o(""),[]);de(a,"columnResizeStart",I),de(a,"columnResizeStop",A),de(a,"columnHeaderDragStart",L),de(a,"columnHeaderDragEnd",H),de(a,"rowsScroll",$);const R=ne=>{const{renderContext:J=O,minFirstColumn:fe=n,maxLastColumn:le=c.length}=ne||{};if(!J)return null;const[pe,X]=Qn({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:V.rows.length,buffer:y.rowBuffer}),ce=_.current({firstColumnIndex:J.firstColumnIndex,minColumnIndex:fe,columnBuffer:y.columnBuffer,apiRef:a,firstRowToRender:pe,lastRowToRender:X,visibleRows:V.rows}),ae=Math.min(J.lastColumnIndex+y.columnBuffer,le);return{renderedColumns:c.slice(ce,ae),firstColumnToRender:ce,lastColumnToRender:ae,minFirstColumn:fe,maxLastColumn:le}},N=(ne,J={})=>{const fe=R(ne);if(fe==null)return null;const{renderedColumns:le,firstColumnToRender:pe}=fe,X=[];for(let ce=0;ce<le.length;ce+=1){const ae=le[ce],Ce=pe+ce,Oe=Ce===0,Ne=!(d===null&&f===null),Ye=d!==null&&d.field===ae.field||Oe&&!Ne?0:-1,oe=m!==null&&m.field===ae.field,ge=P.open&&P.field===ae.field;X.push(s.jsx(Aj,w({},C[ae.field],{columnMenuOpen:ge,filterItemsCounter:g[ae.field]&&g[ae.field].length,headerHeight:p,isDragging:ae.field===r,column:ae,colIndex:Ce,isResizing:i===ae.field,isLastColumn:Ce===c.length-1,extendRowFullWidth:!y.disableExtendRowFullWidth,hasFocus:oe,tabIndex:Ye},J),ae.field))}return s.jsx(ld,{role:"row","aria-rowindex":v+1,ownerState:y,children:X})},W=(ne=[],J)=>ne.slice(0,J+1),q=ne=>{if(v===0)return null;const J=R(ne);if(J==null||J.renderedColumns.length===0)return null;const{renderedColumns:fe,firstColumnToRender:le,lastColumnToRender:pe,maxLastColumn:X}=J,ce=[],ae=[];for(let te=0;te<v;te+=1){var Ce,Oe,Ne;const ee=[];let re=0,ue=le-1;const je=(Ce=c[le])==null||(Oe=Ce.groupPath)==null?void 0:Oe[te],Ae=W((Ne=c[le])==null?void 0:Ne.groupPath,te);for(;je!==null&&ue>=n&&(Ye=c[ue])!=null&&Ye.groupPath&&On(W((oe=c[ue])==null?void 0:oe.groupPath,te),Ae);){var Ye,oe,ge;const Ke=c[ue];if(re+=(ge=Ke.computedWidth)!=null?ge:0,ee.length===0){var Se;ee.push({width:(Se=Ke.computedWidth)!=null?Se:0,fields:[Ke.field],groupId:je,groupParents:Ae,colIndex:ue})}else{var De;ee[0].width+=(De=Ke.computedWidth)!=null?De:0,ee[0].fields.push(Ke.field),ee[0].colIndex=ue}ue-=1}const Ee=fe.reduce((Ke,ot,$n)=>{var Rn;const It=Ke[Ke.length-1];if(ot.groupPath&&ot.groupPath.length>te){var cr;if(It&&It.groupId===ot.groupPath[te]){var ur;return[...Ke.slice(0,Ke.length-1),w({},It,{width:It.width+((ur=ot.computedWidth)!=null?ur:0),fields:[...It.fields,ot.field]})]}return[...Ke,{groupId:ot.groupPath[te],groupParents:W(ot.groupPath,te),width:(cr=ot.computedWidth)!=null?cr:0,fields:[ot.field],colIndex:le+$n}]}if(It&&It.groupId===null&&On(W(ot.groupPath,te),It.groupParents)){var Nn;return[...Ke.slice(0,Ke.length-1),w({},It,{width:It.width+((Nn=ot.computedWidth)!=null?Nn:0),fields:[...It.fields,ot.field]})]}return[...Ke,{groupId:null,groupParents:W(ot.groupPath,te),width:(Rn=ot.computedWidth)!=null?Rn:0,fields:[ot.field],colIndex:le+$n}]},ee);ue=pe;const en=Ee[Ee.length-1].groupId;for(;en!==null&&ue<X&&(Ue=c[ue])!=null&&Ue.groupPath&&((F=c[ue])==null||(U=F.groupPath)==null?void 0:U[te])===en;){var Ue,F,U,Q;const Ke=c[ue];Ee[Ee.length-1].width+=(Q=Ke.computedWidth)!=null?Q:0,Ee[Ee.length-1].fields.push(Ke.field),ue+=1}ae.push({leftOverflow:re,elements:[...Ee]})}return ae.forEach((te,ee)=>{ce.push(s.jsx(ld,{style:{height:`${p}px`,transform:`translateX(-${te.leftOverflow}px)`},role:"row","aria-rowindex":ee+1,ownerState:y,children:te.elements.map(({groupId:re,width:ue,fields:je,colIndex:Ae},Ee)=>s.jsx(w2,{groupId:re,width:ue,fields:je,colIndex:Ae,depth:ee,isLastColumn:Ae===c.length-je.length,extendRowFullWidth:!y.disableExtendRowFullWidth,maxDepth:ae.length,height:p},Ee))},ee))}),ce},Z={minHeight:b,maxHeight:b,lineHeight:`${p}px`};return{renderContext:O,getColumnHeaders:N,getColumnGroupHeaders:q,isDragging:!!r,getRootProps:(ne={})=>w({style:Z},ne),getInnerProps:()=>({ref:j,role:"rowgroup"})}},P2=["className"],k2=e=>{const{classes:t}=e;return Le({root:["columnHeaders"]},$e,t)},E2=He("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>({position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:`1px solid ${e.palette.mode==="light"?Tl(nn(e.palette.divider,1),.88):Al(nn(e.palette.divider,1),.68)}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius})),I2=h.forwardRef(function(t,n){const{className:r}=t,o=ye(t,P2),i=be(),l=k2(i);return s.jsx(E2,w({ref:n,className:Ge(r,l.root),ownerState:i},o))}),M2=["isDragging","className"],F2=e=>{const{isDragging:t,hasScrollX:n,classes:r}=e;return Le({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},$e,r)},T2=He("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${G.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${G.columnHeaderDropZone} .${G.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${G["columnHeadersInner--scrollable"]} .${G.columnHeader}:last-child`]:{borderRight:"none"}})),A2=h.forwardRef(function(t,n){var r,o;const{isDragging:i,className:l}=t,a=ye(t,M2),c=Te(),u=be(),d=w({},u,{isDragging:i,hasScrollX:(r=(o=c.current.getRootDimensions())==null?void 0:o.hasScrollX)!=null?r:!1}),f=F2(d);return s.jsx(T2,w({ref:n,className:Ge(l,f.root),ownerState:d},a))}),D2=["innerRef","className"],O2=h.forwardRef(function(t,n){const{innerRef:r}=t,o=ye(t,D2),{isDragging:i,getRootProps:l,getInnerProps:a,getColumnHeaders:c,getColumnGroupHeaders:u}=j2({innerRef:r});return s.jsxs(I2,w({ref:n},l(o),{children:[s.jsx(Qu,{scrollDirection:"left"}),s.jsxs(A2,w({isDragging:i},a(),{children:[u(),c()]})),s.jsx(Qu,{scrollDirection:"right"})]}))}),Hm=h.forwardRef(function(t,n){const r=n2(t),o=ZE(r);return s.jsx(ak,{apiRef:o,props:r,children:s.jsx(ZS,{className:r.className,style:r.style,sx:r.sx,ref:n,children:s.jsxs(Vw,{children:[s.jsx($w,{}),s.jsx(Ow,{ColumnHeadersComponent:O2,VirtualScrollerComponent:v2}),s.jsx(Lw,{})]})})})}),no=h.memo(Hm);Hm.propTypes={"aria-label":K.string,"aria-labelledby":K.string,autoHeight:K.bool,autoPageSize:K.bool,cellModesModel:K.object,checkboxSelection:K.bool,classes:K.object,columnBuffer:K.number,columnGroupingModel:K.arrayOf(K.object),columns:Pi(K.array.isRequired),columnThreshold:K.number,columnTypes:K.object,columnVisibilityModel:K.object,components:K.object,componentsProps:K.object,density:K.oneOf(["comfortable","compact","standard"]),disableColumnFilter:K.bool,disableColumnMenu:K.bool,disableColumnSelector:K.bool,disableDensitySelector:K.bool,disableExtendRowFullWidth:K.bool,disableIgnoreModificationsIfProcessingProps:K.bool,disableSelectionOnClick:K.bool,disableVirtualization:K.bool,editMode:K.oneOf(["cell","row"]),editRowsModel:K.object,error:K.any,experimentalFeatures:K.shape({columnGrouping:K.bool,newEditingApi:K.bool,preventCommitWhileValidating:K.bool,warnIfFocusStateIsNotSynced:K.bool}),filterMode:K.oneOf(["client","server"]),filterModel:K.shape({items:K.arrayOf(K.shape({columnField:K.string.isRequired,id:K.oneOfType([K.number,K.string]),operatorValue:K.string,value:K.any})).isRequired,linkOperator:K.oneOf(["and","or"]),quickFilterLogicOperator:K.oneOf(["and","or"]),quickFilterValues:K.array}),getCellClassName:K.func,getDetailPanelContent:K.func,getEstimatedRowHeight:K.func,getRowClassName:K.func,getRowHeight:K.func,getRowId:K.func,getRowSpacing:K.func,headerHeight:K.number,hideFooter:K.bool,hideFooterPagination:K.bool,hideFooterSelectedRowCount:K.bool,initialState:K.object,isCellEditable:K.func,isRowSelectable:K.func,keepNonExistentRowsSelected:K.bool,loading:K.bool,localeText:K.object,logger:K.shape({debug:K.func.isRequired,error:K.func.isRequired,info:K.func.isRequired,warn:K.func.isRequired}),logLevel:K.oneOf(["debug","error","info","warn",!1]),nonce:K.string,onCellClick:K.func,onCellDoubleClick:K.func,onCellEditCommit:K.func,onCellEditStart:K.func,onCellEditStop:K.func,onCellFocusOut:K.func,onCellKeyDown:K.func,onCellModesModelChange:K.func,onColumnHeaderClick:K.func,onColumnHeaderDoubleClick:K.func,onColumnHeaderEnter:K.func,onColumnHeaderLeave:K.func,onColumnHeaderOut:K.func,onColumnHeaderOver:K.func,onColumnOrderChange:K.func,onColumnVisibilityChange:K.func,onColumnVisibilityModelChange:K.func,onEditCellPropsChange:K.func,onEditRowsModelChange:K.func,onError:K.func,onFilterModelChange:K.func,onMenuClose:K.func,onMenuOpen:K.func,onPageChange:K.func,onPageSizeChange:K.func,onPreferencePanelClose:K.func,onPreferencePanelOpen:K.func,onProcessRowUpdateError:K.func,onResize:K.func,onRowClick:K.func,onRowDoubleClick:K.func,onRowEditCommit:K.func,onRowEditStart:K.func,onRowEditStop:K.func,onRowModesModelChange:K.func,onSelectionModelChange:K.func,onSortModelChange:K.func,onStateChange:K.func,page:K.number,pageSize:Pi(K.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:K.oneOf(["client","server"]),processRowUpdate:K.func,rowBuffer:K.number,rowCount:K.number,rowHeight:K.number,rowModesModel:K.object,rows:K.arrayOf(K.object).isRequired,rowSpacingType:K.oneOf(["border","margin"]),rowsPerPageOptions:K.arrayOf(K.number),rowThreshold:K.number,scrollbarSize:K.number,selectionModel:Pi(K.oneOfType([K.number,K.string,K.array])),showCellRightBorder:K.bool,showColumnRightBorder:K.bool,sortingMode:K.oneOf(["client","server"]),sortingOrder:K.arrayOf(K.oneOf(["asc","desc"])),sortModel:K.arrayOf(K.shape({field:K.string.isRequired,sort:K.oneOf(["asc","desc"])})),sx:K.oneOfType([K.arrayOf(K.oneOfType([K.func,K.object,K.bool])),K.func,K.object])};const ro="crm_clients",cs=()=>{try{const e=localStorage.getItem(ro);return e?JSON.parse(e):[]}catch(e){return console.error("Ошибка при получении клиентов:",e),[]}},Wm=e=>{try{const t=cs(),n=t.findIndex(r=>r.id===e.id);return n>=0?t[n]=e:t.push(e),localStorage.setItem(ro,JSON.stringify(t)),e}catch(t){throw console.error("Ошибка при сохранении клиента:",t),t}},_2=e=>{const t={id:Date.now().toString(),firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",email:e.email||"",address:e.address||"",notes:e.notes||"",totalOrders:0,totalSpent:0,lastOrderDate:null,lastVisit:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return Wm(t)},V2=e=>cs().find(n=>n.phone===e)||null,L2=(e,t)=>{try{const n=cs(),r=n.findIndex(o=>o.id===e);return r>=0?(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},localStorage.setItem(ro,JSON.stringify(n)),n[r]):null}catch(n){throw console.error("Ошибка при обновлении клиента:",n),n}},$2=e=>{try{const n=cs().filter(r=>r.id!==e);return localStorage.setItem(ro,JSON.stringify(n)),!0}catch(t){return console.error("Ошибка при удалении клиента:",t),!1}},R2=(e,t)=>{try{const n=cs(),r=n.findIndex(o=>o.id===e);r>=0&&(n[r].totalOrders+=1,n[r].totalSpent+=t,n[r].lastOrderDate=new Date().toISOString(),n[r].lastVisit=new Date().toISOString(),n[r].updatedAt=new Date().toISOString(),localStorage.setItem(ro,JSON.stringify(n)))}catch(n){console.error("Ошибка при обновлении статистики клиента:",n)}},Xt={getClients:cs,saveClient:Wm,createClient:_2,findClientByPhone:V2,updateClient:L2,deleteClient:$2,updateClientStats:R2};class N2{constructor(){dr(this,"orders",[]);dr(this,"devices",[]);dr(this,"nextOrderNumber",1);this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_orders"),n=localStorage.getItem("crm_devices"),r=localStorage.getItem("crm_next_order_number");t&&(this.orders=JSON.parse(t)),n&&(this.devices=JSON.parse(n)),r&&(this.nextOrderNumber=parseInt(r))}saveToStorage(){localStorage.setItem("crm_orders",JSON.stringify(this.orders)),localStorage.setItem("crm_devices",JSON.stringify(this.devices)),localStorage.setItem("crm_next_order_number",this.nextOrderNumber.toString())}async createOrder(t){const n=`#${String(this.nextOrderNumber).padStart(6,"0")}`;this.nextOrderNumber++;const r=Xt.getClients().find(l=>l.id===t.clientId),o=this.devices.find(l=>l.id===t.deviceId),i={id:Date.now().toString(),orderNumber:n,clientId:t.clientId||"",deviceId:t.deviceId||"",technicianId:t.technicianId||"",status:t.status||"diagnosis",priority:t.priority||"medium",description:t.description||"",diagnosis:t.diagnosis||"",estimatedCost:t.estimatedCost||0,finalCost:t.finalCost||0,estimatedDays:t.estimatedDays||3,actualDays:t.actualDays||0,parts:t.parts||[],payments:t.payments||[],isPaid:t.isPaid||!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:t.completedAt,clientName:r?`${r.firstName} ${r.lastName}`:"",clientPhone:(r==null?void 0:r.phone)||"",deviceBrand:(o==null?void 0:o.brand)||"",deviceModel:(o==null?void 0:o.model)||"",deviceSerial:(o==null?void 0:o.serialNumber)||"",deviceImei:(o==null?void 0:o.imei)||"",deviceColor:(o==null?void 0:o.color)||"",deviceCondition:(o==null?void 0:o.condition)||"good",deviceExternalCondition:(o==null?void 0:o.externalCondition)||""};return this.orders.push(i),this.saveToStorage(),i}async updateOrder(t,n){const r=this.orders.findIndex(i=>i.id===t);if(r===-1)throw new Error("Заказ не найден");const o=this.orders[r];if(this.orders[r]={...o,...n,updatedAt:new Date().toISOString()},n.clientName||n.clientPhone){const i=Xt.getClients(),l=i.findIndex(a=>a.id===o.clientId);if(l!==-1){const a=(n.clientName||o.clientName||"").split(" "),c={...i[l],firstName:a[0]||"",lastName:a.slice(1).join(" ")||"",phone:n.clientPhone||o.clientPhone||i[l].phone,updatedAt:new Date().toISOString()};Xt.updateClient(i[l].id,c)}}if(n.deviceBrand||n.deviceModel||n.deviceSerial||n.deviceImei||n.deviceColor||n.deviceCondition||n.deviceExternalCondition){const i=this.devices.findIndex(l=>l.id===o.deviceId);i!==-1&&(this.devices[i]={...this.devices[i],brand:n.deviceBrand||o.deviceBrand||this.devices[i].brand,model:n.deviceModel||o.deviceModel||this.devices[i].model,serialNumber:n.deviceSerial||o.deviceSerial||this.devices[i].serialNumber,imei:n.deviceImei||o.deviceImei||this.devices[i].imei,color:n.deviceColor||o.deviceColor||this.devices[i].color,condition:n.deviceCondition||o.deviceCondition||this.devices[i].condition,externalCondition:n.deviceExternalCondition||o.deviceExternalCondition||this.devices[i].externalCondition})}return this.saveToStorage(),this.orders[r]}async deleteOrder(t){const n=this.orders.findIndex(r=>r.id===t);if(n===-1)throw new Error("Заказ не найден");this.orders.splice(n,1),this.saveToStorage()}async getOrders(){return[...this.orders]}async getOrderById(t){return this.orders.find(n=>n.id===t)||null}async getOrdersByStatus(t){return this.orders.filter(n=>n.status===t)}async createDevice(t){const n={id:Date.now().toString(),type:t.type||"other",brand:t.brand||"",model:t.model||"",serialNumber:t.serialNumber||"",imei:t.imei||"",color:t.color||"",condition:t.condition||"good",externalCondition:t.externalCondition||"",clientId:t.clientId||"",createdAt:new Date().toISOString()};return this.devices.push(n),this.saveToStorage(),n}async getOrderStats(){const t=this.orders.length,n=this.orders.filter(l=>l.status==="completed").length,r=this.orders.filter(l=>l.status==="pending").length,o=this.orders.filter(l=>l.status==="in_progress").length,i=this.orders.filter(l=>l.status==="waiting_parts").length;return{totalOrders:t,completedOrders:n,pendingOrders:r,inProgressOrders:o,waitingPartsOrders:i}}async getOverdueOrders(){const t=new Date;return this.orders.filter(n=>{if(n.status==="completed"||n.status==="cancelled")return!1;const r=new Date(n.createdAt);return r.setHours(r.getHours()+(n.estimatedDays||1)*24),r<t})}async updateOrderStatus(t,n){return this.updateOrder(t,{status:n})}async addPayment(t,n){const r=await this.getOrderById(t);if(!r)throw new Error("Заказ не найден");const o={id:Date.now().toString(),orderId:t,amount:n.amount,method:n.method,status:"completed",processedBy:n.processedBy,processedAt:new Date,notes:n.notes||""};return r.payments.push(o),r.finalCost=r.payments.reduce((i,l)=>i+l.amount,0),r.finalCost>=r.estimatedCost&&(r.isPaid=!0),this.updateOrder(t,r)}}const dn=new N2;class z2{constructor(){dr(this,"acceptanceActs",[]);dr(this,"workCompletionActs",[]);dr(this,"documentStorage",[]);this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_acceptance_acts"),n=localStorage.getItem("crm_work_completion_acts"),r=localStorage.getItem("crm_document_storage");t&&(this.acceptanceActs=JSON.parse(t).map(o=>({...o,acceptanceDate:new Date(o.acceptanceDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),n&&(this.workCompletionActs=JSON.parse(n).map(o=>({...o,completionDate:new Date(o.completionDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),r&&(this.documentStorage=JSON.parse(r).map(o=>({...o,createdAt:new Date(o.createdAt)})))}saveToStorage(){localStorage.setItem("crm_acceptance_acts",JSON.stringify(this.acceptanceActs)),localStorage.setItem("crm_work_completion_acts",JSON.stringify(this.workCompletionActs)),localStorage.setItem("crm_document_storage",JSON.stringify(this.documentStorage))}async createAcceptanceAct(t,n,r,o,i,l,a="Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику."){const c=`АП-${Date.now()}`,u={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,problemDescription:o,preliminaryCost:i,acceptanceDate:new Date,acceptedBy:l,conditions:a,documentNumber:c,createdAt:new Date,updatedAt:new Date};return this.acceptanceActs.push(u),this.saveToStorage(),u}async createWorkCompletionAct(t,n,r,o,i,l,a,c){const u=`АВР-${Date.now()}`,d={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,worksPerformed:o,partsUsed:i,totalCost:l,warrantyPeriod:a,completionDate:new Date,completedBy:c,documentNumber:u,createdAt:new Date,updatedAt:new Date};return this.workCompletionActs.push(d),this.saveToStorage(),d}async addSignature(t,n,r,o,i,l,a){const c={id:Date.now().toString(),signerName:o,signerRole:i,signatureData:r,signedAt:new Date,ipAddress:l,userAgent:a};if(n==="acceptance"){const u=this.acceptanceActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}else{const u=this.workCompletionActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}this.saveToStorage()}async getAcceptanceActByOrderId(t){return this.acceptanceActs.find(n=>n.orderId===t)||null}async getWorkCompletionActByOrderId(t){return this.workCompletionActs.find(n=>n.orderId===t)||null}async getAcceptanceActs(){return this.acceptanceActs}async getWorkCompletionActs(){return this.workCompletionActs}async markDocumentAsPrinted(t,n){if(n==="acceptance"){const r=this.acceptanceActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}else{const r=this.workCompletionActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}this.saveToStorage()}async saveDocumentToStorage(t,n,r,o,i,l){const a={id:Date.now().toString(),orderId:t,documentType:n,documentId:r,filePath:o,fileSize:i,mimeType:l,createdAt:new Date};this.documentStorage.push(a),this.saveToStorage()}async getDocumentsByOrderId(t){return this.documentStorage.filter(n=>n.orderId===t)}}const Ki=new z2,B2=({open:e,onClose:t,onSave:n,signerName:r,signerRole:o})=>{const i=h.useRef(null),[l,a]=h.useState(!1),[c,u]=h.useState(!1);h.useEffect(()=>{e&&(u(!1),d())},[e]);const d=()=>{const g=i.current;if(g){const C=g.getContext("2d");C&&(C.clearRect(0,0,g.width,g.height),C.fillStyle="#ffffff",C.fillRect(0,0,g.width,g.height),u(!1))}},f=g=>{a(!0);const C=i.current;if(C){const P=C.getBoundingClientRect(),y=C.getContext("2d");y&&(y.beginPath(),y.moveTo(g.clientX-P.left,g.clientY-P.top))}},m=g=>{if(!l)return;const C=i.current;if(C){const P=C.getBoundingClientRect(),y=C.getContext("2d");y&&(y.lineTo(g.clientX-P.left,g.clientY-P.top),y.stroke(),u(!0))}},p=()=>{a(!1)},v=()=>{const g=i.current;if(g&&c){const C=g.toDataURL("image/png");n(C),t()}},b=g=>{switch(g){case"client":return"Клиент";case"master":return"Мастер";case"manager":return"Менеджер";default:return"Подписант"}};return s.jsxs(bt,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(S,{variant:"h6",children:"Электронная подпись"}),s.jsx(Be,{onClick:t,size:"small",children:s.jsx(Dl,{})})]})}),s.jsxs(vt,{children:[s.jsx(B,{sx:{mb:2},children:s.jsxs(S,{variant:"body2",color:"textSecondary",children:["Подписант: ",r," (",b(o),")"]})}),s.jsxs(Zt,{elevation:2,sx:{border:"2px dashed #ccc",borderRadius:2,overflow:"hidden",position:"relative"},children:[s.jsx("canvas",{ref:i,width:600,height:200,style:{display:"block",cursor:"crosshair",backgroundColor:"#ffffff"},onMouseDown:f,onMouseMove:m,onMouseUp:p,onMouseLeave:p}),!c&&s.jsx(B,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#999",pointerEvents:"none"},children:s.jsx(S,{variant:"body2",children:"Распишитесь здесь"})})]}),s.jsx(B,{sx:{mt:2,display:"flex",gap:1},children:s.jsx(me,{variant:"outlined",startIcon:s.jsx(Og,{}),onClick:d,disabled:!c,children:"Очистить"})})]}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:t,children:"Отмена"}),s.jsx(me,{variant:"contained",startIcon:s.jsx(wd,{}),onClick:v,disabled:!c,children:"Сохранить подпись"})]})]})},H2=({open:e,onClose:t,document:n,documentType:r,onSign:o})=>{const[i,l]=h.useState(!1),[a,c]=h.useState("client"),[u,d]=h.useState(!1);if(!n)return null;const f=b=>{o&&o(b,a),l(!1)},m=()=>{d(!0);try{window.print()}catch(b){console.error("Ошибка при печати:",b),Pe.error("Ошибка при печати")}finally{d(!1)}},p=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(S,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ПРИЕМА-ПЕРЕДАЧИ УСТРОЙСТВА В РЕМОНТ"}),s.jsxs(S,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(S,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.acceptanceDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(S,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px"},children:"Ежедневно С 10:00 - 19:00"})]})}),s.jsx(Cs,{component:Zt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(ws,{size:"small",children:[s.jsx(Ss,{children:s.jsxs(Qt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(js,{children:s.jsxs(Qt,{children:[s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заметки:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"Устройство у клиента"})]}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Внешний вид устройства:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.externalCondition||"Потертости, Царапины"})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочная стоимость:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:[b.preliminaryCost,"+",Math.round(b.preliminaryCost*.1)]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.preliminaryCost*.3)})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочный срок ремонта:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:new Date(Date.now()+3*24*60*60*1e3).toLocaleDateString("ru-RU")})]}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.problemDescription})]})]})]})})]})}),s.jsxs(B,{sx:{mb:3},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",mb:2,fontWeight:"bold"},children:"Условия:"}),s.jsxs(B,{sx:{fontSize:"10px",lineHeight:1.3},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"1. Подписанием настоящего акта приема-передачи устройства клиент подтверждает, что ознакомлен и согласен с правилами и условиями проведения ремонтных работ, изложенными в публичной оферте сервисного центра, являющейся неотъемлемой частью настоящего договора."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"2. Установленные узлы или расходные материалы возврату не подлежат, согласно Перечню сложнотехнических товаров, не подлежащих обмену или возврату."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"3. Клиент согласен с тем, что гарантия производителя аннулируется после ремонта."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"4. Исполнитель не несет ответственности за возможную потерю информации на внутренних накопителях устройства, связанную с заменой узлов и компонентов."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"5. Исполнитель не несет ответственности за целостность гарантийных пломб сторонних сервисных центров и производителя устройства."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"6. Клиент принимает на себя риск, связанный с возможным проявлением при ремонте скрытых дефектов, присутствующих в устройстве на момент приема от клиента, которые не могут быть проверены и зафиксированы в настоящем документе (наличие следов коррозии, попадание влаги, инородные предметы, следы механических повреждений и другие непредусмотренные производителем вмешательства в устройство и его компоненты)."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:'7. Ремонт и обслуживание проводятся в соответствии с требованиями нормативных документов, включая ГОСТ 12.2006-87 п.п. 9.1, ГОСТ Р 50377-92 п.п. 2.1.4, ГОСТ Р 50936-96, ГОСТ Р 50938-96 и согласно Федеральному закону "О защите прав потребителей".'}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"8. Устройство клиента принимается без разборки и выявления внутренних неисправностей."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"9. Клиент согласен с тем, что при ремонте устройства могут быть заменены компоненты, узлы, модули, влияющие на идентификацию IMEI номера устройства."}),s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"10. Факт возврата устройства из ремонта фиксируется в форме БО-17, которую Исполнитель заполняет в двух экземплярах при возврате владельцу устройства."})]})]}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"С условиями ознакомлен и согласен, устройство в указанном состоянии и работоспособности передал:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(S,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"Устройство в указанном состоянии и работоспособности принял:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(S,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]}),v=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(S,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ВЫПОЛНЕННЫХ РАБОТ"}),s.jsxs(S,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(S,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.completionDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(S,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(S,{variant:"body2",sx:{fontSize:"12px"},children:"Пн - Сб с 10:00 - 19:00, Вс с 12:00 - 19:00"})]})}),s.jsx(Cs,{component:Zt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(ws,{size:"small",children:[s.jsx(Ss,{children:s.jsxs(Qt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(js,{children:s.jsxs(Qt,{children:[s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsxs(S,{variant:"body2",sx:{fontSize:"11px"},children:["Внешний вид устройства: ",b.device.externalCondition||"Потертости, Царапины"]})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.totalCost*.3)})]}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(S,{variant:"body2",sx:{fontSize:"11px"},children:b.worksPerformed.map(g=>g.name).join(", ")})]})]})]})})]})}),s.jsx(B,{sx:{mb:3},children:s.jsx(S,{variant:"body2",sx:{fontSize:"10px",lineHeight:1.3},children:"Клиент согласен с тем что ипользование устройства без защитного аксессуара лишает гарантии на экран (дисплейный модуль, стекло) поскольку любое физическое воздействие кроме изложенных в инструкции по эксплуатации может служить причиной выхода из строя модуля за которые исполнитель не несет ответственность."})}),s.jsx(Cs,{component:Zt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(ws,{size:"small",children:[s.jsx(Ss,{children:s.jsxs(Qt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"5%"},children:"№"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"40%"},children:"Наименование работы"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Гарантия, дн."}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Цена, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Скидка, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Количество"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Сумма, Р"})]})}),s.jsxs(js,{children:[b.worksPerformed.map((g,C)=>s.jsxs(Qt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C+1}),s.jsx(Me,{sx:{border:"1px solid #000",fontSize:"11px"},children:g.name}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.cost}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.quantity}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.totalCost})]},g.id)),b.partsUsed.map((g,C)=>s.jsxs(Qt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.worksPerformed.length+C+1}),s.jsx(Me,{sx:{border:"1px solid #000",fontSize:"11px"},children:g.name}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.unitPrice}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.quantity}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:g.totalPrice})]},g.id)),s.jsxs(Qt,{children:[s.jsx(Me,{colSpan:6,sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"right",fontSize:"11px"},children:"Сумма, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px"},children:b.totalCost})]})]})]})}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Подтверждаю, что исполнитель выполнил указанные работы, функционал согласно приложению 1 проверен. Претензий к внешнему виду и качеству работы не имею. Ознакомлен(а) с условиями гарантии, устройство принял(а) без замечаний."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(S,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(S,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Выполнил указанные в акте работы, передал устройство клиенту, подтверждая гарантию на выполненные работы в соответствии с условиями гарантии."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(S,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsxs(bt,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{sx:{"@media print":{display:"none"}},children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(S,{variant:"h6",children:r==="acceptance"?"Акт приема-передачи":"Акт выполненных работ"}),s.jsxs(B,{children:[s.jsx(Be,{onClick:m,disabled:u,sx:{mr:1},children:s.jsx(To,{})}),s.jsx(Be,{onClick:t,sx:{ml:1},children:s.jsx(Dl,{})})]})]})}),s.jsx(vt,{sx:{p:0},children:r==="acceptance"?p(n):v(n)}),s.jsx(Ct,{sx:{"@media print":{display:"none"}},children:s.jsx(me,{onClick:t,children:"Закрыть"})})]}),s.jsx(B2,{open:i,onClose:()=>l(!1),onSave:f,signerName:a==="client"?n.client.firstName+" "+n.client.lastName:"Мастер",signerRole:a})]})},W2=ya({orderType:Tt().required("Выберите тип заказа"),clientType:Tt().required("Выберите тип клиента"),clientName:Tt().required("ФИО клиента обязательно"),phone:Tt().required("Телефон обязателен"),manager:Tt().required("Менеджер обязателен"),deadline:Tt().required("Срок обязателен"),color:Tt().required("Цвет обязателен"),serialNumber:Tt().required("Серийный номер обязателен"),imei:Tt().required("IMEI обязателен"),reasonForContact:Tt().required("Причина обращения обязательна"),password:Tt().required("Пароль обязателен"),completeness:Tt().required("Комплектация обязательна")}),G2=({open:e,onClose:t,onSubmit:n})=>{const{control:r,handleSubmit:o,formState:{errors:i},reset:l}=Ef({resolver:Mf(W2),defaultValues:{orderType:"paid",clientType:"individual",manager:"Артем",deadline:"09.10.2025 14:00"}}),a=u=>{n(u),l(),t(),Pe.success("Заказ успешно создан")},c=()=>{l(),t()};return s.jsxs(bt,{open:e,onClose:c,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(S,{variant:"h6",children:"Заказ"}),s.jsx(nt,{name:"orderType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",children:s.jsxs(Qa,{...u,row:!0,children:[s.jsx(xs,{value:"paid",control:s.jsx(so,{size:"small"}),label:"Платный"}),s.jsx(xs,{value:"warranty",control:s.jsx(so,{size:"small"}),label:"Гарантийный"})]})})})]}),s.jsxs(B,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Be,{size:"small",children:s.jsx(_g,{})}),s.jsx(Be,{size:"small",children:s.jsx(Vg,{})}),s.jsx(Be,{onClick:c,size:"small",children:s.jsx(Dl,{})})]})]})}),s.jsx(vt,{dividers:!0,children:s.jsxs(D,{container:!0,spacing:3,children:[s.jsxs(D,{item:!0,xs:6,children:[s.jsxs(Zt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Клиент"}),s.jsx(nt,{name:"clientType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",sx:{mb:2},children:s.jsxs(Qa,{...u,row:!0,children:[s.jsx(xs,{value:"individual",control:s.jsx(so,{size:"small"}),label:"Физ. лицо"}),s.jsx(xs,{value:"company",control:s.jsx(so,{size:"small"}),label:"Компания *"})]})})}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"clientName",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Клиент *",fullWidth:!0,size:"small",error:!!i.clientName,helperText:(d=i.clientName)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"phone",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Телефон",fullWidth:!0,size:"small",error:!!i.phone,helperText:(d=i.phone)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"email",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Почта",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"howDidYouKnow",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Откуда узнал",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"clientComment",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Комментарий о клиенте",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"discount",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Сделать скидку",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"birthday",control:r,render:({field:u})=>s.jsx(se,{...u,label:"День рождения",fullWidth:!0,size:"small",type:"date",InputLabelProps:{shrink:!0}})})})]})]}),s.jsxs(Zt,{elevation:1,sx:{p:2},children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Дополнительно"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"prepayment",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Предоплата, Р",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"performer",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Исполнитель",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"manager",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Менеджер *",fullWidth:!0,size:"small",error:!!i.manager,helperText:(d=i.manager)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"deadline",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Срок *",fullWidth:!0,size:"small",error:!!i.deadline,helperText:(d=i.deadline)==null?void 0:d.message})}})})]})]})]}),s.jsxs(D,{item:!0,xs:6,children:[s.jsxs(Zt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Информация"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"advance",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Аванс",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"color",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Цвет *",fullWidth:!0,size:"small",error:!!i.color,helperText:(d=i.color)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"serialNumber",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"S/N *",fullWidth:!0,size:"small",error:!!i.serialNumber,helperText:(d=i.serialNumber)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"imei",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"IMEI *",fullWidth:!0,size:"small",error:!!i.imei,helperText:(d=i.imei)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"reasonForContact",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Причина обращения *",fullWidth:!0,size:"small",multiline:!0,rows:2,error:!!i.reasonForContact,helperText:(d=i.reasonForContact)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"model",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Модель",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"appearance",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Внешний вид",fullWidth:!0,size:"small"})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"password",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Пароль *",fullWidth:!0,size:"small",error:!!i.password,helperText:(d=i.password)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"completeness",control:r,render:({field:u})=>{var d;return s.jsx(se,{...u,label:"Комплектация *",fullWidth:!0,size:"small",error:!!i.completeness,helperText:(d=i.completeness)==null?void 0:d.message})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(nt,{name:"receptionistNotes",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Заметки приемщика",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"estimatedPrice",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Ориент. цена",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(D,{item:!0,xs:6,children:s.jsx(nt,{name:"recommendations",control:r,render:({field:u})=>s.jsx(se,{...u,label:"Рекомендации",fullWidth:!0,size:"small"})})})]})]}),s.jsxs(Zt,{elevation:1,sx:{p:2},children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[s.jsx(S,{variant:"h6",children:"Товары и услуги"}),s.jsx(me,{variant:"outlined",size:"small",children:"Добавить"})]}),s.jsx(S,{variant:"body2",color:"textSecondary",children:"Здесь будут отображаться добавленные товары и услуги"})]})]})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:c,children:"Отмена"}),s.jsx(me,{onClick:o(a),variant:"contained",children:"Создать заказ"})]})]})},U2=["Apple","Samsung","Xiaomi","Huawei","OnePlus","Google","Sony","LG","Motorola","Nokia","Realme","Oppo","Vivo","Honor","Asus","Lenovo","HP","Dell","Acer","MSI","Razer","Alienware"],q2={Apple:["iPhone 15 Pro Max","iPhone 15 Pro","iPhone 15","iPhone 14 Pro Max","iPhone 14 Pro","iPhone 14","iPhone 13 Pro Max","iPhone 13 Pro","iPhone 13","iPhone 12 Pro Max","iPhone 12 Pro","iPhone 12","iPhone 11 Pro Max","iPhone 11 Pro","iPhone 11","iPhone SE","iPad Pro","iPad Air","iPad","iPad mini","MacBook Pro","MacBook Air","iMac","Mac Studio","Mac Pro"],Samsung:["Galaxy S24 Ultra","Galaxy S24+","Galaxy S24","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy Note 20","Galaxy A54","Galaxy A34","Galaxy A24","Galaxy Z Fold 5","Galaxy Z Flip 5","Galaxy Tab S9","Galaxy Tab A8","Galaxy Watch 6"],Xiaomi:["Mi 14 Pro","Mi 14","Mi 13 Pro","Mi 13","Redmi Note 13 Pro","Redmi Note 13","Redmi 12","POCO X6 Pro","POCO F5","Mi Pad 6","Mi Watch"],Huawei:["P60 Pro","P60","Mate 60 Pro","Mate 60","nova 11","nova 10","MatePad Pro","Watch GT 4"],OnePlus:["12 Pro","12","11 Pro","11","Nord 3","Nord CE 3","Pad Go"],Google:["Pixel 8 Pro","Pixel 8","Pixel 7 Pro","Pixel 7","Pixel 6 Pro","Pixel 6","Pixel Tablet","Pixel Watch"],Sony:["Xperia 1 V","Xperia 5 V","Xperia 10 V","WH-1000XM5","WF-1000XM5"],LG:["G8 ThinQ","V60 ThinQ","Wing","Gram","UltraGear"],Motorola:["Edge 40 Pro","Edge 40","Moto G73","Moto G53","Razr 40"],Nokia:["X30 5G","G60 5G","C31","T20","XR21"],Realme:["GT 5","GT Neo 6","11 Pro+","11 Pro","C55"],Oppo:["Find X6 Pro","Find X6","Reno 10 Pro","Reno 10","A78"],Vivo:["X90 Pro","X90","V29","V27","Y36"],Honor:["Magic 5 Pro","Magic 5","90 Pro","90","X50"],Asus:["ROG Phone 7","ZenFone 10","VivoBook","ROG Strix","TUF Gaming"],Lenovo:["Legion Y90","ThinkPad","IdeaPad","Yoga","Tab P11"],HP:["Pavilion","Envy","Spectre","EliteBook","ProBook"],Dell:["XPS 13","XPS 15","Inspiron","Latitude","Precision"],Acer:["Aspire","Swift","Nitro","Predator","ConceptD"],MSI:["Stealth","Raider","Katana","Sword","Creator"],Razer:["Blade 15","Blade 17","Blade Stealth","Book 13"],Alienware:["m15","m17","x15","x17","Aurora"]},K2=["Треснутый экран","Не включается","Не заряжается","Быстро разряжается","Не работает камера","Не работает звук","Не работает микрофон","Не работает динамик","Не работает Wi-Fi","Не работает Bluetooth","Не работает сенсорный экран","Не работает кнопка питания","Не работает кнопка громкости","Не работает кнопка Home","Не работает Face ID","Не работает Touch ID","Не работает сканер отпечатков","Перегревается","Зависает","Перезагружается","Не видит SIM-карту","Не работает GPS","Не работает датчик приближения","Не работает акселерометр","Не работает гироскоп","Проблемы с сетью","Проблемы с антенной","Проблемы с разъемом зарядки","Проблемы с разъемом наушников","Проблемы с динамиком","Проблемы с вибрацией","Проблемы с подсветкой","Проблемы с дисплеем","Проблемы с батареей","Проблемы с материнской платой","Проблемы с процессором","Проблемы с памятью","Проблемы с накопителем","Проблемы с видеокартой","Проблемы с клавиатурой","Проблемы с тачпадом","Проблемы с веб-камерой","Проблемы с портами","Проблемы с охлаждением","Проблемы с BIOS","Проблемы с операционной системой","Проблемы с программным обеспечением","Другое"],Q2=["Замена экрана","Замена батареи","Замена кнопки питания","Замена кнопки громкости","Замена динамика","Замена микрофона","Замена камеры","Замена разъема зарядки","Замена разъема наушников","Замена корпуса","Замена материнской платы","Замена процессора","Замена оперативной памяти","Замена накопителя","Замена клавиатуры","Замена тачпада","Замена веб-камеры","Замена системы охлаждения","Замена вентилятора","Замена термопасты","Ремонт кнопки питания","Ремонт кнопки громкости","Ремонт динамика","Ремонт микрофона","Ремонт камеры","Ремонт разъема зарядки","Ремонт разъема наушников","Ремонт корпуса","Ремонт материнской платы","Ремонт системы охлаждения","Диагностика устройства","Диагностика батареи","Диагностика экрана","Диагностика камеры","Диагностика звука","Диагностика сети","Диагностика Bluetooth","Диагностика Wi-Fi","Диагностика GPS","Диагностика сенсоров","Диагностика системы","Прошивка устройства","Восстановление системы","Установка операционной системы","Настройка устройства","Калибровка экрана","Калибровка батареи","Калибровка сенсоров","Очистка от пыли","Очистка системы охлаждения","Очистка разъемов","Обновление программного обеспечения","Восстановление данных","Резервное копирование","Настройка безопасности","Настройка сети","Настройка Bluetooth","Настройка Wi-Fi","Настройка GPS","Настройка уведомлений","Настройка приложений","Оптимизация производительности","Удаление вирусов","Восстановление после вирусов","Ремонт после попадания воды","Ремонт после падения","Ремонт после перегрева","Ремонт после скачка напряжения","Ремонт после механических повреждений","Замена защитного стекла","Установка защитного стекла","Замена пленки","Установка пленки","Чистка устройства","Полировка корпуса","Восстановление внешнего вида","Другое"],Y2=Object.values(q2).flat(),fo=[{value:"diagnosis",label:"Диагностика",color:"info"},{value:"waiting_parts",label:"Ожидание запчастей",color:"warning"},{value:"waiting_client",label:"Ожидание клиента",color:"warning"},{value:"in_progress",label:"В работе",color:"primary"},{value:"completed",label:"Завершен",color:"success"},{value:"cancelled",label:"Отменен",color:"error"},{value:"pending",label:"Ожидает",color:"default"}],mo=[{value:"low",label:"Низкий",color:"success"},{value:"medium",label:"Средний",color:"warning"},{value:"high",label:"Высокий",color:"error"},{value:"urgent",label:"Срочный",color:"error"}],X2=()=>{var za,Ba,Ha,Wa;h.useState(!1);const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(!1),[l,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,p]=h.useState(!1),[v,b]=h.useState(!1),[g,C]=h.useState(null),[P,y]=h.useState(null),[x,j]=h.useState("acceptance"),[O,k]=h.useState(!1),[E,T]=h.useState(!1),[V,_]=h.useState(0),[z,$]=h.useState(""),[I,A]=h.useState("all"),[L,H]=h.useState("all");h.useState(0);const[R,N]=h.useState("work"),[W,q]=h.useState(""),[Z,ne]=h.useState(0),[J,fe]=h.useState(1),[le,pe]=h.useState(""),[X,ce]=h.useState(null),[ae,Ce]=h.useState({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),[Oe,Ne]=h.useState("cash"),[Ye,oe]=h.useState(0),[ge,Se]=h.useState(!1),[De,Ue]=h.useState(!1),[F,U]=h.useState({clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",clientNotes:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1});h.useState([]);const[Q,te]=h.useState([]),ee=async()=>{try{const M=await dn.getOrders();te(M)}catch(M){console.error("Ошибка при загрузке заказов:",M)}};h.useEffect(()=>{ee()},[]);const[re]=h.useState("employee"),ue=()=>{T(!0),_(0),U({clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",clientNotes:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"Сколы, трещины, возможны скрытые дефекты",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1})},je=()=>{V<3&&_(V+1)},Ae=()=>{V>0&&_(V-1)},Ee=(M,Y)=>{U(_e=>({..._e,[M]:Y}))},en=async()=>{try{let M=Xt.findClientByPhone(F.clientPhone);M?M=Xt.updateClient(M.id,{firstName:F.clientName.split(" ")[0]||"",lastName:F.clientName.split(" ").slice(1).join(" ")||"",email:F.clientEmail,address:F.clientAddress,notes:F.clientNotes})||M:M=Xt.createClient({firstName:F.clientName.split(" ")[0]||"",lastName:F.clientName.split(" ").slice(1).join(" ")||"",phone:F.clientPhone,email:F.clientEmail,address:F.clientAddress,notes:F.clientNotes});const Y=await dn.createDevice({type:F.deviceType,brand:F.deviceBrand,model:F.deviceModel,serialNumber:F.deviceSerial,imei:F.deviceImei,color:F.deviceColor,condition:F.deviceCondition,externalCondition:F.deviceExternalCondition,clientId:M.id}),_e=await dn.createOrder({clientId:M.id,deviceId:Y.id,technicianId:"1",status:"diagnosis",priority:F.priority,description:F.staffComments,diagnosis:F.diagnosis,estimatedCost:F.estimatedCost,estimatedDays:F.estimatedDays,parts:[],payments:[],isPaid:!1,clientName:F.clientName,clientPhone:F.clientPhone,deviceBrand:F.deviceBrand,deviceModel:F.deviceModel,deviceSerial:F.deviceSerial,deviceImei:F.deviceImei,deviceColor:F.deviceColor,deviceCondition:F.deviceCondition,deviceExternalCondition:F.deviceExternalCondition});Xt.updateClientStats(M.id,_e.estimatedCost),await ee(),T(!1),_(0),Pe.success("Заказ успешно создан!")}catch(M){console.error("Ошибка при создании заказа:",M),Pe.error("Ошибка при создании заказа")}},Ke=async M=>{try{let Y=Xt.findClientByPhone(M.phone);Y?Y=Xt.updateClient(Y.id,{firstName:M.clientName.split(" ")[0]||"",lastName:M.clientName.split(" ").slice(1).join(" ")||"",email:M.email||""})||Y:Y=Xt.createClient({firstName:M.clientName.split(" ")[0]||"",lastName:M.clientName.split(" ").slice(1).join(" ")||"",phone:M.phone,email:M.email||"",address:"",notes:""});const _e=await dn.createDevice({type:"phone",brand:"Apple",model:M.model||"iPhone",serialNumber:M.serialNumber,imei:M.imei,color:M.color,condition:"fair",externalCondition:M.appearance||"Не указано",clientId:Y.id}),Xe=await dn.createOrder({clientId:Y.id,deviceId:_e.id,technicianId:"1",status:"diagnosis",priority:"medium",description:M.reasonForContact,diagnosis:"Требуется диагностика",estimatedCost:M.estimatedPrice||0,estimatedDays:1,parts:[],payments:[],isPaid:!1,clientName:M.clientName,clientPhone:M.phone,deviceBrand:_e.brand,deviceModel:_e.model,deviceSerial:_e.serialNumber,deviceImei:_e.imei,deviceColor:_e.color,deviceCondition:_e.condition,deviceExternalCondition:M.appearance||"Не указано"});Xt.updateClientStats(Y.id,Xe.estimatedCost),await ee(),await Jm(Xe,Y,_e,M),setTimeout(()=>{Pe.success("Заказ успешно создан")},1e3)}catch(Y){console.error("Ошибка при создании заказа:",Y),Pe.error("Ошибка при создании заказа")}},ot=M=>{C(M),a(!0)},$n=async M=>{try{await dn.deleteOrder(M),te(Y=>Y.filter(_e=>_e.id!==M)),Pe.success("Заказ удален")}catch{Pe.error("Ошибка при удалении заказа")}},Rn=M=>{window.open(`tel:${M}`,"_self")},It=M=>{const Y=M.replace(/\D/g,"");window.open(`https://wa.me/${Y}`,"_blank")},cr=M=>{const Y=M.replace(/\D/g,"");window.open(`https://t.me/${Y}`,"_blank")},ur=M=>{Pe.success("Печать акта приема-передачи")},Nn=M=>{C(M),u(!0)},Gm=async M=>{if(g)try{await dn.updateOrder(g.id,M),await ee(),Pe.success("Заказ успешно обновлен"),u(!1)}catch(Y){console.error("Ошибка при обновлении заказа:",Y),Pe.error("Ошибка при обновлении заказа")}},$a=M=>{if(console.log("handleAddWork вызвана с заказом:",M),!M){console.error("Заказ не передан в handleAddWork"),Pe.error("Заказ не найден");return}if(!M.id){console.error("У заказа нет ID:",M),Pe.error("Заказ не имеет ID");return}console.log("Устанавливаем selectedOrder:",M),C(M),f(!0),q(""),ne(0),fe(1),ce(null),N("work")},Um=()=>{p(!0)},qm=async()=>{if(!g){Pe.error("Заказ не выбран");return}if(console.log("Проверка selectedOrder:",{id:g.id,orderNumber:g.orderNumber,parts:g.parts,finalCost:g.finalCost,estimatedCost:g.estimatedCost}),!W.trim()){Pe.error("Введите название работы");return}if(Z<=0){Pe.error("Цена должна быть больше 0");return}if(J<=0){Pe.error("Количество должно быть больше 0");return}try{console.log("Добавление работы:",{selectedOrder:g.id,workType:R,workName:W,workPrice:Z,workQuantity:J,selectedPart:X});const M={id:Date.now().toString(),partId:X?X.id:"work_"+Date.now().toString(),quantity:J,unitPrice:Z,totalPrice:Z*J,isUsed:!0,workType:X?"work_with_part":"work_only",workName:W,partInfo:X?{...X,partCost:X.price*J,workCost:Z*J}:null};if(console.log("Созданный workItem:",M),X){const _e=Ra.find(Xe=>Xe.id===X.id);if(_e&&_e.stock<J){Pe.error(`Недостаточно запчастей на складе. Доступно: ${_e.stock} шт.`);return}_e&&(_e.stock-=J,Pe.success(`Списано со склада: ${J} шт. ${X.name}`))}const Y={...g,parts:[...g.parts||[],M],finalCost:(g.finalCost||g.estimatedCost)+M.totalPrice};await dn.updateOrder(g.id,Y),te(_e=>_e.map(Xe=>Xe.id===g.id?Y:Xe)),Pe.success(`Работа ${X?"с запчастью":""} добавлена к заказу`),f(!1),q(""),ne(0),fe(1),ce(null),N("work")}catch(M){console.error("Ошибка при добавлении работы:",M),console.error("Детали ошибки:",{error:M,errorMessage:M instanceof Error?M.message:"Неизвестная ошибка",errorStack:M instanceof Error?M.stack:"Нет стека",selectedOrder:g==null?void 0:g.id,workType:R,workName:W,workPrice:Z,workQuantity:J}),Pe.error(`Ошибка при добавлении работы: ${M instanceof Error?M.message:"Неизвестная ошибка"}`)}},Ra=[{id:"1",name:"Экран iPhone 14",category:"Экраны",brand:"Apple",price:15e3,stock:5},{id:"2",name:"Батарея Samsung Galaxy S21",category:"Батареи",brand:"Samsung",price:3e3,stock:8},{id:"3",name:'Корпус MacBook Pro 13"',category:"Корпуса",brand:"Apple",price:8e3,stock:3},{id:"4",name:"Камера iPad Air",category:"Камеры",brand:"Apple",price:5e3,stock:7},{id:"5",name:"Клавиатура MacBook Air",category:"Клавиатуры",brand:"Apple",price:12e3,stock:2}],Na=Ra.filter(M=>M.name.toLowerCase().includes(le.toLowerCase())||M.category.toLowerCase().includes(le.toLowerCase())||M.brand.toLowerCase().includes(le.toLowerCase())),Km=M=>{console.log("handleDeliveryOrder вызвана с заказом:",M),C(M),oe(M.finalCost||M.estimatedCost),b(!0),console.log("selectedOrder установлен:",M)},Qm=(M,Y)=>{Ce(_e=>({..._e,[M]:Y}))},Ym=()=>{Ce({screenWorks:!0,touchWorks:!0,cameraWorks:!0,soundWorks:!0,chargingWorks:!0,wifiWorks:!0,bluetoothWorks:!0,buttonsWork:!0,fingerprintWorks:!0,faceIdWorks:!0}),Pe.success("Все тесты отмечены как пройденные")},Xm=async M=>{var Y,_e;if(g)try{const Xe=((Y=g.parts)==null?void 0:Y.filter(Ft=>Ft.id!==M))||[],$t=(_e=g.parts)==null?void 0:_e.find(Ft=>Ft.id===M),Mt={...g,parts:Xe,finalCost:(g.finalCost||g.estimatedCost)-(($t==null?void 0:$t.totalPrice)||0)};await dn.updateOrder(g.id,Mt),te(Ft=>Ft.map(Dr=>Dr.id===g.id?Mt:Dr)),C(Mt),Pe.success("Запчасть удалена из заказа")}catch(Xe){console.error("Ошибка при удалении запчасти:",Xe),Pe.error("Ошибка при удалении запчасти")}},Zm=async()=>{if(g)try{if(!Object.values(ae).every(Xe=>Xe)){Pe.error("Не все тесты пройдены. Проверьте чек-лист тестирования.");return}let Y=[];ge&&Y.push({id:Date.now().toString()+"_protection",partId:"screen_protection",quantity:1,unitPrice:2e3,totalPrice:2e3,isUsed:!0,workType:"service",workName:"Защита экрана"}),De&&Y.push({id:Date.now().toString()+"_cleaning",partId:"cleaning",quantity:1,unitPrice:1e3,totalPrice:1e3,isUsed:!0,workType:"service",workName:"Чистка устройства"});const _e={...g,status:"completed",parts:[...g.parts||[],...Y],finalCost:(g.finalCost||g.estimatedCost)+(ge?2e3:0)+(De?1e3:0),isPaid:!0,completedAt:new Date().toISOString()};await dn.updateOrder(g.id,_e),te(Xe=>Xe.map($t=>$t.id===g.id?_e:$t)),await eg(_e),Pe.success("Заказ успешно выдан клиенту!"),b(!1),Ce({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),Se(!1),Ue(!1)}catch(M){console.error("Ошибка при выдаче заказа:",M),Pe.error("Ошибка при выдаче заказа")}},Jm=async(M,Y,_e,Xe)=>{var $t,Mt;try{const Ft=Y||{id:M.clientId,firstName:(($t=M.clientName)==null?void 0:$t.split(" ")[0])||"Неизвестно",lastName:((Mt=M.clientName)==null?void 0:Mt.split(" ")[1])||"Неизвестно",phone:M.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Dr=_e||{id:M.deviceId,type:"phone",brand:M.deviceBrand||"",model:M.deviceModel||"",serialNumber:M.deviceSerial,imei:M.deviceImei,color:M.deviceColor,condition:M.deviceCondition||"good",externalCondition:M.deviceExternalCondition,clientId:M.clientId,createdAt:new Date().toISOString()},Qe=await Ki.createAcceptanceAct(M,Ft,Dr,(Xe==null?void 0:Xe.reasonForContact)||M.description,(Xe==null?void 0:Xe.estimatedPrice)||M.estimatedCost,"Мастер","Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику.");y(Qe),j("acceptance"),i(!0)}catch{Pe.error("Ошибка при создании акта приема-передачи")}},eg=async M=>{var Y,_e;try{const Xe={id:M.clientId,firstName:((Y=M.clientName)==null?void 0:Y.split(" ")[0])||"Неизвестно",lastName:((_e=M.clientName)==null?void 0:_e.split(" ")[1])||"Неизвестно",phone:M.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},$t={id:M.deviceId,type:"phone",brand:M.deviceBrand||"",model:M.deviceModel||"",serialNumber:M.deviceSerial,imei:M.deviceImei,color:M.deviceColor,condition:M.deviceCondition||"good",externalCondition:M.deviceExternalCondition,clientId:M.clientId,createdAt:new Date().toISOString()},Mt=[],Ft=[];M.parts&&M.parts.length>0&&M.parts.forEach(Qe=>{const ji=Qe.workType,Ga=Qe.workName;if(ji==="work_with_part"||ji==="work_only"){if(Mt.push({id:Qe.id,name:Ga||"Работа",description:Ga||"Выполненная работа",cost:Qe.unitPrice,quantity:Qe.quantity,totalCost:Qe.totalPrice}),ji==="work_with_part"&&Qe.partInfo){const us=Qe.partInfo;Ft.push({id:Qe.id+"_part",partId:us.id,name:us.name,partNumber:us.id,unitPrice:us.price,quantity:Qe.quantity,totalPrice:us.price*Qe.quantity})}}else Qe.partId==="screen_protection"||Qe.partId==="cleaning"?Mt.push({id:Qe.id,name:Qe.partId==="screen_protection"?"Защита экрана":"Чистка устройства",description:Qe.partId==="screen_protection"?"Установка защитного стекла":"Чистка устройства",cost:Qe.unitPrice,quantity:Qe.quantity,totalCost:Qe.totalPrice}):Ft.push({id:Qe.id,partId:Qe.partId,name:`Запчасть #${Qe.id}`,partNumber:Qe.partId,unitPrice:Qe.unitPrice,quantity:Qe.quantity,totalPrice:Qe.totalPrice})}),Mt.length===0&&Mt.push({id:"1",name:"Диагностика",description:M.diagnosis||"Диагностика устройства",cost:1e3,quantity:1,totalCost:1e3});const Dr=await Ki.createWorkCompletionAct(M,Xe,$t,Mt,Ft,M.finalCost||M.estimatedCost,30,"Мастер");y(Dr),j("completion"),i(!0),Pe.success("Акт выполненных работ создан")}catch{Pe.error("Ошибка при создании акта выполненных работ")}},tg=async(M,Y)=>{if(P)try{await Ki.addSignature(P.id,x,M,Y==="client"?P.client.firstName+" "+P.client.lastName:"Мастер",Y),Pe.success("Подпись добавлена")}catch{Pe.error("Ошибка при добавлении подписи")}},ng=Q.filter(M=>{var $t,Mt,Ft;const Y=M.orderNumber.toLowerCase().includes(z.toLowerCase())||(($t=M.clientName)==null?void 0:$t.toLowerCase().includes(z.toLowerCase()))||((Mt=M.deviceBrand)==null?void 0:Mt.toLowerCase().includes(z.toLowerCase()))||((Ft=M.deviceModel)==null?void 0:Ft.toLowerCase().includes(z.toLowerCase())),_e=I==="all"||M.status===I,Xe=L==="all"||M.priority===L;return Y&&_e&&Xe}),rg=[{field:"orderNumber",headerName:"Номер заказа",width:120,renderCell:M=>s.jsx(S,{variant:"body2",fontWeight:"600",children:M.value})},{field:"clientName",headerName:"Клиент",width:150},{field:"deviceInfo",headerName:"Устройство",width:200,renderCell:M=>s.jsxs(B,{children:[s.jsxs(S,{variant:"body2",fontWeight:"600",children:[M.row.deviceBrand," ",M.row.deviceModel]}),s.jsx(S,{variant:"caption",color:"textSecondary",children:M.row.deviceSerial})]})},{field:"status",headerName:"Статус",width:150,renderCell:M=>{const Y=fo.find(_e=>_e.value===M.value);return s.jsx(lt,{label:(Y==null?void 0:Y.label)||M.value,color:(Y==null?void 0:Y.color)||"default",size:"small"})}},{field:"priority",headerName:"Приоритет",width:120,renderCell:M=>{const Y=mo.find(_e=>_e.value===M.value);return s.jsx(lt,{label:(Y==null?void 0:Y.label)||M.value,color:(Y==null?void 0:Y.color)||"default",size:"small",variant:"outlined"})}},{field:"estimatedCost",headerName:"Стоимость",width:120,renderCell:M=>s.jsxs(S,{variant:"body2",fontWeight:"600",children:["₽",M.value.toLocaleString()]})},{field:"createdAt",headerName:"Дата создания",width:150,renderCell:M=>s.jsx(S,{variant:"body2",children:M.value?new Date(M.value).toLocaleDateString("ru-RU"):"Не указано"})},{field:"actions",headerName:"Действия",width:350,sortable:!1,renderCell:M=>s.jsxs(B,{sx:{display:"flex",gap:.5},children:[s.jsx(Be,{size:"small",onClick:()=>ot(M.row),title:"Просмотр заказа - номер телефона, стоимость, связь с клиентом, WhatsApp/Telegram, печать акта",sx:{color:"#FF6B35"},children:s.jsx(is,{})}),s.jsx(Be,{size:"small",onClick:()=>Nn(M.row),title:"Редактировать заказ - изменить данные и напечатать акт",sx:{color:"#607D8B"},children:s.jsx(es,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке добавления работы в таблице, params.row:",M.row),$a(M.row)},title:"Добавить работу - запчасти, пленка и другие работы",sx:{color:"#4CAF50"},children:s.jsx(Ya,{})}),s.jsx(Be,{size:"small",onClick:()=>$n(M.row.id),title:"Удалить заказ",sx:{color:"#F44336"},children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке выдачи заказа, params.row:",M.row),Km(M.row)},title:"Выдача заказа - тестирование перед выдачей, оплата, печать акта выполненных работ",sx:{color:"#FF9800"},children:s.jsx(Qi,{})})]})}];return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Заказы"}),s.jsx(we,{sx:{mb:3},children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(se,{fullWidth:!0,placeholder:"Поиск заказов...",value:z,onChange:M=>$(M.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})}})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Статус"}),s.jsxs(et,{value:I,onChange:M=>A(M.target.value),label:"Статус",children:[s.jsx(ie,{value:"all",children:"Все"}),fo.map(M=>s.jsx(ie,{value:M.value,children:M.label},M.value))]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Приоритет"}),s.jsxs(et,{value:L,onChange:M=>H(M.target.value),label:"Приоритет",children:[s.jsx(ie,{value:"all",children:"Все"}),mo.map(M=>s.jsx(ie,{value:M.value,children:M.label},M.value))]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ri,{}),onClick:()=>{$(""),A("all"),H("all")},children:"Сбросить"})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(zs,{}),onClick:ue,sx:{background:"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)",boxShadow:"0 3px 5px 2px rgba(255, 107, 53, .3)","&:hover":{background:"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)"}},children:"🚀 Создать заказ"})})]})})}),s.jsx(we,{children:s.jsx(ke,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(no,{rows:ng,columns:rg,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(bt,{open:e,onClose:()=>t(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о заказе"}),s.jsx(vt,{children:g&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsxs(S,{variant:"h6",gutterBottom:!0,children:["Заказ ",g.orderNumber]})}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Клиент"}),s.jsx(S,{variant:"body1",children:g.clientName}),s.jsx(S,{variant:"body2",color:"textSecondary",children:g.clientPhone})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Устройство"}),s.jsxs(S,{variant:"body1",children:[g.deviceBrand," ",g.deviceModel]}),s.jsxs(S,{variant:"body2",color:"textSecondary",children:["Серийный номер: ",g.deviceSerial]})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Описание проблемы"}),s.jsx(S,{variant:"body1",children:g.description})]}),g.diagnosis&&s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Диагноз"}),s.jsx(S,{variant:"body1",children:g.diagnosis})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Статус"}),s.jsx(lt,{label:((za=fo.find(M=>M.value===g.status))==null?void 0:za.label)||g.status,color:((Ba=fo.find(M=>M.value===g.status))==null?void 0:Ba.color)||"default"})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Приоритет"}),s.jsx(lt,{label:((Ha=mo.find(M=>M.value===g.priority))==null?void 0:Ha.label)||g.priority,color:((Wa=mo.find(M=>M.value===g.priority))==null?void 0:Wa.color)||"default",variant:"outlined"})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Стоимость"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:["₽",g.estimatedCost.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Срок выполнения"}),s.jsx(S,{variant:"body1",children:g.estimatedTime||`${g.estimatedDays} дней`})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Дата создания"}),s.jsx(S,{variant:"body1",children:new Date(g.createdAt).toLocaleDateString("ru-RU")})]})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>t(!1),children:"Закрыть"}),s.jsx(me,{variant:"contained",onClick:()=>{if(g){const M=document.createElement("div");M.innerHTML=`
                <h2>Заказ ${g.orderNumber}</h2>
                <p>Клиент: ${g.clientName}</p>
                <p>Устройство: ${g.deviceBrand} ${g.deviceModel}</p>
                <p>Описание: ${g.description}</p>
                <p>Стоимость: ₽${g.estimatedCost.toLocaleString()}</p>
              `,document.body.appendChild(M),window.print(),document.body.removeChild(M)}},children:"Печать документов"})]})]}),s.jsxs(bt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Оплата заказа"}),s.jsx(vt,{children:g&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(D,{item:!0,xs:12,children:[s.jsxs(S,{variant:"h6",children:["Заказ ",g.orderNumber]}),s.jsxs(S,{variant:"body2",color:"textSecondary",children:["Сумма к оплате: ₽",g.estimatedCost.toLocaleString()]})]}),s.jsx(D,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Способ оплаты"}),s.jsxs(et,{defaultValue:"cash",label:"Способ оплаты",children:[s.jsx(ie,{value:"cash",children:"Наличные"}),s.jsx(ie,{value:"card",children:"Карта"}),s.jsx(ie,{value:"transfer",children:"Перевод"}),s.jsx(ie,{value:"installment",children:"Рассрочка"})]})]})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Сумма",type:"number",defaultValue:g.estimatedCost,InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>r(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{Pe.success("Оплата добавлена"),r(!1)},children:"Добавить оплату"})]})]}),s.jsxs(bt,{open:l,onClose:()=>a(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(S,{variant:"h6",children:"Просмотр заказа"})}),s.jsx(vt,{children:g&&s.jsxs(B,{sx:{mt:2},children:[s.jsx(we,{sx:{mb:3},children:s.jsxs(ke,{children:[s.jsxs(S,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",g.orderNumber]}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Статус: ",s.jsx(lt,{label:g.status,color:"primary",size:"small"})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Приоритет: ",s.jsx(lt,{label:g.priority,color:"secondary",size:"small"})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Дата создания: ",new Date(g.createdAt).toLocaleDateString("ru-RU")]})]}),s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Стоимость: ",s.jsxs("strong",{children:[g.estimatedCost," ₽"]})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Оплачено: ",s.jsx("strong",{children:g.isPaid?"Да":"Нет"})]})]})]})]})}),s.jsx(we,{sx:{mb:3},children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Имя: ",s.jsx("strong",{children:g.clientName})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Телефон: ",s.jsx("strong",{children:g.clientPhone})]})]}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",gap:1,mt:1},children:[s.jsx(me,{variant:"outlined",size:"small",startIcon:s.jsx(Sd,{}),onClick:()=>Rn(g.clientPhone||""),children:"Позвонить"}),s.jsx(me,{variant:"outlined",size:"small",startIcon:s.jsx(Lg,{}),onClick:()=>It(g.clientPhone||""),sx:{color:"#25D366"},children:"WhatsApp"}),s.jsx(me,{variant:"outlined",size:"small",startIcon:s.jsx($g,{}),onClick:()=>cr(g.clientPhone||""),sx:{color:"#0088cc"},children:"Telegram"})]})})]})]})}),s.jsx(we,{sx:{mb:3},children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Информация об устройстве"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Устройство: ",s.jsxs("strong",{children:[g.deviceBrand," ",g.deviceModel]})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Цвет: ",s.jsx("strong",{children:g.deviceColor})]})]}),s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["IMEI: ",s.jsx("strong",{children:g.deviceImei})]}),s.jsxs(S,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["S/N: ",s.jsx("strong",{children:g.deviceSerial})]})]})]})]})}),s.jsx(we,{sx:{mb:3},children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Описание проблемы"}),s.jsx(S,{variant:"body2",children:g.description||"Описание не указано"})]})}),s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Действия"}),s.jsxs(B,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[s.jsx(me,{variant:"contained",startIcon:s.jsx(To,{}),onClick:()=>ur(),children:"Печать акта приема-передачи"}),s.jsx(me,{variant:"outlined",startIcon:s.jsx(es,{}),onClick:()=>{a(!1),Nn(g)},children:"Редактировать заказ"})]})]})})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>a(!1),children:"Закрыть"})})]}),s.jsxs(bt,{open:c,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(S,{variant:"h6",children:"Редактирование заказа"})}),s.jsx(vt,{children:g&&s.jsx(B,{sx:{mt:2},children:s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Имя клиента",defaultValue:g.clientName,disabled:!0,helperText:"Имя клиента нельзя изменить"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон клиента",defaultValue:g.clientPhone,onChange:M=>{C(Y=>Y?{...Y,clientPhone:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(S,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация об устройстве"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Бренд устройства",defaultValue:g.deviceBrand,onChange:M=>{C(Y=>Y?{...Y,deviceBrand:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Модель устройства",defaultValue:g.deviceModel,onChange:M=>{C(Y=>Y?{...Y,deviceModel:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Цвет устройства",defaultValue:g.deviceColor,onChange:M=>{C(Y=>Y?{...Y,deviceColor:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"IMEI",defaultValue:g.deviceImei,onChange:M=>{C(Y=>Y?{...Y,deviceImei:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Серийный номер",defaultValue:g.deviceSerial,onChange:M=>{C(Y=>Y?{...Y,deviceSerial:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Внешний вид",defaultValue:g.deviceExternalCondition,onChange:M=>{C(Y=>Y?{...Y,deviceExternalCondition:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(S,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация о заказе"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Статус заказа"}),s.jsxs(et,{defaultValue:g.status,onChange:M=>{C(Y=>Y?{...Y,status:M.target.value}:null)},children:[s.jsx(ie,{value:"diagnosis",children:"Диагностика"}),s.jsx(ie,{value:"waiting_parts",children:"Ожидание запчастей"}),s.jsx(ie,{value:"waiting_client",children:"Ожидание клиента"}),s.jsx(ie,{value:"in_progress",children:"В работе"}),s.jsx(ie,{value:"completed",children:"Завершен"}),s.jsx(ie,{value:"cancelled",children:"Отменен"})]})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Приоритет"}),s.jsxs(et,{defaultValue:g.priority,onChange:M=>{C(Y=>Y?{...Y,priority:M.target.value}:null)},children:[s.jsx(ie,{value:"low",children:"Низкий"}),s.jsx(ie,{value:"medium",children:"Средний"}),s.jsx(ie,{value:"high",children:"Высокий"}),s.jsx(ie,{value:"urgent",children:"Срочный"})]})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",defaultValue:g.estimatedCost,InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})},onChange:M=>{C(Y=>Y?{...Y,estimatedCost:Number(M.target.value)}:null)}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Финальная стоимость",type:"number",defaultValue:g.finalCost||"",InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})},onChange:M=>{C(Y=>Y?{...Y,finalCost:Number(M.target.value)}:null)}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Описание проблемы",multiline:!0,rows:3,defaultValue:g.description,onChange:M=>{C(Y=>Y?{...Y,description:M.target.value}:null)}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Диагностика",multiline:!0,rows:2,defaultValue:g.diagnosis,onChange:M=>{C(Y=>Y?{...Y,diagnosis:M.target.value}:null)}})})]})})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>u(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{g&&Gm(g)},children:"Сохранить изменения"}),s.jsx(me,{variant:"outlined",startIcon:s.jsx(To,{}),onClick:()=>{g&&ur()},children:"Печать акта"})]})]}),s.jsxs(bt,{open:d,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(S,{variant:"h6",children:"Добавить работу"})}),s.jsx(vt,{children:s.jsx(B,{sx:{mt:2},children:s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(Br,{freeSolo:!0,options:Q2,value:W,onChange:(M,Y)=>{q(Y||"")},onInputChange:(M,Y)=>{q(Y)},renderInput:M=>s.jsx(se,{...M,label:"Название работы",placeholder:"Выберите из списка или введите своё",helperText:"Выберите популярную работу или введите название самостоятельно"}),renderOption:(M,Y)=>s.jsx(B,{component:"li",...M,children:s.jsx(S,{variant:"body1",children:Y})})})}),s.jsx(D,{item:!0,xs:12,children:s.jsxs(we,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(S,{variant:"subtitle1",gutterBottom:!0,children:"🔧 Добавить запчасть к работе"}),s.jsx(S,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Если работа требует использования запчасти, выберите её из склада"}),s.jsx(me,{variant:X?"contained":"outlined",fullWidth:!0,onClick:Um,startIcon:s.jsx(Cr,{}),sx:{mb:1},children:X?`Выбрана: ${X.name}`:"Выбрать запчасть"}),X&&s.jsxs(B,{sx:{mt:1},children:[s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Цена запчасти: ",X.price," ₽ • Остаток: ",X.stock," шт."]}),s.jsx(me,{size:"small",onClick:()=>ce(null),sx:{mt:1},children:"Убрать запчасть"})]})]})}),X&&s.jsx(D,{item:!0,xs:12,children:s.jsxs(we,{sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText"},children:[s.jsx(S,{variant:"subtitle1",fontWeight:"bold",children:X.name}),s.jsxs(S,{variant:"body2",children:["Категория: ",X.category," | Бренд: ",X.brand]}),s.jsxs(S,{variant:"body2",children:["Цена: ",X.price," ₽ | На складе: ",X.stock," шт."]})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Цена за единицу",type:"number",value:Z,onChange:M=>ne(Number(M.target.value)),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Количество",type:"number",value:J,onChange:M=>fe(Number(M.target.value)),inputProps:{min:1}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{sx:{p:2,bgcolor:"grey.100"},children:s.jsxs(S,{variant:"h6",textAlign:"center",children:["Итого: ",Z*J," ₽"]})})})]})})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>f(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:qm,disabled:!W||Z<=0||J<=0,children:"Добавить работу"})]})]}),s.jsxs(bt,{open:m,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(S,{variant:"h6",children:"Поиск запчастей на складе"})}),s.jsx(vt,{children:s.jsxs(B,{sx:{mt:2},children:[s.jsx(se,{fullWidth:!0,label:"Поиск запчастей",value:le,onChange:M=>pe(M.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})},sx:{mb:3}}),s.jsxs(B,{sx:{maxHeight:400,overflow:"auto"},children:[Na.map(M=>s.jsx(we,{sx:{mb:2,cursor:"pointer",border:(X==null?void 0:X.id)===M.id?"2px solid #FF6B35":"1px solid #e0e0e0","&:hover":{bgcolor:"grey.50"}},onClick:()=>{ce(M),q(M.name),ne(M.price),p(!1)},children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,alignItems:"center",children:[s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsx(S,{variant:"subtitle1",fontWeight:"bold",children:M.name}),s.jsxs(S,{variant:"body2",color:"text.secondary",children:[M.category," • ",M.brand]})]}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsxs(S,{variant:"h6",color:"primary",children:[M.price," ₽"]})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(lt,{label:`${M.stock} шт.`,color:M.stock>0?"success":"error",size:"small"})})]})})},M.id)),Na.length===0&&s.jsx(B,{sx:{textAlign:"center",py:4},children:s.jsx(S,{variant:"body1",color:"text.secondary",children:"Запчасти не найдены"})})]})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>p(!1),children:"Закрыть"})})]}),s.jsxs(bt,{open:v,onClose:()=>b(!1),maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(S,{variant:"h6",children:"Выдача заказа клиенту"})}),s.jsx(vt,{children:g&&s.jsx(B,{sx:{mt:2},children:s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{sx:{mb:3},children:s.jsxs(ke,{children:[s.jsxs(S,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",g.orderNumber]}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",children:["Клиент: ",s.jsx("strong",{children:g.clientName})]}),s.jsxs(S,{variant:"body2",children:["Телефон: ",s.jsx("strong",{children:g.clientPhone})]})]}),s.jsxs(D,{item:!0,xs:12,md:6,children:[s.jsxs(S,{variant:"body2",children:["Устройство: ",s.jsxs("strong",{children:[g.deviceBrand," ",g.deviceModel]})]}),s.jsxs(S,{variant:"body2",children:["Стоимость: ",s.jsxs("strong",{children:[g.finalCost||g.estimatedCost," ₽"]})]})]})]})]})})}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Выполненные работы"}),s.jsx(we,{children:s.jsxs(ke,{children:[g.parts&&g.parts.length>0?s.jsxs(B,{children:[g.parts.map((M,Y)=>s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,borderBottom:Y<g.parts.length-1?"1px solid #e0e0e0":"none"},children:[s.jsxs(B,{children:[s.jsx(S,{variant:"body1",children:M.partId==="screen_protection"?"🛡️ Защита экрана":M.partId==="cleaning"?"🧽 Чистка устройства":M.workType==="work_with_part"?`🔧 ${M.workName}`:M.workType==="work_only"?`⚙️ ${M.workName}`:`🔧 Работа #${Y+1}`}),s.jsxs(S,{variant:"body2",color:"text.secondary",children:["Количество: ",M.quantity," • Цена работы: ",M.unitPrice," ₽",M.partInfo&&s.jsxs("span",{children:[s.jsx("br",{}),s.jsxs(S,{variant:"caption",color:"text.secondary",sx:{fontStyle:"italic"},children:["📦 Запчасть: ",M.partInfo.name,re==="employee"?s.jsxs("span",{style:{color:"#FF6B35",fontWeight:"bold"},children:[" ","(",X?M.partInfo.price:"цена скрыта"," ₽)"]}):s.jsxs("span",{style:{color:"#9E9E9E",fontWeight:"bold"},children:[" ","(включено в стоимость работы)"]})]})]})]})]}),s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsxs(S,{variant:"h6",color:"primary",children:[M.totalPrice," ₽"]}),s.jsx(Be,{size:"small",onClick:()=>Xm(M.id),sx:{color:"error.main"},children:s.jsx(ts,{})})]})]},M.id)),s.jsx(B,{sx:{mt:2,pt:2,borderTop:"2px solid #FF6B35"},children:s.jsxs(S,{variant:"h6",textAlign:"right",children:["Итого: ",g.parts.reduce((M,Y)=>M+Y.totalPrice,0)," ₽"]})})]}):s.jsx(S,{variant:"body2",color:"text.secondary",children:"Работы и запчасти не добавлены"}),s.jsx(me,{variant:"outlined",startIcon:s.jsx(Ya,{}),onClick:()=>{console.log("Клик по кнопке добавления работы, selectedOrder:",g),g?(b(!1),$a(g)):Pe.error("Заказ не выбран. Попробуйте еще раз.")},sx:{mt:2},children:"Добавить работу"})]})})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsx(S,{variant:"h6",children:"Чек-лист тестирования"}),s.jsx(me,{variant:"contained",color:"success",startIcon:s.jsx(Ml,{}),onClick:Ym,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"Проверил все"})]}),s.jsx(we,{children:s.jsx(ke,{children:s.jsx(D,{container:!0,spacing:2,children:[{key:"screenWorks",label:"Экран работает корректно"},{key:"touchWorks",label:"Сенсорный экран реагирует"},{key:"cameraWorks",label:"Камера работает"},{key:"soundWorks",label:"Звук работает"},{key:"chargingWorks",label:"Зарядка работает"},{key:"wifiWorks",label:"Wi-Fi работает"},{key:"bluetoothWorks",label:"Bluetooth работает"},{key:"buttonsWork",label:"Кнопки работают"},{key:"fingerprintWorks",label:"Отпечаток пальца работает"},{key:"faceIdWorks",label:"Face ID работает"}].map(M=>s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",alignItems:"center"},children:[s.jsx("input",{type:"checkbox",checked:ae[M.key],onChange:Y=>Qm(M.key,Y.target.checked),style:{marginRight:8}}),s.jsx(S,{variant:"body2",children:M.label})]})},M.key))})})})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Дополнительные услуги"}),s.jsx(we,{children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(me,{variant:ge?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Xa,{}),onClick:()=>Se(!ge),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:ge?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:ge?"white":"#FF6B35",boxShadow:ge?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:ge?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Защита экрана",s.jsx(S,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(me,{variant:De?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Za,{}),onClick:()=>Ue(!De),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:De?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:De?"white":"#2196F3",boxShadow:De?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:De?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Чистка устройства",s.jsx(S,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Оплата"}),s.jsx(we,{children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Способ оплаты"}),s.jsxs(et,{value:Oe,onChange:M=>Ne(M.target.value),children:[s.jsx(ie,{value:"cash",children:"Наличные"}),s.jsx(ie,{value:"card",children:"Банковская карта"}),s.jsx(ie,{value:"online",children:"Онлайн перевод"})]})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Сумма к оплате",type:"number",value:Ye+(ge?2e3:0)+(De?1e3:0),onChange:M=>oe(Number(M.target.value)),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})})]})})})]})]})})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>b(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:Zm,disabled:!Object.values(ae).every(M=>M),startIcon:s.jsx(Qi,{}),children:"Выдать заказ клиенту"})]})]}),s.jsxs(bt,{open:E,onClose:()=>T(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs(S,{variant:"h6",children:["Создание заказа - Шаг ",V+1," из 4"]}),s.jsx(B,{sx:{display:"flex",gap:1},children:[0,1,2,3].map(M=>s.jsx(B,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:M<=V?"#FF6B35":"#e0e0e0",transition:"all 0.3s ease"}},M))})]})}),s.jsx(vt,{children:s.jsxs(B,{sx:{mt:2},children:[V===0&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,color:"primary",children:"👤 Информация о клиенте"}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"ФИО клиента",value:F.clientName,onChange:M=>Ee("clientName",M.target.value),placeholder:"Например: Иванов Иван Иванович",required:!0})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон",value:F.clientPhone,onChange:M=>Ee("clientPhone",M.target.value),placeholder:"+7 (999) 123-45-67",required:!0})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Email (необязательно)",value:F.clientEmail,onChange:M=>Ee("clientEmail",M.target.value),placeholder:"client@example.com",type:"email"})})]})]}),V===1&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,color:"primary",children:"📱 Информация об устройстве"}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Тип устройства"}),s.jsxs(et,{value:F.deviceType,onChange:M=>Ee("deviceType",M.target.value),children:[s.jsx(ie,{value:"phone",children:"📱 Телефон"}),s.jsx(ie,{value:"tablet",children:"📱 Планшет"}),s.jsx(ie,{value:"laptop",children:"💻 Ноутбук"}),s.jsx(ie,{value:"desktop",children:"🖥️ Компьютер"}),s.jsx(ie,{value:"other",children:"🔧 Другое"})]})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(Br,{freeSolo:!0,options:U2,value:F.deviceBrand,onChange:(M,Y)=>{Ee("deviceBrand",Y||""),Ee("deviceModel","")},onInputChange:(M,Y)=>{Ee("deviceBrand",Y),Ee("deviceModel","")},renderInput:M=>s.jsx(se,{...M,label:"Бренд",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(M,Y)=>s.jsx(B,{component:"li",...M,children:s.jsx(S,{variant:"body1",children:Y})})})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(Br,{freeSolo:!0,options:Y2,value:F.deviceModel,onChange:(M,Y)=>{Ee("deviceModel",Y||"")},onInputChange:(M,Y)=>{Ee("deviceModel",Y)},renderInput:M=>s.jsx(se,{...M,label:"Модель",placeholder:"Выберите из списка или введите свою",disabled:!F.deviceBrand,required:!0}),renderOption:(M,Y)=>s.jsx(B,{component:"li",...M,children:s.jsx(S,{variant:"body1",children:Y})})})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Цвет",value:F.deviceColor,onChange:M=>Ee("deviceColor",M.target.value),placeholder:"Синий, черный, белый..."})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Серийный номер",value:F.deviceSerial,onChange:M=>Ee("deviceSerial",M.target.value),placeholder:"ABC123456"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"IMEI (для телефонов)",value:F.deviceImei,onChange:M=>Ee("deviceImei",M.target.value),placeholder:"123456789012345"})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Состояние устройства"}),s.jsxs(et,{value:F.deviceCondition,onChange:M=>Ee("deviceCondition",M.target.value),children:[s.jsx(ie,{value:"excellent",children:"✨ Отличное"}),s.jsx(ie,{value:"good",children:"👍 Хорошее"}),s.jsx(ie,{value:"fair",children:"⚠️ Удовлетворительное"}),s.jsx(ie,{value:"poor",children:"❌ Плохое"})]})]})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Внешние дефекты",value:F.deviceExternalCondition,onChange:M=>Ee("deviceExternalCondition",M.target.value),placeholder:"Сколы, потертости, трещины...",multiline:!0,rows:2})})]})]}),V===2&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,color:"primary",children:"🔧 Описание проблемы"}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(Br,{freeSolo:!0,options:K2,value:F.diagnosis,onChange:(M,Y)=>{Ee("diagnosis",Y||"")},onInputChange:(M,Y)=>{Ee("diagnosis",Y)},renderInput:M=>s.jsx(se,{...M,label:"Предварительный диагноз",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(M,Y)=>s.jsx(B,{component:"li",...M,children:s.jsx(S,{variant:"body1",children:Y})})})}),s.jsxs(D,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(S,{variant:"body1",fontWeight:"bold",children:"💬 Комментарии для сотрудника"}),s.jsx(S,{variant:"caption",color:"text.secondary",children:"(только для внутреннего использования)"})]}),s.jsx(se,{fullWidth:!0,label:"Внутренние заметки",value:F.staffComments,onChange:M=>Ee("staffComments",M.target.value),placeholder:"Дополнительная информация для сотрудников, детали поломки, особые указания...",multiline:!0,rows:3})]}),s.jsx(D,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Приоритет заказа"}),s.jsxs(et,{value:F.priority,onChange:M=>Ee("priority",M.target.value),children:[s.jsx(ie,{value:"low",children:"🟢 Низкий"}),s.jsx(ie,{value:"medium",children:"🟡 Средний"}),s.jsx(ie,{value:"high",children:"🟠 Высокий"}),s.jsx(ie,{value:"urgent",children:"🔴 Срочный"})]})]})})]})]}),V===3&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,color:"primary",children:"💰 Стоимость и сроки"}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",value:F.estimatedCost,onChange:M=>Ee("estimatedCost",Number(M.target.value)),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})},helperText:"Примерная стоимость ремонта",required:!0})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,label:"Срок выполнения (дни)",type:"number",value:F.estimatedDays,onChange:M=>Ee("estimatedDays",Number(M.target.value)),inputProps:{min:1,max:30},required:!0})}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"h6",gutterBottom:!0,color:"primary",children:"🛡️ Дополнительные услуги"}),s.jsx(we,{sx:{p:2},children:s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(me,{variant:F.offerProtection?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Xa,{}),onClick:()=>Ee("offerProtection",!F.offerProtection),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:F.offerProtection?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:F.offerProtection?"white":"#FF6B35",boxShadow:F.offerProtection?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:F.offerProtection?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Предложить защиту экрана",s.jsx(S,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsxs(me,{variant:F.offerCleaning?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Za,{}),onClick:()=>Ee("offerCleaning",!F.offerCleaning),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:F.offerCleaning?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:F.offerCleaning?"white":"#2196F3",boxShadow:F.offerCleaning?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:F.offerCleaning?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Предложить чистку устройства",s.jsx(S,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})]}),s.jsx(D,{item:!0,xs:12,children:s.jsxs(we,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"📋 Сводка заказа"}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Клиент:"})," ",F.clientName]}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Телефон:"})," ",F.clientPhone]}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Устройство:"})," ",F.deviceBrand," ",F.deviceModel]}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Диагноз:"})," ",F.diagnosis]}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Стоимость:"})," ",F.estimatedCost," ₽"]}),s.jsxs(S,{variant:"body2",children:[s.jsx("strong",{children:"Срок:"})," ",F.estimatedDays," дн."]}),F.offerProtection&&s.jsxs(S,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Защита экрана:"})," 2000 ₽"]}),F.offerCleaning&&s.jsxs(S,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Чистка устройства:"})," 1000 ₽"]}),s.jsx(S,{variant:"h6",sx:{mt:1,color:"primary.main"},children:s.jsxs("strong",{children:["Итого: ",F.estimatedCost+(F.offerProtection?2e3:0)+(F.offerCleaning?1e3:0)," ₽"]})})]})})]})]})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>T(!1),children:"Отмена"}),V>0&&s.jsx(me,{onClick:Ae,children:"Назад"}),V<3?s.jsx(me,{variant:"contained",onClick:je,disabled:V===0&&(!F.clientName||!F.clientPhone)||V===1&&(!F.deviceBrand||!F.deviceModel)||V===2&&!F.diagnosis,children:"Далее"}):s.jsx(me,{variant:"contained",onClick:en,disabled:!F.estimatedCost||!F.estimatedDays,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"✅ Создать заказ"})]})]}),s.jsx(H2,{open:o,onClose:()=>i(!1),document:P,documentType:x,onSign:tg}),s.jsx(G2,{open:O,onClose:()=>k(!1),onSubmit:Ke})]})},ad=()=>Xt.getClients(),Z2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState(ad()),m=()=>{f(ad())};Fe.useEffect(()=>{m()},[]);const p=()=>{t(!0)},v=y=>{i(y),r(!0)},b=()=>{const y=d.length,x=d.filter(k=>new Date(k.createdAt).getMonth()===new Date().getMonth()).length,j=d.reduce((k,E)=>k+E.totalSpent,0),O=d.reduce((k,E)=>k+E.totalOrders,0)/y;return{totalClients:y,newClientsThisMonth:x,totalSpent:j,averageOrderValue:O}},g=d.filter(y=>y.firstName.toLowerCase().includes(l.toLowerCase())||y.lastName.toLowerCase().includes(l.toLowerCase())||y.phone.includes(l)||y.email.toLowerCase().includes(l.toLowerCase())),C=[{field:"name",headerName:"Имя",width:200,renderCell:y=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsxs(rt,{sx:{mr:2,bgcolor:"primary.main"},children:[y.row.firstName[0],y.row.lastName[0]]}),s.jsxs(S,{variant:"body2",children:[y.row.firstName," ",y.row.lastName]})]})},{field:"phone",headerName:"Телефон",width:150},{field:"email",headerName:"Email",width:200},{field:"totalOrders",headerName:"Заказов",width:100,renderCell:y=>s.jsx(lt,{label:y.value,color:"primary",size:"small"})},{field:"totalSpent",headerName:"Потрачено",width:120,renderCell:y=>s.jsxs(S,{variant:"body2",fontWeight:"600",children:["₽",y.value.toLocaleString()]})},{field:"lastVisit",headerName:"Последний визит",width:150,renderCell:y=>s.jsx(S,{variant:"body2",children:y.value?new Date(y.value).toLocaleDateString("ru-RU"):"Не указано"})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:y=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>v(y.row),children:s.jsx(is,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Клиент отредактирован")},children:s.jsx(es,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Клиент удален")},children:s.jsx(ts,{})})]})}],P=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Клиенты"}),s.jsxs(D,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Всего клиентов"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.totalClients})]}),s.jsx(rt,{sx:{bgcolor:"primary.main"},children:s.jsx(Ol,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Новых в этом месяце"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.newClientsThisMonth})]}),s.jsx(rt,{sx:{bgcolor:"success.main"},children:s.jsx(Rg,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Общая сумма"}),s.jsxs(S,{variant:"h5",fontWeight:"600",children:["₽",P.totalSpent.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"warning.main"},children:s.jsx(Sd,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Средний чек"}),s.jsxs(S,{variant:"h5",fontWeight:"600",children:["₽",Math.round(P.averageOrderValue).toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"info.main"},children:s.jsx(Il,{})})]})})})})})]}),s.jsx(we,{sx:{mb:3},children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(se,{fullWidth:!0,placeholder:"Поиск клиентов...",value:l,onChange:y=>a(y.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})}})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ri,{}),onClick:()=>{a(""),u("all")},children:"Сбросить"})}),s.jsx(D,{item:!0,xs:12,md:4,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(zs,{}),onClick:p,children:"Добавить клиента"})})]})})}),s.jsx(we,{children:s.jsx(ke,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(no,{rows:g,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(bt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить клиента"}),s.jsx(vt,{children:s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Имя",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Фамилия",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон",required:!0,InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"+7"})}})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Email",type:"email"})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Адрес",multiline:!0,rows:2})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{Pe.success("Клиент добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(bt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о клиенте"}),s.jsx(vt,{children:o&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsxs(rt,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:[o.firstName[0],o.lastName[0]]}),s.jsxs(B,{children:[s.jsxs(S,{variant:"h6",children:[o.firstName," ",o.lastName]}),s.jsxs(S,{color:"textSecondary",children:["Клиент с ",o.createdAt?new Date(o.createdAt).toLocaleDateString("ru-RU"):"Не указано"]})]})]})}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(S,{variant:"body1",children:o.phone})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(S,{variant:"body1",children:o.email||"Не указан"})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Адрес"}),s.jsx(S,{variant:"body1",children:o.address||"Не указан"})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Всего заказов"}),s.jsx(S,{variant:"body1",fontWeight:"600",children:o.totalOrders})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Потрачено"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:["₽",o.totalSpent.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Последний визит"}),s.jsx(S,{variant:"body1",children:o.lastVisit?new Date(o.lastVisit).toLocaleDateString("ru-RU"):"Не указано"})]}),o.notes&&s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(S,{variant:"body1",children:o.notes})]})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},$r=[{id:"1",name:"Экран iPhone 14",partNumber:"IP14-SCR-001",category:"Экраны",brand:"Apple",model:"iPhone 14",description:"Оригинальный экран для iPhone 14",quantity:15,minQuantity:5,unitPrice:25e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 1",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-15")},{id:"2",name:"Батарея Samsung Galaxy S23",partNumber:"SGS23-BAT-002",category:"Батареи",brand:"Samsung",model:"Galaxy S23",description:"Оригинальная батарея для Samsung Galaxy S23",quantity:8,minQuantity:3,unitPrice:12e3,supplier:"Samsung Parts",supplierContact:"+7 (999) 222-33-44",location:"Склад B, полка 2",createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"3",name:'Корпус MacBook Pro 13"',partNumber:"MBP13-CASE-003",category:"Корпуса",brand:"Apple",model:'MacBook Pro 13"',description:'Оригинальный корпус для MacBook Pro 13"',quantity:3,minQuantity:2,unitPrice:45e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 3",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"4",name:"Камера iPad Air",partNumber:"IPA-CAM-004",category:"Камеры",brand:"Apple",model:"iPad Air",description:"Оригинальная камера для iPad Air",quantity:12,minQuantity:4,unitPrice:18e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 2",createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-14")},{id:"5",name:"Клавиатура MacBook Air",partNumber:"MBA-KBD-005",category:"Клавиатуры",brand:"Apple",model:"MacBook Air",description:"Оригинальная клавиатура для MacBook Air",quantity:1,minQuantity:2,unitPrice:35e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 4",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")}],cd=["Экраны","Батареи","Корпуса","Камеры","Клавиатуры","Процессоры","Память","Прочее"],J2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},p=x=>{i(x),r(!0)},v=()=>{const x=$r.length,j=$r.filter(E=>E.quantity<=E.minQuantity).length,O=$r.reduce((E,T)=>E+T.quantity*T.unitPrice,0),k=$r.filter(E=>E.quantity===0).length;return{totalParts:x,lowStockParts:j,totalValue:O,outOfStockParts:k}},b=()=>$r.filter(x=>x.quantity<=x.minQuantity),g=$r.filter(x=>{const j=x.name.toLowerCase().includes(l.toLowerCase())||x.partNumber.toLowerCase().includes(l.toLowerCase())||x.brand.toLowerCase().includes(l.toLowerCase())||x.model.toLowerCase().includes(l.toLowerCase()),O=c==="all"||x.category===c;let k=!0;return d==="low"?k=x.quantity<=x.minQuantity:d==="out"?k=x.quantity===0:d==="normal"&&(k=x.quantity>x.minQuantity),j&&O&&k}),C=[{field:"name",headerName:"Название",width:200,renderCell:x=>s.jsxs(B,{children:[s.jsx(S,{variant:"body2",fontWeight:"600",children:x.value}),s.jsx(S,{variant:"caption",color:"textSecondary",children:x.row.partNumber})]})},{field:"category",headerName:"Категория",width:120,renderCell:x=>s.jsx(lt,{label:x.value,color:"primary",size:"small"})},{field:"brand",headerName:"Бренд",width:100},{field:"model",headerName:"Модель",width:120},{field:"quantity",headerName:"Количество",width:120,renderCell:x=>{const j=x.value<=x.row.minQuantity,O=x.value===0;return s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(S,{variant:"body2",color:O?"error.main":j?"warning.main":"success.main",fontWeight:"600",children:x.value}),j&&s.jsx(ki,{sx:{ml:1,color:"warning.main",fontSize:16}}),O&&s.jsx(ki,{sx:{ml:1,color:"error.main",fontSize:16}})]})}},{field:"unitPrice",headerName:"Цена",width:120,renderCell:x=>s.jsxs(S,{variant:"body2",fontWeight:"600",children:["₽",x.value.toLocaleString()]})},{field:"supplier",headerName:"Поставщик",width:150},{field:"location",headerName:"Местоположение",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:x=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>p(x.row),children:s.jsx(is,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Запчасть отредактирована")},children:s.jsx(es,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Запчасть удалена")},children:s.jsx(ts,{})})]})}],P=v(),y=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Склад"}),s.jsxs(D,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Всего запчастей"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.totalParts})]}),s.jsx(rt,{sx:{bgcolor:"primary.main"},children:s.jsx(El,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Низкий остаток"}),s.jsx(S,{variant:"h5",fontWeight:"600",color:"warning.main",children:P.lowStockParts})]}),s.jsx(rt,{sx:{bgcolor:"warning.main"},children:s.jsx(ki,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Общая стоимость"}),s.jsxs(S,{variant:"h5",fontWeight:"600",children:["₽",P.totalValue.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"success.main"},children:s.jsx(Ml,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Нет в наличии"}),s.jsx(S,{variant:"h5",fontWeight:"600",color:"error.main",children:P.outOfStockParts})]}),s.jsx(rt,{sx:{bgcolor:"error.main"},children:s.jsx(Qi,{})})]})})})})})]}),s.jsxs(D,{container:!0,spacing:3,children:[y.length>0&&s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{sx:{bgcolor:"warning.light",color:"warning.contrastText"},children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"⚠️ Внимание! Низкий остаток запчастей"}),s.jsx(D,{container:!0,spacing:1,children:y.map(x=>s.jsx(D,{item:!0,children:s.jsx(lt,{label:`${x.name} (${x.quantity}/${x.minQuantity})`,color:"warning",variant:"outlined"})},x.id))})]})})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsxs(D,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(se,{fullWidth:!0,placeholder:"Поиск запчастей...",value:l,onChange:x=>a(x.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})}})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Категория"}),s.jsxs(et,{value:c,onChange:x=>u(x.target.value),label:"Категория",children:[s.jsx(ie,{value:"all",children:"Все"}),cd.map(x=>s.jsx(ie,{value:x,children:x},x))]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Статус"}),s.jsxs(et,{value:d,onChange:x=>f(x.target.value),label:"Статус",children:[s.jsx(ie,{value:"all",children:"Все"}),s.jsx(ie,{value:"normal",children:"Норма"}),s.jsx(ie,{value:"low",children:"Низкий"}),s.jsx(ie,{value:"out",children:"Нет"})]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ri,{}),onClick:()=>{a(""),u("all"),f("all")},children:"Сбросить"})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(zs,{}),onClick:m,children:"Добавить запчасть"})})]}),s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(no,{rows:g,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(bt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить запчасть"}),s.jsx(vt,{children:s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Название",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Артикул",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Категория"}),s.jsx(et,{defaultValue:"",label:"Категория",children:cd.map(x=>s.jsx(ie,{value:x,children:x},x))})]})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Бренд",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Модель",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Количество",type:"number",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Минимальный остаток",type:"number",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Цена за единицу",type:"number",InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Поставщик"})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Местоположение"})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{Pe.success("Запчасть добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(bt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о запчасти"}),s.jsx(vt,{children:o&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:o.name}),s.jsxs(S,{variant:"body2",color:"textSecondary",children:["Артикул: ",o.partNumber]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(lt,{label:o.category,color:"primary",size:"small"})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Бренд / Модель"}),s.jsxs(S,{variant:"body1",children:[o.brand," ",o.model]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Количество"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:[o.quantity," / ",o.minQuantity]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Цена за единицу"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:["₽",o.unitPrice.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Поставщик"}),s.jsx(S,{variant:"body1",children:o.supplier})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Контакт поставщика"}),s.jsx(S,{variant:"body1",children:o.supplierContact})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Местоположение"}),s.jsx(S,{variant:"body1",children:o.location})]}),o.description&&s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(S,{variant:"body1",children:o.description})]})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Rr=[{id:"1",name:"Иванов Алексей Александрович",email:"ivanov@service.com",phone:"+7 (999) 123-45-67",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:8e4,rating:4.8,totalOrders:156,completedOrders:142,totalEarnings:125e4,isActive:!0,hireDate:new Date("2022-03-15"),lastLogin:new Date("2024-01-15T09:30:00")},{id:"2",name:"Петрова Мария Сергеевна",email:"petrova@service.com",phone:"+7 (999) 234-56-78",role:"manager",department:"Управление",position:"Менеджер",salary:9e4,rating:4.6,totalOrders:89,completedOrders:85,totalEarnings:98e4,isActive:!0,hireDate:new Date("2021-08-20"),lastLogin:new Date("2024-01-15T08:45:00")},{id:"3",name:"Сидоров Петр Владимирович",email:"sidorov@service.com",phone:"+7 (999) 345-67-89",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:75e3,rating:4.4,totalOrders:134,completedOrders:128,totalEarnings:11e5,isActive:!0,hireDate:new Date("2022-01-10"),lastLogin:new Date("2024-01-14T17:20:00")},{id:"4",name:"Козлова Анна Дмитриевна",email:"kozlova@service.com",phone:"+7 (999) 456-78-90",role:"cashier",department:"Касса",position:"Кассир",salary:6e4,rating:4.7,totalOrders:67,completedOrders:65,totalEarnings:45e4,isActive:!0,hireDate:new Date("2023-02-01"),lastLogin:new Date("2024-01-15T10:15:00")},{id:"5",name:"Волков Дмитрий Игоревич",email:"volkov@service.com",phone:"+7 (999) 567-89-01",role:"admin",department:"Администрация",position:"Директор",salary:12e4,rating:4.9,totalOrders:45,completedOrders:43,totalEarnings:8e5,isActive:!0,hireDate:new Date("2020-05-15"),lastLogin:new Date("2024-01-15T07:30:00")}],go=[{value:"admin",label:"Администратор"},{value:"manager",label:"Менеджер"},{value:"technician",label:"Техник"},{value:"cashier",label:"Кассир"}],eI=()=>{var x;const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},p=j=>{i(j),r(!0)},v=()=>{const j=Rr.length,O=Rr.filter(T=>T.isActive).length,k=Rr.reduce((T,V)=>T+V.salary,0),E=Rr.reduce((T,V)=>T+V.rating,0)/j;return{totalEmployees:j,activeEmployees:O,totalSalary:k,averageRating:E}},b=()=>Rr.filter(j=>j.isActive).sort((j,O)=>O.rating-j.rating).slice(0,3),g=Rr.filter(j=>{const O=j.name.toLowerCase().includes(l.toLowerCase())||j.email.toLowerCase().includes(l.toLowerCase())||j.position.toLowerCase().includes(l.toLowerCase()),k=c==="all"||j.role===c,E=d==="all"||d==="active"&&j.isActive||d==="inactive"&&!j.isActive;return O&&k&&E}),C=[{field:"name",headerName:"Сотрудник",width:250,renderCell:j=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(rt,{sx:{mr:2,bgcolor:"primary.main"},children:j.row.name.split(" ").map(O=>O[0]).join("")}),s.jsxs(B,{children:[s.jsx(S,{variant:"body2",fontWeight:"600",children:j.row.name}),s.jsx(S,{variant:"caption",color:"textSecondary",children:j.row.position})]})]})},{field:"role",headerName:"Роль",width:120,renderCell:j=>{var k;const O=((k=go.find(E=>E.value===j.value))==null?void 0:k.label)||j.value;return s.jsx(lt,{label:O,color:j.value==="admin"?"error":j.value==="manager"?"warning":"primary",size:"small"})}},{field:"department",headerName:"Отдел",width:120},{field:"rating",headerName:"Рейтинг",width:100,renderCell:j=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ps,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(S,{variant:"body2",children:j.value})]})},{field:"completedOrders",headerName:"Заказов",width:100,renderCell:j=>s.jsx(lt,{label:j.value,color:"success",size:"small"})},{field:"salary",headerName:"Зарплата",width:120,renderCell:j=>s.jsxs(S,{variant:"body2",fontWeight:"600",children:["₽",j.value.toLocaleString()]})},{field:"isActive",headerName:"Статус",width:100,renderCell:j=>s.jsx(lt,{label:j.value?"Активен":"Неактивен",color:j.value?"success":"default",size:"small"})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:j=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>p(j.row),children:s.jsx(is,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Сотрудник отредактирован")},children:s.jsx(es,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Сотрудник удален")},children:s.jsx(ts,{})})]})}],P=v(),y=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Сотрудники"}),s.jsxs(D,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Всего сотрудников"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.totalEmployees})]}),s.jsx(rt,{sx:{bgcolor:"primary.main"},children:s.jsx(Ol,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Активных"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.activeEmployees})]}),s.jsx(rt,{sx:{bgcolor:"success.main"},children:s.jsx(Ng,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Средний рейтинг"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:P.averageRating.toFixed(1)})]}),s.jsx(rt,{sx:{bgcolor:"warning.main"},children:s.jsx(ps,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Фонд зарплат"}),s.jsxs(S,{variant:"h5",fontWeight:"600",children:["₽",P.totalSalary.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"info.main"},children:s.jsx(_l,{})})]})})})})})]}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,md:4,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ сотрудники"}),y.map((j,O)=>s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(rt,{sx:{mr:2,bgcolor:"primary.main"},children:j.name.split(" ").map(k=>k[0]).join("")}),s.jsxs(B,{flex:1,children:[s.jsx(S,{variant:"body2",fontWeight:"600",children:j.name}),s.jsx(S,{variant:"caption",color:"textSecondary",children:j.position})]}),s.jsxs(B,{textAlign:"right",children:[s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ps,{sx:{color:"gold",fontSize:14,mr:.5}}),s.jsx(S,{variant:"body2",children:j.rating})]}),s.jsxs(S,{variant:"caption",color:"textSecondary",children:[j.completedOrders," заказов"]})]})]},j.id))]})})}),s.jsx(D,{item:!0,xs:12,md:8,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsxs(D,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(D,{item:!0,xs:12,md:4,children:s.jsx(se,{fullWidth:!0,placeholder:"Поиск сотрудников...",value:l,onChange:j=>a(j.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})}})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Роль"}),s.jsxs(et,{value:c,onChange:j=>u(j.target.value),label:"Роль",children:[s.jsx(ie,{value:"all",children:"Все"}),go.map(j=>s.jsx(ie,{value:j.value,children:j.label},j.value))]})]})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Статус"}),s.jsxs(et,{value:d,onChange:j=>f(j.target.value),label:"Статус",children:[s.jsx(ie,{value:"all",children:"Все"}),s.jsx(ie,{value:"active",children:"Активные"}),s.jsx(ie,{value:"inactive",children:"Неактивные"})]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(zs,{}),onClick:m,children:"Добавить"})})]}),s.jsx(B,{sx:{height:500,width:"100%"},children:s.jsx(no,{rows:g,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(bt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить сотрудника"}),s.jsx(vt,{children:s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"ФИО",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Email",type:"email",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Роль"}),s.jsx(et,{defaultValue:"",label:"Роль",children:go.map(j=>s.jsx(ie,{value:j.value,children:j.label},j.value))})]})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Должность",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Отдел",required:!0})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Зарплата",type:"number",InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{Pe.success("Сотрудник добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(bt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о сотруднике"}),s.jsx(vt,{children:o&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(rt,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:o.name.split(" ").map(j=>j[0]).join("")}),s.jsxs(B,{children:[s.jsx(S,{variant:"h6",children:o.name}),s.jsx(S,{color:"textSecondary",children:o.position})]})]})}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(S,{variant:"body1",children:o.email})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(S,{variant:"body1",children:o.phone})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Роль"}),s.jsx(lt,{label:((x=go.find(j=>j.value===o.role))==null?void 0:x.label)||o.role,color:"primary",size:"small"})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Отдел"}),s.jsx(S,{variant:"body1",children:o.department})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Рейтинг"}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ps,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(S,{variant:"body1",children:o.rating})]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Зарплата"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:["₽",o.salary.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Завершенных заказов"}),s.jsx(S,{variant:"body1",fontWeight:"600",children:o.completedOrders})]}),s.jsxs(D,{item:!0,xs:12,sm:6,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Общий доход"}),s.jsxs(S,{variant:"body1",fontWeight:"600",children:["₽",o.totalEarnings.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Дата найма"}),s.jsx(S,{variant:"body1",children:o.hireDate?new Date(o.hireDate).toLocaleDateString("ru-RU"):"Не указано"})]})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},po=[{id:"1",type:"income",amount:15e3,description:"Оплата заказа #001247",category:"Ремонт",orderId:"#001247",processedBy:"Иванов А.А.",processedAt:new Date("2024-01-15T10:30:00"),notes:"Полная оплата"},{id:"2",type:"expense",amount:5e3,description:"Покупка запчастей",category:"Запчасти",processedBy:"Петров В.В.",processedAt:new Date("2024-01-15T14:20:00"),notes:"Экран для iPhone 14"},{id:"3",type:"income",amount:8e3,description:"Оплата заказа #001246",category:"Ремонт",orderId:"#001246",processedBy:"Сидорова М.А.",processedAt:new Date("2024-01-15T16:45:00"),notes:"Частичная оплата"},{id:"4",type:"expense",amount:2e3,description:"Коммунальные услуги",category:"Коммунальные",processedBy:"Козлов А.В.",processedAt:new Date("2024-01-15T09:00:00"),notes:"Электричество за январь"},{id:"5",type:"income",amount:12e3,description:"Оплата заказа #001245",category:"Ремонт",orderId:"#001245",processedBy:"Волкова Е.С.",processedAt:new Date("2024-01-14T15:30:00"),notes:"Полная оплата"}],ud=["Ремонт","Запчасти","Коммунальные","Зарплата","Аренда","Прочее"],tI=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},p=()=>{const C=po.filter(x=>x.type==="income").reduce((x,j)=>x+j.amount,0),P=po.filter(x=>x.type==="expense").reduce((x,j)=>x+j.amount,0),y=C-P;return{totalIncome:C,totalExpense:P,balance:y,operationsCount:po.length}},v=po.filter(C=>{const P=C.description.toLowerCase().includes(l.toLowerCase())||C.category.toLowerCase().includes(l.toLowerCase())||C.processedBy.toLowerCase().includes(l.toLowerCase()),y=c==="all"||C.type===c,x=d==="all"||C.category===d;return P&&y&&x}),b=[{field:"processedAt",headerName:"Дата",width:150,renderCell:C=>s.jsx(S,{variant:"body2",children:C.value?new Date(C.value).toLocaleDateString("ru-RU"):"Не указано"})},{field:"type",headerName:"Тип",width:100,renderCell:C=>s.jsx(lt,{label:C.value==="income"?"Доход":"Расход",color:C.value==="income"?"success":"error",size:"small"})},{field:"description",headerName:"Описание",width:200},{field:"category",headerName:"Категория",width:120},{field:"amount",headerName:"Сумма",width:120,renderCell:C=>s.jsxs(S,{variant:"body2",color:C.row.type==="income"?"success.main":"error.main",fontWeight:"600",children:[C.row.type==="income"?"+":"-","₽",C.value.toLocaleString()]})},{field:"processedBy",headerName:"Обработал",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:C=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>{i(C.row),r(!0)},children:s.jsx(is,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Операция отредактирована")},children:s.jsx(es,{})}),s.jsx(Be,{size:"small",onClick:()=>{Pe.success("Операция удалена")},children:s.jsx(ts,{})})]})}],g=p();return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Касса"}),s.jsxs(D,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"}),s.jsxs(S,{variant:"h5",color:"success.main",fontWeight:"600",children:["₽",g.totalIncome.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"success.main"},children:s.jsx(_l,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Общий расход"}),s.jsxs(S,{variant:"h5",color:"error.main",fontWeight:"600",children:["₽",g.totalExpense.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"error.main"},children:s.jsx(zg,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Баланс"}),s.jsxs(S,{variant:"h5",color:g.balance>=0?"success.main":"error.main",fontWeight:"600",children:["₽",g.balance.toLocaleString()]})]}),s.jsx(rt,{sx:{bgcolor:"primary.main"},children:s.jsx(Bg,{})})]})})})})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(tt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(we,{sx:{height:"100%"},children:s.jsx(ke,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(S,{color:"textSecondary",gutterBottom:!0,children:"Операций"}),s.jsx(S,{variant:"h5",fontWeight:"600",children:g.operationsCount})]}),s.jsx(rt,{sx:{bgcolor:"info.main"},children:s.jsx(Hg,{})})]})})})})})]}),s.jsx(we,{sx:{mb:3},children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(D,{item:!0,xs:12,md:4,children:s.jsx(se,{fullWidth:!0,placeholder:"Поиск операций...",value:l,onChange:C=>a(C.target.value),InputProps:{startAdornment:s.jsx(xt,{position:"start",children:s.jsx(Cr,{})})}})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Тип"}),s.jsxs(et,{value:c,onChange:C=>u(C.target.value),label:"Тип",children:[s.jsx(ie,{value:"all",children:"Все"}),s.jsx(ie,{value:"income",children:"Доход"}),s.jsx(ie,{value:"expense",children:"Расход"})]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Категория"}),s.jsxs(et,{value:d,onChange:C=>f(C.target.value),label:"Категория",children:[s.jsx(ie,{value:"all",children:"Все"}),ud.map(C=>s.jsx(ie,{value:C,children:C},C))]})]})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ri,{}),onClick:()=>{a(""),u("all"),f("all")},children:"Сбросить"})}),s.jsx(D,{item:!0,xs:12,md:2,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(zs,{}),onClick:m,children:"Добавить"})})]})})}),s.jsx(we,{children:s.jsx(ke,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(no,{rows:v,columns:b,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(bt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить операцию"}),s.jsx(vt,{children:s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(D,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Тип операции"}),s.jsxs(et,{defaultValue:"income",label:"Тип операции",children:[s.jsx(ie,{value:"income",children:"Доход"}),s.jsx(ie,{value:"expense",children:"Расход"})]})]})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Сумма",type:"number",InputProps:{startAdornment:s.jsx(xt,{position:"start",children:"₽"})}})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})}),s.jsx(D,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Категория"}),s.jsx(et,{defaultValue:"",label:"Категория",children:ud.map(C=>s.jsx(ie,{value:C,children:C},C))})]})}),s.jsx(D,{item:!0,xs:12,children:s.jsx(se,{fullWidth:!0,label:"Примечания",multiline:!0,rows:2})})]})}),s.jsxs(Ct,{children:[s.jsx(me,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(me,{variant:"contained",onClick:()=>{Pe.success("Операция добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(bt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Детали операции"}),s.jsx(vt,{children:o&&s.jsxs(D,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Дата и время"}),s.jsx(S,{variant:"body1",children:o.processedAt.toLocaleString("ru-RU")})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Тип операции"}),s.jsx(lt,{label:o.type==="income"?"Доход":"Расход",color:o.type==="income"?"success":"error",size:"small"})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Сумма"}),s.jsxs(S,{variant:"h6",color:o.type==="income"?"success.main":"error.main",children:[o.type==="income"?"+":"-","₽",o.amount.toLocaleString()]})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(S,{variant:"body1",children:o.description})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(S,{variant:"body1",children:o.category})]}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Обработал"}),s.jsx(S,{variant:"body1",children:o.processedBy})]}),o.notes&&s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(S,{variant:"body1",children:o.notes})]})]})}),s.jsx(Ct,{children:s.jsx(me,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},dd=[{month:"Янв",revenue:24e5,orders:45,clients:38},{month:"Фев",revenue:22e5,orders:42,clients:35},{month:"Мар",revenue:28e5,orders:48,clients:42},{month:"Апр",revenue:26e5,orders:46,clients:40},{month:"Май",revenue:32e5,orders:52,clients:45},{month:"Июн",revenue:2847500,orders:49,clients:41}],hd=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],nI=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],rI=[{name:"Экран iPhone 14 Pro",sold:15,revenue:375e3},{name:"Аккумулятор Samsung Galaxy S23",sold:12,revenue:42e3},{name:'Корпус MacBook Pro 16"',sold:8,revenue:36e4},{name:"Камера iPad Air 5",sold:6,revenue:48e3}],sI=[{day:"Пн",revenue:45e3},{day:"Вт",revenue:52e3},{day:"Ср",revenue:48e3},{day:"Чт",revenue:61e3},{day:"Пт",revenue:58e3},{day:"Сб",revenue:42e3},{day:"Вс",revenue:38e3}],oI=()=>{const[e,t]=h.useState(0),[n,r]=h.useState("month"),[o,i]=h.useState("revenue"),l=c=>{Pe.success(`Отчет экспортирован в формате ${c}`)},a=({title:c,value:u,change:d,changeType:f,icon:m,color:p})=>s.jsx(tt.div,{whileHover:{scale:1.02},children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(rt,{sx:{bgcolor:p,width:56,height:56},children:m}),s.jsx(lt,{label:d,color:f==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(S,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:u}),s.jsx(S,{variant:"body2",color:"text.secondary",children:c})]})})});return s.jsxs(B,{children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(S,{variant:"h4",fontWeight:"bold",children:"Отчеты"}),s.jsxs(B,{display:"flex",gap:1,children:[s.jsx(me,{variant:"outlined",startIcon:s.jsx(Ja,{}),onClick:()=>l("PDF"),children:"PDF"}),s.jsx(me,{variant:"outlined",startIcon:s.jsx(Ja,{}),onClick:()=>l("Excel"),children:"Excel"}),s.jsx(me,{variant:"outlined",startIcon:s.jsx(To,{}),onClick:()=>l("Print"),children:"Печать"})]})]}),s.jsx(we,{sx:{mb:3},children:s.jsx(ke,{children:s.jsxs(D,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(D,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Период"}),s.jsxs(et,{value:n,onChange:c=>r(c.target.value),label:"Период",children:[s.jsx(ie,{value:"week",children:"Неделя"}),s.jsx(ie,{value:"month",children:"Месяц"}),s.jsx(ie,{value:"quarter",children:"Квартал"}),s.jsx(ie,{value:"year",children:"Год"})]})]})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Тип отчета"}),s.jsxs(et,{value:o,onChange:c=>i(c.target.value),label:"Тип отчета",children:[s.jsx(ie,{value:"revenue",children:"Доходы"}),s.jsx(ie,{value:"orders",children:"Заказы"}),s.jsx(ie,{value:"clients",children:"Клиенты"}),s.jsx(ie,{value:"employees",children:"Сотрудники"})]})]})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(me,{fullWidth:!0,variant:"contained",startIcon:s.jsx(fd,{}),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:"Сформировать отчет"})}),s.jsx(D,{item:!0,xs:12,md:3,children:s.jsx(me,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(Il,{}),children:"Отправить по email"})})]})})}),s.jsxs(D,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Общий доход",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(pd,{}),color:"#2e7d32"})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Mo,{}),color:"#1976d2"})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Клиентов",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(Fo,{}),color:"#f57c00"})}),s.jsx(D,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Средний чек",value:"₽2,284",change:"+5%",changeType:"positive",icon:s.jsx(_l,{}),color:"#9c27b0"})})]}),s.jsxs(we,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(jd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(bn,{icon:s.jsx(Wg,{}),label:"Доходы"}),s.jsx(bn,{icon:s.jsx(Gg,{}),label:"Заказы"}),s.jsx(bn,{icon:s.jsx(Ug,{}),label:"Тренды"}),s.jsx(bn,{icon:s.jsx(Fo,{}),label:"Сотрудники"}),s.jsx(bn,{icon:s.jsx(Mo,{}),label:"Детализация"})]})}),s.jsxs(ke,{children:[e===0&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Динамика доходов по месяцам"}),s.jsx(B,{height:400,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(sp,{data:dd,children:[s.jsx(xo,{strokeDasharray:"3 3"}),s.jsx(bo,{dataKey:"month"}),s.jsx(yo,{}),s.jsx(Wr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(op,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.3})]})})})]}),e===1&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Распределение заказов по статусам"}),s.jsxs(D,{container:!0,spacing:3,children:[s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(Ed,{children:[s.jsx(Id,{data:hd,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:hd.map((c,u)=>s.jsx(Md,{fill:c.color},`cell-${u}`))}),s.jsx(Wr,{formatter:c=>[`${c}%`,"Процент"]})]})})})}),s.jsx(D,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(ip,{data:dd,children:[s.jsx(xo,{strokeDasharray:"3 3"}),s.jsx(bo,{dataKey:"month"}),s.jsx(yo,{}),s.jsx(Wr,{formatter:c=>[c,"Заказы"]}),s.jsx(lp,{dataKey:"orders",fill:"#1976d2"})]})})})})]})]}),e===2&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Тренды по дням недели"}),s.jsx(B,{height:400,children:s.jsx(Hr,{width:"100%",height:"100%",children:s.jsxs(Pd,{data:sI,children:[s.jsx(xo,{strokeDasharray:"3 3"}),s.jsx(bo,{dataKey:"day"}),s.jsx(yo,{}),s.jsx(Wr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(kd,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]}),e===3&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Топ сотрудников по эффективности"}),s.jsx(Cs,{component:Zt,children:s.jsxs(ws,{children:[s.jsx(Ss,{children:s.jsxs(Qt,{children:[s.jsx(Me,{children:"Сотрудник"}),s.jsx(Me,{align:"right",children:"Заказов"}),s.jsx(Me,{align:"right",children:"Доход"}),s.jsx(Me,{align:"right",children:"Рейтинг"})]})}),s.jsx(js,{children:nI.map((c,u)=>s.jsxs(Qt,{children:[s.jsx(Me,{children:s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(S,{variant:"body1",fontWeight:"500",children:c.name}),u<3&&s.jsx(lt,{label:`#${u+1}`,size:"small",color:u===0?"warning":"default",sx:{ml:1}})]})}),s.jsx(Me,{align:"right",children:c.orders}),s.jsxs(Me,{align:"right",children:["₽",c.revenue.toLocaleString()]}),s.jsx(Me,{align:"right",children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"flex-end",children:[s.jsx(S,{variant:"body2",sx:{mr:1},children:c.rating}),s.jsx(S,{color:"orange",children:"★"})]})})]},u))})]})})]}),e===4&&s.jsxs(B,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Топ запчастей по продажам"}),s.jsx(Cs,{component:Zt,children:s.jsxs(ws,{children:[s.jsx(Ss,{children:s.jsxs(Qt,{children:[s.jsx(Me,{children:"Запчасть"}),s.jsx(Me,{align:"right",children:"Продано"}),s.jsx(Me,{align:"right",children:"Доход"})]})}),s.jsx(js,{children:rI.map((c,u)=>s.jsxs(Qt,{children:[s.jsx(Me,{children:s.jsx(S,{variant:"body1",fontWeight:"500",children:c.name})}),s.jsx(Me,{align:"right",children:c.sold}),s.jsxs(Me,{align:"right",children:["₽",c.revenue.toLocaleString()]})]},u))})]})})]})]})]})]})},iI=()=>{const[e,t]=h.useState(0),[n,r]=h.useState({profile:{name:"Администратор",email:"admin@service.com",phone:"+7 (999) 123-45-67",avatar:""},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,paymentReminders:!0,lowStockAlerts:!0},business:{companyName:"НЭК Сервис",address:"ул. Примерная, д. 1",phone:"+7 (999) 123-45-67",email:"info@service.com",workingHours:"9:00 - 18:00",timezone:"Europe/Moscow"},payment:{currency:"RUB",taxRate:20,paymentMethods:["cash","card","transfer"],installmentEnabled:!0},system:{autoBackup:!0,backupFrequency:"daily",dataRetention:365,language:"ru",theme:"light"}}),o=(c,u,d)=>{r(f=>({...f,[c]:{...f[c],[u]:d}}))},i=()=>{Pe.success("Настройки сохранены")},l=()=>{Pe.success("Резервная копия создана")},a=[s.jsx(D,{container:!0,spacing:3,children:s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Профиль пользователя"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Имя",value:n.profile.name,onChange:c=>o("profile","name",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Email",type:"email",value:n.profile.email,onChange:c=>o("profile","email",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон",value:n.profile.phone,onChange:c=>o("profile","phone",c.target.value)})})]})]})})})},"profile"),s.jsx(D,{container:!0,spacing:3,children:s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Уведомления"}),s.jsxs(Yr,{children:[s.jsxs(hn,{children:[s.jsx(oo,{children:s.jsx(gs,{})}),s.jsx(fn,{primary:"Email уведомления",secondary:"Получать уведомления на email"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.notifications.emailNotifications,onChange:c=>o("notifications","emailNotifications",c.target.checked)})})]}),s.jsxs(hn,{children:[s.jsx(oo,{children:s.jsx(gs,{})}),s.jsx(fn,{primary:"SMS уведомления",secondary:"Получать SMS уведомления"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.notifications.smsNotifications,onChange:c=>o("notifications","smsNotifications",c.target.checked)})})]}),s.jsxs(hn,{children:[s.jsx(oo,{children:s.jsx(gs,{})}),s.jsx(fn,{primary:"Push уведомления",secondary:"Получать push уведомления в браузере"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.notifications.pushNotifications,onChange:c=>o("notifications","pushNotifications",c.target.checked)})})]})]})]})})})},"notifications"),s.jsx(D,{container:!0,spacing:3,children:s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Информация о компании"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Название компании",value:n.business.companyName,onChange:c=>o("business","companyName",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Адрес",value:n.business.address,onChange:c=>o("business","address",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Телефон",value:n.business.phone,onChange:c=>o("business","phone",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Email",type:"email",value:n.business.email,onChange:c=>o("business","email",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Рабочие часы",value:n.business.workingHours,onChange:c=>o("business","workingHours",c.target.value)})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Часовой пояс"}),s.jsxs(et,{value:n.business.timezone,onChange:c=>o("business","timezone",c.target.value),label:"Часовой пояс",children:[s.jsx(ie,{value:"Europe/Moscow",children:"Москва (UTC+3)"}),s.jsx(ie,{value:"Europe/Kiev",children:"Киев (UTC+2)"}),s.jsx(ie,{value:"Asia/Almaty",children:"Алматы (UTC+6)"})]})]})})]})]})})})},"business"),s.jsx(D,{container:!0,spacing:3,children:s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Настройки платежей"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Валюта"}),s.jsxs(et,{value:n.payment.currency,onChange:c=>o("payment","currency",c.target.value),label:"Валюта",children:[s.jsx(ie,{value:"RUB",children:"Рубль (₽)"}),s.jsx(ie,{value:"USD",children:"Доллар ($)"}),s.jsx(ie,{value:"EUR",children:"Евро (€)"})]})]})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsx(se,{fullWidth:!0,label:"Налоговая ставка (%)",type:"number",value:n.payment.taxRate,onChange:c=>o("payment","taxRate",parseInt(c.target.value))})}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(S,{variant:"subtitle1",gutterBottom:!0,children:"Способы оплаты"}),s.jsxs(Yr,{children:[s.jsxs(hn,{children:[s.jsx(fn,{primary:"Наличные"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.payment.paymentMethods.includes("cash"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"cash"]):o("payment","paymentMethods",u.filter(d=>d!=="cash"))}})})]}),s.jsxs(hn,{children:[s.jsx(fn,{primary:"Банковская карта"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.payment.paymentMethods.includes("card"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"card"]):o("payment","paymentMethods",u.filter(d=>d!=="card"))}})})]}),s.jsxs(hn,{children:[s.jsx(fn,{primary:"Банковский перевод"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.payment.paymentMethods.includes("transfer"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"transfer"]):o("payment","paymentMethods",u.filter(d=>d!=="transfer"))}})})]})]})]})]})]})})})},"payment"),s.jsx(D,{container:!0,spacing:3,children:s.jsx(D,{item:!0,xs:12,children:s.jsx(we,{children:s.jsxs(ke,{children:[s.jsx(S,{variant:"h6",gutterBottom:!0,children:"Системные настройки"}),s.jsxs(D,{container:!0,spacing:2,children:[s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Язык"}),s.jsxs(et,{value:n.system.language,onChange:c=>o("system","language",c.target.value),label:"Язык",children:[s.jsx(ie,{value:"ru",children:"Русский"}),s.jsx(ie,{value:"en",children:"English"}),s.jsx(ie,{value:"kz",children:"Қазақша"})]})]})}),s.jsx(D,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(Je,{children:"Тема"}),s.jsxs(et,{value:n.system.theme,onChange:c=>o("system","theme",c.target.value),label:"Тема",children:[s.jsx(ie,{value:"light",children:"Светлая"}),s.jsx(ie,{value:"dark",children:"Темная"}),s.jsx(ie,{value:"auto",children:"Автоматически"})]})]})}),s.jsxs(D,{item:!0,xs:12,children:[s.jsx(Ds,{sx:{my:2}}),s.jsx(S,{variant:"subtitle1",gutterBottom:!0,children:"Резервное копирование"}),s.jsxs(Yr,{children:[s.jsxs(hn,{children:[s.jsx(oo,{children:s.jsx(ec,{})}),s.jsx(fn,{primary:"Автоматическое резервное копирование",secondary:"Создавать резервные копии автоматически"}),s.jsx(zn,{children:s.jsx(Bn,{checked:n.system.autoBackup,onChange:c=>o("system","autoBackup",c.target.checked)})})]}),s.jsxs(hn,{children:[s.jsx(fn,{primary:"Частота резервного копирования",secondary:"Как часто создавать резервные копии"}),s.jsx(zn,{children:s.jsx(ze,{size:"small",children:s.jsxs(et,{value:n.system.backupFrequency,onChange:c=>o("system","backupFrequency",c.target.value),children:[s.jsx(ie,{value:"daily",children:"Ежедневно"}),s.jsx(ie,{value:"weekly",children:"Еженедельно"}),s.jsx(ie,{value:"monthly",children:"Ежемесячно"})]})})})]})]})]}),s.jsx(D,{item:!0,xs:12,children:s.jsx(me,{variant:"outlined",startIcon:s.jsx(ec,{}),onClick:l,children:"Создать резервную копию"})})]})]})})})},"system")];return s.jsxs(B,{sx:{p:3},children:[s.jsx(S,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Настройки"}),s.jsxs(we,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(jd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(bn,{icon:s.jsx(Ol,{}),label:"Профиль"}),s.jsx(bn,{icon:s.jsx(gs,{}),label:"Уведомления"}),s.jsx(bn,{icon:s.jsx(gd,{}),label:"Компания"}),s.jsx(bn,{icon:s.jsx(qg,{}),label:"Платежи"}),s.jsx(bn,{icon:s.jsx(md,{}),label:"Система"})]})}),s.jsxs(ke,{children:[a[e],s.jsxs(B,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[s.jsx(me,{variant:"outlined",startIcon:s.jsx(Kg,{}),onClick:()=>{Pe.success("Настройки сброшены")},children:"Сбросить"}),s.jsx(me,{variant:"contained",startIcon:s.jsx(wd,{}),onClick:i,children:"Сохранить"})]})]})]})]})},lI=()=>{const{isAuthenticated:e,isLoading:t}=ia();return t?s.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"background.default",children:s.jsx(tt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(B,{width:40,height:40,border:"4px solid #f3f3f3",borderTop:"4px solid #1976d2",borderRadius:"50%"})})}):e?s.jsx(OC,{children:s.jsxs(np,{children:[s.jsx(un,{path:"/",element:s.jsx(tc,{to:"/dashboard",replace:!0})}),s.jsx(un,{path:"/dashboard",element:s.jsx(nw,{})}),s.jsx(un,{path:"/orders",element:s.jsx(X2,{})}),s.jsx(un,{path:"/clients",element:s.jsx(Z2,{})}),s.jsx(un,{path:"/inventory",element:s.jsx(J2,{})}),s.jsx(un,{path:"/employees",element:s.jsx(eI,{})}),s.jsx(un,{path:"/cash-register",element:s.jsx(tI,{})}),s.jsx(un,{path:"/reports",element:s.jsx(oI,{})}),s.jsx(un,{path:"/settings",element:s.jsx(iI,{})}),s.jsx(un,{path:"*",element:s.jsx(tc,{to:"/dashboard",replace:!0})})]})}):s.jsx(Z0,{})},aI=Qg({palette:{primary:{main:"#FF6B35",light:"#FF8A65",dark:"#E64A19",contrastText:"#fff"},secondary:{main:"#607D8B",light:"#90A4AE",dark:"#455A64",contrastText:"#fff"},background:{default:"#1A1A1A",paper:"#FFFFFF"},text:{primary:"#616161",secondary:"#9E9E9E"},success:{main:"#4CAF50",light:"#81C784",dark:"#388E3C"},warning:{main:"#FF9800",light:"#FFB74D",dark:"#F57C00"},error:{main:"#F44336",light:"#EF5350",dark:"#D32F2F"},grey:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#757575",900:"#616161"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:600,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43}},shape:{borderRadius:12},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"8px 16px",fontWeight:500,transition:"all 0.3s ease"},contained:{boxShadow:"0 2px 8px rgba(255, 107, 53, 0.3)","&:hover":{boxShadow:"0 4px 12px rgba(255, 107, 53, 0.4)",transform:"translateY(-1px)"}},outlined:{borderColor:"#FF6B35",color:"#FF6B35","&:hover":{backgroundColor:"rgba(255, 107, 53, 0.08)",borderColor:"#E64A19"}}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0,0,0,0.08)",borderRadius:12,border:"1px solid rgba(96, 125, 139, 0.1)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 16px rgba(0,0,0,0.12)",transform:"translateY(-2px)"}}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#FF6B35"}}},MuiChip:{styleOverrides:{root:{backgroundColor:"rgba(255, 107, 53, 0.1)",color:"#E64A19",border:"1px solid rgba(255, 107, 53, 0.2)"}}},MuiTypography:{styleOverrides:{root:{color:"#616161"},h1:{color:"#616161"},h2:{color:"#616161"},h3:{color:"#616161"},h4:{color:"#616161"},h5:{color:"#616161"},h6:{color:"#616161"},body1:{color:"#757575"},body2:{color:"#9E9E9E"},caption:{color:"#9E9E9E"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#FF6B35"},"&.Mui-focused fieldset":{borderColor:"#FF6B35"}}}}}}});const cI=new Ep({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),uI=Yi.createRoot(document.getElementById("root"));uI.render(s.jsx(Fe.StrictMode,{children:s.jsx(Ap,{client:cI,children:s.jsx(rp,{children:s.jsxs(Yg,{theme:aI,children:[s.jsx(Xg,{}),s.jsxs(DC,{children:[s.jsx(lI,{}),s.jsx(vx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})]})})})}));
