import{_ as S,b as Jo,d as Gm,a as Ae,r as h,j as s,u as Um,e as qm,B,T as j,D as Is,L as Gr,A as Km,f as Qm,I as Be,M as Ym,g as yl,N as us,h as st,i as Oa,k as Xm,l as le,m as Zm,n as Jm,o as eg,p as Eo,q as Io,s as Cl,G as tg,t as ng,v as Ju,S as ed,C as rg,w as Se,x as td,y as Ee,z as sg,E as re,F as bt,H as wl,V as og,J as ts,K as ig,O as ge,Q as A,U as cn,W as lg,X as un,Y as ds,Z as at,$ as ag,a0 as Sl,a1 as nd,a2 as rd,a3 as cg,a4 as He,a5 as $e,a6 as ve,a7 as sn,a8 as _a,a9 as Xt,aa as Cr,ab as ei,ac as br,ad as $t,ae as sd,af as ut,ag as od,ah as ug,ai as Yt,aj as jl,ak as id,al as dg,am as Pl,an as en,ao as kl,ap as $r,aq as hg,ar as fg,as as hs,at as mg,au as et,av as ze,aw as gg,ax as pg,ay as Va,az as Ms,aA as xg,aB as $n,aC as tt,aD as bg,aE as ld,aF as vg,aG as ad,P as Y,aH as yi,aI as vt,aJ as yt,aK as El,aL as Ct,aM as yg,aN as wt,aO as cd,aP as Mo,aQ as ps,aR as xs,aS as bs,aT as Kt,aU as Me,aV as vs,aW as $a,aX as Js,aY as Cg,aZ as wg,a_ as gr,a$ as ti,b0 as Vs,b1 as ud,b2 as Sg,b3 as jg,b4 as Qr,b5 as Yr,b6 as La,b7 as Ra,b8 as Na,b9 as Gi,ba as Il,bb as Pg,bc as Ci,bd as kg,be as Ml,bf as Eg,bg as Ig,bh as Mg,bi as za,bj as dd,bk as gn,bl as Fg,bm as Tg,bn as Ag,bo as eo,bp as Vn,bq as Ba,br as Dg,bs as Og,bt as _g,bu as Vg,bv as $g}from"./mui-DddEib6v.js";import{a as Lg,g as hd}from"./vendor-Ckhrjn13.js";import{u as Rg,a as Ng,R as zg,b as an,N as Ha,B as Bg}from"./router-C72OQjNT.js";import{R as Lr,L as fd,C as mo,X as go,Y as po,T as Rr,a as md,P as gd,b as pd,c as xd,A as Hg,d as Wg,B as Gg,e as Ug}from"./charts-XLGU9-64.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var to={},Wa;function qg(){if(Wa)return to;Wa=1;var e=Lg();return to.createRoot=e.createRoot,to.hydrateRoot=e.hydrateRoot,to}var Kg=qg();const Qg=hd(Kg);var ni=(function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var o=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){o.listeners=o.listeners.filter(function(l){return l!==i}),o.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e})(),bd=typeof window>"u";function At(){}function Yg(e,t){return typeof e=="function"?e(t):e}function Xg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fo(e){return Array.isArray(e)?e:[e]}function Zg(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wi(e,t,n){return ri(e)?typeof t=="function"?S({},n,{queryKey:e,queryFn:t}):S({},t,{queryKey:e}):e}function Nn(e,t,n){return ri(e)?[S({},t,{queryKey:e}),n]:[e||{},t]}function Jg(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function Ga(e,t){var n=e.active,r=e.exact,o=e.fetching,i=e.inactive,l=e.predicate,a=e.queryKey,c=e.stale;if(ri(a)){if(r){if(t.queryHash!==Fl(a,t.options))return!1}else if(!To(t.queryKey,a))return!1}var u=Jg(n,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof o=="boolean"&&t.isFetching()!==o||l&&!l(t))}function Ua(e,t){var n=e.exact,r=e.fetching,o=e.predicate,i=e.mutationKey;if(ri(i)){if(!t.options.mutationKey)return!1;if(n){if(ur(t.options.mutationKey)!==ur(i))return!1}else if(!To(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||o&&!o(t))}function Fl(e,t){var n=t?.queryKeyHashFn||ur;return n(e)}function ur(e){var t=Fo(e);return ep(t)}function ep(e){return JSON.stringify(e,function(t,n){return Ui(n)?Object.keys(n).sort().reduce(function(r,o){return r[o]=n[o],r},{}):n})}function To(e,t){return vd(Fo(e),Fo(t))}function vd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!vd(e[n],t[n])}):!1}function yd(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||Ui(e)&&Ui(t)){for(var r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},a=0,c=0;c<i;c++){var u=n?c:o[c];l[u]=yd(e[u],t[u]),l[u]===e[u]&&a++}return r===i&&a===r?e:l}return t}function Ui(e){if(!qa(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!qa(n)||!n.hasOwnProperty("isPrototypeOf"))}function qa(e){return Object.prototype.toString.call(e)==="[object Object]"}function ri(e){return typeof e=="string"||Array.isArray(e)}function tp(e){return new Promise(function(t){setTimeout(t,e)})}function Ka(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Cd(){if(typeof AbortController=="function")return new AbortController}var np=(function(e){Jo(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!bd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setFocused(a):l.onFocus()})},n.setFocused=function(o){this.focused=o,o&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(o){o()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t})(ni),xo=new np,rp=(function(e){Jo(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(o){var i;if(!bd&&((i=window)!=null&&i.addEventListener)){var l=function(){return o()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},n.setEventListener=function(o){var i,l=this;this.setup=o,(i=this.cleanup)==null||i.call(this),this.cleanup=o(function(a){typeof a=="boolean"?l.setOnline(a):l.onOnline()})},n.setOnline=function(o){this.online=o,o&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(o){o()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t})(ni),bo=new rp;function sp(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Ao(e){return typeof e?.cancel=="function"}var wd=function(t){this.revert=t?.revert,this.silent=t?.silent};function Si(e){return e instanceof wd}var Sd=function(t){var n=this,r=!1,o,i,l,a;this.abort=t.abort,this.cancel=function(m){return o?.(m)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,g){l=m,a=g});var c=function(g){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(g),i?.(),l(g))},u=function(g){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(g),i?.(),a(g))},d=function(){return new Promise(function(g){i=g,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function m(){if(!n.isResolved){var g;try{g=t.fn()}catch(w){g=Promise.reject(w)}o=function(b){if(!n.isResolved&&(u(new wd(b)),n.abort==null||n.abort(),Ao(g)))try{g.cancel()}catch{}},n.isTransportCancelable=Ao(g),Promise.resolve(g).then(c).catch(function(w){var b,C;if(!n.isResolved){var y=(b=t.retry)!=null?b:3,x=(C=t.retryDelay)!=null?C:sp,v=typeof x=="function"?x(n.failureCount,w):x,p=y===!0||typeof y=="number"&&n.failureCount<y||typeof y=="function"&&y(n.failureCount,w);if(r||!p){u(w);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,w),tp(v).then(function(){if(!xo.isFocused()||!bo.isOnline())return d()}).then(function(){r?u(w):m()})}})}};f()},op=(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var o;this.transactions++;try{o=r()}finally{this.transactions--,this.transactions||this.flush()}return o},t.schedule=function(r){var o=this;this.transactions?this.queue.push(r):Ka(function(){o.notifyFn(r)})},t.batchCalls=function(r){var o=this;return function(){for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];o.schedule(function(){r.apply(void 0,l)})}},t.flush=function(){var r=this,o=this.queue;this.queue=[],o.length&&Ka(function(){r.batchNotifyFn(function(){o.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e})(),kt=new op,jd=console;function Pd(){return jd}function ip(e){jd=e}var lp=(function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var o;this.options=S({},this.defaultOptions,r),this.meta=r?.meta,this.cacheTime=Math.max(this.cacheTime||0,(o=this.options.cacheTime)!=null?o:300*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Xg(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,o){var i,l,a=this.state.data,c=Yg(r,a);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,a,c)?c=a:this.options.structuralSharing!==!1&&(c=yd(a,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:o?.updatedAt}),c},t.setState=function(r,o){this.dispatch({type:"setState",state:r,setStateOptions:o})},t.cancel=function(r){var o,i=this.promise;return(o=this.retryer)==null||o.cancel(r),i?i.then(At).catch(At):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Zg(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,o=this.observers.find(function(i){return i.shouldFetchOnReconnect()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(o){return o!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,o){var i=this,l,a,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&o?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(x){return x.options.queryFn});d&&this.setOptions(d.options)}var f=Fo(this.queryKey),m=Cd(),g={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(m)return i.abortSignalConsumed=!0,m.signal}});var w=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(g)):Promise.reject("Missing queryFn")},b={fetchOptions:o,options:this.options,queryKey:f,state:this.state,fetchFn:w,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var C;(C=this.options.behavior)==null||C.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=b.fetchOptions)==null?void 0:a.meta)){var y;this.dispatch({type:"fetch",meta:(y=b.fetchOptions)==null?void 0:y.meta})}return this.retryer=new Sd({fn:b.fetchFn,abort:m==null||(c=m.abort)==null?void 0:c.bind(m),onSuccess:function(v){i.setData(v),i.cache.config.onSuccess==null||i.cache.config.onSuccess(v,i),i.cacheTime===0&&i.optionalRemove()},onError:function(v){Si(v)&&v.silent||i.dispatch({type:"error",error:v}),Si(v)||(i.cache.config.onError==null||i.cache.config.onError(v,i),Pd().error(v)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var o=this;this.state=this.reducer(this.state,r),kt.batch(function(){o.observers.forEach(function(i){i.onQueryUpdate(r)}),o.cache.notify({query:o,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var o=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",l=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof o<"u";return{data:o,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(r,o){var i,l;switch(o.type){case"failed":return S({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return S({},r,{isPaused:!0});case"continue":return S({},r,{isPaused:!1});case"fetch":return S({},r,{fetchFailureCount:0,fetchMeta:(i=o.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return S({},r,{data:o.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=o.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=o.error;return Si(a)&&a.revert&&this.revertState?S({},this.revertState):S({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return S({},r,{isInvalidated:!0});case"setState":return S({},r,o.state);default:return r}},e})(),ap=(function(e){Jo(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.queries=[],o.queriesMap={},o}var n=t.prototype;return n.build=function(o,i,l){var a,c=i.queryKey,u=(a=i.queryHash)!=null?a:Fl(c,i),d=this.get(u);return d||(d=new lp({cache:this,queryKey:c,queryHash:u,options:o.defaultQueryOptions(i),state:l,defaultOptions:o.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},n.add=function(o){this.queriesMap[o.queryHash]||(this.queriesMap[o.queryHash]=o,this.queries.push(o),this.notify({type:"queryAdded",query:o}))},n.remove=function(o){var i=this.queriesMap[o.queryHash];i&&(o.destroy(),this.queries=this.queries.filter(function(l){return l!==o}),i===o&&delete this.queriesMap[o.queryHash],this.notify({type:"queryRemoved",query:o}))},n.clear=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){o.remove(i)})})},n.get=function(o){return this.queriesMap[o]},n.getAll=function(){return this.queries},n.find=function(o,i){var l=Nn(o,i),a=l[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(c){return Ga(a,c)})},n.findAll=function(o,i){var l=Nn(o,i),a=l[0];return Object.keys(a).length>0?this.queries.filter(function(c){return Ga(a,c)}):this.queries},n.notify=function(o){var i=this;kt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var o=this;kt.batch(function(){o.queries.forEach(function(i){i.onOnline()})})},t})(ni),cp=(function(){function e(n){this.options=S({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||up(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(o){return o!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(At).catch(At)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,o,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),l.then(function(){return r.executeMutation()}).then(function(a){o=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(o,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(o,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:o}),o}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Pd().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var r=this,o;return this.retryer=new Sd({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var o=this;this.state=dp(this.state,r),kt.batch(function(){o.observers.forEach(function(i){i.onMutationUpdate(r)}),o.mutationCache.notify(o)})},e})();function up(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function dp(e,t){switch(t.type){case"failed":return S({},e,{failureCount:e.failureCount+1});case"pause":return S({},e,{isPaused:!0});case"continue":return S({},e,{isPaused:!1});case"loading":return S({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return S({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return S({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return S({},e,t.state);default:return e}}var hp=(function(e){Jo(t,e);function t(r){var o;return o=e.call(this)||this,o.config=r||{},o.mutations=[],o.mutationId=0,o}var n=t.prototype;return n.build=function(o,i,l){var a=new cp({mutationCache:this,mutationId:++this.mutationId,options:o.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?o.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(o){this.mutations.push(o),this.notify(o)},n.remove=function(o){this.mutations=this.mutations.filter(function(i){return i!==o}),o.cancel(),this.notify(o)},n.clear=function(){var o=this;kt.batch(function(){o.mutations.forEach(function(i){o.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(o){return typeof o.exact>"u"&&(o.exact=!0),this.mutations.find(function(i){return Ua(o,i)})},n.findAll=function(o){return this.mutations.filter(function(i){return Ua(o,i)})},n.notify=function(o){var i=this;kt.batch(function(){i.listeners.forEach(function(l){l(o)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var o=this.mutations.filter(function(i){return i.state.isPaused});return kt.batch(function(){return o.reduce(function(i,l){return i.then(function(){return l.continue().catch(At)})},Promise.resolve())})},t})(ni);function fp(){return{onFetch:function(t){t.fetchFn=function(){var n,r,o,i,l,a,c=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(o=t.fetchOptions)==null||(i=o.meta)==null?void 0:i.fetchMore,d=u?.pageParam,f=u?.direction==="forward",m=u?.direction==="backward",g=((l=t.state.data)==null?void 0:l.pages)||[],w=((a=t.state.data)==null?void 0:a.pageParams)||[],b=Cd(),C=b?.signal,y=w,x=!1,v=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},p=function(I,F,V,H){return y=H?[F].concat(y):[].concat(y,[F]),H?[V].concat(I):[].concat(I,[V])},E=function(I,F,V,H){if(x)return Promise.reject("Cancelled");if(typeof V>"u"&&!F&&I.length)return Promise.resolve(I);var R={queryKey:t.queryKey,signal:C,pageParam:V,meta:t.meta},N=v(R),U=Promise.resolve(N).then(function(Z){return p(I,V,Z,H)});if(Ao(N)){var K=U;K.cancel=N.cancel}return U},D;if(!g.length)D=E([]);else if(f){var P=typeof d<"u",k=P?d:Qa(t.options,g);D=E(g,P,k)}else if(m){var T=typeof d<"u",_=T?d:mp(t.options,g);D=E(g,T,_,!0)}else(function(){y=[];var $=typeof t.options.getNextPageParam>"u",I=c&&g[0]?c(g[0],0,g):!0;D=I?E([],$,w[0]):Promise.resolve(p([],w[0],g[0]));for(var F=function(R){D=D.then(function(N){var U=c&&g[R]?c(g[R],R,g):!0;if(U){var K=$?w[R]:Qa(t.options,N);return E(N,$,K)}return Promise.resolve(p(N,w[R],g[R]))})},V=1;V<g.length;V++)F(V)})();var O=D.then(function($){return{pages:$,pageParams:y}}),z=O;return z.cancel=function(){x=!0,b?.abort(),Ao(D)&&D.cancel()},O}}}}function Qa(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function mp(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var gp=(function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new ap,this.mutationCache=n.mutationCache||new hp,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=xo.subscribe(function(){xo.isFocused()&&bo.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=bo.subscribe(function(){xo.isFocused()&&bo.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,o;(r=this.unsubscribeFocus)==null||r.call(this),(o=this.unsubscribeOnline)==null||o.call(this)},t.isFetching=function(r,o){var i=Nn(r,o),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(r){return this.mutationCache.findAll(S({},r,{fetching:!0})).length},t.getQueryData=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(o){var i=o.queryKey,l=o.state,a=l.data;return[i,a]})},t.setQueryData=function(r,o,i){var l=wi(r),a=this.defaultQueryOptions(l);return this.queryCache.build(this,a).setData(o,i)},t.setQueriesData=function(r,o,i){var l=this;return kt.batch(function(){return l.getQueryCache().findAll(r).map(function(a){var c=a.queryKey;return[c,l.setQueryData(c,o,i)]})})},t.getQueryState=function(r,o){var i;return(i=this.queryCache.find(r,o))==null?void 0:i.state},t.removeQueries=function(r,o){var i=Nn(r,o),l=i[0],a=this.queryCache;kt.batch(function(){a.findAll(l).forEach(function(c){a.remove(c)})})},t.resetQueries=function(r,o,i){var l=this,a=Nn(r,o,i),c=a[0],u=a[1],d=this.queryCache,f=S({},c,{active:!0});return kt.batch(function(){return d.findAll(c).forEach(function(m){m.reset()}),l.refetchQueries(f,u)})},t.cancelQueries=function(r,o,i){var l=this,a=Nn(r,o,i),c=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=kt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.cancel(d)})});return Promise.all(f).then(At).catch(At)},t.invalidateQueries=function(r,o,i){var l,a,c,u=this,d=Nn(r,o,i),f=d[0],m=d[1],g=S({},f,{active:(l=(a=f.refetchActive)!=null?a:f.active)!=null?l:!0,inactive:(c=f.refetchInactive)!=null?c:!1});return kt.batch(function(){return u.queryCache.findAll(f).forEach(function(w){w.invalidate()}),u.refetchQueries(g,m)})},t.refetchQueries=function(r,o,i){var l=this,a=Nn(r,o,i),c=a[0],u=a[1],d=kt.batch(function(){return l.queryCache.findAll(c).map(function(m){return m.fetch(void 0,S({},u,{meta:{refetchPage:c?.refetchPage}}))})}),f=Promise.all(d).then(At);return u?.throwOnError||(f=f.catch(At)),f},t.fetchQuery=function(r,o,i){var l=wi(r,o,i),a=this.defaultQueryOptions(l);typeof a.retry>"u"&&(a.retry=!1);var c=this.queryCache.build(this,a);return c.isStaleByTime(a.staleTime)?c.fetch(a):Promise.resolve(c.state.data)},t.prefetchQuery=function(r,o,i){return this.fetchQuery(r,o,i).then(At).catch(At)},t.fetchInfiniteQuery=function(r,o,i){var l=wi(r,o,i);return l.behavior=fp(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(r,o,i){return this.fetchInfiniteQuery(r,o,i).then(At).catch(At)},t.cancelMutations=function(){var r=this,o=kt.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(o).then(At).catch(At)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,o){var i=this.queryDefaults.find(function(l){return ur(r)===ur(l.queryKey)});i?i.defaultOptions=o:this.queryDefaults.push({queryKey:r,defaultOptions:o})},t.getQueryDefaults=function(r){var o;return r?(o=this.queryDefaults.find(function(i){return To(r,i.queryKey)}))==null?void 0:o.defaultOptions:void 0},t.setMutationDefaults=function(r,o){var i=this.mutationDefaults.find(function(l){return ur(r)===ur(l.mutationKey)});i?i.defaultOptions=o:this.mutationDefaults.push({mutationKey:r,defaultOptions:o})},t.getMutationDefaults=function(r){var o;return r?(o=this.mutationDefaults.find(function(i){return To(r,i.mutationKey)}))==null?void 0:o.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r?._defaulted)return r;var o=S({},this.defaultOptions.queries,this.getQueryDefaults(r?.queryKey),r,{_defaulted:!0});return!o.queryHash&&o.queryKey&&(o.queryHash=Fl(o.queryKey,o)),o},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r?._defaulted?r:S({},this.defaultOptions.mutations,this.getMutationDefaults(r?.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e})(),pp=Gm.unstable_batchedUpdates;kt.setBatchNotifyFunction(pp);var xp=console;ip(xp);var Ya=Ae.createContext(void 0),bp=Ae.createContext(!1);function vp(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ya),window.ReactQueryClientContext):Ya}var yp=function(t){var n=t.client,r=t.contextSharing,o=r===void 0?!1:r,i=t.children;Ae.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var l=vp(o);return Ae.createElement(bp.Provider,{value:o},Ae.createElement(l.Provider,{value:n},i))};let Cp={data:""},wp=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Cp},Sp=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jp=/\/\*[^]*?\*\/|  +/g,Xa=/\n+/g,Gn=(e,t)=>{let n="",r="",o="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":r+=i[1]=="f"?Gn(l,i):i+"{"+Gn(l,i[1]=="k"?"":t)+"}":typeof l=="object"?r+=Gn(l,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Gn.p?Gn.p(i,l):i+":"+l+";")}return n+(t&&o?t+"{"+o+"}":o)+r},yn={},kd=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+kd(e[n]);return t}return e},Pp=(e,t,n,r,o)=>{let i=kd(e),l=yn[i]||(yn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!yn[l]){let c=i!==e?e:(u=>{let d,f,m=[{}];for(;d=Sp.exec(u.replace(jp,""));)d[4]?m.shift():d[3]?(f=d[3].replace(Xa," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(Xa," ").trim();return m[0]})(e);yn[l]=Gn(o?{["@keyframes "+l]:c}:c,n?"":"."+l)}let a=n&&yn.g?yn.g:null;return n&&(yn.g=yn[l]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(yn[l],t,r,a),l},kp=(e,t,n)=>e.reduce((r,o,i)=>{let l=t[i];if(l&&l.call){let a=l(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;l=c?"."+c:a&&typeof a=="object"?a.props?"":Gn(a,""):a===!1?"":a}return r+o+(l??"")},"");function si(e){let t=this||{},n=e.call?e(t.p):e;return Pp(n.unshift?n.raw?kp(n,[].slice.call(arguments,1),t.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(t.p):o),{}):n,wp(t.target),t.g,t.o,t.k)}let Ed,qi,Ki;si.bind({g:1});let An=si.bind({k:1});function Ep(e,t,n,r){Gn.p=t,Ed=e,qi=n,Ki=r}function tr(e,t){let n=this||{};return function(){let r=arguments;function o(i,l){let a=Object.assign({},i),c=a.className||o.className;n.p=Object.assign({theme:qi&&qi()},a),n.o=/ *go\d+/.test(c),a.className=si.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),Ki&&u[0]&&Ki(a),Ed(u,a)}return o}}var Ip=e=>typeof e=="function",Do=(e,t)=>Ip(e)?e(t):e,Mp=(()=>{let e=0;return()=>(++e).toString()})(),Id=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Fp=20,Tl="default",Md=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return Md(e,{type:e.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(l=>l.id===o||o===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},vo=[],Fd={toasts:[],pausedAt:void 0,settings:{toastLimit:Fp}},pn={},Td=(e,t=Tl)=>{pn[t]=Md(pn[t]||Fd,e),vo.forEach(([n,r])=>{n===t&&r(pn[t])})},Ad=e=>Object.keys(pn).forEach(t=>Td(e,t)),Tp=e=>Object.keys(pn).find(t=>pn[t].toasts.some(n=>n.id===e)),oi=(e=Tl)=>t=>{Td(t,e)},Ap={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dp=(e={},t=Tl)=>{let[n,r]=h.useState(pn[t]||Fd),o=h.useRef(pn[t]);h.useEffect(()=>(o.current!==pn[t]&&r(pn[t]),vo.push([t,r]),()=>{let l=vo.findIndex(([a])=>a===t);l>-1&&vo.splice(l,1)}),[t]);let i=n.toasts.map(l=>{var a,c,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((a=e[l.type])==null?void 0:a.removeDelay)||e?.removeDelay,duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||e?.duration||Ap[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...n,toasts:i}},Op=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Mp()}),$s=e=>(t,n)=>{let r=Op(t,e,n);return oi(r.toasterId||Tp(r.id))({type:2,toast:r}),r.id},St=(e,t)=>$s("blank")(e,t);St.error=$s("error");St.success=$s("success");St.loading=$s("loading");St.custom=$s("custom");St.dismiss=(e,t)=>{let n={type:3,toastId:e};t?oi(t)(n):Ad(n)};St.dismissAll=e=>St.dismiss(void 0,e);St.remove=(e,t)=>{let n={type:4,toastId:e};t?oi(t)(n):Ad(n)};St.removeAll=e=>St.remove(void 0,e);St.promise=(e,t,n)=>{let r=St.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let i=t.success?Do(t.success,o):void 0;return i?St.success(i,{id:r,...n,...n?.success}):St.dismiss(r),o}).catch(o=>{let i=t.error?Do(t.error,o):void 0;i?St.error(i,{id:r,...n,...n?.error}):St.dismiss(r)}),e};var _p=1e3,Vp=(e,t="default")=>{let{toasts:n,pausedAt:r}=Dp(e,t),o=h.useRef(new Map).current,i=h.useCallback((f,m=_p)=>{if(o.has(f))return;let g=setTimeout(()=>{o.delete(f),l({type:4,toastId:f})},m);o.set(f,g)},[]);h.useEffect(()=>{if(r)return;let f=Date.now(),m=n.map(g=>{if(g.duration===1/0)return;let w=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(w<0){g.visible&&St.dismiss(g.id);return}return setTimeout(()=>St.dismiss(g.id,t),w)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[n,r,t]);let l=h.useCallback(oi(t),[t]),a=h.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=h.useCallback((f,m)=>{l({type:1,toast:{id:f,height:m}})},[l]),u=h.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),d=h.useCallback((f,m)=>{let{reverseOrder:g=!1,gutter:w=8,defaultPosition:b}=m||{},C=n.filter(v=>(v.position||b)===(f.position||b)&&v.height),y=C.findIndex(v=>v.id===f.id),x=C.filter((v,p)=>p<y&&v.visible).length;return C.filter(v=>v.visible).slice(...g?[x+1]:[0,x]).reduce((v,p)=>v+(p.height||0)+w,0)},[n]);return h.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=o.get(f.id);m&&(clearTimeout(m),o.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:a,endPause:u,calculateOffset:d}}},$p=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lp=An`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rp=An`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Np=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$p} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lp} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rp} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zp=An`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bp=tr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${zp} 1s linear infinite;
`,Hp=An`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Wp=An`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Gp=tr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Wp} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Up=tr("div")`
  position: absolute;
`,qp=tr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kp=An`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qp=tr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kp} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Yp=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?h.createElement(Qp,null,t):t:n==="blank"?null:h.createElement(qp,null,h.createElement(Bp,{...r}),n!=="loading"&&h.createElement(Up,null,n==="error"?h.createElement(Np,{...r}):h.createElement(Gp,{...r})))},Xp=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zp=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Jp="0%{opacity:0;} 100%{opacity:1;}",ex="0%{opacity:1;} 100%{opacity:0;}",tx=tr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nx=tr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rx=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Id()?[Jp,ex]:[Xp(n),Zp(n)];return{animation:t?`${An(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${An(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sx=h.memo(({toast:e,position:t,style:n,children:r})=>{let o=e.height?rx(e.position||t||"top-center",e.visible):{opacity:0},i=h.createElement(Yp,{toast:e}),l=h.createElement(nx,{...e.ariaProps},Do(e.message,e));return h.createElement(tx,{className:e.className,style:{...o,...n,...e.style}},typeof r=="function"?r({icon:i,message:l}):h.createElement(h.Fragment,null,i,l))});Ep(h.createElement);var ox=({id:e,className:t,style:n,onHeightUpdate:r,children:o})=>{let i=h.useCallback(l=>{if(l){let a=()=>{let c=l.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return h.createElement("div",{ref:i,className:t,style:n},o)},ix=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Id()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...o}},lx=si`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,no=16,ax=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,toasterId:i,containerStyle:l,containerClassName:a})=>{let{toasts:c,handlers:u}=Vp(n,i);return h.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:no,left:no,right:no,bottom:no,pointerEvents:"none",...l},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,m=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),g=ix(f,m);return h.createElement(ox,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?lx:"",style:g},d.type==="custom"?Do(d.message,d):o?o(d):h.createElement(sx,{toast:d,position:f}))}))},ke=St;const Dd=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ii=h.createContext({}),Al=h.createContext(null),li=typeof document<"u",cx=li?h.useLayoutEffect:h.useEffect,Od=h.createContext({strict:!1}),Dl=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ux="framerAppearId",_d="data-"+Dl(ux);function dx(e,t,n,r){const{visualElement:o}=h.useContext(ii),i=h.useContext(Od),l=h.useContext(Al),a=h.useContext(Dd).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,l)});const d=h.useRef(!!(n[_d]&&!window.HandoffComplete));return cx(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Nr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hx(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Nr(n)&&(n.current=r))},[t])}function Fs(e){return typeof e=="string"||Array.isArray(e)}function ai(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ol=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_l=["initial",...Ol];function ci(e){return ai(e.animate)||_l.some(t=>Fs(e[t]))}function Vd(e){return!!(ci(e)||e.variants)}function fx(e,t){if(ci(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fs(n)?n:void 0,animate:Fs(r)?r:void 0}}return e.inherit!==!1?t:{}}function mx(e){const{initial:t,animate:n}=fx(e,h.useContext(ii));return h.useMemo(()=>({initial:t,animate:n}),[Za(t),Za(n)])}function Za(e){return Array.isArray(e)?e.join(" "):e}const Ja={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ts={};for(const e in Ja)Ts[e]={isEnabled:t=>Ja[e].some(n=>!!t[n])};function gx(e){for(const t in e)Ts[t]={...Ts[t],...e[t]}}const $d=h.createContext({}),Ld=h.createContext({}),px=Symbol.for("motionComponentSymbol");function xx({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&gx(e);function i(a,c){let u;const d={...h.useContext(Dd),...a,layoutId:bx(a)},{isStatic:f}=d,m=mx(a),g=r(a,f);if(!f&&li){m.visualElement=dx(o,g,d,t);const w=h.useContext(Ld),b=h.useContext(Od).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,b,e,w))}return h.createElement(ii.Provider,{value:m},u&&m.visualElement?h.createElement(u,{visualElement:m.visualElement,...d}):null,n(o,a,hx(g,m.visualElement,c),g,f,m.visualElement))}const l=h.forwardRef(i);return l[px]=o,l}function bx({layoutId:e}){const t=h.useContext($d).id;return t&&e!==void 0?t+"-"+e:e}function vx(e){function t(r,o={}){return xx(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const yx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vl(e){return typeof e!="string"||e.includes("-")?!1:!!(yx.indexOf(e)>-1||/[A-Z]/.test(e))}const Oo={};function Cx(e){Object.assign(Oo,e)}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wr=new Set(Ls);function Rd(e,{layout:t,layoutId:n}){return wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Oo[e]||e==="opacity")}const zt=e=>!!(e&&e.getVelocity),wx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sx=Ls.length;function jx(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let l=0;l<Sx;l++){const a=Ls[l];if(e[a]!==void 0){const c=wx[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Nd=e=>t=>typeof t=="string"&&t.startsWith(e),zd=Nd("--"),Qi=Nd("var(--"),Px=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yn=(e,t,n)=>Math.min(Math.max(n,e),t),Sr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ys={...Sr,transform:e=>Yn(0,1,e)},ro={...Sr,default:1},Cs=e=>Math.round(e*1e5)/1e5,ui=/(-)?([\d]*\.?[\d])+/g,Bd=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Rs(e){return typeof e=="string"}const Ns=e=>({test:t=>Rs(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ln=Ns("deg"),xn=Ns("%"),Ie=Ns("px"),Ix=Ns("vh"),Mx=Ns("vw"),ec={...xn,parse:e=>xn.parse(e)/100,transform:e=>xn.transform(e*100)},tc={...Sr,transform:Math.round},Hd={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:ro,scaleX:ro,scaleY:ro,scaleZ:ro,skew:Ln,skewX:Ln,skewY:Ln,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:ys,originX:ec,originY:ec,originZ:Ie,zIndex:tc,fillOpacity:ys,strokeOpacity:ys,numOctaves:tc};function $l(e,t,n,r){const{style:o,vars:i,transform:l,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(zd(f)){i[f]=m;continue}const g=Hd[f],w=kx(m,g);if(wr.has(f)){if(c=!0,l[f]=w,!d)continue;m!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=w):o[f]=w}if(t.transform||(c||r?o.transform=jx(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:g=0}=a;o.transformOrigin=`${f} ${m} ${g}`}}const Ll=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wd(e,t,n){for(const r in t)!zt(t[r])&&!Rd(r,n)&&(e[r]=t[r])}function Fx({transformTemplate:e},t,n){return h.useMemo(()=>{const r=Ll();return $l(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Tx(e,t,n){const r=e.style||{},o={};return Wd(o,r,e),Object.assign(o,Fx(e,t,n)),e.transformValues?e.transformValues(o):o}function Ax(e,t,n){const r={},o=Tx(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Dx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _o(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dx.has(e)}let Gd=e=>!_o(e);function Ox(e){e&&(Gd=t=>t.startsWith("on")?!_o(t):e(t))}try{Ox(require("@emotion/is-prop-valid").default)}catch{}function _x(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Gd(o)||n===!0&&_o(o)||!t&&!_o(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function nc(e,t,n){return typeof e=="string"?e:Ie.transform(t+n*e)}function Vx(e,t,n){const r=nc(t,e.x,e.width),o=nc(n,e.y,e.height);return`${r} ${o}`}const $x={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lx={offset:"strokeDashoffset",array:"strokeDasharray"};function Rx(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?$x:Lx;e[i.offset]=Ie.transform(-r);const l=Ie.transform(t),a=Ie.transform(n);e[i.array]=`${l} ${a}`}function Rl(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:l,pathSpacing:a=1,pathOffset:c=0,...u},d,f,m){if($l(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:w,dimensions:b}=e;g.transform&&(b&&(w.transform=g.transform),delete g.transform),b&&(o!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=Vx(b,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),l!==void 0&&Rx(g,l,a,c,!1)}const Ud=()=>({...Ll(),attrs:{}}),Nl=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Nx(e,t,n,r){const o=h.useMemo(()=>{const i=Ud();return Rl(i,t,{enableHardwareAcceleration:!1},Nl(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Wd(i,e.style,e),o.style={...i,...o.style}}return o}function zx(e=!1){return(n,r,o,{latestValues:i},l)=>{const c=(Vl(n)?Nx:Ax)(r,i,l,n),d={..._x(r,typeof n=="string",e),...c,ref:o},{children:f}=r,m=h.useMemo(()=>zt(f)?f.get():f,[f]);return h.createElement(n,{...d,children:m})}}function qd(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Kd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qd(e,t,n,r){qd(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Kd.has(o)?o:Dl(o),t.attrs[o])}function zl(e,t){const{style:n}=e,r={};for(const o in n)(zt(n[o])||t.style&&zt(t.style[o])||Rd(o,e))&&(r[o]=n[o]);return r}function Yd(e,t){const n=zl(e,t);for(const r in e)if(zt(e[r])||zt(t[r])){const o=Ls.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function Bl(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Bx(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vo=e=>Array.isArray(e),Hx=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Wx=e=>Vo(e)?e[e.length-1]||0:e;function yo(e){const t=zt(e)?e.get():e;return Hx(t)?t.toValue():t}function Gx({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const l={latestValues:Ux(r,o,i,e),renderState:t()};return n&&(l.mount=a=>n(r,a,l)),l}const Xd=e=>(t,n)=>{const r=h.useContext(ii),o=h.useContext(Al),i=()=>Gx(e,t,r,o);return n?i():Bx(i)};function Ux(e,t,n,r){const o={},i=r(e,{});for(const m in i)o[m]=yo(i[m]);let{initial:l,animate:a}=e;const c=ci(e),u=Vd(e);t&&u&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const f=d?a:l;return f&&typeof f!="boolean"&&!ai(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=Bl(e,g);if(!w)return;const{transitionEnd:b,transition:C,...y}=w;for(const x in y){let v=y[x];if(Array.isArray(v)){const p=d?v.length-1:0;v=v[p]}v!==null&&(o[x]=v)}for(const x in b)o[x]=b[x]}),o}const ht=e=>e;class rc{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function qx(e){let t=new rc,n=new rc,r=0,o=!1,i=!1;const l=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,m=f?t:n;return u&&l.add(c),m.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),l.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),l.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const so=["prepare","read","update","preRender","render","postRender"],Kx=40;function Qx(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=so.reduce((f,m)=>(f[m]=qx(()=>n=!0),f),{}),l=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,Kx),1),o.timestamp=f,o.isProcessing=!0,so.forEach(l),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:so.reduce((f,m)=>{const g=i[m];return f[m]=(w,b=!1,C=!1)=>(n||c(),g.schedule(w,b,C)),f},{}),cancel:f=>so.forEach(m=>i[m].cancel(f)),state:o,steps:i}}const{schedule:ot,cancel:Dn,state:Et,steps:ji}=Qx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ht,!0),Yx={useVisualState:Xd({scrapeMotionValuesFromProps:Yd,createRenderState:Ud,onMount:(e,t,{renderState:n,latestValues:r})=>{ot.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Rl(n,r,{enableHardwareAcceleration:!1},Nl(t.tagName),e.transformTemplate),Qd(t,n)})}})},Xx={useVisualState:Xd({scrapeMotionValuesFromProps:zl,createRenderState:Ll})};function Zx(e,{forwardMotionProps:t=!1},n,r){return{...Vl(e)?Yx:Xx,preloadedFeatures:n,useRender:zx(t),createVisualElement:r,Component:e}}function En(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Zd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function di(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Jx=e=>t=>Zd(t)&&e(t,di(t));function Mn(e,t,n,r){return En(e,t,Jx(n),r)}const eb=(e,t)=>n=>t(e(n)),Kn=(...e)=>e.reduce(eb);function Jd(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const sc=Jd("dragHorizontal"),oc=Jd("dragVertical");function eh(e){let t=!1;if(e==="y")t=oc();else if(e==="x")t=sc();else{const n=sc(),r=oc();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function th(){const e=eh(!0);return e?(e(),!1):!0}class nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ic(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,l)=>{if(i.pointerType==="touch"||th())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ot.update(()=>a[r](i,l))};return Mn(e.current,n,o,{passive:!e.getProps()[r]})}class tb extends nr{mount(){this.unmount=Kn(ic(this.node,!0),ic(this.node,!1))}unmount(){}}class nb extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kn(En(this.node.current,"focus",()=>this.onFocus()),En(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nh=(e,t)=>t?e===t?!0:nh(e,t.parentElement):!1;function Pi(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,di(n))}class rb extends nr{constructor(){super(...arguments),this.removeStartListeners=ht,this.removeEndListeners=ht,this.removeAccessibleListeners=ht,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Mn(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ot.update(()=>{!f&&!nh(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),l=Mn(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kn(i,l),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const l=a=>{a.key!=="Enter"||!this.checkPressEnd()||Pi("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ot.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=En(this.node.current,"keyup",l),Pi("down",(a,c)=>{this.startPress(a,c)})},n=En(this.node.current,"keydown",t),r=()=>{this.isPressing&&Pi("cancel",(i,l)=>this.cancelPress(i,l))},o=En(this.node.current,"blur",r);this.removeAccessibleListeners=Kn(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!th()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Mn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=En(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yi=new WeakMap,ki=new WeakMap,sb=e=>{const t=Yi.get(e.target);t&&t(e)},ob=e=>{e.forEach(sb)};function ib({root:e,...t}){const n=e||document;ki.has(n)||ki.set(n,{});const r=ki.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(ob,{root:e,...t})),r[o]}function lb(e,t,n){const r=ib(t);return Yi.set(e,n),r.observe(e),()=>{Yi.delete(e),r.unobserve(e)}}const ab={some:0,all:1};class cb extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:ab[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return lb(this.node.current,l,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ub(t,n))&&this.startObserver()}unmount(){}}function ub({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const db={inView:{Feature:cb},tap:{Feature:rb},focus:{Feature:nb},hover:{Feature:tb}};function rh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function hb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function fb(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function hi(e,t,n){const r=e.getProps();return Bl(r,t,n!==void 0?n:r.custom,hb(e),fb(e))}let Hl=ht;const pr=e=>e*1e3,Fn=e=>e/1e3,mb={current:!1},sh=e=>Array.isArray(e)&&typeof e[0]=="number";function oh(e){return!!(!e||typeof e=="string"&&ih[e]||sh(e)||Array.isArray(e)&&e.every(oh))}const fs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ih={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fs([0,.65,.55,1]),circOut:fs([.55,0,1,.45]),backIn:fs([.31,.01,.66,-.59]),backOut:fs([.33,1.53,.69,.99])};function lh(e){if(e)return sh(e)?fs(e):Array.isArray(e)?e.map(lh):ih[e]}function gb(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:l="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=lh(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"})}function pb(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const ah=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xb=1e-7,bb=12;function vb(e,t,n,r,o){let i,l,a=0;do l=t+(n-t)/2,i=ah(l,r,o)-e,i>0?n=l:t=l;while(Math.abs(i)>xb&&++a<bb);return l}function zs(e,t,n,r){if(e===t&&n===r)return ht;const o=i=>vb(i,0,1,e,n);return i=>i===0||i===1?i:ah(o(i),t,r)}const yb=zs(.42,0,1,1),Cb=zs(0,0,.58,1),ch=zs(.42,0,.58,1),wb=e=>Array.isArray(e)&&typeof e[0]!="number",uh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dh=e=>t=>1-e(1-t),Wl=e=>1-Math.sin(Math.acos(e)),hh=dh(Wl),Sb=uh(Wl),fh=zs(.33,1.53,.69,.99),Gl=dh(fh),jb=uh(Gl),Pb=e=>(e*=2)<1?.5*Gl(e):.5*(2-Math.pow(2,-10*(e-1))),kb={linear:ht,easeIn:yb,easeInOut:ch,easeOut:Cb,circIn:Wl,circInOut:Sb,circOut:hh,backIn:Gl,backInOut:jb,backOut:fh,anticipate:Pb},lc=e=>{if(Array.isArray(e)){Hl(e.length===4);const[t,n,r,o]=e;return zs(t,n,r,o)}else if(typeof e=="string")return kb[e];return e},Ul=(e,t)=>n=>!!(Rs(n)&&Ex.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),mh=(e,t,n)=>r=>{if(!Rs(r))return r;const[o,i,l,a]=r.match(ui);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(l),alpha:a!==void 0?parseFloat(a):1}},Eb=e=>Yn(0,255,e),Ei={...Sr,transform:e=>Math.round(Eb(e))},dr={test:Ul("rgb","red"),parse:mh("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ei.transform(e)+", "+Ei.transform(t)+", "+Ei.transform(n)+", "+Cs(ys.transform(r))+")"};function Ib(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Xi={test:Ul("#"),parse:Ib,transform:dr.transform},zr={test:Ul("hsl","hue"),parse:mh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xn.transform(Cs(t))+", "+xn.transform(Cs(n))+", "+Cs(ys.transform(r))+")"},Dt={test:e=>dr.test(e)||Xi.test(e)||zr.test(e),parse:e=>dr.test(e)?dr.parse(e):zr.test(e)?zr.parse(e):Xi.parse(e),transform:e=>Rs(e)?e:e.hasOwnProperty("red")?dr.transform(e):zr.transform(e)},ct=(e,t,n)=>-n*e+n*t+e;function Ii(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Mb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,l=0;if(!t)o=i=l=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=Ii(c,a,e+1/3),i=Ii(c,a,e),l=Ii(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}const Mi=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Fb=[Xi,dr,zr],Tb=e=>Fb.find(t=>t.test(e));function ac(e){const t=Tb(e);let n=t.parse(e);return t===zr&&(n=Mb(n)),n}const gh=(e,t)=>{const n=ac(e),r=ac(t),o={...n};return i=>(o.red=Mi(n.red,r.red,i),o.green=Mi(n.green,r.green,i),o.blue=Mi(n.blue,r.blue,i),o.alpha=ct(n.alpha,r.alpha,i),dr.transform(o))};function Ab(e){var t,n;return isNaN(e)&&Rs(e)&&(((t=e.match(ui))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Bd))===null||n===void 0?void 0:n.length)||0)>0}const ph={regex:Px,countKey:"Vars",token:"${v}",parse:ht},xh={regex:Bd,countKey:"Colors",token:"${c}",parse:Dt.parse},bh={regex:ui,countKey:"Numbers",token:"${n}",parse:Sr.parse};function Fi(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function $o(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fi(n,ph),Fi(n,xh),Fi(n,bh),n}function vh(e){return $o(e).values}function yh(e){const{values:t,numColors:n,numVars:r,tokenised:o}=$o(e),i=t.length;return l=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(ph.token,l[c]):c<r+n?a=a.replace(xh.token,Dt.transform(l[c])):a=a.replace(bh.token,Cs(l[c]));return a}}const Db=e=>typeof e=="number"?0:e;function Ob(e){const t=vh(e);return yh(e)(t.map(Db))}const Xn={test:Ab,parse:vh,createTransformer:yh,getAnimatableNone:Ob},Ch=(e,t)=>n=>`${n>0?t:e}`;function wh(e,t){return typeof e=="number"?n=>ct(e,t,n):Dt.test(e)?gh(e,t):e.startsWith("var(")?Ch(e,t):jh(e,t)}const Sh=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,l)=>wh(i,t[l]));return i=>{for(let l=0;l<r;l++)n[l]=o[l](i);return n}},_b=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=wh(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},jh=(e,t)=>{const n=Xn.createTransformer(t),r=$o(e),o=$o(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Kn(Sh(r.values,o.values),n):Ch(e,t)},As=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},cc=(e,t)=>n=>ct(e,t,n);function Vb(e){return typeof e=="number"?cc:typeof e=="string"?Dt.test(e)?gh:jh:Array.isArray(e)?Sh:typeof e=="object"?_b:cc}function $b(e,t,n){const r=[],o=n||Vb(e[0]),i=e.length-1;for(let l=0;l<i;l++){let a=o(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||ht:t;a=Kn(c,a)}r.push(a)}return r}function Ph(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(Hl(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=$b(t,r,o),a=l.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=As(e[d],e[d+1],u);return l[d](f)};return n?u=>c(Yn(e[0],e[i-1],u)):c}function Lb(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=As(0,t,r);e.push(ct(n,1,o))}}function Rb(e){const t=[0];return Lb(t,e.length-1),t}function Nb(e,t){return e.map(n=>n*t)}function zb(e,t){return e.map(()=>t||ch).splice(0,e.length-1)}function Lo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=wb(r)?r.map(lc):lc(r),i={done:!1,value:t[0]},l=Nb(n&&n.length===t.length?n:Rb(t),e),a=Ph(l,t,{ease:Array.isArray(o)?o:zb(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function kh(e,t){return t?e*(1e3/t):0}const Bb=5;function Eh(e,t,n){const r=Math.max(t-Bb,0);return kh(n-e(r),t-r)}const Ti=.001,Hb=.01,Wb=10,Gb=.05,Ub=1;function qb({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i,l=1-t;l=Yn(Gb,Ub,l),e=Yn(Hb,Wb,Fn(e)),l<1?(o=u=>{const d=u*l,f=d*e,m=d-n,g=Zi(u,l),w=Math.exp(-f);return Ti-m/g*w},i=u=>{const f=u*l*e,m=f*n+n,g=Math.pow(l,2)*Math.pow(u,2)*e,w=Math.exp(-f),b=Zi(Math.pow(u,2),l);return(-o(u)+Ti>0?-1:1)*((m-g)*w)/b}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Ti+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=Qb(o,i,a);if(e=pr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:l*2*Math.sqrt(r*u),duration:e}}}const Kb=12;function Qb(e,t,n){let r=n;for(let o=1;o<Kb;o++)r=r-e(r)/t(r);return r}function Zi(e,t){return e*Math.sqrt(1-t*t)}const Yb=["duration","bounce"],Xb=["stiffness","damping","mass"];function uc(e,t){return t.some(n=>e[n]!==void 0)}function Zb(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!uc(e,Xb)&&uc(e,Yb)){const n=qb(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Ih({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],l={done:!1,value:o},{stiffness:a,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=Zb({...r,velocity:-Fn(r.velocity||0)}),g=f||0,w=c/(2*Math.sqrt(a*u)),b=i-o,C=Fn(Math.sqrt(a/u)),y=Math.abs(b)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(w<1){const v=Zi(C,w);x=p=>{const E=Math.exp(-w*C*p);return i-E*((g+w*C*b)/v*Math.sin(v*p)+b*Math.cos(v*p))}}else if(w===1)x=v=>i-Math.exp(-C*v)*(b+(g+C*b)*v);else{const v=C*Math.sqrt(w*w-1);x=p=>{const E=Math.exp(-w*C*p),D=Math.min(v*p,300);return i-E*((g+w*C*b)*Math.sinh(D)+v*b*Math.cosh(D))/v}}return{calculatedDuration:m&&d||null,next:v=>{const p=x(v);if(m)l.done=v>=d;else{let E=g;v!==0&&(w<1?E=Eh(x,v,p):E=0);const D=Math.abs(E)<=n,P=Math.abs(i-p)<=t;l.done=D&&P}return l.value=l.done?i:p,l}}}function dc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:l,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},g=k=>a!==void 0&&k<a||c!==void 0&&k>c,w=k=>a===void 0?c:c===void 0||Math.abs(a-k)<Math.abs(c-k)?a:c;let b=n*t;const C=f+b,y=l===void 0?C:l(C);y!==C&&(b=y-f);const x=k=>-b*Math.exp(-k/r),v=k=>y+x(k),p=k=>{const T=x(k),_=v(k);m.done=Math.abs(T)<=u,m.value=m.done?y:_};let E,D;const P=k=>{g(m.value)&&(E=k,D=Ih({keyframes:[m.value,w(m.value)],velocity:Eh(v,k,m.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:k=>{let T=!1;return!D&&E===void 0&&(T=!0,p(k),P(k)),E!==void 0&&k>E?D.next(k-E):(!T&&p(k),m)}}}const Jb=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ot.update(t,!0),stop:()=>Dn(t),now:()=>Et.isProcessing?Et.timestamp:performance.now()}},hc=2e4;function fc(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hc;)t+=n,r=e.next(t);return t>=hc?1/0:t}const ev={decay:dc,inertia:dc,tween:Lo,keyframes:Lo,spring:Ih};function Ro({autoplay:e=!0,delay:t=0,driver:n=Jb,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let g=1,w=!1,b,C;const y=()=>{C=new Promise(K=>{b=K})};y();let x;const v=ev[o]||Lo;let p;v!==Lo&&typeof r[0]!="number"&&(p=Ph([0,100],r,{clamp:!1}),r=[0,100]);const E=v({...m,keyframes:r});let D;a==="mirror"&&(D=v({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",k=null,T=null,_=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=fc(E));const{calculatedDuration:O}=E;let z=1/0,$=1/0;O!==null&&(z=O+l,$=z*(i+1)-l);let I=0;const F=K=>{if(T===null)return;g>0&&(T=Math.min(T,K)),g<0&&(T=Math.min(K-$/g,T)),k!==null?I=k:I=Math.round(K-T)*g;const Z=I-t*(g>=0?1:-1),se=g>=0?Z<0:Z>$;I=Math.max(Z,0),P==="finished"&&k===null&&(I=$);let te=I,fe=E;if(i){const ce=Math.min(I,$)/z;let ae=Math.floor(ce),we=ce%1;!we&&ce>=1&&(we=1),we===1&&ae--,ae=Math.min(ae,i+1),!!(ae%2)&&(a==="reverse"?(we=1-we,l&&(we-=l/z)):a==="mirror"&&(fe=D)),te=Yn(0,1,we)*z}const oe=se?{done:!1,value:r[0]}:fe.next(te);p&&(oe.value=p(oe.value));let{done:me}=oe;!se&&O!==null&&(me=g>=0?I>=$:I<=0);const J=k===null&&(P==="finished"||P==="running"&&me);return f&&f(oe.value),J&&R(),oe},V=()=>{x&&x.stop(),x=void 0},H=()=>{P="idle",V(),b(),y(),T=_=null},R=()=>{P="finished",d&&d(),V(),b()},N=()=>{if(w)return;x||(x=n(F));const K=x.now();c&&c(),k!==null?T=K-k:(!T||P==="finished")&&(T=K),P==="finished"&&y(),_=T,k=null,P="running",x.start()};e&&N();const U={then(K,Z){return C.then(K,Z)},get time(){return Fn(I)},set time(K){K=pr(K),I=K,k!==null||!x||g===0?k=K:T=x.now()-K/g},get duration(){const K=E.calculatedDuration===null?fc(E):E.calculatedDuration;return Fn(K)},get speed(){return g},set speed(K){K===g||!x||(g=K,U.time=Fn(I))},get state(){return P},play:N,pause:()=>{P="paused",k=I},stop:()=>{w=!0,P!=="idle"&&(P="idle",u&&u(),H())},cancel:()=>{_!==null&&F(_),H()},complete:()=>{P="finished"},sample:K=>(T=0,F(K))};return U}function tv(e){let t;return()=>(t===void 0&&(t=e()),t)}const nv=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rv=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),oo=10,sv=2e4,ov=(e,t)=>t.type==="spring"||e==="backgroundColor"||!oh(t.ease);function iv(e,t,{onUpdate:n,onComplete:r,...o}){if(!(nv()&&rv.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let l=!1,a,c,u=!1;const d=()=>{c=new Promise(v=>{a=v})};d();let{keyframes:f,duration:m=300,ease:g,times:w}=o;if(ov(t,o)){const v=Ro({...o,repeat:0,delay:0});let p={done:!1,value:f[0]};const E=[];let D=0;for(;!p.done&&D<sv;)p=v.sample(D),E.push(p.value),D+=oo;w=void 0,f=E,m=D-oo,g="linear"}const b=gb(e.owner.current,t,f,{...o,duration:m,ease:g,times:w}),C=()=>{u=!1,b.cancel()},y=()=>{u=!0,ot.update(C),a(),d()};return b.onfinish=()=>{u||(e.set(pb(f,o)),r&&r(),y())},{then(v,p){return c.then(v,p)},attachTimeline(v){return b.timeline=v,b.onfinish=null,ht},get time(){return Fn(b.currentTime||0)},set time(v){b.currentTime=pr(v)},get speed(){return b.playbackRate},set speed(v){b.playbackRate=v},get duration(){return Fn(m)},play:()=>{l||(b.play(),Dn(C))},pause:()=>b.pause(),stop:()=>{if(l=!0,b.playState==="idle")return;const{currentTime:v}=b;if(v){const p=Ro({...o,autoplay:!1});e.setWithVelocity(p.sample(v-oo).value,p.sample(v).value,oo)}y()},complete:()=>{u||b.finish()},cancel:y}}function lv({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ht,pause:ht,stop:ht,then:i=>(i(),Promise.resolve()),cancel:ht,complete:ht});return t?Ro({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const av={type:"spring",stiffness:500,damping:25,restSpeed:10},cv=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uv={type:"keyframes",duration:.8},dv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hv=(e,{keyframes:t})=>t.length>2?uv:wr.has(e)?e.startsWith("scale")?cv(t[1]):av:dv,Ji=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xn.test(t)||t==="0")&&!t.startsWith("url(")),fv=new Set(["brightness","contrast","saturate","opacity"]);function mv(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ui)||[];if(!r)return e;const o=n.replace(r,"");let i=fv.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const gv=/([a-z-]*)\(.*?\)/g,el={...Xn,getAnimatableNone:e=>{const t=e.match(gv);return t?t.map(mv).join(" "):e}},pv={...Hd,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:el,WebkitFilter:el},ql=e=>pv[e];function Mh(e,t){let n=ql(e);return n!==el&&(n=Xn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Fh=e=>/^0[^.\s]+$/.test(e);function xv(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Fh(e)}function bv(e,t,n,r){const o=Ji(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const l=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?l:i[u-1]),xv(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Mh(t,a)}return i}function vv({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:l,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Kl(e,t){return e[t]||e.default||e}const yv={skipAnimations:!1},Ql=(e,t,n,r={})=>o=>{const i=Kl(r,e)||{},l=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-pr(l);const c=bv(t,e,n,i),u=c[0],d=c[c.length-1],f=Ji(e,u),m=Ji(e,d);let g={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(vv(i)||(g={...g,...hv(e,g)}),g.duration&&(g.duration=pr(g.duration)),g.repeatDelay&&(g.repeatDelay=pr(g.repeatDelay)),!f||!m||mb.current||i.type===!1||yv.skipAnimations)return lv(g);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=iv(t,e,g);if(w)return w}return Ro(g)};function No(e){return!!(zt(e)&&e.add)}const Th=e=>/^\-?\d*\.?\d+$/.test(e);function Yl(e,t){e.indexOf(t)===-1&&e.push(t)}function Xl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Zl{constructor(){this.subscriptions=[]}add(t){return Yl(this.subscriptions,t),()=>Xl(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const l=this.subscriptions[i];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cv=e=>!isNaN(parseFloat(e));class wv{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:l}=Et;this.lastUpdated!==l&&(this.timeDelta=i,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Cv(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zl);const r=this.events[t].add(n);return t==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xr(e,t){return new wv(e,t)}const Ah=e=>t=>t.test(e),Sv={test:e=>e==="auto",parse:e=>e},Dh=[Sr,Ie,xn,Ln,Mx,Ix,Sv],is=e=>Dh.find(Ah(e)),jv=[...Dh,Dt,Xn],Pv=e=>jv.find(Ah(e));function kv(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xr(n))}function Ev(e,t){const n=hi(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const l in i){const a=Wx(i[l]);kv(e,l,a)}}function Iv(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),l=i.length;if(l)for(let a=0;a<l;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Th(d)||Fh(d))?d=parseFloat(d):!Pv(d)&&Xn.test(u)&&(d=Mh(c,u)),e.addValue(c,Xr(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function Mv(e,t){return t?(t[e]||t.default||t).from:void 0}function Fv(e,t,n){const r={};for(const o in e){const i=Mv(o,t);if(i!==void 0)r[o]=i;else{const l=n.getValue(o);l&&(r[o]=l.get())}}return r}function Tv({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Av(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Oh(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const m=e.getValue(f),g=a[f];if(!m||g===void 0||d&&Tv(d,f))continue;const w={delay:n,elapsed:0,...Kl(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[_d];if(y){const x=window.HandoffAppearAnimations(y,f,m,ot);x!==null&&(w.elapsed=x,w.isHandoff=!0)}}let b=!w.isHandoff&&!Av(m,g);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(Ql(f,m,g,e.shouldReduceMotion&&wr.has(f)?{type:!1}:w));const C=m.animation;No(c)&&(c.add(f),C.then(()=>c.remove(f))),u.push(C)}return l&&Promise.all(u).then(()=>{l&&Ev(e,l)}),u}function tl(e,t,n={}){const r=hi(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Oh(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return Dv(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,l]:[l,i];return c().then(()=>u())}else return Promise.all([i(),l(n.delay)])}function Dv(e,t,n=0,r=0,o=1,i){const l=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Ov).forEach((u,d)=>{u.notify("AnimationStart",t),l.push(tl(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(l)}function Ov(e,t){return e.sortNodePosition(t)}function _v(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>tl(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=tl(e,t,n);else{const o=typeof t=="function"?hi(e,t,n.custom):t;r=Promise.all(Oh(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Vv=[...Ol].reverse(),$v=Ol.length;function Lv(e){return t=>Promise.all(t.map(({animation:n,options:r})=>_v(e,n,r)))}function Rv(e){let t=Lv(e);const n=zv();let r=!0;const o=(c,u)=>{const d=hi(e,u);if(d){const{transition:f,transitionEnd:m,...g}=d;c={...c,...g,...m}}return c};function i(c){t=c(e)}function l(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],g=new Set;let w={},b=1/0;for(let y=0;y<$v;y++){const x=Vv[y],v=n[x],p=d[x]!==void 0?d[x]:f[x],E=Fs(p),D=x===u?v.isActive:null;D===!1&&(b=y);let P=p===f[x]&&p!==d[x]&&E;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),v.protectedKeys={...w},!v.isActive&&D===null||!p&&!v.prevProp||ai(p)||typeof p=="boolean")continue;let T=Nv(v.prevProp,p)||x===u&&v.isActive&&!P&&E||y>b&&E,_=!1;const O=Array.isArray(p)?p:[p];let z=O.reduce(o,{});D===!1&&(z={});const{prevResolvedValues:$={}}=v,I={...$,...z},F=V=>{T=!0,g.has(V)&&(_=!0,g.delete(V)),v.needsAnimating[V]=!0};for(const V in I){const H=z[V],R=$[V];if(w.hasOwnProperty(V))continue;let N=!1;Vo(H)&&Vo(R)?N=!rh(H,R):N=H!==R,N?H!==void 0?F(V):g.add(V):H!==void 0&&g.has(V)?F(V):v.protectedKeys[V]=!0}v.prevProp=p,v.prevResolvedValues=z,v.isActive&&(w={...w,...z}),r&&e.blockInitialAnimation&&(T=!1),T&&(!P||_)&&m.push(...O.map(V=>({animation:V,options:{type:x,...c}})))}if(g.size){const y={};g.forEach(x=>{const v=e.getBaseTarget(x);v!==void 0&&(y[x]=v)}),m.push({animation:y})}let C=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(m):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),n[c].isActive=u;const m=l(d,c);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:l,setActive:a,setAnimateFunction:i,getState:()=>n}}function Nv(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rh(t,e):!1}function or(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zv(){return{animate:or(!0),whileInView:or(),whileHover:or(),whileTap:or(),whileDrag:or(),whileFocus:or(),exit:or()}}class Bv extends nr{constructor(t){super(t),t.animationState||(t.animationState=Rv(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ai(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Hv=0;class Wv extends nr{constructor(){super(...arguments),this.id=Hv++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Gv={animation:{Feature:Bv},exit:{Feature:Wv}},mc=(e,t)=>Math.abs(e-t);function Uv(e,t){const n=mc(e.x,t.x),r=mc(e.y,t.y);return Math.sqrt(n**2+r**2)}class _h{constructor(t,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Di(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Uv(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:w}=f,{timestamp:b}=Et;this.history.push({...w,timestamp:b});const{onStart:C,onMove:y}=this.handlers;m||(C&&C(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ai(m,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Di(f.type==="pointercancel"?this.lastMoveEventInfo:Ai(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,C),w&&w(f,C)},!Zd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const l=di(t),a=Ai(l,this.transformPagePoint),{point:c}=a,{timestamp:u}=Et;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Di(a,this.history)),this.removeListeners=Kn(Mn(this.contextWindow,"pointermove",this.handlePointerMove),Mn(this.contextWindow,"pointerup",this.handlePointerUp),Mn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Ai(e,t){return t?{point:t(e.point)}:e}function gc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Di({point:e},t){return{point:e,delta:gc(e,Vh(t)),offset:gc(e,qv(t)),velocity:Kv(t,.1)}}function qv(e){return e[0]}function Vh(e){return e[e.length-1]}function Kv(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Vh(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>pr(t)));)n--;if(!r)return{x:0,y:0};const i=Fn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Gt(e){return e.max-e.min}function nl(e,t=0,n=.01){return Math.abs(e-t)<=n}function pc(e,t,n,r=.5){e.origin=r,e.originPoint=ct(t.min,t.max,e.origin),e.scale=Gt(n)/Gt(t),(nl(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ct(n.min,n.max,e.origin)-e.originPoint,(nl(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){pc(e.x,t.x,n.x,r?r.originX:void 0),pc(e.y,t.y,n.y,r?r.originY:void 0)}function xc(e,t,n){e.min=n.min+t.min,e.max=e.min+Gt(t)}function Qv(e,t,n){xc(e.x,t.x,n.x),xc(e.y,t.y,n.y)}function bc(e,t,n){e.min=t.min-n.min,e.max=e.min+Gt(t)}function Ss(e,t,n){bc(e.x,t.x,n.x),bc(e.y,t.y,n.y)}function Yv(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ct(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ct(n,e,r.max):Math.min(e,n)),e}function vc(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xv(e,{top:t,left:n,bottom:r,right:o}){return{x:vc(e.x,n,o),y:vc(e.y,t,r)}}function yc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Zv(e,t){return{x:yc(e.x,t.x),y:yc(e.y,t.y)}}function Jv(e,t){let n=.5;const r=Gt(e),o=Gt(t);return o>r?n=As(t.min,t.max-r,e.min):r>o&&(n=As(e.min,e.max-o,t.min)),Yn(0,1,n)}function ey(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rl=.35;function ty(e=rl){return e===!1?e=0:e===!0&&(e=rl),{x:Cc(e,"left","right"),y:Cc(e,"top","bottom")}}function Cc(e,t,n){return{min:wc(e,t),max:wc(e,n)}}function wc(e,t){return typeof e=="number"?e:e[t]||0}const Sc=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Sc(),y:Sc()}),jc=()=>({min:0,max:0}),mt=()=>({x:jc(),y:jc()});function qt(e){return[e("x"),e("y")]}function $h({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ny({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ry(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Oi(e){return e===void 0||e===1}function sl({scale:e,scaleX:t,scaleY:n}){return!Oi(e)||!Oi(t)||!Oi(n)}function ar(e){return sl(e)||Lh(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Lh(e){return Pc(e.x)||Pc(e.y)}function Pc(e){return e&&e!=="0%"}function zo(e,t,n){const r=e-n,o=t*r;return n+o}function kc(e,t,n,r,o){return o!==void 0&&(e=zo(e,o,r)),zo(e,n,r)+t}function ol(e,t=0,n=1,r,o){e.min=kc(e.min,t,n,r,o),e.max=kc(e.max,t,n,r,o)}function Rh(e,{x:t,y:n}){ol(e.x,t.translate,t.scale,t.originPoint),ol(e.y,n.translate,n.scale,n.originPoint)}function sy(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,l;for(let a=0;a<o;a++){i=n[a],l=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Rh(e,l)),r&&ar(i.latestValues)&&Hr(e,i.latestValues))}t.x=Ec(t.x),t.y=Ec(t.y)}function Ec(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zn(e,t){e.min=e.min+t,e.max=e.max+t}function Ic(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,l=ct(e.min,e.max,i);ol(e,t[n],t[r],l,t.scale)}const oy=["x","scaleX","originX"],iy=["y","scaleY","originY"];function Hr(e,t){Ic(e.x,t,oy),Ic(e.y,t,iy)}function Nh(e,t){return $h(ry(e.getBoundingClientRect(),t))}function ly(e,t,n){const r=Nh(e,n),{scroll:o}=t;return o&&(zn(r.x,o.offset.x),zn(r.y,o.offset.y)),r}const zh=({current:e})=>e?e.ownerDocument.defaultView:null,ay=new WeakMap;class cy{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(di(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:w}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eh(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(C=>{let y=this.getAxisMotionValue(C).get()||0;if(xn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[C];v&&(y=Gt(v)*(parseFloat(y)/100))}}this.originPoint[C]=y}),w&&ot.update(()=>w(d,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:w,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:C}=f;if(g&&this.currentDirection===null){this.currentDirection=uy(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,C),this.updateAxis("y",f.point,C),this.visualElement.render(),b&&b(d,f)},a=(d,f)=>this.stop(d,f),c=()=>qt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _h(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:zh(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ot.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!io(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=Yv(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Nr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Xv(o.layoutBox,n):this.constraints=!1,this.elastic=ty(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&qt(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=ey(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Nr(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=ly(r,o.root,this.visualElement.getTransformPagePoint());let l=Zv(o.layout.layoutBox,i);if(n){const a=n(ny(l));this.hasMutatedConstraints=!!a,a&&(l=$h(a))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=qt(d=>{if(!io(d,n,this.currentDirection))return;let f=c&&c[d]||{};l&&(f={min:0,max:0});const m=o?200:1e6,g=o?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Ql(t,r,0,n))}stopAnimation(){qt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qt(n=>{const{drag:r}=this.getProps();if(!io(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:a}=o.layout.layoutBox[n];i.set(t[n]-ct(l,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Nr(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qt(l=>{const a=this.getAxisMotionValue(l);if(a){const c=a.get();o[l]=Jv({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qt(l=>{if(!io(l,t,null))return;const a=this.getAxisMotionValue(l),{min:c,max:u}=this.constraints[l];a.set(ct(c,u,o[l]))})}addListeners(){if(!this.visualElement.current)return;ay.set(this.visualElement,this);const t=this.visualElement.current,n=Mn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Nr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const l=En(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(qt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{l(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:l=rl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:l,dragMomentum:a}}}function io(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uy(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dy extends nr{constructor(t){super(t),this.removeGroupControls=ht,this.removeListeners=ht,this.controls=new cy(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const Mc=e=>(t,n)=>{e&&ot.update(()=>e(t,n))};class hy extends nr{constructor(){super(...arguments),this.removePointerDownListener=ht}onPointerDown(t){this.session=new _h(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Mc(t),onStart:Mc(n),onMove:r,onEnd:(i,l)=>{delete this.session,o&&ot.update(()=>o(i,l))}}}mount(){this.removePointerDownListener=Mn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fy(){const e=h.useContext(Al);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Co={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ls={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const n=Fc(e,t.target.x),r=Fc(e,t.target.y);return`${n}% ${r}%`}},my={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Xn.parse(e);if(o.length>5)return r;const i=Xn.createTransformer(e),l=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=a,o[1+l]/=c;const u=ct(a,c,.5);return typeof o[2+l]=="number"&&(o[2+l]/=u),typeof o[3+l]=="number"&&(o[3+l]/=u),i(o)}};class gy extends Ae.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;Cx(py),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Co.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,l=r.projection;return l&&(l.isPresent=i,o||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||ot.postRender(()=>{const a=l.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bh(e){const[t,n]=fy(),r=h.useContext($d);return Ae.createElement(gy,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Ld),isPresent:t,safeToRemove:n})}const py={borderRadius:{...ls,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomLeftRadius:ls,borderBottomRightRadius:ls,boxShadow:my},Hh=["TopLeft","TopRight","BottomLeft","BottomRight"],xy=Hh.length,Tc=e=>typeof e=="string"?parseFloat(e):e,Ac=e=>typeof e=="number"||Ie.test(e);function by(e,t,n,r,o,i){o?(e.opacity=ct(0,n.opacity!==void 0?n.opacity:1,vy(r)),e.opacityExit=ct(t.opacity!==void 0?t.opacity:1,0,yy(r))):i&&(e.opacity=ct(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<xy;l++){const a=`border${Hh[l]}Radius`;let c=Dc(t,a),u=Dc(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Ac(c)===Ac(u)?(e[a]=Math.max(ct(Tc(c),Tc(u),r),0),(xn.test(u)||xn.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ct(t.rotate||0,n.rotate||0,r))}function Dc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vy=Wh(0,.5,hh),yy=Wh(.5,.95,ht);function Wh(e,t,n){return r=>r<e?0:r>t?1:n(As(e,t,r))}function Oc(e,t){e.min=t.min,e.max=t.max}function Ut(e,t){Oc(e.x,t.x),Oc(e.y,t.y)}function _c(e,t,n,r,o){return e-=t,e=zo(e,1/n,r),o!==void 0&&(e=zo(e,1/o,r)),e}function Cy(e,t=0,n=1,r=.5,o,i=e,l=e){if(xn.test(t)&&(t=parseFloat(t),t=ct(l.min,l.max,t/100)-l.min),typeof t!="number")return;let a=ct(i.min,i.max,r);e===i&&(a-=t),e.min=_c(e.min,t,n,a,o),e.max=_c(e.max,t,n,a,o)}function Vc(e,t,[n,r,o],i,l){Cy(e,t[n],t[r],t[o],t.scale,i,l)}const wy=["x","scaleX","originX"],Sy=["y","scaleY","originY"];function $c(e,t,n,r){Vc(e.x,t,wy,n?n.x:void 0,r?r.x:void 0),Vc(e.y,t,Sy,n?n.y:void 0,r?r.y:void 0)}function Lc(e){return e.translate===0&&e.scale===1}function Gh(e){return Lc(e.x)&&Lc(e.y)}function jy(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Uh(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Rc(e){return Gt(e.x)/Gt(e.y)}class Py{constructor(){this.members=[]}add(t){Yl(this.members,t),t.scheduleRender()}remove(t){if(Xl(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nc(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const l=e.x.scale*t.x,a=e.y.scale*t.y;return(l!==1||a!==1)&&(r+=`scale(${l}, ${a})`),r||"none"}const ky=(e,t)=>e.depth-t.depth;class Ey{constructor(){this.children=[],this.isDirty=!1}add(t){Yl(this.children,t),this.isDirty=!0}remove(t){Xl(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ky),this.isDirty=!1,this.children.forEach(t)}}function Iy(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Dn(r),e(i-t))};return ot.read(r,!0),()=>Dn(r)}function My(e){window.MotionDebug&&window.MotionDebug.record(e)}function Fy(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Ty(e,t,n){const r=zt(e)?e:Xr(e);return r.start(Ql("",r,t,n)),r.animation}const zc=["","X","Y","Z"],Ay={visibility:"hidden"},Bc=1e3;let Dy=0;const cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},a=t?.()){this.id=Dy++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cr.totalNodes=cr.resolvedTargetDeltas=cr.recalculatedProjection=0,this.nodes.forEach(Vy),this.nodes.forEach(zy),this.nodes.forEach(By),this.nodes.forEach($y),My(cr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ey)}addEventListener(l,a){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Zl),this.eventHandlers.get(l).add(a)}notifyListeners(l,...a){const c=this.eventHandlers.get(l);c&&c.notify(...a)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fy(l),this.instance=l;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Iy(m,250),Co.hasAnimatedSinceResize&&(Co.hasAnimatedSinceResize=!1,this.nodes.forEach(Wc))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||qy,{onLayoutAnimationStart:C,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!Uh(this.targetLayout,w)||g,v=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const p={...Kl(b,"layout"),onPlay:C,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(p.delay=0,p.type=!1),this.startAnimation(p)}else m||Wc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hy),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hc);return}this.isUpdating||this.nodes.forEach(Ry),this.isUpdating=!1,this.nodes.forEach(Ny),this.nodes.forEach(Oy),this.nodes.forEach(_y),this.clearAllSnapshots();const a=performance.now();Et.delta=Yn(0,1e3/60,a-Et.timestamp),Et.timestamp=a,Et.isProcessing=!0,ji.update.process(Et),ji.preRender.process(Et),ji.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ly),this.sharedNodes.forEach(Wy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Gh(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;l&&(a||ar(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return l&&(c=this.removeTransform(c)),Ky(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return mt();const a=l.measureViewportBox(),{scroll:c}=this.root;return c&&(zn(a.x,c.offset.x),zn(a.y,c.offset.y)),a}removeElementScroll(l){const a=mt();Ut(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Ut(a,l);const{scroll:m}=this.root;m&&(zn(a.x,-m.offset.x),zn(a.y,-m.offset.y))}zn(a.x,d.offset.x),zn(a.y,d.offset.y)}}return a}applyTransform(l,a=!1){const c=mt();Ut(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Hr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ar(d.latestValues)&&Hr(c,d.latestValues)}return ar(this.latestValues)&&Hr(c,this.latestValues),c}removeTransform(l){const a=mt();Ut(a,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ar(u.latestValues))continue;sl(u.latestValues)&&u.updateSnapshot();const d=mt(),f=u.measurePageBox();Ut(d,f),$c(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ar(this.latestValues)&&$c(a,this.latestValues),a}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Et.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ss(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qv(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),Rh(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Ss(this.relativeTargetOrigin,this.target,g.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sl(this.parent.latestValues)||Lh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ut(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;sy(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=Br(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br());const b=this.projectionTransform;ws(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Nc(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=mt(),g=c?c.source:void 0,w=this.layout?this.layout.source:void 0,b=g!==w,C=this.getStack(),y=!C||C.members.length<=1,x=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(Uy));this.animationProgress=0;let v;this.mixTargetDelta=p=>{const E=p/1e3;Gc(f.x,l.x,E),Gc(f.y,l.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ss(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gy(this.relativeTarget,this.relativeTargetOrigin,m,E),v&&jy(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=mt()),Ut(v,this.relativeTarget)),b&&(this.animationValues=d,by(d,u,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Co.hasAnimatedSinceResize=!0,this.currentAnimation=Ty(0,Bc,{...l,onUpdate:a=>{this.mixTargetDelta(a),l.onUpdate&&l.onUpdate(a)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=l;if(!(!a||!c||!u)){if(this!==l&&this.layout&&u&&Kh(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||mt();const f=Gt(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const m=Gt(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+m}Ut(a,c),Hr(a,d),ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(l,a){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Py),this.sharedNodes.get(l).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let a=!1;const{latestValues:c}=l;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<zc.length;d++){const f="rotate"+zc[d];c[f]&&(u[f]=c[f],l.setStaticValue(f,0))}l.render();for(const d in u)l.setStaticValue(d,u[d]);l.scheduleRender()}getProjectionStyles(l){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ay;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yo(l?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=yo(l?.pointerEvents)||""),this.hasProjected&&!ar(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Nc(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:w}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Oo){if(m[b]===void 0)continue;const{correct:C,applyTo:y}=Oo[b],x=u.transform==="none"?m[b]:C(m[b],f);if(y){const v=y.length;for(let p=0;p<v;p++)u[y[p]]=x}else u[b]=x}return this.options.layoutId&&(u.pointerEvents=f===this?yo(l?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var a;return(a=l.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Hc),this.root.sharedNodes.clear()}}}function Oy(e){e.updateLayout()}function _y(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,l=n.source!==e.layout.source;i==="size"?qt(f=>{const m=l?n.measuredBox[f]:n.layoutBox[f],g=Gt(m);m.min=r[f].min,m.max=m.min+g}):Kh(i,n.layoutBox,r)&&qt(f=>{const m=l?n.measuredBox[f]:n.layoutBox[f],g=Gt(r[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=Br();ws(a,r,n.layoutBox);const c=Br();l?ws(c,e.applyTransform(o,!0),n.measuredBox):ws(c,r,n.layoutBox);const u=!Gh(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const w=mt();Ss(w,n.layoutBox,m.layoutBox);const b=mt();Ss(b,r,g.layoutBox),Uh(w,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Vy(e){cr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $y(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ly(e){e.clearSnapshot()}function Hc(e){e.clearMeasurements()}function Ry(e){e.isLayoutDirty=!1}function Ny(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zy(e){e.resolveTargetDelta()}function By(e){e.calcProjection()}function Hy(e){e.resetRotation()}function Wy(e){e.removeLeadSnapshot()}function Gc(e,t,n){e.translate=ct(t.translate,0,n),e.scale=ct(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Uc(e,t,n,r){e.min=ct(t.min,n.min,r),e.max=ct(t.max,n.max,r)}function Gy(e,t,n,r){Uc(e.x,t.x,n.x,r),Uc(e.y,t.y,n.y,r)}function Uy(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qy={duration:.45,ease:[.4,0,.1,1]},qc=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Kc=qc("applewebkit/")&&!qc("chrome/")?Math.round:ht;function Qc(e){e.min=Kc(e.min),e.max=Kc(e.max)}function Ky(e){Qc(e.x),Qc(e.y)}function Kh(e,t,n){return e==="position"||e==="preserve-aspect"&&!nl(Rc(t),Rc(n),.2)}const Qy=qh({attachResizeListener:(e,t)=>En(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_i={current:void 0},Qh=qh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_i.current){const e=new Qy({});e.mount(window),e.setOptions({layoutScroll:!0}),_i.current=e}return _i.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Yy={pan:{Feature:hy},drag:{Feature:dy,ProjectionNode:Qh,MeasureLayout:Bh}},Xy=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Zy(e){const t=Xy.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function il(e,t,n=1){const[r,o]=Zy(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const l=i.trim();return Th(l)?parseFloat(l):l}else return Qi(o)?il(o,t,n+1):o}function Jy(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!Qi(i))return;const l=il(i,r);l&&o.set(l)});for(const o in t){const i=t[o];if(!Qi(i))continue;const l=il(i,r);l&&(t[o]=l,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const eC=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Yh=e=>eC.has(e),tC=e=>Object.keys(e).some(Yh),Yc=e=>e===Sr||e===Ie,Xc=(e,t)=>parseFloat(e.split(", ")[t]),Zc=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Xc(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Xc(i[1],e):0}},nC=new Set(["x","y","z"]),rC=Ls.filter(e=>!nC.has(e));function sC(e){const t=[];return rC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Zr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Zc(4,13),y:Zc(5,14)};Zr.translateX=Zr.x;Zr.translateY=Zr.y;const oC=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:l}=i,a={};l==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Zr[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Zr[u](c,i)}),e},iC=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Yh);let i=[],l=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=is(d);const m=t[c];let g;if(Vo(m)){const w=m.length,b=m[0]===null?1:0;d=m[b],f=is(d);for(let C=b;C<w&&m[C]!==null;C++)g?Hl(is(m[C])===g):g=is(m[C])}else g=is(m);if(f!==g)if(Yc(f)&&Yc(g)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&g===Ie&&(t[c]=m.map(parseFloat))}else f?.transform&&g?.transform&&(d===0||m===0)?d===0?u.set(g.transform(d)):t[c]=f.transform(m):(l||(i=sC(e),l=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=oC(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),li&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function lC(e,t,n,r){return tC(t)?iC(e,t,n,r):{target:t,transitionEnd:r}}const aC=(e,t,n,r)=>{const o=Jy(e,t,r);return t=o.target,r=o.transitionEnd,lC(e,t,n,r)},ll={current:null},Xh={current:!1};function cC(){if(Xh.current=!0,!!li)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ll.current=e.matches;e.addListener(t),t()}else ll.current=!1}function uC(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],l=n[o];if(zt(i))e.addValue(o,i),No(r)&&r.add(o);else if(zt(l))e.addValue(o,Xr(i,{owner:e})),No(r)&&r.remove(o);else if(l!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Xr(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Jc=new WeakMap,Zh=Object.keys(Ts),dC=Zh.length,eu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hC=_l.length;class fC{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.isControllingVariants=ci(n),this.isVariantNode=Vd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];a[f]!==void 0&&zt(m)&&(m.set(a[f],!1),No(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Jc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Xh.current||cC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ll.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jc.delete(this.current),this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=wr.has(t),o=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let l,a;for(let c=0;c<dC;c++){const u=Zh[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:g}=Ts[u];m&&(l=m),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Nr(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:g})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eu.length;r++){const o=eu[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=uC(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<hC;r++){const o=_l[r],i=this.props[o];(Fs(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xr(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Bl(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!zt(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zl),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Jh extends fC{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let l=Fv(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),l&&(l=o(l))),i){Iv(this,r,l);const a=aC(this,r,l,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function mC(e){return window.getComputedStyle(e)}class gC extends Jh{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(wr.has(n)){const r=ql(n);return r&&r.default||0}else{const r=mC(t),o=(zd(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Nh(t,n)}build(t,n,r,o){$l(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return zl(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){qd(t,n,r,o)}}class pC extends Jh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(wr.has(n)){const r=ql(n);return r&&r.default||0}return n=Kd.has(n)?n:Dl(n),t.getAttribute(n)}measureInstanceViewportBox(){return mt()}scrapeMotionValuesFromProps(t,n){return Yd(t,n)}build(t,n,r,o){Rl(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Qd(t,n,r,o)}mount(t){this.isSVGTag=Nl(t.tagName),super.mount(t)}}const xC=(e,t)=>Vl(e)?new pC(t,{enableHardwareAcceleration:!1}):new gC(t,{enableHardwareAcceleration:!0}),bC={layout:{ProjectionNode:Qh,MeasureLayout:Bh}},vC={...Gv,...db,...Yy,...bC},nt=vx((e,t)=>Zx(e,t,vC,xC));class yC{async login(t){const n=[{id:"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"2",email:"manager@nekservice.ru",name:"Менеджер",role:"manager",rating:4.8,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date},{id:"3",email:"tech@nekservice.ru",name:"Техник",role:"technician",rating:4.5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date}];return new Promise((r,o)=>{setTimeout(()=>{const i=n.find(l=>l.email===t.email);i&&t.password==="password"?r({user:i,token:"mock-jwt-token-"+i.id}):o(new Error("Неверный email или пароль"))},1e3)})}async getCurrentUser(){return new Promise((t,n)=>{setTimeout(()=>{const r=localStorage.getItem("token");if(r){const i={id:r.split("-").pop()||"1",email:"admin@nekservice.ru",name:"Администратор",role:"admin",rating:5,totalEarnings:0,isActive:!0,createdAt:new Date,updatedAt:new Date};t(i)}else n(new Error("No token found"))},500)})}async logout(){return Promise.resolve()}}const tu=new yC,ef=h.createContext(void 0),Jl=()=>{const e=h.useContext(ef);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},CC=({children:e})=>{const[t,n]=h.useState(null),[r,o]=h.useState(!0),[i,l]=h.useState(null);h.useEffect(()=>{(async()=>{try{if(localStorage.getItem("token")){const g=await tu.getCurrentUser();n(g)}}catch{localStorage.removeItem("token")}finally{o(!1)}})()},[]);const d={user:t,isAuthenticated:!!t,isLoading:r,error:i,login:async f=>{try{o(!0),l(null);const{user:m,token:g}=await tu.login(f);localStorage.setItem("token",g),n(m)}catch(m){throw l(m.message||"Ошибка входа в систему"),m}finally{o(!1)}},logout:()=>{localStorage.removeItem("token"),n(null),l(null)},updateUser:f=>{t&&n({...t,...f})}};return s.jsx(ef.Provider,{value:d,children:e})},ir=280,wC=({children:e})=>{const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=Um(),l=qm(i.breakpoints.down("md")),a=Rg(),c=Ng(),{user:u,logout:d}=Jl(),f=[{text:"Дашборд",icon:s.jsx(eg,{}),path:"/dashboard"},{text:"Заказы",icon:s.jsx(Eo,{}),path:"/orders"},{text:"Клиенты",icon:s.jsx(Io,{}),path:"/clients"},{text:"Склад",icon:s.jsx(Cl,{}),path:"/inventory"},{text:"Сотрудники",icon:s.jsx(tg,{}),path:"/employees"},{text:"Касса",icon:s.jsx(ng,{}),path:"/cash-register"},{text:"Отчеты",icon:s.jsx(Ju,{}),path:"/reports"},{text:"Настройки",icon:s.jsx(ed,{}),path:"/settings"}],m=()=>{n(!t)},g=y=>{o(y.currentTarget)},w=()=>{o(null)},b=()=>{d(),w()},C=s.jsxs(B,{children:[s.jsxs(B,{sx:{p:3,background:"#1A1A1A",color:"white",textAlign:"center"},children:[s.jsx(j,{variant:"h5",fontWeight:"bold",sx:{color:"#FF6B35"},children:"НЭК СЕРВИС"}),s.jsx(j,{variant:"body2",sx:{opacity:.9,mt:.5,color:"#9E9E9E"},children:"CRM Система"})]}),s.jsx(Is,{}),s.jsx(Gr,{sx:{px:2,py:1},children:f.map(y=>{const x=c.pathname===y.path;return s.jsx(nt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(B,{onClick:()=>{a(y.path),l&&n(!1)},sx:{display:"flex",alignItems:"center",p:2,mb:1,borderRadius:2,cursor:"pointer",transition:"all 0.2s ease-in-out",backgroundColor:x?"primary.main":"transparent",color:x?"white":"text.primary","&:hover":{backgroundColor:x?"primary.dark":"action.hover"}},children:[y.icon,s.jsx(j,{variant:"body1",sx:{ml:2,fontWeight:x?600:400},children:y.text})]})},y.text)})})]});return s.jsxs(B,{sx:{display:"flex"},children:[s.jsx(Km,{position:"fixed",sx:{width:{md:`calc(100% - ${ir}px)`},ml:{md:`${ir}px`},backgroundColor:"#1A1A1A",color:"text.primary",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},children:s.jsxs(Qm,{children:[s.jsx(Be,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:m,sx:{mr:2,display:{md:"none"}},children:s.jsx(Ym,{})}),s.jsx(j,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,color:"text.primary"},children:f.find(y=>y.path===c.pathname)?.text||"Дашборд"}),s.jsx(Be,{color:"inherit",sx:{mr:1},children:s.jsx(yl,{badgeContent:3,color:"error",children:s.jsx(us,{})})}),s.jsx(Be,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:g,color:"inherit",children:s.jsx(st,{sx:{width:32,height:32,bgcolor:"primary.main"},children:u?.name?.charAt(0)})})]})}),s.jsx(B,{sx:{position:"fixed",top:64,left:{md:ir},right:0,zIndex:1100,backgroundColor:"#1A1A1A",borderBottom:"1px solid rgba(255,107,53,0.2)",display:{xs:"none",md:"flex"},borderRadius:"0 0 8px 8px"},children:s.jsx(B,{sx:{display:"flex",alignItems:"center",px:2,py:1,width:"100%",overflowX:"auto","&::-webkit-scrollbar":{height:4},"&::-webkit-scrollbar-track":{backgroundColor:"#1A1A1A"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#FF6B35",borderRadius:2}},children:f.map((y,x)=>{const v=c.pathname===y.path;return s.jsxs(Ae.Fragment,{children:[s.jsx(B,{onClick:()=>a(y.path),sx:{display:"flex",alignItems:"center",px:2,py:1,cursor:"pointer",borderRadius:1,transition:"all 0.2s ease-in-out",backgroundColor:v?"rgba(255,107,53,0.2)":"transparent","&:hover":{backgroundColor:v?"rgba(255,107,53,0.3)":"rgba(255,107,53,0.1)"},whiteSpace:"nowrap",minWidth:"fit-content"},children:s.jsx(j,{variant:"body2",sx:{fontWeight:v?600:400,fontSize:"0.875rem",color:v?"primary.main":"text.secondary"},children:y.text})}),x<f.length-1&&s.jsx(B,{sx:{width:"1px",height:"20px",backgroundColor:"rgba(255,107,53,0.3)",mx:1}})]},y.text)})})}),s.jsxs(B,{component:"nav",sx:{width:{md:ir},flexShrink:{md:0}},"aria-label":"mailbox folders",children:[s.jsx(Oa,{variant:"temporary",open:t,onClose:m,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ir,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},children:C}),s.jsx(Oa,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ir,backgroundColor:"#1A1A1A",borderRight:"1px solid rgba(255,107,53,0.2)"}},open:!0,children:C})]}),s.jsx(B,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${ir}px)`},mt:{xs:8,md:12},minHeight:"calc(100vh - 64px)",backgroundColor:"#1A1A1A"},children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e})}),s.jsxs(Xm,{anchorEl:r,open:!!r,onClose:w,onClick:w,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[s.jsxs(le,{onClick:()=>a("/settings"),children:[s.jsx(Zm,{fontSize:"small",sx:{mr:1}}),"Профиль"]}),s.jsx(Is,{}),s.jsxs(le,{onClick:b,children:[s.jsx(Jm,{fontSize:"small",sx:{mr:1}}),"Выйти"]})]})]})};var Bs=e=>e.type==="checkbox",hr=e=>e instanceof Date,Ot=e=>e==null;const tf=e=>typeof e=="object";var gt=e=>!Ot(e)&&!Array.isArray(e)&&tf(e)&&!hr(e),nf=e=>gt(e)&&e.target?Bs(e.target)?e.target.checked:e.target.value:e,SC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rf=(e,t)=>e.has(SC(t)),jC=e=>{const t=e.constructor&&e.constructor.prototype;return gt(t)&&t.hasOwnProperty("isPrototypeOf")},ea=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ea&&(e instanceof Blob||r))&&(n||gt(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!jC(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=xt(e[o]));else return e;return t}var fi=e=>/^\w*$/.test(e),dt=e=>e===void 0,ta=e=>Array.isArray(e)?e.filter(Boolean):[],na=e=>ta(e.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(e,t,n)=>{if(!t||!gt(e))return n;const r=(fi(t)?[t]:na(t)).reduce((o,i)=>Ot(o)?o:o[i],e);return dt(r)||r===e?dt(e[t])?n:e[t]:r},Ht=e=>typeof e=="boolean",Je=(e,t,n)=>{let r=-1;const o=fi(t)?[t]:na(t),i=o.length,l=i-1;for(;++r<i;){const a=o[r];let c=n;if(r!==l){const u=e[a];c=gt(u)||Array.isArray(u)?u:isNaN(+o[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}};const Bo={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sf=Ae.createContext(null);sf.displayName="HookFormContext";const ra=()=>Ae.useContext(sf);var of=(e,t,n,r=!0)=>{const o={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(o,i,{get:()=>{const l=i;return t._proxyFormState[l]!==tn.all&&(t._proxyFormState[l]=!r||tn.all),n&&(n[l]=!0),e[l]}});return o};const sa=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;function PC(e){const t=ra(),{control:n=t.control,disabled:r,name:o,exact:i}=e||{},[l,a]=Ae.useState(n._formState),c=Ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sa(()=>n._subscribe({name:o,formState:c.current,exact:i,callback:u=>{!r&&a({...n._formState,...u})}}),[o,r,i]),Ae.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Ae.useMemo(()=>of(l,n,c.current,!1),[l,n])}var Wt=e=>typeof e=="string",lf=(e,t,n,r,o)=>Wt(e)?(r&&t.watch.add(e),he(n,e,o)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),he(n,i))):(r&&(t.watchAll=!0),n),al=e=>Ot(e)||!tf(e);function Pn(e,t,n=new WeakSet){if(al(e)||al(t))return e===t;if(hr(e)&&hr(t))return e.getTime()===t.getTime();const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const l=e[i];if(!o.includes(i))return!1;if(i!=="ref"){const a=t[i];if(hr(l)&&hr(a)||gt(l)&&gt(a)||Array.isArray(l)&&Array.isArray(a)?!Pn(l,a,n):l!==a)return!1}}return!0}function kC(e){const t=ra(),{control:n=t.control,name:r,defaultValue:o,disabled:i,exact:l,compute:a}=e||{},c=Ae.useRef(o),u=Ae.useRef(a),d=Ae.useRef(void 0);u.current=a;const f=Ae.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,g]=Ae.useState(u.current?u.current(f):f);return sa(()=>n._subscribe({name:r,formState:{values:!0},exact:l,callback:w=>{if(!i){const b=lf(r,n._names,w.values||n._formValues,!1,c.current);if(u.current){const C=u.current(b);Pn(C,d.current)||(g(C),d.current=C)}else g(b)}}}),[n,i,r,l]),Ae.useEffect(()=>n._removeUnmounted()),m}function EC(e){const t=ra(),{name:n,disabled:r,control:o=t.control,shouldUnregister:i,defaultValue:l}=e,a=rf(o._names.array,n),c=Ae.useMemo(()=>he(o._formValues,n,he(o._defaultValues,n,l)),[o,n,l]),u=kC({control:o,name:n,defaultValue:c,exact:!0}),d=PC({control:o,name:n,exact:!0}),f=Ae.useRef(e),m=Ae.useRef(void 0),g=Ae.useRef(o.register(n,{...e.rules,value:u,...Ht(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const w=Ae.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!he(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!he(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!he(d.validatingFields,n)},error:{enumerable:!0,get:()=>he(d.errors,n)}}),[d,n]),b=Ae.useCallback(v=>g.current.onChange({target:{value:nf(v),name:n},type:Bo.CHANGE}),[n]),C=Ae.useCallback(()=>g.current.onBlur({target:{value:he(o._formValues,n),name:n},type:Bo.BLUR}),[n,o._formValues]),y=Ae.useCallback(v=>{const p=he(o._fields,n);p&&v&&(p._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:E=>v.setCustomValidity(E),reportValidity:()=>v.reportValidity()})},[o._fields,n]),x=Ae.useMemo(()=>({name:n,value:u,...Ht(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:b,onBlur:C,ref:y}),[n,r,d.disabled,b,C,y,u]);return Ae.useEffect(()=>{const v=o._options.shouldUnregister||i,p=m.current;p&&p!==n&&!a&&o.unregister(p),o.register(n,{...f.current.rules,...Ht(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(D,P)=>{const k=he(o._fields,D);k&&k._f&&(k._f.mount=P)};if(E(n,!0),v){const D=xt(he(o._options.defaultValues,n,f.current.defaultValue));Je(o._defaultValues,n,D),dt(he(o._formValues,n))&&Je(o._formValues,n,D)}return!a&&o.register(n),m.current=n,()=>{(a?v&&!o._state.action:v)?o.unregister(n):E(n,!1)}},[n,o,a,i]),Ae.useEffect(()=>{o._setDisabledField({disabled:r,name:n})},[r,n,o]),Ae.useMemo(()=>({field:x,formState:d,fieldState:w}),[x,d,w])}const rt=e=>e.render(EC(e));var af=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},js=e=>Array.isArray(e)?e:[e],nu=()=>{let e=[];return{get observers(){return e},next:o=>{for(const i of e)i.next&&i.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(i=>i!==o)}}),unsubscribe:()=>{e=[]}}};function cf(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r],i=t[r];if(o&&gt(o)&&i){const l=cf(o,i);gt(l)&&(n[r]=l)}else e[r]&&(n[r]=i)}return n}var Nt=e=>gt(e)&&!Object.keys(e).length,oa=e=>e.type==="file",nn=e=>typeof e=="function",Ho=e=>{if(!ea)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uf=e=>e.type==="select-multiple",ia=e=>e.type==="radio",IC=e=>ia(e)||Bs(e),Vi=e=>Ho(e)&&e.isConnected;function MC(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=dt(e)?r++:e[t[r++]];return e}function FC(e){for(const t in e)if(e.hasOwnProperty(t)&&!dt(e[t]))return!1;return!0}function ft(e,t){const n=Array.isArray(t)?t:fi(t)?[t]:na(t),r=n.length===1?e:MC(e,n),o=n.length-1,i=n[o];return r&&delete r[i],o!==0&&(gt(r)&&Nt(r)||Array.isArray(r)&&FC(r))&&ft(e,n.slice(0,-1)),e}var TC=e=>{for(const t in e)if(nn(e[t]))return!0;return!1};function df(e){return Array.isArray(e)||gt(e)&&!TC(e)}function cl(e,t={}){for(const n in e)df(e[n])?(t[n]=Array.isArray(e[n])?[]:{},cl(e[n],t[n])):Ot(e[n])||(t[n]=!0);return t}function _r(e,t,n){n||(n=cl(t));for(const r in e)df(e[r])?dt(t)||al(n[r])?n[r]=cl(e[r],Array.isArray(e[r])?[]:{}):_r(e[r],Ot(t)?{}:t[r],n[r]):n[r]=!Pn(e[r],t[r]);return n}const ru={value:!1,isValid:!1},su={value:!0,isValid:!0};var hf=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dt(e[0].attributes.value)?dt(e[0].value)||e[0].value===""?su:{value:e[0].value,isValid:!0}:su:ru}return ru},ff=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>dt(e)?e:t?e===""?NaN:e&&+e:n&&Wt(e)?new Date(e):r?r(e):e;const ou={isValid:!1,value:null};var mf=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,ou):ou;function iu(e){const t=e.ref;return oa(t)?t.files:ia(t)?mf(e.refs).value:uf(t)?[...t.selectedOptions].map(({value:n})=>n):Bs(t)?hf(e.refs).value:ff(dt(t.value)?e.ref.value:t.value,e)}var AC=(e,t,n,r)=>{const o={};for(const i of e){const l=he(t,i);l&&Je(o,i,l._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},Wo=e=>e instanceof RegExp,as=e=>dt(e)?e:Wo(e)?e.source:gt(e)?Wo(e.value)?e.value.source:e.value:e,lu=e=>({isOnSubmit:!e||e===tn.onSubmit,isOnBlur:e===tn.onBlur,isOnChange:e===tn.onChange,isOnAll:e===tn.all,isOnTouch:e===tn.onTouched});const au="AsyncFunction";var DC=e=>!!e&&!!e.validate&&!!(nn(e.validate)&&e.validate.constructor.name===au||gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===au)),OC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cu=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ps=(e,t,n,r)=>{for(const o of n||Object.keys(e)){const i=he(e,o);if(i){const{_f:l,...a}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],o)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Ps(a,t))break}else if(gt(a)&&Ps(a,t))break}}};function uu(e,t,n){const r=he(e,n);if(r||fi(n))return{error:r,name:n};const o=n.split(".");for(;o.length;){const i=o.join("."),l=he(t,i),a=he(e,i);if(l&&!Array.isArray(l)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};o.pop()}return{name:n}}var _C=(e,t,n,r)=>{n(e);const{name:o,...i}=e;return Nt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!r||tn.all))},VC=(e,t,n)=>!e||!t||e===t||js(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),$C=(e,t,n,r,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?r.isOnChange:o.isOnChange)?e:!0,LC=(e,t)=>!ta(he(e,t)).length&&ft(e,t),RC=(e,t,n)=>{const r=js(he(e,n));return Je(r,"root",t[n]),Je(e,n,r),e};function du(e,t,n="validate"){if(Wt(e)||Array.isArray(e)&&e.every(Wt)||Ht(e)&&!e)return{type:n,message:Wt(e)?e:"",ref:t}}var Mr=e=>gt(e)&&!Wo(e)?e:{value:e,message:""},hu=async(e,t,n,r,o,i)=>{const{ref:l,refs:a,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:g,validate:w,name:b,valueAsNumber:C,mount:y}=e._f,x=he(n,b);if(!y||t.has(b))return{};const v=a?a[0]:l,p=z=>{o&&v.reportValidity&&(v.setCustomValidity(Ht(z)?"":z||""),v.reportValidity())},E={},D=ia(l),P=Bs(l),k=D||P,T=(C||oa(l))&&dt(l.value)&&dt(x)||Ho(l)&&l.value===""||x===""||Array.isArray(x)&&!x.length,_=af.bind(null,b,r,E),O=(z,$,I,F=Cn.maxLength,V=Cn.minLength)=>{const H=z?$:I;E[b]={type:z?F:V,message:H,ref:l,..._(z?F:V,H)}};if(i?!Array.isArray(x)||!x.length:c&&(!k&&(T||Ot(x))||Ht(x)&&!x||P&&!hf(a).isValid||D&&!mf(a).isValid)){const{value:z,message:$}=Wt(c)?{value:!!c,message:c}:Mr(c);if(z&&(E[b]={type:Cn.required,message:$,ref:v,..._(Cn.required,$)},!r))return p($),E}if(!T&&(!Ot(f)||!Ot(m))){let z,$;const I=Mr(m),F=Mr(f);if(!Ot(x)&&!isNaN(x)){const V=l.valueAsNumber||x&&+x;Ot(I.value)||(z=V>I.value),Ot(F.value)||($=V<F.value)}else{const V=l.valueAsDate||new Date(x),H=U=>new Date(new Date().toDateString()+" "+U),R=l.type=="time",N=l.type=="week";Wt(I.value)&&x&&(z=R?H(x)>H(I.value):N?x>I.value:V>new Date(I.value)),Wt(F.value)&&x&&($=R?H(x)<H(F.value):N?x<F.value:V<new Date(F.value))}if((z||$)&&(O(!!z,I.message,F.message,Cn.max,Cn.min),!r))return p(E[b].message),E}if((u||d)&&!T&&(Wt(x)||i&&Array.isArray(x))){const z=Mr(u),$=Mr(d),I=!Ot(z.value)&&x.length>+z.value,F=!Ot($.value)&&x.length<+$.value;if((I||F)&&(O(I,z.message,$.message),!r))return p(E[b].message),E}if(g&&!T&&Wt(x)){const{value:z,message:$}=Mr(g);if(Wo(z)&&!x.match(z)&&(E[b]={type:Cn.pattern,message:$,ref:l,..._(Cn.pattern,$)},!r))return p($),E}if(w){if(nn(w)){const z=await w(x,n),$=du(z,v);if($&&(E[b]={...$,..._(Cn.validate,$.message)},!r))return p($.message),E}else if(gt(w)){let z={};for(const $ in w){if(!Nt(z)&&!r)break;const I=du(await w[$](x,n),v,$);I&&(z={...I,..._($,I.message)},p(I.message),r&&(E[b]=z))}if(!Nt(z)&&(E[b]={ref:v,...z},!r))return E}}return p(!0),E};const NC={mode:tn.onSubmit,reValidateMode:tn.onChange,shouldFocusError:!0};function zC(e={}){let t={...NC,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:nn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},o=gt(t.defaultValues)||gt(t.values)?xt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:xt(o),l={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:nu(),state:nu()},g=t.criteriaMode===tn.all,w=L=>q=>{clearTimeout(u),u=setTimeout(L,q)},b=async L=>{if(!t.disabled&&(d.isValid||f.isValid||L)){const q=t.resolver?Nt((await P()).errors):await T(r,!0);q!==n.isValid&&m.state.next({isValid:q})}},C=(L,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(a.mount)).forEach(Q=>{Q&&(q?Je(n.validatingFields,Q,q):ft(n.validatingFields,Q))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Nt(n.validatingFields)}))},y=(L,q=[],Q,ne,W=!0,ee=!0)=>{if(ne&&Q&&!t.disabled){if(l.action=!0,ee&&Array.isArray(he(r,L))){const de=Q(he(r,L),ne.argA,ne.argB);W&&Je(r,L,de)}if(ee&&Array.isArray(he(n.errors,L))){const de=Q(he(n.errors,L),ne.argA,ne.argB);W&&Je(n.errors,L,de),LC(n.errors,L)}if((d.touchedFields||f.touchedFields)&&ee&&Array.isArray(he(n.touchedFields,L))){const de=Q(he(n.touchedFields,L),ne.argA,ne.argB);W&&Je(n.touchedFields,L,de)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=_r(o,i)),m.state.next({name:L,isDirty:O(L,q),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Je(i,L,q)},x=(L,q)=>{Je(n.errors,L,q),m.state.next({errors:n.errors})},v=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},p=(L,q,Q,ne)=>{const W=he(r,L);if(W){const ee=he(i,L,dt(Q)?he(o,L):Q);dt(ee)||ne&&ne.defaultChecked||q?Je(i,L,q?ee:iu(W._f)):I(L,ee),l.mount&&b()}},E=(L,q,Q,ne,W)=>{let ee=!1,de=!1;const Pe={name:L};if(!t.disabled){if(!Q||ne){(d.isDirty||f.isDirty)&&(de=n.isDirty,n.isDirty=Pe.isDirty=O(),ee=de!==Pe.isDirty);const Te=Pn(he(o,L),q);de=!!he(n.dirtyFields,L),Te?ft(n.dirtyFields,L):Je(n.dirtyFields,L,!0),Pe.dirtyFields=n.dirtyFields,ee=ee||(d.dirtyFields||f.dirtyFields)&&de!==!Te}if(Q){const Te=he(n.touchedFields,L);Te||(Je(n.touchedFields,L,Q),Pe.touchedFields=n.touchedFields,ee=ee||(d.touchedFields||f.touchedFields)&&Te!==Q)}ee&&W&&m.state.next(Pe)}return ee?Pe:{}},D=(L,q,Q,ne)=>{const W=he(n.errors,L),ee=(d.isValid||f.isValid)&&Ht(q)&&n.isValid!==q;if(t.delayError&&Q?(c=w(()=>x(L,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Je(n.errors,L,Q):ft(n.errors,L)),(Q?!Pn(W,Q):W)||!Nt(ne)||ee){const de={...ne,...ee&&Ht(q)?{isValid:q}:{},errors:n.errors,name:L};n={...n,...de},m.state.next(de)}},P=async L=>{C(L,!0);const q=await t.resolver(i,t.context,AC(L||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return C(L),q},k=async L=>{const{errors:q}=await P(L);if(L)for(const Q of L){const ne=he(q,Q);ne?Je(n.errors,Q,ne):ft(n.errors,Q)}else n.errors=q;return q},T=async(L,q,Q={valid:!0})=>{for(const ne in L){const W=L[ne];if(W){const{_f:ee,...de}=W;if(ee){const Pe=a.array.has(ee.name),Te=W._f&&DC(W._f);Te&&d.validatingFields&&C([ee.name],!0);const Ne=await hu(W,a.disabled,i,g,t.shouldUseNativeValidation&&!q,Pe);if(Te&&d.validatingFields&&C([ee.name]),Ne[ee.name]&&(Q.valid=!1,q))break;!q&&(he(Ne,ee.name)?Pe?RC(n.errors,Ne,ee.name):Je(n.errors,ee.name,Ne[ee.name]):ft(n.errors,ee.name))}!Nt(de)&&await T(de,q,Q)}}return Q.valid},_=()=>{for(const L of a.unMount){const q=he(r,L);q&&(q._f.refs?q._f.refs.every(Q=>!Vi(Q)):!Vi(q._f.ref))&&me(L)}a.unMount=new Set},O=(L,q)=>!t.disabled&&(L&&q&&Je(i,L,q),!Pn(U(),o)),z=(L,q,Q)=>lf(L,a,{...l.mount?i:dt(q)?o:Wt(L)?{[L]:q}:q},Q,q),$=L=>ta(he(l.mount?i:o,L,t.shouldUnregister?he(o,L,[]):[])),I=(L,q,Q={})=>{const ne=he(r,L);let W=q;if(ne){const ee=ne._f;ee&&(!ee.disabled&&Je(i,L,ff(q,ee)),W=Ho(ee.ref)&&Ot(q)?"":q,uf(ee.ref)?[...ee.ref.options].forEach(de=>de.selected=W.includes(de.value)):ee.refs?Bs(ee.ref)?ee.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(W)?de.checked=!!W.find(Pe=>Pe===de.value):de.checked=W===de.value||!!W)}):ee.refs.forEach(de=>de.checked=de.value===W):oa(ee.ref)?ee.ref.value="":(ee.ref.value=W,ee.ref.type||m.state.next({name:L,values:xt(i)})))}(Q.shouldDirty||Q.shouldTouch)&&E(L,W,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&N(L)},F=(L,q,Q)=>{for(const ne in q){if(!q.hasOwnProperty(ne))return;const W=q[ne],ee=L+"."+ne,de=he(r,ee);(a.array.has(L)||gt(W)||de&&!de._f)&&!hr(W)?F(ee,W,Q):I(ee,W,Q)}},V=(L,q,Q={})=>{const ne=he(r,L),W=a.array.has(L),ee=xt(q);Je(i,L,ee),W?(m.array.next({name:L,values:xt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&m.state.next({name:L,dirtyFields:_r(o,i),isDirty:O(L,ee)})):ne&&!ne._f&&!Ot(ee)?F(L,ee,Q):I(L,ee,Q),cu(L,a)&&m.state.next({...n,name:L}),m.state.next({name:l.mount?L:void 0,values:xt(i)})},H=async L=>{l.mount=!0;const q=L.target;let Q=q.name,ne=!0;const W=he(r,Q),ee=Te=>{ne=Number.isNaN(Te)||hr(Te)&&isNaN(Te.getTime())||Pn(Te,he(i,Q,Te))},de=lu(t.mode),Pe=lu(t.reValidateMode);if(W){let Te,Ne;const Zt=q.type?iu(W._f):nf(L),Ke=L.type===Bo.BLUR||L.type===Bo.FOCUS_OUT,it=!OC(W._f)&&!t.resolver&&!he(n.errors,Q)&&!W._f.deps||$C(Ke,he(n.touchedFields,Q),n.isSubmitted,Pe,de),_n=cu(Q,a,Ke);Je(i,Q,Zt),Ke?(!q||!q.readOnly)&&(W._f.onBlur&&W._f.onBlur(L),c&&c(0)):W._f.onChange&&W._f.onChange(L);const Qe=E(Q,Zt,Ke),Ft=!Nt(Qe)||_n;if(!Ke&&m.state.next({name:Q,type:L.type,values:xt(i)}),it)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ke&&b():Ke||b()),Ft&&m.state.next({name:Q,..._n?{}:Qe});if(!Ke&&_n&&m.state.next({...n}),t.resolver){const{errors:rr}=await P([Q]);if(ee(Zt),ne){const Er=uu(n.errors,r,Q),sr=uu(rr,r,Er.name||Q);Te=sr.error,Q=sr.name,Ne=Nt(rr)}}else C([Q],!0),Te=(await hu(W,a.disabled,i,g,t.shouldUseNativeValidation))[Q],C([Q]),ee(Zt),ne&&(Te?Ne=!1:(d.isValid||f.isValid)&&(Ne=await T(r,!0)));ne&&(W._f.deps&&(!Array.isArray(W._f.deps)||W._f.deps.length>0)&&N(W._f.deps),D(Q,Ne,Te,Qe))}},R=(L,q)=>{if(he(n.errors,q)&&L.focus)return L.focus(),1},N=async(L,q={})=>{let Q,ne;const W=js(L);if(t.resolver){const ee=await k(dt(L)?L:W);Q=Nt(ee),ne=L?!W.some(de=>he(ee,de)):Q}else L?(ne=(await Promise.all(W.map(async ee=>{const de=he(r,ee);return await T(de&&de._f?{[ee]:de}:de)}))).every(Boolean),!(!ne&&!n.isValid)&&b()):ne=Q=await T(r);return m.state.next({...!Wt(L)||(d.isValid||f.isValid)&&Q!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:n.errors}),q.shouldFocus&&!ne&&Ps(r,R,L?W:a.mount),ne},U=(L,q)=>{let Q={...l.mount?i:o};return q&&(Q=cf(q.dirtyFields?n.dirtyFields:n.touchedFields,Q)),dt(L)?Q:Wt(L)?he(Q,L):L.map(ne=>he(Q,ne))},K=(L,q)=>({invalid:!!he((q||n).errors,L),isDirty:!!he((q||n).dirtyFields,L),error:he((q||n).errors,L),isValidating:!!he(n.validatingFields,L),isTouched:!!he((q||n).touchedFields,L)}),Z=L=>{L&&js(L).forEach(q=>ft(n.errors,q)),m.state.next({errors:L?n.errors:{}})},se=(L,q,Q)=>{const ne=(he(r,L,{_f:{}})._f||{}).ref,W=he(n.errors,L)||{},{ref:ee,message:de,type:Pe,...Te}=W;Je(n.errors,L,{...Te,...q,ref:ne}),m.state.next({name:L,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&ne&&ne.focus&&ne.focus()},te=(L,q)=>nn(L)?m.state.subscribe({next:Q=>"values"in Q&&L(z(void 0,q),Q)}):z(L,q,!0),fe=L=>m.state.subscribe({next:q=>{VC(L.name,q.name,L.exact)&&_C(q,L.formState||d,je,L.reRenderRoot)&&L.callback({values:{...i},...n,...q,defaultValues:o})}}).unsubscribe,oe=L=>(l.mount=!0,f={...f,...L.formState},fe({...L,formState:f})),me=(L,q={})=>{for(const Q of L?js(L):a.mount)a.mount.delete(Q),a.array.delete(Q),q.keepValue||(ft(r,Q),ft(i,Q)),!q.keepError&&ft(n.errors,Q),!q.keepDirty&&ft(n.dirtyFields,Q),!q.keepTouched&&ft(n.touchedFields,Q),!q.keepIsValidating&&ft(n.validatingFields,Q),!t.shouldUnregister&&!q.keepDefaultValue&&ft(o,Q);m.state.next({values:xt(i)}),m.state.next({...n,...q.keepDirty?{isDirty:O()}:{}}),!q.keepIsValid&&b()},J=({disabled:L,name:q})=>{(Ht(L)&&l.mount||L||a.disabled.has(q))&&(L?a.disabled.add(q):a.disabled.delete(q))},ce=(L,q={})=>{let Q=he(r,L);const ne=Ht(q.disabled)||Ht(t.disabled);return Je(r,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...q}}),a.mount.add(L),Q?J({disabled:Ht(q.disabled)?q.disabled:t.disabled,name:L}):p(L,!0,q.value),{...ne?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:as(q.min),max:as(q.max),minLength:as(q.minLength),maxLength:as(q.maxLength),pattern:as(q.pattern)}:{},name:L,onChange:H,onBlur:H,ref:W=>{if(W){ce(L,q),Q=he(r,L);const ee=dt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,de=IC(ee),Pe=Q._f.refs||[];if(de?Pe.find(Te=>Te===ee):ee===Q._f.ref)return;Je(r,L,{_f:{...Q._f,...de?{refs:[...Pe.filter(Vi),ee,...Array.isArray(he(o,L))?[{}]:[]],ref:{type:ee.type,name:L}}:{ref:ee}}}),p(L,!1,void 0,ee)}else Q=he(r,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(rf(a.array,L)&&l.action)&&a.unMount.add(L)}}},ae=()=>t.shouldFocusError&&Ps(r,R,a.mount),we=L=>{Ht(L)&&(m.state.next({disabled:L}),Ps(r,(q,Q)=>{const ne=he(r,Q);ne&&(q.disabled=ne._f.disabled||L,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(W=>{W.disabled=ne._f.disabled||L}))},0,!1))},pe=(L,q)=>async Q=>{let ne;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let W=xt(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:de}=await P();n.errors=ee,W=xt(de)}else await T(r);if(a.disabled.size)for(const ee of a.disabled)ft(W,ee);if(ft(n.errors,"root"),Nt(n.errors)){m.state.next({errors:{}});try{await L(W,Q)}catch(ee){ne=ee}}else q&&await q({...n.errors},Q),ae(),setTimeout(ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nt(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},_e=(L,q={})=>{he(r,L)&&(dt(q.defaultValue)?V(L,xt(he(o,L))):(V(L,q.defaultValue),Je(o,L,xt(q.defaultValue))),q.keepTouched||ft(n.touchedFields,L),q.keepDirty||(ft(n.dirtyFields,L),n.isDirty=q.defaultValue?O(L,xt(he(o,L))):O()),q.keepError||(ft(n.errors,L),d.isValid&&b()),m.state.next({...n}))},Ye=(L,q={})=>{const Q=L?xt(L):o,ne=xt(Q),W=Nt(L),ee=W?o:ne;if(q.keepDefaultValues||(o=Q),!q.keepValues){if(q.keepDirtyValues){const de=new Set([...a.mount,...Object.keys(_r(o,i))]);for(const Pe of Array.from(de))he(n.dirtyFields,Pe)?Je(ee,Pe,he(i,Pe)):V(Pe,he(ee,Pe))}else{if(ea&&dt(L))for(const de of a.mount){const Pe=he(r,de);if(Pe&&Pe._f){const Te=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Ho(Te)){const Ne=Te.closest("form");if(Ne){Ne.reset();break}}}}if(q.keepFieldsRef)for(const de of a.mount)V(de,he(ee,de));else r={}}i=t.shouldUnregister?q.keepDefaultValues?xt(o):{}:xt(ee),m.array.next({values:{...ee}}),m.state.next({values:{...ee}})}a={mount:q.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,l.watch=!!t.shouldUnregister,m.state.next({submitCount:q.keepSubmitCount?n.submitCount:0,isDirty:W?!1:q.keepDirty?n.isDirty:!!(q.keepDefaultValues&&!Pn(L,o)),isSubmitted:q.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?{}:q.keepDirtyValues?q.keepDefaultValues&&i?_r(o,i):n.dirtyFields:q.keepDefaultValues&&L?_r(o,L):q.keepDirty?n.dirtyFields:{},touchedFields:q.keepTouched?n.touchedFields:{},errors:q.keepErrors?n.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},ie=(L,q)=>Ye(nn(L)?L(i):L,q),Ce=(L,q={})=>{const Q=he(r,L),ne=Q&&Q._f;if(ne){const W=ne.refs?ne.refs[0]:ne.ref;W.focus&&(W.focus(),q.shouldSelect&&nn(W.select)&&W.select())}},je=L=>{n={...n,...L}},Ue={control:{register:ce,unregister:me,getFieldState:K,handleSubmit:pe,setError:se,_subscribe:fe,_runSchema:P,_focusError:ae,_getWatch:z,_getDirty:O,_setValid:b,_setFieldArray:y,_setDisabledField:J,_setErrors:v,_getFieldArray:$,_reset:Ye,_resetDefaultValues:()=>nn(t.defaultValues)&&t.defaultValues().then(L=>{ie(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:we,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(L){l=L},get _defaultValues(){return o},get _names(){return a},set _names(L){a=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:oe,trigger:N,register:ce,handleSubmit:pe,watch:te,setValue:V,getValues:U,reset:ie,resetField:_e,clearErrors:Z,unregister:me,setError:se,setFocus:Ce,getFieldState:K};return{...Ue,formControl:Ue}}function gf(e={}){const t=Ae.useRef(void 0),n=Ae.useRef(void 0),[r,o]=Ae.useState({isDirty:!1,isValidating:!1,isLoading:nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:nn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...a}=zC(e);t.current={...a,formState:r}}const i=t.current.control;return i._options=e,sa(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>o({...i._formState}),reRenderRoot:!0});return o(a=>({...a,isReady:!0})),i._formState.isReady=!0,l},[i]),Ae.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ae.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ae.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ae.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ae.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==r.isDirty&&i._subjects.state.next({isDirty:l})}},[i,r.isDirty]),Ae.useEffect(()=>{e.values&&!Pn(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,o(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Ae.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=of(r,i),t.current}var fu=function(e,t,n){if(e&&"reportValidity"in e){var r=he(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},pf=function(e,t){var n=function(o){var i=t.fields[o];i&&i.ref&&"reportValidity"in i.ref?fu(i.ref,o,e):i.refs&&i.refs.forEach(function(l){return fu(l,o,e)})};for(var r in t.fields)n(r)},BC=function(e,t){t.shouldUseNativeValidation&&pf(e,t);var n={};for(var r in e){var o=he(t.fields,r);Je(n,r,Object.assign(e[r],{ref:o&&o.ref}))}return n},xf=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),function(r,o,i){try{return Promise.resolve((function(l,a){try{var c=(t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:o}))).then(function(u){return i.shouldUseNativeValidation&&pf({},i),{values:n.rawValues?r:u,errors:{}}}))}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c})(0,function(l){if(!l.inner)throw l;return{values:{},errors:BC((a=l,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(a.inner||[]).reduce(function(u,d){if(u[d.path]||(u[d.path]={message:d.message,type:d.type}),c){var f=u[d.path].types,m=f&&f[d.type];u[d.path]=af(d.path,c,u,d.type,m?[].concat(m,d.message):d.message)}return u},{})),i)};var a,c}))}catch(l){return Promise.reject(l)}}},$i,mu;function HC(){if(mu)return $i;mu=1;function e(y){this._maxSize=y,this.clear()}e.prototype.clear=function(){this._size=0,this._values=Object.create(null)},e.prototype.get=function(y){return this._values[y]},e.prototype.set=function(y,x){return this._size>=this._maxSize&&this.clear(),y in this._values||this._size++,this._values[y]=x};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,a=new e(l),c=new e(l),u=new e(l);$i={Cache:e,split:f,normalizePath:d,setter:function(y){var x=d(y);return c.get(y)||c.set(y,function(p,E){for(var D=0,P=x.length,k=p;D<P-1;){var T=x[D];if(T==="__proto__"||T==="constructor"||T==="prototype")return p;k=k[x[D++]]}k[x[D]]=E})},getter:function(y,x){var v=d(y);return u.get(y)||u.set(y,function(E){for(var D=0,P=v.length;D<P;)if(E!=null||!x)E=E[v[D++]];else return;return E})},join:function(y){return y.reduce(function(x,v){return x+(g(v)||n.test(v)?"["+v+"]":(x?".":"")+v)},"")},forEach:function(y,x,v){m(Array.isArray(y)?y:f(y),x,v)}};function d(y){return a.get(y)||a.set(y,f(y).map(function(x){return x.replace(i,"$2")}))}function f(y){return y.match(t)||[""]}function m(y,x,v){var p=y.length,E,D,P,k;for(D=0;D<p;D++)E=y[D],E&&(C(E)&&(E='"'+E+'"'),k=g(E),P=!k&&/^\d+$/.test(E),x.call(v,E,k,P,D,y))}function g(y){return typeof y=="string"&&y&&["'",'"'].indexOf(y.charAt(0))!==-1}function w(y){return y.match(r)&&!y.match(n)}function b(y){return o.test(y)}function C(y){return!g(y)&&(w(y)||b(y))}return $i}var xr=HC(),Li,gu;function WC(){if(gu)return Li;gu=1;const e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=d=>d.match(e)||[],n=d=>d[0].toUpperCase()+d.slice(1),r=(d,f)=>t(d).join(f).toLowerCase(),o=d=>t(d).reduce((f,m)=>`${f}${f?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return Li={words:t,upperFirst:n,camelCase:o,pascalCase:d=>n(o(d)),snakeCase:d=>r(d,"_"),kebabCase:d=>r(d,"-"),sentenceCase:d=>n(r(d," ")),titleCase:d=>t(d).map(n).join(" ")},Li}var Ri=WC(),lo={exports:{}},pu;function GC(){if(pu)return lo.exports;pu=1,lo.exports=function(o){return e(t(o),o)},lo.exports.array=e;function e(o,i){var l=o.length,a=new Array(l),c={},u=l,d=n(i),f=r(o);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)c[u]||m(o[u],u,new Set);return a;function m(g,w,b){if(b.has(g)){var C;try{C=", node was:"+JSON.stringify(g)}catch{C=""}throw new Error("Cyclic dependency"+C)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[w]){c[w]=!0;var y=d.get(g)||new Set;if(y=Array.from(y),w=y.length){b.add(g);do{var x=y[--w];m(x,f.get(x),b)}while(w);b.delete(g)}a[--l]=g}}}function t(o){for(var i=new Set,l=0,a=o.length;l<a;l++){var c=o[l];i.add(c[0]),i.add(c[1])}return Array.from(i)}function n(o){for(var i=new Map,l=0,a=o.length;l<a;l++){var c=o[l];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function r(o){for(var i=new Map,l=0,a=o.length;l<a;l++)i.set(o[l],l);return i}return lo.exports}var UC=GC();const qC=hd(UC),KC=Object.prototype.toString,QC=Error.prototype.toString,YC=RegExp.prototype.toString,XC=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ZC=/^Symbol\((.*)\)(.*)$/;function JC(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function xu(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return JC(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return XC.call(e).replace(ZC,"Symbol($1)");const r=KC.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+QC.call(e)+"]":r==="RegExp"?YC.call(e):null}function Qn(e,t){let n=xu(e,t);return n!==null?n:JSON.stringify(e,function(r,o){let i=xu(this[r],t);return i!==null?i:o},2)}function bf(e){return e==null?[]:[].concat(e)}let vf,yf,Cf,e0=/\$\{\s*(\w+)\s*\}/g;vf=Symbol.toStringTag;class bu{constructor(t,n,r,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[vf]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=o,this.errors=[],this.inner=[],bf(t).forEach(i=>{if(_t.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}yf=Symbol.hasInstance;Cf=Symbol.toStringTag;class _t extends Error{static formatError(t,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof t=="string"?t.replace(e0,(o,i)=>Qn(n[i])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,o,i){const l=new bu(t,n,r,o);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Cf]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,_t)}static[yf](t){return bu[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let fn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const o=r!=null&&r!==n?` (cast from the value \`${Qn(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Qn(n,!0)}\``+o:`${e} must match the configured type. The validated value was: \`${Qn(n,!0)}\``+o}},Lt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},t0={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ul={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},n0={isValue:"${path} field must be ${value}"},wo={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},r0={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},s0={notType:e=>{const{path:t,value:n,spec:r}=e,o=r.types.length;if(Array.isArray(n)){if(n.length<o)return`${t} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${Qn(n,!0)}\``;if(n.length>o)return`${t} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${Qn(n,!0)}\``}return _t.formatError(fn.notType,e)}};Object.assign(Object.create(null),{mixed:fn,string:Lt,number:t0,date:ul,object:wo,array:r0,boolean:n0,tuple:s0});const la=e=>e&&e.__isYupSchema__;class Go{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:o,otherwise:i}=n,l=typeof r=="function"?r:(...a)=>a.every(c=>c===r);return new Go(t,(a,c)=>{var u;let d=l(...a)?o:i;return(u=d?.(c))!=null?u:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(i=>i.getValue(n?.value,n?.parent,n?.context)),o=this.fn(r,t,n);if(o===void 0||o===t)return t;if(!la(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const ao={context:"$",value:"."};class jr{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ao.context,this.isValue=this.key[0]===ao.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ao.context:this.isValue?ao.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&xr.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let o=this.isContext?r:this.isValue?t:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(t,n){return this.getValue(t,n?.parent,n?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}jr.prototype.__isYupRef=!0;const fr=e=>e==null;function Fr(e){function t({value:n,path:r="",options:o,originalValue:i,schema:l},a,c){const{name:u,test:d,params:f,message:m,skipAbsent:g}=e;let{parent:w,context:b,abortEarly:C=l.spec.abortEarly,disableStackTrace:y=l.spec.disableStackTrace}=o;const x={value:n,parent:w,context:b};function v(O={}){const z=wf(Object.assign({value:n,originalValue:i,label:l.spec.label,path:O.path||r,spec:l.spec,disableStackTrace:O.disableStackTrace||y},f,O.params),x),$=new _t(_t.formatError(O.message||m,z),n,z.path,O.type||u,z.disableStackTrace);return $.params=z,$}const p=C?a:c;let E={path:r,parent:w,type:u,from:o.from,createError:v,resolve(O){return Sf(O,x)},options:o,originalValue:i,schema:l};const D=O=>{_t.isError(O)?p(O):O?c(null):p(v())},P=O=>{_t.isError(O)?p(O):a(O)};if(g&&fr(n))return D(!0);let T;try{var _;if(T=d.call(E,n,E),typeof((_=T)==null?void 0:_.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(D,P)}}catch(O){P(O);return}D(T)}return t.OPTIONS=e,t}function wf(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=Sf(e[n],t);return e}function Sf(e,t){return jr.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function o0(e,t,n,r=n){let o,i,l;return t?(xr.forEach(t,(a,c,u)=>{let d=c?a.slice(1,a.length-1):a;e=e.resolve({context:r,parent:o,value:n});let f=e.type==="tuple",m=u?parseInt(d,10):0;if(e.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[m],e=f?e.spec.types[m]:e.innerType}if(!u){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${e.type}")`);o=n,n=n&&n[d],e=e.fields[d]}i=d,l=c?"["+a+"]":"."+a}),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class Uo extends Set{describe(){const t=[];for(const n of this.values())t.push(jr.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Uo(this.values())}merge(t,n){const r=this.clone();return t.forEach(o=>r.add(o)),n.forEach(o=>r.delete(o)),r}}function Wr(e,t=new Map){if(la(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Wr(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,o]of e.entries())n.set(r,Wr(o,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Wr(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,o]of Object.entries(e))n[r]=Wr(o,t)}else throw Error(`Unable to clone ${e}`);return n}function i0(e){if(!(e!=null&&e.length))return;const t=[];let n="",r=!1,o=!1;for(let i=0;i<e.length;i++){const l=e[i];if(l==="["&&!o){n&&(t.push(...n.split(".").filter(Boolean)),n=""),r=!0;continue}if(l==="]"&&!o){n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),r=!1;continue}if(l==='"'){o=!o;continue}if(l==="."&&!r&&!o){n&&(t.push(n),n="");continue}n+=l}return n&&t.push(...n.split(".").filter(Boolean)),t}function l0(e,t){const n=t?`${t}.${e.path}`:e.path;return e.errors.map(r=>({message:r,path:i0(n)}))}function jf(e,t){var n;if(!((n=e.inner)!=null&&n.length)&&e.errors.length)return l0(e,t);const r=t?`${t}.${e.path}`:e.path;return e.inner.flatMap(o=>jf(o,r))}class bn{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Uo,this._blacklist=new Uo,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(fn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Wr(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const o=Object.assign({},n.spec,r.spec);return r.spec=o,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{t.tests.forEach(l=>{i.test(l.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((o,i)=>i.resolve(o,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,o,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(o=t.recursive)!=null?o:this.spec.recursive,disableStackTrace:(i=t.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(t,n={}){let r=this.resolve(Object.assign({},n,{value:t})),o=n.assert==="ignore-optionality",i=r._cast(t,n);if(n.assert!==!1&&!r.isType(i)){if(o&&fr(i))return i;let l=Qn(t),a=Qn(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${l} 
`+(a!==l?`result of cast: ${a}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((o,i)=>i.call(this,o,t,this,n),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,o){let{path:i,originalValue:l=t,strict:a=this.spec.strict}=n,c=t;a||(c=this._cast(c,Object.assign({assert:!1},n)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:i,value:c,originalValue:l,options:n,tests:u},r,d=>{if(d.length)return o(d,c);this.runTests({path:i,value:c,originalValue:l,options:n,tests:this.tests},r,o)})}runTests(t,n,r){let o=!1,{tests:i,value:l,originalValue:a,path:c,options:u}=t,d=b=>{o||(o=!0,n(b,l))},f=b=>{o||(o=!0,r(b,l))},m=i.length,g=[];if(!m)return f([]);let w={value:l,originalValue:a,path:c,options:u,schema:this};for(let b=0;b<i.length;b++){const C=i[b];C(w,d,function(x){x&&(Array.isArray(x)?g.push(...x):g.push(x)),--m<=0&&f(g)})}}asNestedTest({key:t,index:n,parent:r,parentPath:o,originalParent:i,options:l}){const a=t??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=r[a];const d=Object.assign({},l,{strict:!0,parent:r,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${o||""}[${c?a:`"${a}"`}]`:(o?`${o}.`:"")+t});return(f,m,g)=>this.resolve(d)._validate(u,d,m,g)}validate(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i=(r=n?.disableStackTrace)!=null?r:o.spec.disableStackTrace;return new Promise((l,a)=>o._validate(t,n,(c,u)=>{_t.isError(c)&&(c.value=u),a(c)},(c,u)=>{c.length?a(new _t(c,u,void 0,void 0,i)):l(u)}))}validateSync(t,n){var r;let o=this.resolve(Object.assign({},n,{value:t})),i,l=(r=n?.disableStackTrace)!=null?r:o.spec.disableStackTrace;return o._validate(t,Object.assign({},n,{sync:!0}),(a,c)=>{throw _t.isError(a)&&(a.value=c),a},(a,c)=>{if(a.length)throw new _t(a,t,void 0,void 0,l);i=c}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(_t.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(_t.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Wr(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=Fr({message:n,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=Fr({message:n,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=fn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=fn.notNull){return this.nullability(!1,t)}required(t=fn.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=fn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),o=Fr(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(l=>!(l.OPTIONS.name===n.name&&(i||l.OPTIONS.test===o.OPTIONS.test))),r.tests.push(o),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),o=bf(t).map(i=>new jr(i));return o.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(typeof n=="function"?new Go(o,n):Go.fromOptions(o,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=Fr({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=fn.oneOf){let r=this.clone();return t.forEach(o=>{r._whitelist.add(o),r._blacklist.delete(o)}),r.internalTests.whiteList=Fr({message:n,name:"oneOf",skipAbsent:!0,test(o){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(o)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),r}notOneOf(t,n=fn.notOneOf){let r=this.clone();return t.forEach(o=>{r._blacklist.add(o),r._whitelist.delete(o)}),r.internalTests.blacklist=Fr({message:n,name:"notOneOf",test(o){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(o)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:o,optional:i,nullable:l}=n.spec;return{meta:o,label:r,optional:i,nullable:l,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&t?wf(Object.assign({},c.OPTIONS.params),t):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await t.validate(r,{abortEarly:!1})}}catch(o){if(o instanceof _t)return{issues:jf(o)};throw o}}}}}bn.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])bn.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:l}=o0(this,t,n,r.context);return l[e](o&&o[i],Object.assign({},r,{parent:o,path:t}))};for(const e of["equals","is"])bn.prototype[e]=bn.prototype.oneOf;for(const e of["not","nope"])bn.prototype[e]=bn.prototype.notOneOf;const a0=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function c0(e){const t=dl(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function dl(e){var t,n;const r=a0.exec(e);return r?{year:wn(r[1]),month:wn(r[2],1)-1,day:wn(r[3],1),hour:wn(r[4]),minute:wn(r[5]),second:wn(r[6]),millisecond:r[7]?wn(r[7].substring(0,3)):0,precision:(t=(n=r[7])==null?void 0:n.length)!=null?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:wn(r[10]),minuteOffset:wn(r[11])}:null}function wn(e,t=0){return Number(e)||t}let u0=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,d0=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,f0="^\\d{4}-\\d{2}-\\d{2}",m0="\\d{2}:\\d{2}:\\d{2}",g0="(([+-]\\d{2}(:?\\d{2})?)|Z)",p0=new RegExp(`${f0}T${m0}(\\.\\d+)?${g0}$`),x0=e=>fr(e)||e===e.trim(),b0={}.toString();function Tt(){return new Pf}class Pf extends bn{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===b0?t:r})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||fn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Lt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Lt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Lt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,o,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:o,name:i}=n:o=n),this.test({name:i||"matches",message:o||Lt.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&r||l.search(t)!==-1})}email(t=Lt.email){return this.matches(u0,{name:"email",message:t,excludeEmptyString:!0})}url(t=Lt.url){return this.matches(d0,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Lt.uuid){return this.matches(h0,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",r,o;return t&&(typeof t=="object"?{message:n="",allowOffset:r=!1,precision:o=void 0}=t:n=t),this.matches(p0,{name:"datetime",message:n||Lt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Lt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:i=>{if(!i||r)return!0;const l=dl(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:n||Lt.datetime_precision,params:{precision:o},skipAbsent:!0,test:i=>{if(!i||o==null)return!0;const l=dl(i);return l?l.precision===o:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Lt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:x0})}lowercase(t=Lt.lowercase){return this.transform(n=>fr(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fr(n)||n===n.toLowerCase()})}uppercase(t=Lt.uppercase){return this.transform(n=>fr(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>fr(n)||n===n.toUpperCase()})}}Tt.prototype=Pf.prototype;let v0=new Date(""),y0=e=>Object.prototype.toString.call(e)==="[object Date]";class aa extends bn{constructor(){super({type:"date",check(t){return y0(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=c0(t),isNaN(t)?aa.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(jr.isRef(t))r=t;else{let o=this.cast(t);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=o}return r}min(t,n=ul.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(o){return o>=this.resolve(r)}})}max(t,n=ul.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(o){return o<=this.resolve(r)}})}}aa.INVALID_DATE=v0;function C0(e,t=[]){let n=[],r=new Set,o=new Set(t.map(([l,a])=>`${l}-${a}`));function i(l,a){let c=xr.split(l)[0];r.add(c),o.has(`${a}-${c}`)||n.push([a,c])}for(const l of Object.keys(e)){let a=e[l];r.add(l),jr.isRef(a)&&a.isSibling?i(a.path,l):la(a)&&"deps"in a&&a.deps.forEach(c=>i(c,l))}return qC.array(Array.from(r),n).reverse()}function vu(e,t){let n=1/0;return e.some((r,o)=>{var i;if((i=t.path)!=null&&i.includes(r))return n=o,!0}),n}function kf(e){return(t,n)=>vu(e,t)-vu(e,n)}const w0=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function So(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=So(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=So(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(So)}):"optional"in e?e.optional():e}const S0=(e,t)=>{const n=[...xr.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),o=xr.getter(xr.join(n),!0)(e);return!!(o&&r in o)};let yu=e=>Object.prototype.toString.call(e)==="[object Object]";function Cu(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const j0=kf([]);function ca(e){return new Ef(e)}class Ef extends bn{constructor(t){super({type:"object",check(n){return yu(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=j0,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let o=super._cast(t,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let i=this.fields,l=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(o).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),d=!1;for(const f of a){let m=i[f],g=f in o,w=o[f];if(m){let b;u.path=(n.path?`${n.path}.`:"")+f,m=m.resolve({value:w,context:n.context,parent:c});let C=m instanceof bn?m.spec:void 0,y=C?.strict;if(C!=null&&C.strip){d=d||f in o;continue}b=!n.__validating||!y?m.cast(w,u):w,b!==void 0&&(c[f]=b)}else g&&!l&&(c[f]=w);(g!==f in c||c[f]!==w)&&(d=!0)}return d?c:o}_validate(t,n={},r,o){let{from:i=[],originalValue:l=t,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:l},...i],n.__validating=!0,n.originalValue=l,super._validate(t,n,r,(c,u)=>{if(!a||!yu(u)){o(c,u);return}l=l||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||jr.isRef(m)||d.push(m.asNestedTest({options:n,key:f,parent:u,parentPath:n.path,originalParent:l}))}this.runTests({tests:d,value:u,originalValue:l,options:n},r,f=>{o(f.sort(this._sortErrors).concat(c),u)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[o,i]of Object.entries(this.fields)){const l=r[o];r[o]=l===void 0?i:l}return n.withMutation(o=>o.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var o;const i=this.fields[r];let l=t;(o=l)!=null&&o.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[r]})),n[r]=i&&"getDefault"in i?i.getDefault(l):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=C0(t,n),r._sortErrors=kf(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let o=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),o)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return So(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,o])=>t.includes(r)&&t.includes(o)))}omit(t){const n=[];for(const r of Object.keys(this.fields))t.includes(r)||n.push(r);return this.pick(n)}from(t,n,r){let o=xr.getter(t,!0);return this.transform(i=>{if(!i)return i;let l=i;return S0(i,t)&&(l=Object.assign({},i),r||delete l[t],l[n]=o(i)),l})}json(){return this.transform(w0)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||wo.exact,test(n){if(n==null)return!0;const r=Cu(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=wo.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const i=Cu(this.schema,o);return!t||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=wo.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const o of Object.keys(n))r[t(o)]=n[o];return r})}camelCase(){return this.transformKeys(Ri.camelCase)}snakeCase(){return this.transformKeys(Ri.snakeCase)}constantCase(){return this.transformKeys(t=>Ri.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),r=super.describe(t);r.fields={};for(const[i,l]of Object.entries(n.fields)){var o;let a=t;(o=a)!=null&&o.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),r.fields[i]=l.describe(a)}return r}}ca.prototype=Ef.prototype;const P0=ca({email:Tt().email("Введите корректный email").required("Email обязателен"),password:Tt().min(6,"Пароль должен содержать минимум 6 символов").required("Пароль обязателен")}),k0=()=>{const[e,t]=h.useState(!1),{login:n,error:r,isLoading:o}=Jl(),{register:i,handleSubmit:l,formState:{errors:a}}=gf({resolver:xf(P0)}),c=async u=>{try{await n(u),ke.success("Добро пожаловать в НЭК Сервис!")}catch(d){ke.error(d.message||"Ошибка входа в систему")}};return s.jsx(B,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",p:2},children:s.jsx(rg,{maxWidth:"sm",children:s.jsx(nt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6},children:s.jsxs(Se,{sx:{borderRadius:3,boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"hidden"},children:[s.jsxs(B,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:4,textAlign:"center",color:"white"},children:[s.jsx(td,{sx:{fontSize:60,mb:2}}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"НЭК Сервис"}),s.jsx(j,{variant:"body1",sx:{opacity:.9},children:"CRM Система для сервисного центра"})]}),s.jsxs(Ee,{sx:{p:4},children:[s.jsx(j,{variant:"h5",fontWeight:"600",gutterBottom:!0,textAlign:"center",children:"Вход в систему"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mb:3},children:"Введите ваши учетные данные для входа"}),r&&s.jsx(sg,{severity:"error",sx:{mb:3},children:r}),s.jsxs(B,{component:"form",onSubmit:l(c),children:[s.jsx(re,{...i("email"),fullWidth:!0,label:"Email",type:"email",margin:"normal",error:!!a.email,helperText:a.email?.message,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(wl,{color:"action"})})},sx:{mb:2}}),s.jsx(re,{...i("password"),fullWidth:!0,label:"Пароль",type:e?"text":"password",margin:"normal",error:!!a.password,helperText:a.password?.message,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(ig,{color:"action"})}),endAdornment:s.jsx(bt,{position:"end",children:s.jsx(Be,{"aria-label":"toggle password visibility",onClick:()=>t(!e),edge:"end",children:e?s.jsx(og,{}):s.jsx(ts,{})})})},sx:{mb:3}}),s.jsx(ge,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:o,sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:o?"Вход...":"Войти"})]}),s.jsxs(B,{sx:{mt:3,p:2,bgcolor:"grey.50",borderRadius:2},children:[s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",gutterBottom:!0,children:"Тестовые учетные записи:"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"admin@nekservice.ru / password"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"manager@nekservice.ru / password"}),s.jsx(j,{variant:"body2",color:"text.secondary",textAlign:"center",children:"tech@nekservice.ru / password"})]})]})]})})})})},E0=[{title:"Всего заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Eo,{}),color:"#1976d2"},{title:"Активные заказы",value:"89",change:"+5%",changeType:"positive",icon:s.jsx(ag,{}),color:"#ed6c02"},{title:"Завершенные",value:"1,158",change:"+18%",changeType:"positive",icon:s.jsx(Sl,{}),color:"#2e7d32"},{title:"Доход за месяц",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(nd,{}),color:"#9c27b0"},{title:"Клиенты",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(Io,{}),color:"#f57c00"},{title:"Запчасти на складе",value:"1,234",change:"-3%",changeType:"negative",icon:s.jsx(Cl,{}),color:"#d32f2f"}],I0=[{month:"Янв",revenue:24e5},{month:"Фев",revenue:22e5},{month:"Мар",revenue:28e5},{month:"Апр",revenue:26e5},{month:"Май",revenue:32e5},{month:"Июн",revenue:2847500}],wu=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],Su=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],ju=[{id:"#001247",client:"Петров И.И.",device:"iPhone 14",status:"В работе",amount:15e3},{id:"#001246",client:"Сидорова М.А.",device:"Samsung Galaxy S23",status:"Завершен",amount:12e3},{id:"#001245",client:"Козлов А.В.",device:"MacBook Pro",status:"Ожидание",amount:45e3},{id:"#001244",client:"Волкова Е.С.",device:"iPad Air",status:"В работе",amount:18e3}],M0=({title:e,value:t,change:n,changeType:r,icon:o,color:i})=>s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsxs(Se,{sx:{height:"100%",position:"relative",overflow:"hidden"},children:[s.jsxs(Ee,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(st,{sx:{bgcolor:i,width:56,height:56},children:o}),s.jsx(at,{label:n,color:r==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:t}),s.jsx(j,{variant:"body2",color:"text.secondary",children:e})]}),s.jsx(B,{sx:{position:"absolute",top:0,right:0,width:100,height:100,background:`linear-gradient(135deg, ${i}20, ${i}10)`,borderRadius:"0 0 0 100%"}})]})}),F0=()=>s.jsxs(B,{children:[s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Дашборд"}),s.jsx(j,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Обзор деятельности сервисного центра"}),s.jsx(A,{container:!0,spacing:3,sx:{mb:4},children:E0.map((e,t)=>s.jsx(A,{item:!0,xs:12,sm:6,md:4,lg:2,children:s.jsx(M0,{...e})},t))}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,lg:8,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Динамика доходов"}),s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(fd,{data:I0,children:[s.jsx(mo,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"month"}),s.jsx(po,{}),s.jsx(Rr,{formatter:e=>[`₽${e.toLocaleString()}`,"Доход"]}),s.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]})})})}),s.jsx(A,{item:!0,xs:12,lg:4,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Статус заказов"}),s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(gd,{children:[s.jsx(pd,{data:wu,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:wu.map((e,t)=>s.jsx(xd,{fill:e.color},`cell-${t}`))}),s.jsx(Rr,{formatter:e=>[`${e}%`,"Процент"]})]})})})]})})})}),s.jsx(A,{item:!0,xs:12,lg:6,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ техников"}),s.jsx(Gr,{children:Su.map((e,t)=>s.jsxs(Ae.Fragment,{children:[s.jsxs(cn,{children:[s.jsx(lg,{children:s.jsx(st,{sx:{bgcolor:"primary.main"},children:e.name.split(" ").map(n=>n[0]).join("")})}),s.jsx(un,{primary:e.name,secondary:s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsxs(j,{variant:"body2",children:[e.orders," заказов"]}),s.jsxs(j,{variant:"body2",children:["₽",e.revenue.toLocaleString()]}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{fontSize:16,color:"orange",mr:.5}}),s.jsx(j,{variant:"body2",children:e.rating})]})]})})]}),t<Su.length-1&&s.jsx(Is,{})]},t))})]})})})}),s.jsx(A,{item:!0,xs:12,lg:6,children:s.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Последние заказы"}),s.jsx(Gr,{children:ju.map((e,t)=>s.jsxs(Ae.Fragment,{children:[s.jsx(cn,{children:s.jsx(un,{primary:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"body1",fontWeight:"500",children:e.id}),s.jsx(at,{label:e.status,size:"small",color:e.status==="Завершен"?"success":e.status==="В работе"?"warning":"default"})]}),secondary:s.jsxs(B,{children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:[e.client," • ",e.device]}),s.jsxs(j,{variant:"body2",fontWeight:"500",children:["₽",e.amount.toLocaleString()]})]})})}),t<ju.length-1&&s.jsx(Is,{})]},t))})]})})})})]})]}),If=h.createContext(void 0);function Fe(){const e=h.useContext(If);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Mf=h.createContext(void 0),be=()=>{const e=h.useContext(Mf);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function Le(e){return cg("MuiDataGrid",e)}const G=rd("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),T0=e=>{const{classes:t}=e;return $e({root:["main"]},Le,t)},A0=He("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function Ff(e){const t=be(),n=T0(t);return s.jsx(A0,{className:n.root,ownerState:t,children:e.children})}function D0(e,t){var n=function(p){var E=p.__resizeTriggers__,D=E.firstElementChild,P=E.lastElementChild,k=D.firstElementChild;P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight,k.style.width=D.offsetWidth+1+"px",k.style.height=D.offsetHeight+1+"px",D.scrollLeft=D.scrollWidth,D.scrollTop=D.scrollHeight},r=function(p){return p.offsetWidth!=p.__resizeLast__.width||p.offsetHeight!=p.__resizeLast__.height},o=function(p){if(!(p.target.className.indexOf("contract-trigger")<0&&p.target.className.indexOf("expand-trigger")<0)){var E=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){r(E)&&(E.__resizeLast__.width=E.offsetWidth,E.__resizeLast__.height=E.offsetHeight,E.__resizeListeners__.forEach(function(D){D.call(E,p)}))})}},i=!1,l="",a="animationstart",c="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{var f=document.createElement("fakeelement");if(f.style.animationName!==void 0&&(i=!0),i===!1){for(var m=0;m<c.length;m++)if(f.style[c[m]+"AnimationName"]!==void 0){d=c[m],l="-"+d.toLowerCase()+"-",a=u[m],i=!0;break}}}var g="resizeanim",w="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",b=l+"animation: 1ms "+g+"; ",C=function(p,E){if(!E.getElementById("muiDetectElementResize")){var D=(w||"")+".Mui-resizeTriggers { "+(b||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',P=E.constructor.name==="ShadowRoot"?E:p.head||p.getElementsByTagName("head")[0],k=p.createElement("style");k.id="muiDetectElementResize",k.type="text/css",e!=null&&k.setAttribute("nonce",e),k.styleSheet?k.styleSheet.cssText=D:k.appendChild(p.createTextNode(D)),P.appendChild(k)}},y=function(p,E){if(!p.__resizeTriggers__){var D=p.ownerDocument,P=t.getComputedStyle(p);P&&P.position=="static"&&(p.style.position="relative"),C(D,p.getRootNode()),p.__resizeLast__={},p.__resizeListeners__=[],(p.__resizeTriggers__=D.createElement("div")).className="Mui-resizeTriggers",p.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',p.appendChild(p.__resizeTriggers__),n(p),p.addEventListener("scroll",o,!0),a&&(p.__resizeTriggers__.__animationListener__=function(T){T.animationName==g&&n(p)},p.__resizeTriggers__.addEventListener(a,p.__resizeTriggers__.__animationListener__))}p.__resizeListeners__.push(E)},x=function(p,E){if(p.__resizeListeners__.splice(p.__resizeListeners__.indexOf(E),1),!p.__resizeListeners__.length){p.removeEventListener("scroll",o,!0),p.__resizeTriggers__.__animationListener__&&(p.__resizeTriggers__.removeEventListener(a,p.__resizeTriggers__.__animationListener__),p.__resizeTriggers__.__animationListener__=null);try{p.__resizeTriggers__=!p.removeChild(p.__resizeTriggers__)}catch{}}};return{addResizeListener:y,removeResizeListener:x}}const O0=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],_0=h.forwardRef(function(t,n){const{children:r,defaultHeight:o=null,defaultWidth:i=null,disableHeight:l=!1,disableWidth:a=!1,nonce:c,onResize:u,style:d}=t,f=ve(t,O0),[m,g]=h.useState({height:o,width:i}),w=h.useRef(null),b=h.useRef(null),C=sn(()=>{if(b.current){const p=b.current.offsetHeight||0,E=b.current.offsetWidth||0,P=_a(b.current).getComputedStyle(b.current),k=parseInt(P.paddingLeft,10)||0,T=parseInt(P.paddingRight,10)||0,_=parseInt(P.paddingTop,10)||0,O=parseInt(P.paddingBottom,10)||0,z=p-_-O,$=E-k-T;(!l&&m.height!==z||!a&&m.width!==$)&&(g({height:z,width:$}),u&&u({height:z,width:$}))}});Xt(()=>{var p;if(b.current=w.current.parentElement,!b)return;const E=_a((p=b.current)!=null?p:void 0),D=D0(c,E);return D.addResizeListener(b.current,C),C(),()=>{D.removeResizeListener(b.current,C)}},[c,C]);const y={overflow:"visible"},x={};l||(y.height=0,x.height=m.height),a||(y.width=0,x.width=m.width);const v=Cr(w,n);return s.jsx("div",S({ref:v,style:S({},y,d)},f,{children:m.height===null&&m.width===null?null:r(x)}))}),ln=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},ua=(e,t)=>e;function V0(e){return e.acceptsApiRef}ln(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const xe=(e,t)=>V0(t)?t(e):t(e.current.state);var qo="NOT_FOUND";function $0(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:qo},put:function(r,o){t={key:r,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function L0(e,t){var n=[];function r(a){var c=n.findIndex(function(d){return t(a,d.key)});if(c>-1){var u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return qo}function o(a,c){r(a)===qo&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function i(){return n}function l(){n=[]}return{get:r,put:o,getEntries:i,clear:l}}var R0=function(t,n){return t===n};function N0(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var o=n.length,i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function Tf(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?R0:r,i=n.maxSize,l=i===void 0?1:i,a=n.resultEqualityCheck,c=N0(o),u=l===1?$0(c):L0(l,c);function d(){var f=u.get(arguments);if(f===qo){if(f=e.apply(null,arguments),a){var m=u.getEntries(),g=m.find(function(w){return a(w.value,f)});g&&(f=g.value)}u.put(arguments,f)}return f}return d.clearCache=function(){return u.clear()},d}function z0(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function B0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];var u=0,d,f={memoizeOptions:void 0},m=a.pop();if(typeof m=="object"&&(f=m,m=a.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var g=f,w=g.memoizeOptions,b=w===void 0?n:w,C=Array.isArray(b)?b:[b],y=z0(a),x=e.apply(void 0,[function(){return u++,m.apply(null,arguments)}].concat(C)),v=e(function(){for(var E=[],D=y.length,P=0;P<D;P++)E.push(y[P].apply(null,arguments));return d=x.apply(null,E),d});return Object.assign(v,{resultFunc:m,memoizedResultFunc:x,dependencies:y,lastResult:function(){return d},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v};return o}var H0=B0(Tf);const kn={cache:null};ln(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const ye=(...e)=>{kn.cache===null&&(kn.cache={});const t=(...n)=>{const[r,o]=n,i=!!r.current,l=i?r.current.instanceId:o??"default",a=i?r.current.state:r;kn.cache===null&&(kn.cache={});const{cache:c}=kn;if(c[l]&&c[l].get(e))return c[l].get(e)(a,l);const u=H0(...e);return c[l]||(c[l]=new Map),c[l].set(e,u),u(a,l)};return t.acceptsApiRef=!0,t},W0=e=>{typeof e<"u"?kn.cache&&kn.cache[e]&&delete kn.cache[e]:kn.cache=null},vn=e=>e.rows,mi=ye(vn,e=>e.totalRowCount),G0=ye(vn,e=>e.loading),U0=ye(vn,e=>e.totalTopLevelRowCount),Ur=ye(vn,e=>e.idRowsLookup),da=ye(vn,e=>e.idToIdLookup),Un=ye(vn,e=>e.tree),q0=ye(vn,e=>e.groupingName),ha=ye(vn,e=>e.treeDepth),mr=ye(vn,e=>e.ids),K0=ye(vn,e=>e?.additionalRowGroups),Hs=ye(K0,e=>e?.pinnedRows),Q0=ye(Hs,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),fa=e=>e.sorting,ma=ye(fa,e=>e.sortedRows),ga=ye(ma,Ur,(e,t)=>e.map(n=>({id:n,model:t[n]}))),Jt=ye(fa,e=>e.sortModel),Y0=ye(Jt,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{})),vr=e=>e.columns,Jr=ye(vr,e=>e.all),ns=ye(vr,e=>e.lookup),on=ye(Jr,ns,(e,t)=>e.map(n=>t[n])),In=ye(vr,e=>e.columnVisibilityModel),Mt=ye(on,In,(e,t)=>e.filter(n=>t[n.field]!==!1));ye(Mt,e=>e.map(t=>t.field));const yr=ye(Mt,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),gi=ye(Mt,yr,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),pa=ye(on,e=>e.filter(t=>t.filterable)),X0=ye(on,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{}));ua(ye(pa,e=>e.map(t=>t.field)));ua(ye(Mt,e=>e.length));const Z0=ua(ye(yr,gi,(e,t)=>({totalWidth:t,positions:e}))),Ws=e=>e.filter,Rt=ye(Ws,e=>e.filterModel);ye(Rt,e=>e.quickFilterValues);const J0=ye(Ws,e=>e.visibleRowsLookup),Af=ye(Ws,e=>e.filteredRowsLookup);ye(Ws,e=>e.filteredDescendantCountLookup);const On=ye(J0,ga,(e,t)=>t.filter(n=>e[n.id]!==!1)),ks=ye(On,e=>e.map(t=>t.id)),ew=ye(Af,ga,(e,t)=>t.filter(n=>e[n.id]!==!1)),tw=ye(ew,e=>e.map(t=>t.id)),Df=ye(On,Un,ha,(e,t,n)=>n<2?e:e.filter(r=>{var o;return((o=t[r.id])==null?void 0:o.depth)===0})),Of=ye(On,e=>e.length),_f=ye(Df,e=>e.length),nw=ye(Rt,ns,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var o,i;if(!r.columnField)return!1;const l=t[r.columnField];if(!(l!=null&&l.filterOperators)||(l==null||(o=l.filterOperators)==null?void 0:o.length)===0)return!1;const a=l.filterOperators.find(c=>c.value===r.operatorValue);return a?!a.InputComponent||r.value!=null&&((i=r.value)==null?void 0:i.toString())!=="":!1})}),rw=ye(nw,e=>e.reduce((n,r)=>(n[r.columnField]?n[r.columnField].push(r):n[r.columnField]=[r],n),{})),Pr=e=>e.density,sw=ye(Pr,e=>e.value),Gs=ye(Pr,e=>e.rowHeight),Vf=ye(Pr,e=>e.headerHeight),xa=ye(Pr,e=>e.headerGroupingMaxDepth),ow=ye(Pr,e=>e.factor),Us=ye(Pr,e=>e.headerHeight*(1+e.headerGroupingMaxDepth));function iw(e){var t,n;const r=Fe(),o=be(),i=xe(r,Us),[l,a]=h.useState(()=>{var d,f;return(d=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?d:null}),c=h.useCallback(()=>{var d,f;a((d=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?d:null)},[r]);Xt(()=>r.current.subscribeEvent("viewportInnerSizeChange",c),[r,c]);let u=(t=l?.height)!=null?t:0;return o.autoHeight&&u===0&&(u="auto"),l?s.jsx("div",S({style:{height:u,width:(n=l?.width)!=null?n:0,position:"absolute",top:i,bottom:u==="auto"?0:void 0}},e)):null}function lw(){const e=Fe(),t=be(),n=xe(e,mi),r=xe(e,Of),o=xe(e,G0),i=!o&&n===0,l=!o&&n>0&&r===0;let a=null;if(i){var c;a=s.jsx(t.components.NoRowsOverlay,S({},(c=t.componentsProps)==null?void 0:c.noRowsOverlay))}if(l){var u;a=s.jsx(t.components.NoResultsOverlay,S({},(u=t.componentsProps)==null?void 0:u.noResultsOverlay))}if(o){var d;a=s.jsx(t.components.LoadingOverlay,S({},(d=t.componentsProps)==null?void 0:d.loadingOverlay))}return a===null?null:s.jsx(iw,{children:a})}function aw(e){const{children:t,VirtualScrollerComponent:n,ColumnHeadersComponent:r}=e,o=Fe(),i=be(),l=xe(o,Us),[a,c]=h.useState(i.disableVirtualization),u=h.useCallback(()=>{c(!0)},[]),d=h.useCallback(()=>{c(!1)},[]);h.useEffect(()=>{c(i.disableVirtualization)},[i.disableVirtualization]),o.current.unstable_disableVirtualization=u,o.current.unstable_enableVirtualization=d;const f=h.useRef(null),m=h.useRef(null),g=h.useRef(null),w=h.useRef(null);o.current.columnHeadersContainerElementRef=m,o.current.columnHeadersElementRef=f,o.current.windowRef=g,o.current.renderingZoneRef=w;const b=h.useCallback(C=>{o.current.publishEvent("resize",C)},[o]);return s.jsxs(Ff,{children:[s.jsx(lw,{}),s.jsx(r,{ref:m,innerRef:f}),s.jsx(_0,{nonce:i.nonce,disableHeight:i.autoHeight,onResize:b,children:C=>{const y={width:C.width,height:C.height?C.height-l:"auto",marginTop:l};return s.jsx(n,{ref:g,style:y,disableVirtualization:a})}}),t]})}function pt(e,t){const n=h.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}class cw extends h.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:n}))}logError(t,n){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,n)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.state):this.props.children}}function uw(e){const{children:t}=e,n=Fe(),r=pt(n,"GridErrorHandler"),o=be(),i=n.current.state.error;return s.jsx(cw,{hasError:i!=null,api:n,logger:r,render:l=>{var a;return s.jsx(Ff,{children:s.jsx(o.components.ErrorOverlay,S({},l,i,(a=o.componentsProps)==null?void 0:a.errorOverlay))})},children:t})}function dw(){var e;const t=Fe(),n=be(),r=h.useRef(null);return t.current.footerRef=r,n.hideFooter?null:s.jsx("div",{ref:r,children:s.jsx(n.components.Footer,S({},(e=n.componentsProps)==null?void 0:e.footer))})}function hw(){var e;const t=Fe(),n=be(),r=h.useRef(null);return t.current.headerRef=r,s.jsx("div",{ref:r,children:s.jsx(n.components.Header,S({},(e=n.componentsProps)==null?void 0:e.header))})}function $f(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=$f(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ge(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=$f(e))&&(r&&(r+=" "),r+=t);return r}var It;(function(e){e.Cell="cell",e.Row="row"})(It||(It={}));var Oe;(function(e){e.Edit="edit",e.View="view"})(Oe||(Oe={}));var We;(function(e){e.Edit="edit",e.View="view"})(We||(We={}));const qr={client:"client",server:"server"};var Vt;(function(e){e.And="and",e.Or="or"})(Vt||(Vt={}));var Sn;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(Sn||(Sn={}));var dn;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(dn||(dn={}));var jn;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(jn||(jn={}));var hn;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(hn||(hn={}));var Ds;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})(Ds||(Ds={}));function Lf(e){return e.field!==void 0}const Rf=e=>e.focus,rn=ye(Rf,e=>e.cell),fw=ye(Rf,e=>e.columnHeader),Nf=e=>e.tabIndex,Ko=ye(Nf,e=>e.cell),zf=ye(Nf,e=>e.columnHeader),mw=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let Ni;function gw(){return Ni===void 0&&document.createElement("div").focus({get preventScroll(){return Ni=!0,!1}}),Ni}const pw=e=>{const{align:t,showRightBorder:n,isEditable:r,classes:o}=e,i={root:["cell",`cell--text${br(t)}`,r&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return $e(i,Le,o)};function xw(e){const{align:t,children:n,colIndex:r,cellMode:o,field:i,formattedValue:l,hasFocus:a,height:c,isEditable:u,rowId:d,tabIndex:f,value:m,width:g,className:w,showRightBorder:b,colSpan:C,disableDragEvents:y,onClick:x,onDoubleClick:v,onMouseDown:p,onMouseUp:E,onKeyDown:D,onDragEnter:P,onDragOver:k}=e,T=ve(e,mw),_=l??m,O=h.useRef(null),z=h.useRef(null),$=Fe(),I=be(),F={align:t,showRightBorder:b,isEditable:u,classes:I.classes},V=pw(F),H=h.useCallback(oe=>me=>{const J=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,J,me),E&&E(me)},[$,i,E,d]),R=h.useCallback(oe=>me=>{const J=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,J,me),p&&p(me)},[$,i,p,d]),N=h.useCallback((oe,me)=>J=>{if(!J.currentTarget.contains(J.target)||!$.current.getRow(d))return;const ce=$.current.getCellParams(d,i||"");$.current.publishEvent(oe,ce,J),me&&me(J)},[$,i,d]),U={minWidth:g,maxWidth:g,minHeight:c,maxHeight:c==="auto"?"none":c};h.useEffect(()=>{if(!a||o===Oe.Edit)return;const oe=ei($.current.rootElementRef.current);if(O.current&&!O.current.contains(oe.activeElement)){const me=O.current.querySelector('[tabindex="0"]'),J=z.current||me||O.current;if(gw())J.focus({preventScroll:!0});else{const ce=$.current.getScrollPosition();J.focus(),$.current.scroll(ce)}}},[a,o,$]);let K=T.onFocus;const se=$.current.getColumn(i).type==="actions",te=()=>{if(n==null){const oe=_?.toString();return s.jsx("div",{title:oe,className:V.content,children:oe})}return h.isValidElement(n)&&se?h.cloneElement(n,{focusElementRef:z}):n},fe=y?null:{onDragEnter:N("cellDragEnter",P),onDragOver:N("cellDragOver",k)};return s.jsx("div",S({ref:O,className:Ge(w,V.root),role:"cell","data-field":i,"data-colindex":r,"aria-colindex":r+1,"aria-colspan":C,style:U,tabIndex:(o==="view"||!u)&&!se?f:-1,onClick:N("cellClick",x),onDoubleClick:N("cellDoubleClick",v),onMouseDown:R("cellMouseDown"),onMouseUp:H("cellMouseUp"),onKeyDown:N("cellKeyDown",D)},fe,T,{onFocus:K,children:te()}))}const bw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],vw=e=>{const{classes:t}=e;return $e({root:["booleanCell"]},Le,t)},yw=e=>{const{value:t}=e,n=ve(e,bw),r=Fe(),o=be(),i={classes:o.classes},l=vw(i),a=h.useMemo(()=>t?o.components.BooleanCellTrueIcon:o.components.BooleanCellFalseIcon,[o.components.BooleanCellFalseIcon,o.components.BooleanCellTrueIcon,t]);return s.jsx(a,S({fontSize:"small",className:l.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))},Cw=h.memo(yw),ww=e=>e.rowNode.isAutoGenerated?"":s.jsx(Cw,S({},e)),Sw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],jw=e=>{const{classes:t}=e;return $e({root:["editBooleanCell"]},Le,t)};function Pw(e){var t;const{id:n,value:r,field:o,className:i,hasFocus:l,onValueChange:a}=e,c=ve(e,Sw),u=Fe(),d=h.useRef(null),f=$t(),[m,g]=h.useState(r),w=be(),b={classes:w.classes},C=jw(b),y=h.useCallback(async x=>{const v=x.target.checked;a&&await a(x,v),g(v),await u.current.setEditCellValue({id:n,field:o,value:v},x)},[u,o,n,a]);return h.useEffect(()=>{g(r)},[r]),Xt(()=>{l&&d.current.focus()},[l]),s.jsx("label",S({htmlFor:f,className:Ge(C.root,i)},c,{children:s.jsx(w.components.BaseCheckbox,S({id:f,inputRef:d,checked:!!m,onChange:y,size:"small"},(t=w.componentsProps)==null?void 0:t.baseCheckbox))}))}const kw=e=>s.jsx(Pw,S({},e)),Ew=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],Iw=He(sd)({fontSize:"inherit"}),Mw=e=>{const{classes:t}=e;return $e({root:["editInputCell"]},Le,t)};function Fw(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,inputProps:l,onValueChange:a}=e,c=ve(e,Ew),u=o.type==="dateTime",d=Fe(),f=h.useRef(),m=h.useMemo(()=>{let v;n==null?v=null:n instanceof Date?v=n:v=new Date((n??"").toString());let p;return v==null||Number.isNaN(v.getTime())?p="":p=new Date(v.getTime()-v.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:v,formatted:p}},[n,u]),[g,w]=h.useState(m),C={classes:be().classes},y=Mw(C),x=h.useCallback(async v=>{const p=v.target.value;let E;if(p==="")E=null;else{const[D,P]=p.split("T"),[k,T,_]=D.split("-");if(E=new Date,E.setFullYear(Number(k),Number(T)-1,Number(_)),E.setHours(0,0,0,0),P){const[O,z]=P.split(":");E.setHours(Number(O),Number(z),0,0)}}a&&await a(v,E),w({parsed:E,formatted:p}),d.current.setEditCellValue({id:t,field:r,value:E},v)},[d,r,t,a]);return h.useEffect(()=>{w(v=>{var p,E;return m.parsed!==v.parsed&&((p=m.parsed)==null?void 0:p.getTime())!==((E=v.parsed)==null?void 0:E.getTime())?m:v})},[m]),Xt(()=>{i&&f.current.focus()},[i]),s.jsx(Iw,S({inputRef:f,fullWidth:!0,className:y.root,type:u?"datetime-local":"date",inputProps:S({max:u?"9999-12-31T23:59":"9999-12-31"},l),value:g.formatted,onChange:x},c))}const Bf=e=>s.jsx(Fw,S({},e)),Tw=ut(s.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Aw=ut(s.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Pu=ut(s.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),ku=ut(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Dw=ut(s.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ow=ut(s.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),_w=ut(s.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");ut(s.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");ut(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const Vw=ut(s.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),$w=ut(s.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),Lw=ut(s.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Rw=ut(s.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),Nw=ut(s.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),zw=ut(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),zi=ut(s.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Hf=ut(s.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Bw=ut(s.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),ba=ut(s.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Hw=ut(s.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Ww=ut(s.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Gw=ut(s.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Uw=ut(s.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function qn(e){return typeof e=="object"&&e!==null?e.value:e}function Qo(e,t){if(t===void 0)return;const n=t.find(r=>{const o=qn(r);return String(o)===String(e)});return qn(n)}const qw=["item","applyValue","type","apiRef","focusElementRef"],Kw=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,f=a?l.label:d;return s.jsx(o,{value:u,children:f},c)}),Wf=500;function mn(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,f=ve(e,qw),m=h.useRef(),[g,w]=h.useState((t=l.value)!=null?t:""),[b,C]=h.useState(!1),y=$t(),x=be(),p=(r=(((n=x.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,E=c==="singleSelect"?{select:!0,SelectProps:S({native:p},(o=x.componentsProps)==null?void 0:o.baseSelect),children:Kw(u.current.getColumn(l.columnField),u.current,p?"option":le)}:{},D=h.useCallback(k=>{let T=k.target.value;if(c==="singleSelect"){const _=u.current.getColumn(l.columnField),O=typeof _.valueOptions=="function"?_.valueOptions({field:_.field}):_.valueOptions;T=Qo(T,O)}clearTimeout(m.current),w(String(T)),C(!0),m.current=setTimeout(()=>{a(S({},l,{value:T})),C(!1)},Wf)},[u,a,l,c]);h.useEffect(()=>()=>{clearTimeout(m.current)},[]),h.useEffect(()=>{var k;const T=(k=l.value)!=null?k:"";w(String(T))},[l.value]);const P=b?{endAdornment:s.jsx(ba,{})}:f.InputProps;return s.jsx(x.components.BaseTextField,S({id:y,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:g,onChange:D,variant:"standard",type:c||"text",InputProps:P,InputLabelProps:{shrink:!0},inputRef:d},E,f,(i=x.componentsProps)==null?void 0:i.baseTextField))}const Qw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],Yw=e=>{const{classes:t}=e;return $e({root:["editInputCell"]},Le,t)},Xw=He(sd,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>S({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),Zw=h.forwardRef((e,t)=>{var n,r;const o=be(),{id:i,value:l,field:a,colDef:c,hasFocus:u,debounceMs:d=(n=o.experimentalFeatures)!=null&&n.newEditingApi?200:Wf,isProcessingProps:f,onValueChange:m}=e,g=ve(e,Qw),w=Fe(),b=h.useRef(),[C,y]=h.useState(l),x=Yw(o),v=h.useCallback(async E=>{var D;const P=E.target.value;m&&await m(E,P);const k=w.current.getColumn(a);let T=P;k.valueParser&&(D=o.experimentalFeatures)!=null&&D.newEditingApi&&(T=k.valueParser(P,w.current.getCellParams(i,a))),y(T),w.current.setEditCellValue({id:i,field:a,value:T,debounceMs:d,unstable_skipValueParser:!0},E)},[w,d,a,i,m,(r=o.experimentalFeatures)==null?void 0:r.newEditingApi]),p=w.current.unstable_getEditCellMeta?w.current.unstable_getEditCellMeta(i,a):{};return h.useEffect(()=>{p.changeReason!=="debouncedSetEditCellValue"&&y(l)},[p.changeReason,l]),Xt(()=>{u&&b.current.focus()},[u]),s.jsx(Xw,S({ref:t,inputRef:b,className:x.root,ownerState:o,fullWidth:!0,type:c.type==="number"?c.type:"text",value:C??"",onChange:v,endAdornment:f?s.jsx(ba,{}):void 0},g))}),Jw=e=>s.jsx(Zw,S({},e)),va=e=>e==="Escape",Gf=e=>e==="Enter",Uf=e=>e==="Tab",qf=e=>e===" ",eS=e=>e.indexOf("Arrow")===0,tS=e=>e==="Home"||e==="End",nS=e=>e.indexOf("Page")===0,hl=e=>e==="Delete"||e==="Backspace";function pi(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const rS=["Enter","Escape","Tab"],sS=["Enter","Tab"],oS=e=>Gf(e.key)||hl(e.key)||pi(e),iS=e=>rS.indexOf(e)>-1,Eu=e=>sS.indexOf(e)>-1,qs=e=>tS(e)||eS(e)||nS(e)||qf(e),fl=e=>!!e.key,lS=e=>Uf(e)||va(e),aS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],cS=(e,t)=>{const n=typeof e=="object",r=n?e.value:e,o=n?e.value:e,i=n?e.label:e;return s.jsx(t,{value:o,children:i},r)};function uS(e){return!!e.key}function dS(e){var t,n,r;const o=be(),{id:i,value:l,api:a,field:c,row:u,colDef:d,hasFocus:f,error:m,onValueChange:g,initialOpen:w=o.editMode===It.Cell}=e,b=ve(e,aS),C=Fe(),y=h.useRef(),x=h.useRef(),[v,p]=h.useState(w),D=(n=(((t=o.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1;let P;typeof d.valueOptions=="function"?P=d.valueOptions({id:i,row:u,field:c}):P=d.valueOptions,d.valueFormatter&&(P=P.map(O=>{if(typeof O=="object")return O;const z={field:c,api:a,value:O};return{value:O,label:String(d.valueFormatter(z))}}));const k=async O=>{var z;p(!1);const $=O.target,I=Qo($.value,P);g&&await g(O,I);const F=await C.current.setEditCellValue({id:i,field:c,value:I},O);if((z=o.experimentalFeatures)!=null&&z.newEditingApi||o.editMode===It.Row||F===!1)return;if(await Promise.resolve(C.current.commitCellChange({id:i,field:c},O))&&(C.current.setCellMode(i,c,"view"),O.key)){const H=C.current.getCellParams(i,c);C.current.publishEvent("cellNavigationKeyDown",H,O)}},T=(O,z)=>{if(o.editMode===It.Row){p(!1);return}if(z==="backdropClick"||va(O.key)){var $;($=o.experimentalFeatures)!=null&&$.newEditingApi?C.current.stopCellEditMode({id:i,field:c,ignoreModifications:!0}):C.current.setCellMode(i,c,"view")}},_=O=>{uS(O)&&O.key==="Enter"||p(!0)};return Xt(()=>{f&&x.current.focus()},[f]),s.jsx(o.components.BaseSelect,S({ref:y,inputRef:x,value:l,onChange:k,open:v,onOpen:_,MenuProps:{onClose:T},error:m,native:D,fullWidth:!0},b,(r=o.componentsProps)==null?void 0:r.baseSelect,{children:P.map(O=>cS(O,D?"option":le))}))}const hS=e=>s.jsx(dS,S({},e)),fS=["open","target","onClickAway","children","position","className","onExited"],mS=e=>{const{classes:t}=e;return $e({root:["menu"]},Le,t)},gS=He(jl,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${G.menuList}`]:{outline:0}})),pS={"bottom-start":"top left","bottom-end":"top right"},Kf=e=>{var t;const{open:n,target:r,onClickAway:o,children:i,position:l,className:a,onExited:c}=e,u=ve(e,fS),d=Fe(),f=h.useRef(r),m=h.useRef(n),g=be(),w=mS(g);h.useEffect(()=>{m.current&&f.current&&f.current.focus();const C=n?"menuOpen":"menuClose";d.current.publishEvent(C,{target:r}),m.current=n,f.current=r},[d,n,r]);const b=C=>y=>{C&&C(),c&&c(y)};return s.jsx(gS,S({as:g.components.BasePopper,className:Ge(a,w.root),ownerState:g,open:n,anchorEl:r,transition:!0,placement:l},u,(t=g.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:C,placement:y})=>s.jsx(od,{onClickAway:o,mouseEvent:"onMouseDown",children:s.jsx(ug,S({},C,{style:{transformOrigin:pS[y]},onExited:b(C?.onExited),children:s.jsx(Yt,{children:i})}))})}))},xS=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],bS=e=>typeof e.getActions=="function",vS=e=>{const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:l}=e,a=ve(e,xS),[c,u]=h.useState(-1),[d,f]=h.useState(!1),m=Fe(),g=h.useRef(null),w=h.useRef(null),b=h.useRef(!1),C=h.useRef({}),y=$t(),x=$t(),v=be();if(h.useLayoutEffect(()=>{r||Object.entries(C.current).forEach(([I,F])=>{F?.stop({},()=>{delete C.current[I]})})},[r]),h.useEffect(()=>{if(c<0||!g.current||c>=g.current.children.length)return;g.current.children[c].focus({preventScroll:!0})},[c]),h.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),h.useImperativeHandle(l,()=>({focus(){b.current||u(0)}}),[]),!bS(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const p=t.getActions(m.current.getRowParams(n)),E=p.filter(I=>!I.props.showInMenu),D=p.filter(I=>I.props.showInMenu),P=E.length+(D.length?1:0);h.useEffect(()=>{c>=P&&u(P-1)},[c,P]);const k=()=>{f(!0),u(P-1),b.current=!0},T=()=>{f(!1)},_=I=>F=>{C.current[I]=F},O=(I,F)=>V=>{u(I),b.current=!0,F&&F(V)},z=I=>{if(P<=1)return;let F=c;I.key==="ArrowRight"?F+=1:I.key==="ArrowLeft"&&(F-=1),!(F<0||F>=P)&&F!==c&&(I.preventDefault(),I.stopPropagation(),u(F))},$=I=>{I.key==="Tab"&&I.preventDefault(),["Tab","Enter","Escape"].includes(I.key)&&T()};return s.jsxs("div",S({role:"menu",ref:g,tabIndex:-1,className:G.actionsCell,onKeyDown:z},a,{children:[E.map((I,F)=>h.cloneElement(I,{key:F,touchRippleRef:_(F),onClick:O(F,I.props.onClick),tabIndex:c===F?o:-1})),D.length>0&&x&&s.jsx(Be,{ref:w,id:x,"aria-label":m.current.getLocaleText("actionsCellMore"),"aria-controls":y,"aria-expanded":d?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:k,touchRippleRef:_(x),tabIndex:c===E.length?o:-1,children:s.jsx(v.components.MoreActionsIcon,{fontSize:"small"})}),D.length>0&&s.jsx(Kf,{onClickAway:T,onClick:T,open:d,target:w.current,position:i,children:s.jsx(id,{id:y,className:G.menuList,onKeyDown:$,"aria-labelledby":x,variant:"menu",autoFocusItem:!0,children:D.map((I,F)=>h.cloneElement(I,{key:F}))})})]}))},yS=e=>s.jsx(vS,S({},e)),CS=["field","align","width","contentWidth"],wS=e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton",`cell--text${br(t)}`]};return $e(r,Le,n)};function SS(e){const{align:t,width:n,contentWidth:r}=e,o=ve(e,CS),l={classes:be().classes,align:t},a=wS(l);return s.jsx("div",S({className:a.root,style:{width:n}},o,{children:s.jsx(dg,{width:`${r}%`})}))}const jS=He("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${G.autoHeight}`]:t.autoHeight},{[`&.${G.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${G["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${G["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${G["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${G.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${G.editBooleanCell}`]:t.editBooleanCell},{[`& .${G["cell--editing"]}`]:t["cell--editing"]},{[`& .${G["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${G["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${G["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${G["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${G.cell}`]:t.cell},{[`& .${G.cellContent}`]:t.cellContent},{[`& .${G.cellCheckbox}`]:t.cellCheckbox},{[`& .${G.cellSkeleton}`]:t.cellSkeleton},{[`& .${G.checkboxInput}`]:t.checkboxInput},{[`& .${G["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${G["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${G["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${G["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${G["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${G["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${G["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${G["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${G.columnHeader}`]:t.columnHeader},{[`& .${G.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${G.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${G.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${G["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${G["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${G.columnSeparator}`]:t.columnSeparator},{[`& .${G.filterIcon}`]:t.filterIcon},{[`& .${G.iconSeparator}`]:t.iconSeparator},{[`& .${G.menuIcon}`]:t.menuIcon},{[`& .${G.menuIconButton}`]:t.menuIconButton},{[`& .${G.menuOpen}`]:t.menuOpen},{[`& .${G.menuList}`]:t.menuList},{[`& .${G["row--editable"]}`]:t["row--editable"]},{[`& .${G["row--editing"]}`]:t["row--editing"]},{[`& .${G["row--dragging"]}`]:t["row--dragging"]},{[`& .${G.row}`]:t.row},{[`& .${G.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${G.rowReorderCell}`]:t.rowReorderCell},{[`& .${G["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${G.sortIcon}`]:t.sortIcon},{[`& .${G.withBorder}`]:t.withBorder},{[`& .${G.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${G.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${G.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${G["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?Pl(en(e.palette.divider,1),.88):kl(en(e.palette.divider,1),.68);return S({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${G.autoHeight}`]:{height:"auto",[`& .${G["row--lastVisible"]} .${G.cell}`]:{borderBottomColor:"transparent"}},[`& .${G["virtualScrollerContent--overflowed"]} .${G["row--lastVisible"]} .${G.cell}`]:{borderBottomColor:"transparent"},[`& .${G.columnHeader}, & .${G.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${G.columnHeader}:focus-within, & .${G.cell}:focus-within`]:{outline:`solid ${en(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${G.columnHeader}:focus, & .${G.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${G.columnHeaderCheckbox}, & .${G.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${G.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${G["columnHeader--sorted"]} .${G.iconButtonContainer}, & .${G["columnHeader--filtered"]} .${G.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${G.columnHeader}:not(.${G["columnHeader--sorted"]}) .${G.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${G.columnHeader}:not(.${G["columnHeader--sorted"]}):hover .${G.sortIcon}`]:{opacity:.5},[`& .${G.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${G.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${G["columnHeader--filledGroup"]} .${G.columnHeaderTitleContainer}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${G["columnHeader--filledGroup"]}.${G["columnHeader--showColumnBorder"]} .${G.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${G["columnHeader--filledGroup"]}.${G["columnHeader--showColumnBorder"]}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${G.sortIcon}, & .${G.filterIcon}`]:{fontSize:"inherit"},[`& .${G["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${G["columnHeader--alignCenter"]} .${G.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${G["columnHeader--alignRight"]} .${G.columnHeaderDraggableContainer}, & .${G["columnHeader--alignRight"]} .${G.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${G["columnHeader--alignCenter"]} .${G.menuIcon}, & .${G["columnHeader--alignRight"]} .${G.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${G["columnHeader--alignRight"]} .${G.menuIcon}, & .${G["columnHeader--alignRight"]} .${G.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${G["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${G.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${G["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${G["columnSeparator--sideRight"]}`]:{right:-12},[`& .${G["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${G["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${G.iconSeparator}`]:{color:"inherit"},[`& .${G.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${G.columnHeader}:hover`]:{[`& .${G.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${G.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${G.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${G.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:en(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${G.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${G.row}:not(.${G["row--dynamicHeight"]}) > .${G.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${G.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${G.cell}.${G["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${G["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${G["row--editing"]} .${G.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${G.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${G.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${G.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${G.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${G.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${G["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${G.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${G.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${G["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${G["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${G["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${G.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${G.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${G["columnHeader--dragging"]}, & .${G["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${G["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${G.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${G.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${G.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${G.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${G.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),PS=["children","className"],kS=e=>{const{autoHeight:t,density:n,classes:r}=e,o={root:["root",t&&"autoHeight",`root--density${br(n)}`]};return $e(o,Le,r)},ES=h.forwardRef(function(t,n){const r=be(),{children:o,className:i}=t,l=ve(t,PS),a=Fe(),c=xe(a,Mt),u=xe(a,mi),d=xe(a,sw),f=xe(a,xa),m=h.useRef(null),g=Cr(m,n),w=xe(a,Q0),b=S({},r,{density:d}),C=kS(b);a.current.rootElementRef=m;const[y,x]=h.useState(!1);return Xt(()=>{x(!0)},[]),Xt(()=>{y&&a.current.unstable_updateGridDimensionsRef()},[a,y]),y?s.jsx(jS,S({ref:g,className:Ge(i,C.root),ownerState:b,role:"grid","aria-colcount":c.length,"aria-rowcount":f+1+w+u,"aria-multiselectable":!r.disableMultipleSelection,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},l,{children:o})):null}),IS=["className"],MS=e=>{const{classes:t}=e;return $e({root:["footerContainer"]},Le,t)},FS=He("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${e.palette.mode==="light"?Pl(en(e.palette.divider,1),.88):kl(en(e.palette.divider,1),.68)}`})),TS=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,IS),i=be(),l=MS(i);return s.jsx(FS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),AS=["className"],DS=e=>{const{classes:t}=e;return $e({root:["overlay"]},Le,t)},OS=He("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:en(e.palette.background.default,e.palette.action.disabledOpacity)})),xi=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,AS),i=be(),l=DS(i);return s.jsx(OS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),_S=["className"],VS=e=>{const{classes:t}=e;return $e({root:["iconButtonContainer"]},Le,t)},$S=He("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Qf=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,_S),i=be(),l=VS(i);return s.jsx($S,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),LS=e=>{const{classes:t}=e;return $e({icon:["sortIcon"]},Le,t)};function RS(e,t,n,r){let o;const i={};return t==="asc"?o=e.ColumnSortedAscendingIcon:t==="desc"?o=e.ColumnSortedDescendingIcon:(o=e.ColumnUnsortedIcon,i.sortingOrder=r),o?s.jsx(o,S({fontSize:"small",className:n},i)):null}function NS(e){const{direction:t,index:n,sortingOrder:r}=e,o=Fe(),i=be(),l=S({},e,{classes:i.classes}),a=LS(l),c=RS(i.components,t,a.icon,r);if(!c)return null;const u=s.jsx(Be,{tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:c});return s.jsxs(Qf,{children:[n!=null&&s.jsx(yl,{badgeContent:n,color:"default",children:u}),n==null&&u]})}const zS=h.memo(NS),BS=e=>{const{classes:t,open:n}=e;return $e({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},Le,t)},HS=h.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,l=Fe(),a=be(),c=S({},e,{classes:a.classes}),u=BS(c),d=h.useCallback(f=>{f.preventDefault(),f.stopPropagation(),l.current.toggleColumnMenu(t.field)},[l,t.field]);return s.jsx("div",{className:u.root,children:s.jsx(Be,{ref:i,tabIndex:-1,className:u.button,"aria-label":l.current.getLocaleText("columnMenuLabel"),title:l.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:o,children:s.jsx(a.components.ColumnMenuIcon,{fontSize:"small"})})})});function WS({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:l,onExited:a}){const c=Fe(),u=c.current.getColumn(o),d=h.useCallback(f=>{f.stopPropagation(),c.current.hideColumnMenu()},[c]);return l?s.jsx(Kf,{placement:`bottom-${u.align==="right"?"start":"end"}`,open:i,target:l,onClickAway:d,onExited:a,children:s.jsx(n,S({currentColumn:u,hideMenu:d,open:i,id:e,labelledby:t},r))}):null}function GS(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function US(e,t){return e.closest(`.${t}`)}function ya(e){return e.replace(/["\\]/g,"\\$&")}function qS(e,t){return e.querySelector(`[role="columnheader"][data-field="${ya(t)}"]`)}function Yf(e){return`.${G.row}[data-id="${ya(String(e))}"]`}function KS(e,t){return e.querySelector(Yf(t))}function QS(e,{id:t,field:n}){const r=Yf(t),o=`.${G.cell}[data-field="${ya(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}const YS=["className"],XS=e=>{const{classes:t}=e;return $e({root:["columnHeaderTitle"]},Le,t)},ZS=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),JS=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,YS),i=be(),l=XS(i);return s.jsx(ZS,S({ref:n,className:Ge(l.root,r),ownerState:i},o))});function ej(e){var t;const{label:n,description:r,columnWidth:o}=e,i=be(),l=h.useRef(null),[a,c]=h.useState("");return h.useEffect(()=>{if(!r&&l&&l.current){const u=GS(l.current);c(u?n:"")}},[l,o,r,n]),s.jsx(i.components.BaseTooltip,S({title:r||a},(t=i.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsx(JS,{ref:l,children:n})}))}const tj=["resizable","resizing","height","side"];var ml;(function(e){e.Left="left",e.Right="right"})(ml||(ml={}));const nj=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${br(o)}`],icon:["iconSeparator"]};return $e(i,Le,r)};function rj(e){const{height:t,side:n=ml.Right}=e,r=ve(e,tj),o=be(),i=S({},e,{side:n,classes:o.classes}),l=nj(i),a=h.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return s.jsx("div",S({className:l.root,style:{minHeight:t,opacity:o.showColumnRightBorder?0:1}},r,{onClick:a,children:s.jsx(o.components.ColumnResizeIcon,{className:l.icon})}))}const sj=h.memo(rj),oj=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","disableHeaderSeparator"],Xf=h.forwardRef(function(t,n){const{classes:r,columnMenuOpen:o,colIndex:i,height:l,isResizing:a,sortDirection:c,hasFocus:u,tabIndex:d,separatorSide:f,isDraggable:m,headerComponent:g,description:w,width:b,columnMenuIconButton:C=null,columnMenu:y=null,columnTitleIconButtons:x=null,headerClassName:v,label:p,resizable:E,draggableContainerProps:D,columnHeaderSeparatorProps:P,disableHeaderSeparator:k}=t,T=ve(t,oj),_=Fe(),O=be(),z=h.useRef(null),[$,I]=h.useState(o),F=Cr(z,n);let V="none";return c!=null&&(V=c==="asc"?"ascending":"descending"),h.useEffect(()=>{$||I(o)},[$,o]),h.useLayoutEffect(()=>{const H=_.current.state.columnMenu;if(u&&!H.open){const N=z.current.querySelector('[tabindex="0"]')||z.current;N?.focus(),_.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[_,u]),s.jsxs("div",S({ref:F,className:Ge(r.root,v),style:{height:l,width:b,minWidth:b,maxWidth:b},role:"columnheader",tabIndex:d,"aria-colindex":i+1,"aria-sort":V,"aria-label":g==null?p:void 0},T,{children:[s.jsxs("div",S({className:r.draggableContainer,draggable:m},D,{children:[s.jsxs("div",{className:r.titleContainer,children:[s.jsx("div",{className:r.titleContainerContent,children:g!==void 0?g:s.jsx(ej,{label:p,description:w,columnWidth:b})}),x]}),C]})),!k&&s.jsx(sj,S({resizable:!O.disableColumnResize&&!!E,resizing:a,height:l,side:f},P)),y]}))}),ij=e=>{const{column:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,filterItemsCounter:l}=e,a=o!=null,c=l!=null&&l>0,u=t.type==="number",d={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",a&&"columnHeader--sorted",c&&"columnHeader--filtered",u&&"columnHeader--numeric",i&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return $e(d,Le,n)};function lj(e){var t,n,r,o,i;const{column:l,columnMenuOpen:a,colIndex:c,headerHeight:u,isResizing:d,isLastColumn:f,sortDirection:m,sortIndex:g,filterItemsCounter:w,hasFocus:b,tabIndex:C,extendRowFullWidth:y,disableReorder:x,separatorSide:v}=e,p=Fe(),E=be(),D=h.useRef(null),P=$t(),k=$t(),T=h.useRef(null),[_,O]=h.useState(a),{hasScrollX:z,hasScrollY:$}=(t=p.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},I=h.useMemo(()=>!E.disableColumnReorder&&!x&&!l.disableReorder,[E.disableColumnReorder,x,l.disableReorder]);let F;l.renderHeader&&(F=l.renderHeader(p.current.getColumnHeaderParams(l.field)));const H=f?!(f&&z&&!$)&&!y:E.showColumnRightBorder,R=S({},e,{classes:E.classes,showRightBorder:H}),N=ij(R),U=h.useCallback(we=>pe=>{pe.currentTarget.contains(pe.target)&&p.current.publishEvent(we,p.current.getColumnHeaderParams(l.field),pe)},[p,l.field]),K=h.useMemo(()=>({onClick:U("columnHeaderClick"),onDoubleClick:U("columnHeaderDoubleClick"),onMouseOver:U("columnHeaderOver"),onMouseOut:U("columnHeaderOut"),onMouseEnter:U("columnHeaderEnter"),onMouseLeave:U("columnHeaderLeave"),onKeyDown:U("columnHeaderKeyDown"),onFocus:U("columnHeaderFocus"),onBlur:U("columnHeaderBlur")}),[U]),Z=h.useMemo(()=>I?{onDragStart:U("columnHeaderDragStart"),onDragEnter:U("columnHeaderDragEnter"),onDragOver:U("columnHeaderDragOver"),onDragEnd:U("columnHeaderDragEnd")}:{},[I,U]),se=h.useMemo(()=>({onMouseDown:U("columnSeparatorMouseDown")}),[U]);h.useEffect(()=>{_||O(a)},[_,a]);const te=h.useCallback(()=>{O(!1)},[]),fe=!E.disableColumnMenu&&!l.disableColumnMenu&&s.jsx(HS,{column:l,columnMenuId:P,columnMenuButtonId:k,open:_,iconButtonRef:T}),oe=s.jsx(WS,{columnMenuId:P,columnMenuButtonId:k,field:l.field,open:a,target:T.current,ContentComponent:E.components.ColumnMenu,contentComponentProps:(n=E.componentsProps)==null?void 0:n.columnMenu,onExited:te}),me=(r=l.sortingOrder)!=null?r:E.sortingOrder,J=s.jsxs(h.Fragment,{children:[!E.disableColumnFilter&&s.jsx(E.components.ColumnHeaderFilterIconButton,S({field:l.field,counter:w},(o=E.componentsProps)==null?void 0:o.columnHeaderFilterIconButton)),l.sortable&&!l.hideSortIcons&&s.jsx(zS,{direction:m,index:g,sortingOrder:me})]});h.useLayoutEffect(()=>{const we=p.current.state.columnMenu;if(b&&!we.open){const _e=D.current.querySelector('[tabindex="0"]')||D.current;_e?.focus(),p.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[p,b]);const ce=typeof l.headerClassName=="function"?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,ae=(i=l.headerName)!=null?i:l.field;return s.jsx(Xf,S({ref:D,classes:N,columnMenuOpen:a,colIndex:c,height:u,isResizing:d,sortDirection:m,hasFocus:b,tabIndex:C,separatorSide:v,isDraggable:I,headerComponent:F,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:fe,columnTitleIconButtons:J,headerClassName:ce,label:ae,resizable:!E.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:oe,draggableContainerProps:Z,columnHeaderSeparatorProps:se},K))}const Yo=e=>e.preferencePanel;var Zn;(function(e){e.filters="filters",e.columns="columns"})(Zn||(Zn={}));const aj=e=>{const{classes:t}=e;return $e({icon:["filterIcon"]},Le,t)};function cj(e){var t;const{counter:n,field:r,onClick:o}=e,i=Fe(),l=be(),a=S({},e,{classes:l.classes}),c=aj(a),u=h.useCallback(f=>{f.preventDefault(),f.stopPropagation();const{open:m,openedPanelValue:g}=Yo(i.current.state);m&&g===Zn.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),o&&o(i.current.getColumnHeaderParams(r),f)},[i,r,o]);if(!n)return null;const d=s.jsx(Be,{onClick:u,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:s.jsx(l.components.ColumnFilteredIcon,{className:c.icon,fontSize:"small"})});return s.jsx(l.components.BaseTooltip,S({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=l.componentsProps)==null?void 0:t.baseTooltip,{children:s.jsxs(Qf,{children:[n>1&&s.jsx(yl,{badgeContent:n,color:"default",children:d}),n===1&&d]})}))}const uj=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],dj=e=>{const{classes:t}=e;return $e({root:["checkboxInput"]},Le,t)},hj=h.forwardRef(function(t,n){var r;const{field:o,id:i,value:l,rowNode:a,hasFocus:c,tabIndex:u}=t,d=ve(t,uj),f=Fe(),m=be(),g={classes:m.classes},w=dj(g),b=h.useRef(null),C=h.useRef(),y=Cr(b,n),x=f.current.getCellElement(i,o),v=P=>{const k={value:P.target.checked,id:i};f.current.publishEvent("rowSelectionCheckboxChange",k,P)};h.useLayoutEffect(()=>{u===0&&x&&(x.tabIndex=-1)},[x,u]),h.useEffect(()=>{if(c){var P;const k=(P=b.current)==null?void 0:P.querySelector("input");k?.focus({preventScroll:!0})}else C.current&&C.current.stop({})},[c]);const p=h.useCallback(P=>{qf(P.key)&&P.stopPropagation(),qs(P.key)&&!P.shiftKey&&f.current.publishEvent("cellNavigationKeyDown",t,P)},[f,t]);if(a.position==="footer")return null;const E=f.current.isRowSelectable(i),D=f.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return a.isPinned?null:s.jsx(m.components.BaseCheckbox,S({ref:y,tabIndex:u,checked:l,onChange:v,className:w.root,inputProps:{"aria-label":D},onKeyDown:p,disabled:!E,touchRippleRef:C},(r=m.componentsProps)==null?void 0:r.baseCheckbox,d))}),fj=hj,Qt=e=>e.selection,mj=ye(Qt,e=>e.length),gj=ye(Qt,Ur,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Xo=ye(Qt,e=>e.reduce((t,n)=>(t[n]=n,t),{})),rs=e=>e.pagination,ms=ye(rs,e=>e.page),Es=ye(rs,e=>e.pageSize);ye(rs,e=>e.pageCount);const Ca=ye(rs,Un,ha,On,Df,(e,t,n,r,o)=>{const i=o.length,l=Math.min(e.pageSize*e.page,i-1),a=Math.min(l+e.pageSize-1,i-1);if(l===-1||a===-1)return null;if(n<2)return{firstRowIndex:l,lastRowIndex:a};const c=o[l],u=a-l+1,d=r.findIndex(g=>g.id===c.id);let f=d,m=0;for(;f<r.length&&m<=u;){const g=r[f],w=t[g.id].depth;(m<u||w>0)&&(f+=1),w===0&&(m+=1)}return{firstRowIndex:d,lastRowIndex:f-1}}),pj=ye(On,Ca,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Zf=ye(ks,Ca,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),xj=["field","colDef"],bj=e=>{const{classes:t}=e;return $e({root:["checkboxInput"]},Le,t)},vj=h.forwardRef(function(t,n){var r;const o=ve(t,xj),[,i]=h.useState(!1),l=Fe(),a=be(),c={classes:a.classes},u=bj(c),d=xe(l,zf),f=xe(l,Qt),m=xe(l,ks),g=xe(l,Zf),w=h.useMemo(()=>typeof a.isRowSelectable!="function"?f:f.filter(k=>l.current.getRow(k)?a.isRowSelectable(l.current.getRowParams(k)):!1),[l,a.isRowSelectable,f]),b=h.useMemo(()=>(!a.pagination||!a.checkboxSelectionVisibleOnly?m:g).reduce((T,_)=>(T[_]=!0,T),{}),[a.pagination,a.checkboxSelectionVisibleOnly,g,m]),C=h.useMemo(()=>w.filter(k=>b[k]).length,[w,b]),y=C>0&&C<Object.keys(b).length,x=C>0,v=k=>{const T={value:k.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",T)},p=d!==null&&d.field===t.field?0:-1;h.useLayoutEffect(()=>{const k=l.current.getColumnHeaderElement(t.field);p===0&&k&&(k.tabIndex=-1)},[p,l,t.field]);const E=h.useCallback(k=>{k.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!x}),qs(k.key)&&!k.shiftKey&&l.current.publishEvent("columnHeaderNavigationKeyDown",t,k)},[l,t,x]),D=h.useCallback(()=>{i(k=>!k)},[]);h.useEffect(()=>l.current.subscribeEvent("selectionChange",D),[l,D]);const P=l.current.getLocaleText(x?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return s.jsx(a.components.BaseCheckbox,S({ref:n,indeterminate:y,checked:x,onChange:v,className:u.root,inputProps:{"aria-label":P},tabIndex:p,onKeyDown:E},(r=a.componentsProps)==null?void 0:r.baseCheckbox,o))}),yj=e=>{const{onClick:t}=e,n=Fe(),r=be(),o=h.useCallback(i=>{t(i),n.current.showPreferences(Zn.columns)},[n,t]);return r.disableColumnSelector?null:s.jsx(le,{onClick:o,children:n.current.getLocaleText("columnMenuShowColumns")})},Cj=e=>{const{column:t,onClick:n}=e,r=Fe(),o=be(),i=h.useCallback(l=>{n(l),r.current.showFilterPanel(t?.field)},[r,t?.field,n]);return o.disableColumnFilter||!(t!=null&&t.filterable)?null:s.jsx(le,{onClick:i,children:r.current.getLocaleText("columnMenuFilter")})},wj=["hideMenu","currentColumn","open","id","labelledby","className","children"],Sj=h.forwardRef(function(t,n){const{hideMenu:r,open:o,id:i,labelledby:l,className:a,children:c}=t,u=ve(t,wj),d=h.useCallback(f=>{Uf(f.key)&&f.preventDefault(),lS(f.key)&&r(f)},[r]);return s.jsx(id,S({id:i,ref:n,className:Ge(G.menuList,a),"aria-labelledby":l,onKeyDown:d,autoFocus:o},u,{children:c}))}),jj=ln(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Jf=(e,t)=>t&&e.length>1?(jj(),[e[0]]):e,Iu=(e,t)=>n=>S({},n,{sorting:S({},n.sorting,{sortModel:Jf(e,t)})}),Pj=e=>e==="desc",kj=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const r=Pj(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator;return{getSortCellParams:i=>({id:i,field:n.field,rowNode:t.current.getRowNode(i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}},Ej=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const l=t.params[i],a=n.params[i];return r=o.comparator(l.value,a.value,l,a),r},0),Ij=(e,t)=>{const n=e.map(r=>kj(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>Ej(n,o,i)).map(o=>o.node.id)},Mu=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},wa=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,Mj=new Intl.Collator,Fj=(e,t)=>{const n=wa(e,t);return n!==null?n:typeof e=="string"?Mj.compare(e.toString(),t.toString()):e-t},em=(e,t)=>{const n=wa(e,t);return n!==null?n:Number(e)-Number(t)},tm=(e,t)=>{const n=wa(e,t);return n!==null?n:e>t?1:e<t?-1:0};function Tj(e){return typeof e=="number"}function nm(e){return typeof e=="function"}function Aj(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function jo(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const es=(e,t,n)=>Math.max(t,Math.min(n,e));function Tn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!Tn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const l=o[i];if(!Tn(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!Tn(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Dj(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Oj(e,t,n){const r=Dj(e);return()=>t+(n-t)*r()}function rm(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const _j=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function sm(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,color:l,error:a,helperText:c,size:u,variant:d}=e,f=ve(e,_j),m={color:l,error:a,helperText:c,size:u,variant:d},[g,w]=h.useState(t.value||[]),b=$t(),C=be();h.useEffect(()=>{var x;const v=(x=t.value)!=null?x:[];w(v.map(String))},[t.value]);const y=h.useCallback((x,v)=>{w(v.map(String)),n(S({},t,{value:[...v]}))},[n,t]);return s.jsx($r,S({multiple:!0,freeSolo:!0,options:[],filterOptions:(x,v)=>{const{inputValue:p}=v;return p==null||p===""?[]:[p]},id:b,value:g,onChange:y,renderTags:(x,v)=>x.map((p,E)=>s.jsx(at,S({variant:"outlined",size:"small",label:p},v({index:E})))),renderInput:x=>{var v;return s.jsx(C.components.BaseTextField,S({},x,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},x.InputLabelProps,{shrink:!0}),inputRef:i,type:r||"text"},m,(v=C.componentsProps)==null?void 0:v.baseTextField))}},f))}const Vj=e=>{if(!e)return null;const t=new RegExp(jo(e),"i");return({value:n})=>n!=null?t.test(n.toString()):!1},$j=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(jo(n),"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?r.compare(n,o.toString())===0:!1},InputComponent:mn},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${jo(n)}.*$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${jo(n)}$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:mn},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:sm}],Jn={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Fj,type:"string",align:"left",filterOperators:$j(),renderEditCell:Jw,getApplyQuickFilterFn:Vj},Sa="actions",Lj=S({},Jn,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:yS,getApplyQuickFilterFn:void 0}),Rj=["item","applyValue","apiRef","focusElementRef"];function Nj(e){var t,n,r,o;const{item:i,applyValue:l,apiRef:a,focusElementRef:c}=e,u=ve(e,Rj),[d,f]=h.useState(i.value||""),m=be(),w=(n=(((t=m.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!0,b=w?"option":le,C=h.useCallback(y=>{const x=y.target.value;f(x),l(S({},i,{value:x}))},[l,i]);return h.useEffect(()=>{f(i.value||"")},[i.value]),s.jsxs(m.components.BaseTextField,S({label:a.current.getLocaleText("filterPanelInputLabel"),value:d,onChange:C,select:!0,variant:"standard",SelectProps:S({native:w,displayEmpty:!0},(r=m.componentsProps)==null?void 0:r.baseSelect),InputLabelProps:{shrink:!0},inputRef:c},u,(o=m.componentsProps)==null?void 0:o.baseTextField,{children:[s.jsx(b,{value:"",children:a.current.getLocaleText("filterValueAny")}),s.jsx(b,{value:"true",children:a.current.getLocaleText("filterValueTrue")}),s.jsx(b,{value:"false",children:a.current.getLocaleText("filterValueFalse")})]}))}const zj=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:n})=>!!n===t},InputComponent:Nj}];function Bj({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const om=S({},Jn,{type:"boolean",align:"center",headerAlign:"center",renderCell:ww,renderEditCell:kw,sortComparator:em,valueFormatter:Bj,filterOperators:zj(),getApplyQuickFilterFn:void 0,aggregable:!1}),Rn="__check__",Ks=S({},om,{field:Rn,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>Xo(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>s.jsx(vj,S({},e)),renderCell:e=>s.jsx(fj,S({},e))}),Hj=["item","applyValue","type","apiRef","focusElementRef","InputProps"],Wj=500;function Tr(e){var t,n;const{item:r,applyValue:o,type:i,apiRef:l,focusElementRef:a,InputProps:c}=e,u=ve(e,Hj),d=h.useRef(),[f,m]=h.useState((t=r.value)!=null?t:""),[g,w]=h.useState(!1),b=$t(),C=be(),y=h.useCallback(x=>{const v=x.target.value;clearTimeout(d.current),m(String(v)),w(!0),d.current=setTimeout(()=>{o(S({},r,{value:v})),w(!1)},Wj)},[o,r]);return h.useEffect(()=>()=>{clearTimeout(d.current)},[]),h.useEffect(()=>{var x;const v=(x=r.value)!=null?x:"";m(String(v))},[r.value]),s.jsx(C.components.BaseTextField,S({id:b,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:y,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:S({},g?{endAdornment:s.jsx(ba,{})}:{},c,{inputProps:S({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},c?.inputProps)})},u,(n=C.componentsProps)==null?void 0:n.baseTextField))}const Gj=/(\d+)-(\d+)-(\d+)/,Uj=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Ar(e,t,n,r){if(!e.value)return null;const[o,i,l,a,c]=e.value.match(n?Uj:Gj).slice(1).map(Number),u=new Date(o,i-1,l,a||0,c||0).getTime();return({value:d})=>{if(!d)return!1;const f=d instanceof Date?d:new Date(d.toString());if(r)return t(f.getTime(),u);const g=(d instanceof Date?new Date(f):f).setHours(n?f.getHours():0,n?f.getMinutes():0,0,0);return t(g,u)}}const im=e=>[{value:"is",getApplyFilterFn:t=>Ar(t,(n,r)=>n===r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Ar(t,(n,r)=>n!==r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Ar(t,(n,r)=>n>r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Ar(t,(n,r)=>n>=r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Ar(t,(n,r)=>n<r,e,!e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Ar(t,(n,r)=>n<=r,e),InputComponent:Tr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function qj({value:e}){return e instanceof Date?e.toLocaleDateString():e??""}function Kj({value:e}){return e instanceof Date?e.toLocaleString():e??""}const Qj=S({},Jn,{type:"date",sortComparator:tm,valueFormatter:qj,filterOperators:im(),renderEditCell:Bf,getApplyQuickFilterFn:void 0}),Yj=S({},Jn,{type:"dateTime",sortComparator:tm,valueFormatter:Kj,filterOperators:im(!0),renderEditCell:Bf,getApplyQuickFilterFn:void 0}),Bn=e=>e==null?null:Number(e),Xj=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>Bn(t)===Bn(e),Zj=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>Bn(t)===e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>Bn(t)!==e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Bn(t)>e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Bn(t)>=e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Bn(t)<e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:Bn(t)<=e.value,InputComponent:mn,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:sm,InputComponentProps:{type:"number"}}],Jj=S({},Jn,{type:"number",align:"right",headerAlign:"right",sortComparator:em,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>Tj(e)?e.toLocaleString():e||"",filterOperators:Zj(),getApplyQuickFilterFn:Xj}),e1=["item","applyValue","type","apiRef","focusElementRef"],t1=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(l=>{const a=typeof l=="object",c=a?l.value:l,u=a?l.value:l,d=t&&l!==""?t({value:l,field:n,api:r}):l,f=a?l.label:d;return s.jsx(o,{value:u,children:f},c)});function Fu(e){var t,n,r,o,i;const{item:l,applyValue:a,type:c,apiRef:u,focusElementRef:d}=e,f=ve(e,e1),[m,g]=h.useState((t=l.value)!=null?t:""),w=$t(),b=be(),y=(r=(((n=b.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,x=l.columnField?u.current.getColumn(l.columnField):null,v=h.useMemo(()=>{if(x!==null)return typeof x.valueOptions=="function"?x.valueOptions({field:x.field}):x.valueOptions},[x]),p=h.useCallback(E=>{let D=E.target.value;D=Qo(D,v),g(String(D)),a(S({},l,{value:D}))},[a,l,v]);return h.useEffect(()=>{var E;let D;if(v!==void 0){if(D=Qo(l.value,v),D!==l.value){a(S({},l,{value:D}));return}}else D=l.value;D=(E=D)!=null?E:"",g(String(D))},[l,v,a]),s.jsx(b.components.BaseTextField,S({id:w,label:u.current.getLocaleText("filterPanelInputLabel"),placeholder:u.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:p,variant:"standard",type:c||"text",InputLabelProps:{shrink:!0},inputRef:d,select:!0,SelectProps:S({native:y},(o=b.componentsProps)==null?void 0:o.baseSelect)},f,(i=b.componentsProps)==null?void 0:i.baseTextField,{children:t1(u.current.getColumn(l.columnField),u.current,y?"option":le)}))}const n1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],r1=(e,t)=>qn(e)===qn(t),s1=hg();function o1(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:i,error:l,helperText:a,size:c,variant:u="standard"}=e,d=ve(e,n1),f={color:i,error:l,helperText:a,size:c,variant:u},m=$t(),g=be(),w=t.columnField?r.current.getColumn(t.columnField):null,b=h.useMemo(()=>w!=null&&w.valueOptions?typeof w.valueOptions=="function"?w.valueOptions({field:w.field}):w.valueOptions:[],[w]),C=h.useMemo(()=>b?.map(qn),[b]),{valueFormatter:y,field:x}=r.current.getColumn(t.columnField),v=D=>typeof D=="object"?D.label:y&&D!==""?y({value:D,field:x,api:r.current}):D,p=h.useMemo(()=>Array.isArray(t.value)?b!==void 0?t.value.map(P=>{const k=qn(P);return C?.findIndex(_=>_===k)||0}).filter(P=>P>=0).map(P=>b[P]):t.value:[],[t.value,b,C]);h.useEffect(()=>{(!Array.isArray(t.value)||p.length!==t.value.length)&&n(S({},t,{value:p.map(qn)}))},[t,p,n]);const E=h.useCallback((D,P)=>{n(S({},t,{value:[...P.map(qn)]}))},[n,t]);return s.jsx($r,S({multiple:!0,options:b,isOptionEqualToValue:r1,filterOptions:s1,id:m,value:p,onChange:E,renderTags:(D,P)=>D.map((k,T)=>s.jsx(at,S({variant:"outlined",size:"small",label:v(k)},P({index:T})))),renderInput:D=>{var P;return s.jsx(g.components.BaseTextField,S({},D,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},D.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},f,(P=g.componentsProps)==null?void 0:P.baseTextField))}},d))}const Hn=e=>e==null||typeof e!="object"?e:e.value,i1=(e,t,n)=>{if(!e)return null;const{valueOptions:r,valueFormatter:o,field:i}=t,l=[Hn(e).toString()],a=typeof r=="function"?r({field:i}):r||[];return a&&a.forEach(c=>{let u,d;typeof c=="object"?(u=c.value,d=c.label):(u=c,o?d=o({value:c,field:i,api:n.current}):d=c),d.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(l.includes(u)||l.push(u.toString()))}),({value:c})=>c!=null?l.includes(Hn(c).toString()):!1},l1=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Hn(t)===Hn(e.value),InputComponent:Fu},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Hn(t)!==Hn(e.value),InputComponent:Fu},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Hn);return({value:n})=>t.includes(Hn(n))},InputComponent:o1}],a1=S({},Jn,{type:"singleSelect",renderEditCell:hS,filterOperators:l1(),getApplyQuickFilterFn:i1}),Zo="__default__",c1=()=>({string:Jn,number:Jj,date:Qj,dateTime:Yj,boolean:om,singleSelect:a1,[Sa]:Lj,[Zo]:Jn}),lm=["maxWidth","minWidth","width","flex"],am=(e={})=>{const t=S({},c1());return Object.entries(e).forEach(([n,r])=>{t[n]?t[n]=S({},t[n],r):t[n]=S({},t[r.extendType||Zo],r)}),t};function u1({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r={all:{},frozenFields:[],freeze:i=>{const l=r.all[i];l&&l.frozen!==!0&&(r.all[i].frozen=!0,r.frozenFields.push(i))}};function o(){if(r.frozenFields.length===n.length)return;const i={min:{},max:{}};let l=e,a=t,c=0;r.frozenFields.forEach(u=>{l-=r.all[u].computedWidth,a-=r.all[u].flex});for(let u=0;u<n.length;u+=1){const d=n[u];if(r.all[d.field]&&r.all[d.field].frozen===!0)continue;let m=l/a*d.flex;m<d.minWidth?(c+=d.minWidth-m,m=d.minWidth,i.min[d.field]=!0):m>d.maxWidth&&(c+=d.maxWidth-m,m=d.maxWidth,i.max[d.field]=!0),r.all[d.field]={frozen:!1,computedWidth:m,flex:d.flex}}c<0?Object.keys(i.max).forEach(u=>{r.freeze(u)}):c>0?Object.keys(i.min).forEach(u=>{r.freeze(u)}):n.forEach(({field:u})=>{r.freeze(u)}),o()}return o(),r.all}const cm=(e,t)=>{const n={};let r=0,o=0;const i=[];e.all.forEach(a=>{const c=S({},e.lookup[a]);if(e.columnVisibilityModel[a]===!1)c.computedWidth=0;else{let u;c.flex&&c.flex>0?(r+=c.flex,u=0,i.push(c)):u=es(c.width,c.minWidth,c.maxWidth),o+=u,c.computedWidth=u}n[a]=c});const l=Math.max(t-o,0);if(r>0&&t>0){const a=u1({initialFreeSpace:l,totalFlexUnits:r,flexColumns:i});Object.keys(a).forEach(c=>{n[c].computedWidth=a[c].computedWidth})}return S({},e,{lookup:n})},d1=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},l=[];for(let d=0;d<n.length;d+=1){const f=n[d];e.lookup[f]&&(i[f]=!0,l.push(f))}const a=l.length===0?e.all:[...l,...e.all.filter(d=>!i[d])],c=S({},e.lookup);for(let d=0;d<o.length;d+=1){const f=o[d],m=S({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([g,w])=>{m[g]=w===-1?1/0:w}),c[f]=m}return{all:a,lookup:c}},h1=(e,t)=>!t||!e[t]?e[Zo]:e[t],Vr=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:r,currentColumnVisibilityModel:o=In(e),shouldRegenColumnVisibilityModelFromColumns:i,keepOnlyColumnsToUpsert:l=!1})=>{var a,c,u,d;const f=!e.current.state.columns;let m;if(f)m={all:[],lookup:{}};else{const p=vr(e.current.state);m={all:l?[]:[...p.all],lookup:S({},p.lookup)}}let g={};l&&!f&&(g=Object.keys(m.lookup).reduce((p,E)=>S({},p,{[E]:!1}),{}));const w={};t.forEach(p=>{const{field:E}=p;w[E]=!0,g[E]=!0;let D=m.lookup[E];D==null?(D=S({},h1(r,p.type),{field:E,hasBeenResized:!1}),m.all.push(E)):l&&m.all.push(E);let P=D.hasBeenResized;lm.forEach(k=>{p[k]!==void 0&&(P=!0,p[k]===-1&&(p[k]=1/0))}),m.lookup[E]=S({},D,{hide:p.hide==null?!1:p.hide},p,{hasBeenResized:P})}),l&&!f&&Object.keys(m.lookup).forEach(p=>{g[p]||delete m.lookup[p]});const b=S({},m.lookup),C=e.current.unstable_applyPipeProcessors("hydrateColumns",m);let y={};if(i){let p=!1;const E=S({},o);f?C.all.forEach(D=>{E[D]=!m.lookup[D].hide}):l&&Object.keys(E).forEach(D=>{C.lookup[D]||(delete E[D],p=!0)}),C.all.forEach(D=>{if(!w[D]&&b[D]===C.lookup[D])return;let P=o[D];P===void 0&&(f?P=!0:P=!!vr(e.current.state).lookup[D]);const k=!C.lookup[D].hide;k!==P&&(p=!0,E[D]=k)}),p||f?y=E:y=o}else y=o;const x=d1(C,n),v=S({},x,{columnVisibilityModel:y});return cm(v,(a=(c=(u=e.current).getRootDimensions)==null||(d=c.call(u))==null?void 0:d.viewportInnerSize.width)!=null?a:0)},Tu=e=>t=>S({},t,{columns:e});function gl({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=e;for(let l=n;l<r;l+=1)if(o[l]){const c=o[l].id,u=t.current.unstable_getCellColSpanInfo(c,e);u&&u.spannedByColSpan&&(i=u.leftVisibleCellIndex)}return i}function f1({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:r,lastRowToRender:o,apiRef:i,visibleRows:l}){const a=Math.max(e-n,t);return gl({firstColumnToRender:a,apiRef:i,firstRowToRender:r,lastRowToRender:o,visibleRows:l})}const m1=e=>{const{column:t,onClick:n}=e,r=Fe(),o=be(),i=h.useRef(),c=Mt(r).filter(d=>d.disableColumnMenu!==!0).length===1,u=h.useCallback(d=>{c||(n(d),i.current=setTimeout(()=>{r.current.setColumnVisibility(t?.field,!1)},100))},[r,t?.field,n,c]);return h.useEffect(()=>()=>clearTimeout(i.current),[]),o.disableColumnSelector||t.hideable===!1?null:s.jsx(le,{onClick:u,disabled:c,children:r.current.getLocaleText("columnMenuHideColumn")})};function g1(e){var t;const{column:n,onClick:r}=e,o=Fe(),i=xe(o,Jt),l=be(),a=(t=n.sortingOrder)!=null?t:l.sortingOrder,c=h.useMemo(()=>{if(!n)return null;const d=i.find(f=>f.field===n.field);return d?.sort},[n,i]),u=h.useCallback(d=>{r(d);const f=d.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(n,f)},[o,n,r]);return!n||!n.sortable?null:s.jsxs(h.Fragment,{children:[a.includes(null)?s.jsx(le,{onClick:u,disabled:c==null,children:o.current.getLocaleText("columnMenuUnsort")}):null,a.includes("asc")?s.jsx(le,{onClick:u,"data-value":"asc",disabled:c==="asc",children:o.current.getLocaleText("columnMenuSortAsc")}):null,a.includes("desc")?s.jsx(le,{onClick:u,"data-value":"desc",disabled:c==="desc",children:o.current.getLocaleText("columnMenuSortDesc")}):null]})}const p1=h.forwardRef(function(t,n){const{hideMenu:r,currentColumn:o}=t,i=Fe(),l=[s.jsx(g1,{onClick:r,column:o}),s.jsx(Cj,{onClick:r,column:o}),s.jsx(m1,{onClick:r,column:o}),s.jsx(yj,{onClick:r,column:o})],a=i.current.unstable_applyPipeProcessors("columnMenu",l,o);return s.jsx(Sj,S({ref:n},t,{children:a.map((c,u)=>h.cloneElement(c,{key:u,onClick:r,column:o}))}))}),x1=["className"],b1=e=>{const{classes:t}=e;return $e({root:["panelContent"]},Le,t)},v1=He("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function um(e){const{className:t}=e,n=ve(e,x1),r=be(),o=b1(r);return s.jsx(v1,S({className:Ge(t,o.root),ownerState:r},n))}const y1=["className"],C1=e=>{const{classes:t}=e;return $e({root:["panelFooter"]},Le,t)},w1=He("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function dm(e){const{className:t}=e,n=ve(e,y1),r=be(),o=C1(r);return s.jsx(w1,S({className:Ge(t,o.root),ownerState:r},n))}const S1=["className"],j1=e=>{const{classes:t}=e;return $e({root:["panelHeader"]},Le,t)},P1=He("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function k1(e){const{className:t}=e,n=ve(e,S1),r=be(),o=j1(r);return s.jsx(P1,S({className:Ge(t,o.root),ownerState:r},n))}const E1=["className","slotProps"],I1=e=>{const{classes:t}=e;return $e({root:["panelWrapper"]},Le,t)},M1=He("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),F1=()=>!0,hm=h.forwardRef(function(t,n){const{className:r,slotProps:o={}}=t,i=ve(t,E1),l=be(),a=I1(l);return s.jsx(fg,S({open:!0,disableEnforceFocus:!0,isEnabled:F1},o.TrapFocus,{children:s.jsx(M1,S({ref:n,tabIndex:-1,className:Ge(r,a.root),ownerState:l},i))}))}),T1=!1,A1=["sort","searchPredicate","autoFocusSearchField"],D1=e=>{const{classes:t}=e;return $e({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},Le,t)},O1=He("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),_1=He("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${mg.root}`]:{marginRight:e.spacing(.5)}}));He(Be)({justifyContent:"flex-end"});const Au=new Intl.Collator,V1=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function $1(e){var t,n,r;const o=Fe(),i=h.useRef(null),l=xe(o,on),a=xe(o,In),c=be(),[u,d]=h.useState(""),f=D1(c),{sort:m,searchPredicate:g=V1,autoFocusSearchField:w=!0}=e,b=ve(e,A1),C=h.useMemo(()=>{switch(m){case"asc":return[...l].sort((k,T)=>Au.compare(k.headerName||k.field,T.headerName||T.field));case"desc":return[...l].sort((k,T)=>-Au.compare(k.headerName||k.field,T.headerName||T.field));default:return l}},[l,m]),y=k=>{const{name:T}=k.target;o.current.setColumnVisibility(T,a[T]===!1)},x=h.useCallback(k=>{if(o.current.unstable_caches.columns.isUsingColumnVisibilityModel){const T=In(o),_=S({},T);return l.forEach(O=>{O.hideable&&(k?delete _[O.field]:_[O.field]=!1)}),o.current.setColumnVisibilityModel(_)}return o.current.updateColumns(l.map(T=>T.hideable!==!1?{field:T.field,hide:!k}:T))},[o,l]),v=h.useCallback(k=>{d(k.target.value)},[]),p=h.useMemo(()=>{if(!u)return C;const k=u.toLowerCase();return C.filter(T=>g(T,k))},[C,u,g]),E=h.useRef(null);h.useEffect(()=>{w?i.current.focus():E.current&&typeof E.current.focus=="function"&&E.current.focus()},[w]);let D=!1;const P=k=>D===!1&&k.hideable!==!1?(D=!0,!0):!1;return s.jsxs(hm,S({},b,{children:[s.jsx(k1,{children:s.jsx(c.components.BaseTextField,S({label:o.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:o.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:i,value:u,onChange:v,variant:"standard",fullWidth:!0},(t=c.componentsProps)==null?void 0:t.baseTextField))}),s.jsx(um,{children:s.jsx(O1,{className:f.root,ownerState:c,children:p.map(k=>{var T;return s.jsxs(_1,{className:f.columnsPanelRow,ownerState:c,children:[s.jsx(hs,{control:s.jsx(c.components.BaseSwitch,S({disabled:k.hideable===!1,checked:a[k.field]!==!1,onClick:y,name:k.field,size:"small",inputRef:P(k)?E:void 0},(T=c.componentsProps)==null?void 0:T.baseSwitch)),label:k.headerName||k.field}),!c.disableColumnReorder&&T1]},k.field)})})}),s.jsxs(dm,{children:[s.jsx(c.components.BaseButton,S({onClick:()=>x(!1)},(n=c.componentsProps)==null?void 0:n.baseButton,{children:o.current.getLocaleText("columnsPanelHideAllButton")})),s.jsx(c.components.BaseButton,S({onClick:()=>x(!0)},(r=c.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const L1=["children","className","classes"],R1=rd("MuiDataGrid",["panel","paper"]),N1=He(jl,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),z1=He(Yt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),B1=h.forwardRef((e,t)=>{var n;const{children:r,className:o}=e,i=ve(e,L1),l=Fe(),a=be(),c=R1,[u,d]=h.useState(!1),f=h.useCallback(()=>{l.current.hidePreferences()},[l]),m=h.useCallback(b=>{va(b.key)&&l.current.hidePreferences()},[l]),g=h.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}],[]),w=(n=l.current.columnHeadersContainerElementRef)==null?void 0:n.current;return w?s.jsx(N1,S({ref:t,placement:"bottom-start",className:Ge(o,c.panel),ownerState:a,anchorEl:w,modifiers:g},i,{children:s.jsx(od,{mouseEvent:"onMouseUp",onClickAway:f,children:s.jsx(z1,{className:c.paper,ownerState:a,elevation:8,onKeyDown:m,children:u&&r})})})):null}),H1=h.forwardRef(function(t,n){var r,o,i;const l=Fe(),a=xe(l,on),c=be(),u=xe(l,Yo),d=l.current.unstable_applyPipeProcessors("preferencePanel",null,(r=u.openedPanelValue)!=null?r:Zn.filters);return s.jsx(c.components.Panel,S({ref:n,as:c.components.BasePopper,open:a.length>0&&u.open},(o=c.componentsProps)==null?void 0:o.panel,t,(i=c.componentsProps)==null?void 0:i.basePopper,{children:d}))}),W1=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],G1=["InputComponentProps"],U1=e=>{const{classes:t}=e;return $e({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Le,t)},q1=He("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),K1=He(ze,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),Q1=He(ze,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),Y1=He(ze,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),X1=He(ze,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Z1=He(ze,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),J1=e=>{switch(e){case Vt.And:return"filterPanelOperatorAnd";case Vt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},cs=e=>e.headerName||e.field,Du=new Intl.Collator,eP=h.forwardRef(function(t,n){var r,o,i,l,a,c,u;const{item:d,hasMultipleFilters:f,deleteFilter:m,applyFilterChanges:g,multiFilterOperator:w,showMultiFilterOperators:b,disableMultiFilterOperator:C,applyMultiFilterOperatorChanges:y,focusElementRef:x,linkOperators:v=[Vt.And,Vt.Or],columnsSort:p,deleteIconProps:E={},linkOperatorInputProps:D={},operatorInputProps:P={},columnInputProps:k={},valueInputProps:T={}}=t,_=ve(t,W1),O=Fe(),z=xe(O,pa),$=$t(),I=$t(),F=$t(),V=$t(),H=be(),R=U1(H),N=h.useRef(null),U=h.useRef(null),K=f&&v.length>0,Z=((r=H.componentsProps)==null?void 0:r.baseFormControl)||{},te=(i=(((o=H.componentsProps)==null?void 0:o.baseSelect)||{}).native)!=null?i:!0,fe=te?"option":le,{InputComponentProps:oe}=T,me=ve(T,G1),J=h.useMemo(()=>{switch(p){case"asc":return z.sort((ie,Ce)=>Du.compare(cs(ie),cs(Ce)));case"desc":return z.sort((ie,Ce)=>-Du.compare(cs(ie),cs(Ce)));default:return z}},[z,p]),ce=d.columnField?O.current.getColumn(d.columnField):null,ae=h.useMemo(()=>{var ie;return!d.operatorValue||!ce?null:(ie=ce.filterOperators)==null?void 0:ie.find(Ce=>Ce.value===d.operatorValue)},[d,ce]),we=h.useCallback(ie=>{const Ce=ie.target.value,je=O.current.getColumn(Ce);if(je.field===ce.field)return;const Ve=je.filterOperators.find(L=>L.value===d.operatorValue)||je.filterOperators[0],Ue=!Ve.InputComponent||Ve.InputComponent!==ae?.InputComponent;g(S({},d,{columnField:Ce,operatorValue:Ve.value,value:Ue?void 0:d.value}))},[O,g,d,ce,ae]),pe=h.useCallback(ie=>{const Ce=ie.target.value,je=ce?.filterOperators.find(Ue=>Ue.value===Ce),Ve=!(je!=null&&je.InputComponent)||je?.InputComponent!==ae?.InputComponent;g(S({},d,{operatorValue:Ce,value:Ve?void 0:d.value}))},[g,d,ce,ae]),_e=h.useCallback(ie=>{const Ce=ie.target.value===Vt.And.toString()?Vt.And:Vt.Or;y(Ce)},[y]),Ye=()=>{H.disableMultipleColumnsFiltering?d.value===void 0?m(d):g(S({},d,{value:void 0})):m(d)};return h.useImperativeHandle(x,()=>({focus:()=>{if(ae!=null&&ae.InputComponent){var ie;N==null||(ie=N.current)==null||ie.focus()}else U.current.focus()}}),[ae]),s.jsxs(q1,S({ref:n,className:R.root,ownerState:H},_,{children:[s.jsx(K1,S({variant:"standard",as:H.components.BaseFormControl},Z,E,{className:Ge(R.deleteIcon,Z.className,E.className),ownerState:H,children:s.jsx(Be,{"aria-label":O.current.getLocaleText("filterPanelDeleteIconLabel"),title:O.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ye,size:"small",children:s.jsx(H.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),s.jsx(Q1,S({variant:"standard",as:H.components.BaseFormControl},Z,D,{sx:S({display:K?"flex":"none",visibility:b?"visible":"hidden"},Z.sx||{},D.sx||{}),className:Ge(R.linkOperatorInput,Z.className,D.className),ownerState:H,children:s.jsx(H.components.BaseSelect,S({inputProps:{"aria-label":O.current.getLocaleText("filterPanelLinkOperator")},value:w,onChange:_e,disabled:!!C||v.length===1,native:te},(l=H.componentsProps)==null?void 0:l.baseSelect,{children:v.map(ie=>s.jsx(fe,{value:ie.toString(),children:O.current.getLocaleText(J1(ie))},ie.toString()))}))})),s.jsxs(Y1,S({variant:"standard",as:H.components.BaseFormControl},Z,k,{className:Ge(R.columnInput,Z.className,k.className),ownerState:H,children:[s.jsx(et,{htmlFor:$,id:I,children:O.current.getLocaleText("filterPanelColumns")}),s.jsx(H.components.BaseSelect,S({labelId:I,id:$,label:O.current.getLocaleText("filterPanelColumns"),value:d.columnField||"",onChange:we,native:te},(a=H.componentsProps)==null?void 0:a.baseSelect,{children:J.map(ie=>s.jsx(fe,{value:ie.field,children:cs(ie)},ie.field))}))]})),s.jsxs(X1,S({variant:"standard",as:H.components.BaseFormControl},Z,P,{className:Ge(R.operatorInput,Z.className,P.className),ownerState:H,children:[s.jsx(et,{htmlFor:F,id:V,children:O.current.getLocaleText("filterPanelOperators")}),s.jsx(H.components.BaseSelect,S({labelId:V,label:O.current.getLocaleText("filterPanelOperators"),id:F,value:d.operatorValue,onChange:pe,native:te,inputRef:U},(c=H.componentsProps)==null?void 0:c.baseSelect,{children:ce==null||(u=ce.filterOperators)==null?void 0:u.map(ie=>s.jsx(fe,{value:ie.value,children:ie.label||O.current.getLocaleText(`filterOperator${br(ie.value)}`)},ie.value))}))]})),s.jsx(Z1,S({variant:"standard",as:H.components.BaseFormControl},Z,me,{className:Ge(R.valueInput,Z.className,me.className),ownerState:H,children:ae!=null&&ae.InputComponent?s.jsx(ae.InputComponent,S({apiRef:O,item:d,applyValue:g,focusElementRef:N},ae.InputComponentProps,oe)):null}))]}))}),tP=["linkOperators","columnsSort","filterFormProps","children"],nP=h.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,Rt),a=xe(o,pa),c=h.useRef(null),{linkOperators:u=[Vt.And,Vt.Or],columnsSort:d,filterFormProps:f}=t,m=ve(t,tP),g=h.useCallback(p=>{o.current.upsertFilterItem(p)},[o]),w=h.useCallback(p=>{o.current.setFilterLinkOperator(p)},[o]),b=h.useCallback(()=>{const p=a.find(E=>{var D;return(D=E.filterOperators)==null?void 0:D.length});return p?{columnField:p.field,operatorValue:p.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[a]),C=h.useMemo(()=>{if(l.items.length)return l.items;const p=b();return p?[p]:[]},[l.items,b]),y=C.length>1,x=()=>{const p=b();p&&o.current.upsertFilterItems([...C,p])},v=h.useCallback(p=>{const E=C.length===1;o.current.deleteFilterItem(p),E&&o.current.hideFilterPanel()},[o,C.length]);return h.useEffect(()=>{u.length>0&&l.linkOperator&&!u.includes(l.linkOperator)&&w(u[0])},[u,w,l.linkOperator]),h.useEffect(()=>{C.length>0&&c.current.focus()},[C.length]),s.jsxs(hm,S({ref:n},m,{children:[s.jsx(um,{children:C.map((p,E)=>s.jsx(eP,S({item:p,applyFilterChanges:g,deleteFilter:v,hasMultipleFilters:y,showMultiFilterOperators:E>0,multiFilterOperator:l.linkOperator,disableMultiFilterOperator:E!==1,applyMultiFilterOperatorChanges:w,focusElementRef:E===C.length-1?c:null,linkOperators:u,columnsSort:d},f),p.id==null?E:p.id))}),!i.disableMultipleColumnsFiltering&&s.jsx(dm,{children:s.jsx(i.components.BaseButton,S({onClick:x,startIcon:s.jsx(Hf,{})},(r=i.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")}))})]}))}),rP=["hideMenu","options"],sP=["hideMenu","options"],oP=e=>{const t=Fe(),{hideMenu:n,options:r}=e,o=ve(e,rP);return s.jsx(le,S({onClick:()=>{t.current.exportDataAsCsv(r),n?.()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))},iP=e=>{const t=Fe(),{hideMenu:n,options:r}=e,o=ve(e,sP);return s.jsx(le,S({onClick:()=>{t.current.exportDataAsPrint(r),n?.()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))},Os=()=>({items:[],linkOperator:Vt.And,quickFilterValues:[],quickFilterLogicOperator:Vt.And}),lP=["className","rowCount","visibleRowCount"],aP=e=>{const{classes:t}=e;return $e({root:["rowCount"]},Le,t)},cP=He("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),uP=h.forwardRef(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,l=ve(t,lP),a=Fe(),c=be(),u=aP(c);if(o===0)return null;const d=i<o?a.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return s.jsxs(cP,S({ref:n,className:Ge(u.root,r),ownerState:c},l,{children:[a.current.getLocaleText("footerTotalRows")," ",d]}))}),dP=["className","selectedRowCount"],hP=e=>{const{classes:t}=e;return $e({root:["selectedRowCount"]},Le,t)},fP=He("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),mP=h.forwardRef(function(t,n){const{className:r,selectedRowCount:o}=t,i=ve(t,dP),l=Fe(),a=be(),c=hP(a),u=l.current.getLocaleText("footerRowSelected")(o);return s.jsx(fP,S({ref:n,className:Ge(c.root,r),ownerState:a},i,{children:u}))}),gP=h.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,U0),a=xe(o,mj),c=xe(o,_f),u=!i.hideFooterSelectedRowCount&&a>0?s.jsx(mP,{selectedRowCount:a}):s.jsx("div",{}),d=!i.hideFooterRowCount&&!i.pagination?s.jsx(uP,{rowCount:l,visibleRowCount:c}):null,f=i.pagination&&!i.hideFooterPagination&&i.components.Pagination&&s.jsx(i.components.Pagination,S({},(r=i.componentsProps)==null?void 0:r.pagination));return s.jsxs(TS,S({ref:n},t,{children:[u,d,f]}))}),pP=h.forwardRef(function(t,n){var r,o;const i=be();return s.jsxs("div",S({ref:n},t,{children:[s.jsx(i.components.PreferencesPanel,S({},(r=i.componentsProps)==null?void 0:r.preferencesPanel)),i.components.Toolbar&&s.jsx(i.components.Toolbar,S({},(o=i.componentsProps)==null?void 0:o.toolbar))]}))}),xP=h.forwardRef(function(t,n){return s.jsx(xi,S({ref:n},t,{children:s.jsx(gg,{})}))}),bP=h.forwardRef(function(t,n){const o=Fe().current.getLocaleText("noRowsLabel");return s.jsx(xi,S({ref:n},t,{children:o}))}),vP=He(pg)(({theme:e})=>({[`& .${Va.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Va.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),yP=h.forwardRef(function(t,n){var r;const o=Fe(),i=be(),l=xe(o,rs),a=h.useMemo(()=>Math.floor(l.rowCount/(l.pageSize||1)),[l.rowCount,l.pageSize]),c=h.useCallback(d=>{const f=Number(d.target.value);o.current.setPageSize(f)},[o]),u=h.useCallback((d,f)=>{o.current.setPage(f)},[o]);return s.jsx(vP,S({ref:n,component:"div",count:l.rowCount,page:l.page<=a?l.page:a,rowsPerPageOptions:(r=i.rowsPerPageOptions)!=null&&r.includes(l.pageSize)?i.rowsPerPageOptions:[],rowsPerPage:l.pageSize,onPageChange:u,onRowsPerPageChange:c},o.current.getLocaleText("MuiTablePagination"),t))}),bi=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=Ca(e),n=pj(e)):(n=On(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},kr=(e,t)=>{const n=bi(e,t);return h.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},ja="__detail_panel_toggle__",CP=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],wP=["changeReason"],SP=e=>{const{editable:t,editing:n,selected:r,isLastVisible:o,rowHeight:i,classes:l}=e;return $e({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",o&&"row--lastVisible",i==="auto"&&"row--dynamicHeight"]},Le,l)},jP=({width:e})=>{if(!e)return null;const t={width:e};return s.jsx("div",{className:"MuiDataGrid-cell",style:t})},PP=h.forwardRef(function(t,n){var r;const{selected:o,rowId:i,row:l,index:a,style:c,position:u,rowHeight:d,className:f,visibleColumns:m,renderedColumns:g,containerWidth:w,firstColumnToRender:b,cellFocus:C,cellTabIndex:y,editRowsState:x,isLastVisible:v=!1,onClick:p,onDoubleClick:E,onMouseEnter:D,onMouseLeave:P}=t,k=ve(t,CP),T=Fe(),_=h.useRef(null),O=be(),z=kr(T,O),$=xe(T,gi),I=xe(T,Jt),F=xe(T,ha),V=xe(T,xa),H=Cr(_,n),R=a+V+2,{hasScrollX:N,hasScrollY:U}=(r=T.current.getRootDimensions())!=null?r:{hasScrollX:!1,hasScrollY:!1},K={selected:o,isLastVisible:v,classes:O.classes,editing:T.current.getRowMode(i)===We.Edit,editable:O.editMode===It.Row,rowHeight:d},Z=SP(K);h.useLayoutEffect(()=>{d==="auto"&&_.current&&typeof ResizeObserver>"u"&&T.current.unstable_storeRowHeightMeasurement(i,_.current.clientHeight,u)},[T,d,i,u]),h.useLayoutEffect(()=>{if(z.range){const Ve=T.current.getRowIndexRelativeToVisibleRows(i);Ve!=null&&T.current.unstable_setLastMeasuredRowIndex(Ve)}const ie=_.current;if(!ie||d!=="auto"||typeof ResizeObserver>"u")return;const je=new ResizeObserver(Ve=>{const[Ue]=Ve,L=Ue.borderBoxSize&&Ue.borderBoxSize.length>0?Ue.borderBoxSize[0].blockSize:Ue.contentRect.height;T.current.unstable_storeRowHeightMeasurement(i,L,u)});return je.observe(ie),()=>je.disconnect()},[T,z.range,a,d,i,u]);const se=h.useCallback((ie,Ce)=>je=>{je.target.nodeType===1&&!je.currentTarget.contains(je.target)||T.current.getRow(i)&&(T.current.publishEvent(ie,T.current.getRowParams(i),je),Ce&&Ce(je))},[T,i]),te=h.useCallback(ie=>{const Ce=US(ie.target,G.cell),je=Ce?.getAttribute("data-field");je&&(je===Ks.field||je===ja||je==="__reorder__"||T.current.getCellMode(i,je)===Oe.Edit||T.current.getColumn(je).type===Sa)||se("rowClick",p)(ie)},[T,p,se,i]),fe=h.useCallback((ie,Ce)=>{var je;const Ve=T.current.getCellParams(i,ie.field),Ue=[],L=O.disableColumnReorder&&ie.disableReorder||!O.rowReordering&&!!I.length&&F>1&&Object.keys(x).length>0;ie.cellClassName&&Ue.push(Ge(typeof ie.cellClassName=="function"?ie.cellClassName(Ve):ie.cellClassName));const q=x[i]?x[i][ie.field]:null;let Q=null;if(q==null&&ie.renderCell){var ne;Q=ie.renderCell(S({},Ve,{api:T.current})),Ue.push(Ge(G["cell--withRenderer"],(ne=O.classes)==null?void 0:ne["cell--withRenderer"]))}if(q!=null&&ie.renderEditCell){var W;let Pe=l;T.current.unstable_getRowWithUpdatedValues&&(Pe=T.current.unstable_getRowWithUpdatedValues(i,ie.field));const Te=ve(q,wP),Ne=S({},Ve,{row:Pe},Te,{api:T.current});Q=ie.renderEditCell(Ne),Ue.push(Ge(G["cell--editing"],(W=O.classes)==null?void 0:W["cell--editing"]))}O.getCellClassName&&Ue.push(O.getCellClassName(Ve));const ee=C!==null&&C.id===i&&C.field===ie.field,de=y!==null&&y.id===i&&y.field===ie.field&&Ve.cellMode==="view"?0:-1;return s.jsx(O.components.Cell,S({value:Ve.value,field:ie.field,width:Ce.width,rowId:i,height:d,showRightBorder:Ce.showRightBorder,formattedValue:Ve.formattedValue,align:ie.align||"left",cellMode:Ve.cellMode,colIndex:Ce.indexRelativeToAllColumns,isEditable:Ve.isEditable,hasFocus:ee,tabIndex:de,className:Ge(Ue),colSpan:Ce.colSpan,disableDragEvents:L},(je=O.componentsProps)==null?void 0:je.cell,{children:Q}),ie.field)},[T,y,x,C,O,l,d,i,F,I.length]),oe=T.current.unstable_getRowInternalSizes(i);let me=d;if(me==="auto"&&oe){let ie=0;const Ce=Object.entries(oe).reduce((je,[Ve,Ue])=>/^base[A-Z]/.test(Ve)?(ie+=1,Ue>je?Ue:je):je,0);Ce>0&&ie>1&&(me=Ce)}const J=S({},c,{maxHeight:d==="auto"?"none":d,minHeight:me});if(oe!=null&&oe.spacingTop){const ie=O.rowSpacingType==="border"?"borderTopWidth":"marginTop";J[ie]=oe.spacingTop}if(oe!=null&&oe.spacingBottom){const ie=O.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Ce=J[ie];typeof Ce!="number"&&(Ce=parseInt(Ce||"0",10)),Ce+=oe.spacingBottom,J[ie]=Ce}const ce=T.current.unstable_applyPipeProcessors("rowClassName",[],i);if(typeof O.getRowClassName=="function"){var ae;const ie=a-(((ae=z.range)==null?void 0:ae.firstRowIndex)||0),Ce=S({},T.current.getRowParams(i),{isFirstVisible:ie===0,isLastVisible:ie===z.rows.length-1,indexRelativeToCurrentPage:ie});ce.push(O.getRowClassName(Ce))}const we=Oj(1e4,20,80),pe=[];for(let ie=0;ie<g.length;ie+=1){const Ce=g[ie],je=b+ie,Ve=je===m.length-1,L=Ve?!(Ve&&N&&!U)&&O.disableExtendRowFullWidth:O.showCellRightBorder,q=T.current.unstable_getCellColSpanInfo(i,je);if(q&&!q.spannedByColSpan)if(l){const{colSpan:Q,width:ne}=q.cellProps,W={width:ne,colSpan:Q,showRightBorder:L,indexRelativeToAllColumns:je};pe.push(fe(Ce,W))}else{const{width:Q}=q.cellProps,ne=Math.round(we());pe.push(s.jsx(O.components.SkeletonCell,{width:Q,contentWidth:ne,field:Ce.field,align:Ce.align},Ce.field))}}const _e=w-$,Ye=l?{onClick:te,onDoubleClick:se("rowDoubleClick",E),onMouseEnter:se("rowMouseEnter",D),onMouseLeave:se("rowMouseLeave",P)}:null;return s.jsxs("div",S({ref:H,"data-id":i,"data-rowindex":a,role:"row",className:Ge(...ce,Z.root,f),"aria-rowindex":R,"aria-selected":o,style:J},Ye,k,{children:[pe,_e>0&&s.jsx(jP,{width:_e})]}))}),Ou=1e3;class kP{constructor(t=Ou){this.timeouts=new Map,this.cleanupTimeout=Ou,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class EP{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var er;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(er||(er={}));class IP{}function MP(e){let t=0;return function(r,o,i,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new EP:new kP);const[a]=h.useState(new IP),c=h.useRef(null),u=h.useRef();u.current=i;const d=h.useRef(null);if(!c.current&&u.current){const f=(m,g,w)=>{if(!g.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,g,w)}};c.current=r.current.subscribeEvent(o,f,l),t+=1,d.current={cleanupToken:t},e.registry.register(a,()=>{var m;(m=c.current)==null||m.call(c),c.current=null,d.current=null},d.current)}else!u.current&&c.current&&(c.current(),c.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));h.useEffect(()=>{if(!c.current&&u.current){const f=(m,g,w)=>{if(!g.defaultMuiPrevented){var b;(b=u.current)==null||b.call(u,m,g,w)}};c.current=r.current.subscribeEvent(o,f,l)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var f;(f=c.current)==null||f.call(c),c.current=null}},[r,o,l])}}const FP={registry:null},ue=MP(FP),TP={isFirst:!0};function Re(e,t,n){ue(e,t,n,TP)}const _u=1,AP=1.5,DP=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return $e(r,Le,n)},OP=He("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${G["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${G["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${G["scrollArea--left"]}`]:{left:0},[`&.${G["scrollArea--right"]}`]:{right:0}}));function _P(e){const{scrollDirection:t}=e,n=h.useRef(null),r=Fe(),o=h.useRef(),[i,l]=h.useState(!1),a=xe(r,Vf),c=h.useRef({left:0,top:0}),u=be(),d=S({},u,{scrollDirection:t}),f=DP(d),m=h.useCallback(b=>{c.current=b},[]),g=h.useCallback(b=>{let C;if(t==="left")C=b.clientX-n.current.getBoundingClientRect().right;else if(t==="right")C=Math.max(1,b.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");C=(C-_u)*AP+_u,clearTimeout(o.current),o.current=setTimeout(()=>{r.current.scroll({left:c.current.left+C,top:c.current.top})})},[t,r]);h.useEffect(()=>()=>{clearTimeout(o.current)},[]);const w=h.useCallback(()=>{l(b=>!b)},[]);return ue(r,"rowsScroll",m),ue(r,"columnHeaderDragStart",w),ue(r,"columnHeaderDragEnd",w),i?s.jsx(OP,{ref:n,className:Ge(f.root),ownerState:d,onDragOver:g,style:{height:a}}):null}const Vu=h.memo(_P),VP=({apiRef:e,props:t,children:n})=>s.jsx(Mf.Provider,{value:t,children:s.jsx(If.Provider,{value:e,children:n})}),$P=Aj()&&window.localStorage.getItem("DEBUG")!=null,gs=()=>{},LP={debug:gs,info:gs,warn:gs,error:gs},$u=["debug","info","warn","error"];function Lu(e,t,n=console){const r=$u.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return $u.reduce((i,l,a)=>(a>=r?i[l]=(...c)=>{const[u,...d]=c;n[l](`MUI: ${e} - ${u}`,...d)}:i[l]=gs,i),{})}const RP=(e,t)=>{e.current.getLogger=h.useCallback(n=>$P?Lu(n,"debug",t.logger):t.logLevel?Lu(n,t.logLevel.toString(),t.logger):LP,[t.logLevel,t.logger])};function qe(e,t,n){const r=h.useRef(t),[o]=h.useState(Object.keys(t)),i=h.useCallback(()=>{e.current&&o.forEach(l=>{e.current.hasOwnProperty(l)||(e.current[l]=(...a)=>r.current[l](...a))})},[o,e]);h.useEffect(()=>{r.current=t},[t]),h.useEffect(()=>{i()},[i]),i()}class NP{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let l=o.length-1;l>=0;l-=1){const a=o[l];r.highPriority.has(a)&&a.apply(this,n)}for(let l=0;l<i.length;l+=1){const a=i[l];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const zP=e=>e.isPropagationStopped!==void 0;let Ru=0;function BP(e,t){const n=h.useRef();n.current||(n.current={unstable_eventManager:new NP,unstable_caches:{},state:{},instanceId:Ru},Ru+=1),h.useImperativeHandle(e,()=>n.current,[n]);const r=h.useCallback((...l)=>{const[a,c,u={}]=l;if(u.defaultMuiPrevented=!1,zP(u)&&u.isPropagationStopped())return;const d=t.signature===er.DataGridPro?{api:n.current}:{};n.current.unstable_eventManager.emit(a,c,u,d)},[n,t.signature]),o=h.useCallback((l,a,c)=>{n.current.unstable_eventManager.on(l,a,c);const u=n.current;return()=>{u.unstable_eventManager.removeListener(l,a)}},[n]),i=h.useCallback(l=>{n.current.publishEvent("componentError",l)},[n]);return qe(n,{subscribeEvent:o,publishEvent:r,showError:i}),h.useEffect(()=>{const l=n.current;return()=>{W0(l.instanceId),l.publishEvent("unmount")}},[n]),n}function HP(e,t){const n=h.useCallback(r=>{e.current.setState(o=>S({},o,{error:r}))},[e]);h.useEffect(()=>{t.error?n({error:t.error}):n(null)},[n,t.error]),ue(e,"componentError",n)}const WP=(e,t)=>{const n=h.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.getLocaleText=n},GP=e=>{const t=h.useRef({}),n=h.useCallback(c=>{c&&Object.values(c.appliers).forEach(u=>{u()})},[]),r=h.useCallback((c,u,d)=>{t.current[c]||(t.current[c]={processors:new Map,appliers:{}});const f=t.current[c];return f.processors.get(u)!==d&&(f.processors.set(u,d),n(f)),()=>{t.current[c].processors.set(u,null)}},[n]),o=h.useCallback((c,u,d)=>(t.current[c]||(t.current[c]={processors:new Map,appliers:{}}),t.current[c].appliers[u]=d,()=>{const f=t.current[c].appliers,m=ve(f,[u].map(Ms));t.current[c].appliers=m}),[]),i=h.useCallback(c=>{const u=t.current[c];n(u)},[n]),l=h.useCallback((...c)=>{const[u,d,f]=c;return t.current[u]?Array.from(t.current[u].processors.values()).reduce((g,w)=>w?w(g,f):g,d):d},[]);qe(e,{unstable_registerPipeProcessor:r,unstable_registerPipeApplier:o,unstable_requestPipeProcessorsApplication:i,unstable_applyPipeProcessors:l})},Qs=e=>{const t=h.useRef(!0);t.current&&(t.current=!1,e())},jt=(e,t,n)=>{const r=h.useRef(),o=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=h.useCallback(()=>{r.current=e.current.unstable_registerPipeProcessor(t,o.current,n)},[e,n,t]);Qs(()=>{i()});const l=h.useRef(!0);h.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},Pa=(e,t,n)=>{const r=h.useRef(),o=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=h.useCallback(()=>{r.current=e.current.unstable_registerPipeApplier(t,o.current,n)},[e,n,t]);Qs(()=>{i()});const l=h.useRef(!0);h.useEffect(()=>(l.current?l.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},ka=(e,t,n,r)=>{const o=h.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,n,r)},[e,r,n,t]);Qs(()=>{o()});const i=h.useRef(!0);h.useEffect(()=>{i.current?i.current=!1:o()},[o])},Ys="none",Nu={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},UP=e=>{const t=h.useRef(new Map),n=h.useRef({}),r=h.useCallback((c,u,d)=>{const f=()=>{const w=n.current[u],b=ve(w,[c].map(Ms));n.current[u]=b};n.current[u]||(n.current[u]={});const m=n.current[u],g=m[c];return m[c]=d,!g||g===d||c===e.current.unstable_getActiveStrategy(Nu[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),f},[e]),o=h.useCallback((c,u)=>{const d=e.current.unstable_getActiveStrategy(Nu[c]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[d])throw new Error(`No processor found for processor "${c}" on strategy "${d}"`);const m=f[d];return m(u)},[e]),i=h.useCallback(c=>{var u;const f=Array.from(t.current.entries()).find(([,m])=>m.group!==c?!1:m.isAvailable());return(u=f?.[0])!=null?u:Ys},[]),l=h.useCallback((c,u,d)=>{t.current.set(u,{group:c,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);qe(e,{unstable_registerStrategyProcessor:r,unstable_applyStrategyProcessor:o,unstable_getActiveStrategy:i,unstable_setStrategyAvailability:l})},qP=(e,t,n,r,o)=>{const i=pt(e,"useNativeEventListener"),[l,a]=h.useState(!1),c=h.useRef(r),u=h.useCallback(d=>c.current&&c.current(d),[]);h.useEffect(()=>{c.current=r},[r]),h.useEffect(()=>{let d;if(nm(t)?d=t():d=t&&t.current?t.current:null,d&&n&&!l){i.debug(`Binding native ${n} event`),d.addEventListener(n,u,o);const f=d;a(!0);const m=()=>{i.debug(`Clearing native ${n} event`),f.removeEventListener(n,u,o)};e.current.subscribeEvent("unmount",m)}},[t,u,n,l,i,o,e])},KP=["stateId"],QP=(e,t)=>{const n=h.useRef({}),[,r]=h.useState(),o=h.useCallback(u=>{const{stateId:d}=u,f=ve(u,KP);n.current[d]=S({},f,{stateId:d})},[]),i=h.useCallback((u,d)=>{let f;if(nm(u)?f=u(e.current.state):f=u,e.current.state===f)return!1;let m=!1;const g=[];if(Object.keys(n.current).forEach(w=>{const b=n.current[w],C=b.stateSelector(e.current.state,e.current.instanceId),y=b.stateSelector(f,e.current.instanceId);y!==C&&(g.push({stateId:b.stateId,hasPropChanged:y!==b.propModel}),b.propModel!==void 0&&y!==b.propModel&&(m=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(w=>w.stateId).join(", ")} in the same transaction.`);if(m||(e.current.state=f,e.current.publishEvent&&e.current.publishEvent("stateChange",f)),g.length===1){const{stateId:w,hasPropChanged:b}=g[0],C=n.current[w],y=C.stateSelector(f,e.current.instanceId);if(C.propOnChange&&b){const x=t.signature===er.DataGridPro?{api:e.current,reason:d}:{reason:d};C.propOnChange(y,x)}m||e.current.publishEvent(C.changeEvent,y,{reason:d})}return!m},[e,t.signature]),l=h.useCallback((u,d,f)=>e.current.setState(m=>S({},m,{[u]:d(m[u])}),f),[e]),a=h.useCallback(()=>r(()=>e.current.state),[e]);qe(e,{setState:i,forceUpdate:a,unstable_updateControlState:l,unstable_registerControlState:o})},YP=(e,t)=>{const n=BP(e,t);return RP(n,t),HP(n,t),QP(n,t),GP(n),UP(n),WP(n,t),n},Bt=(e,t,n)=>{const r=h.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function zu(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function XP(e){var t;return((t=window.getSelection())==null?void 0:t.toString())!==""?!0:e?(e.selectionEnd||0)-(e.selectionStart||0)>0:!1}const ZP=e=>{const t=h.useCallback((o=!1)=>{if(e.current.getSelectedRows().size===0)return;const i=e.current.getDataAsCsv({includeHeaders:o,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(i).catch(()=>{zu(i)}):zu(i)},[e]),n=h.useCallback(o=>{const i=o.ctrlKey||o.metaKey||o.altKey;String.fromCharCode(o.keyCode)!=="C"||!i||XP(o.target)||e.current.unstable_copySelectedRowsToClipboard(o.altKey)},[e]);qP(e,e.current.rootElementRef,"keydown",n),qe(e,{unstable_copySelectedRowsToClipboard:t})},fm=e=>e.columnMenu,JP=e=>S({},e,{columnMenu:{open:!1}}),ek=e=>{const t=pt(e,"useGridColumnMenu"),n=h.useCallback(a=>{e.current.setState(u=>u.columnMenu.open&&u.columnMenu.field===a?u:(t.debug("Opening Column Menu"),S({},u,{columnMenu:{open:!0,field:a}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=h.useCallback(()=>{e.current.setState(c=>!c.columnMenu.open&&c.columnMenu.field===void 0?c:(t.debug("Hiding Column Menu"),S({},c,{columnMenu:S({},c.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),o=h.useCallback(a=>{t.debug("Toggle Column Menu");const c=fm(e.current.state);!c.open||c.field!==a?n(a):r()},[e,t,n,r]);qe(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o});const l=h.useCallback((a,c)=>{if(!c.target.classList.contains(G.menuIconButton)||!c.relatedTarget)return;const u=c.relatedTarget.classList.contains(G.menuList),d=c.relatedTarget.getAttribute("role")==="menuitem";(u||d)&&e.current.setColumnHeaderFocus(a.field)},[e]);ue(e,"columnResizeStart",r),ue(e,"columnHeaderFocus",l),ue(e,"virtualScrollerWheel",e.current.hideColumnMenu),ue(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},tk=(e,t,n)=>{var r,o,i,l,a,c,u;const d=!!t.columnVisibilityModel||!!((r=t.initialState)!=null&&(o=r.columns)!=null&&o.columnVisibilityModel);n.current.unstable_caches.columns={isUsingColumnVisibilityModel:d};const f=am(t.columnTypes),m=Vr({apiRef:n,columnTypes:f,columnsToUpsert:t.columns,initialState:(i=t.initialState)==null?void 0:i.columns,shouldRegenColumnVisibilityModelFromColumns:!d,currentColumnVisibilityModel:(l=(a=t.columnVisibilityModel)!=null?a:(c=t.initialState)==null||(u=c.columns)==null?void 0:u.columnVisibilityModel)!=null?l:{},keepOnlyColumnsToUpsert:!0});return S({},e,{columns:m})};function nk(e,t){var n,r;const o=pt(e,"useGridColumns"),i=h.useMemo(()=>am(t.columnTypes),[t.columnTypes]),l=h.useRef(t.columns),a=h.useRef(i);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:In,changeEvent:"columnVisibilityModelChange"});const c=h.useCallback($=>{o.debug("Updating columns state."),e.current.setState(Tu($)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",$.all)},[o,e]),u=h.useCallback($=>ns(e)[$],[e]),d=h.useCallback(()=>on(e),[e]),f=h.useCallback(()=>Mt(e),[e]),m=h.useCallback(()=>Z0(e),[e]),g=h.useCallback(($,I=!0)=>(I?Mt(e):on(e)).findIndex(V=>V.field===$),[e]),w=h.useCallback($=>{const I=g($);return yr(e)[I]},[e,g]),b=h.useCallback($=>{In(e)!==$&&(e.current.setState(F=>S({},F,{columns:Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:$,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,i]),C=h.useCallback($=>{const I=Vr({apiRef:e,columnTypes:i,columnsToUpsert:$,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});c(I)},[e,c,i]),y=h.useCallback($=>e.current.updateColumns([$]),[e]),x=h.useCallback(($,I)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var F;const V=In(e),H=(F=V[$])!=null?F:!0;if(I!==H){const R=S({},V,{[$]:I});e.current.setColumnVisibilityModel(R)}}else{const V=e.current.getColumn($),H=S({},V,{hide:!I});e.current.updateColumns([H]);const R={field:$,colDef:H,isVisible:I};e.current.publishEvent("columnVisibilityChange",R)}},[e]),v=h.useCallback(($,I)=>{const F=Jr(e),V=F.findIndex(U=>U===$);if(V===I)return;o.debug(`Moving column ${$} to index ${I}`);const H=[...F],R=H.splice(V,1)[0];H.splice(I,0,R),c(S({},vr(e.current.state),{all:H}));const N={field:$,element:e.current.getColumnHeaderElement($),colDef:e.current.getColumn($),targetIndex:I,oldIndex:V};e.current.publishEvent("columnOrderChange",N)},[e,o,c]),p=h.useCallback(($,I)=>{o.debug(`Updating column ${$} width to ${I}`);const F=e.current.getColumn($),V=S({},F,{width:I});e.current.updateColumns([V]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement($),colDef:V,width:I})},[e,o]);qe(e,{getColumn:u,getAllColumns:d,getColumnIndex:g,getColumnPosition:w,getVisibleColumns:f,getColumnsMeta:m,updateColumn:y,updateColumns:C,setColumnVisibilityModel:b,setColumnVisibility:x,setColumnIndex:v,setColumnWidth:p});const D=h.useCallback(($,I)=>{const F={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var V,H,R;const K=In(e);(!I.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((V=(H=t.initialState)==null||(R=H.columns)==null?void 0:R.columnVisibilityModel)!=null?V:{}).length>0||Object.keys(K).length>0)&&(F.columnVisibilityModel=K)}F.orderedFields=Jr(e);const N=on(e),U={};return N.forEach(K=>{if(K.hasBeenResized){const Z={};lm.forEach(se=>{let te=K[se];te===1/0&&(te=-1),Z[se]=te}),U[K.field]=Z}}),Object.keys(U).length>0&&(F.dimensions=U),S({},$,{columns:F})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),P=h.useCallback(($,I)=>{var F;const V=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(F=I.stateToRestore.columns)==null?void 0:F.columnVisibilityModel:void 0,H=I.stateToRestore.columns;if(V==null&&H==null)return $;const R=Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:H,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:V,keepOnlyColumnsToUpsert:!1});return e.current.setState(Tu(R)),H!=null&&e.current.publishEvent("columnsChange",R.all),$},[e,i]),k=h.useCallback(($,I)=>{if(I===Zn.columns){var F;const V=t.components.ColumnsPanel;return s.jsx(V,S({},(F=t.componentsProps)==null?void 0:F.columnsPanel))}return $},[t.components.ColumnsPanel,(r=t.componentsProps)==null?void 0:r.columnsPanel]);jt(e,"exportState",D),jt(e,"restoreState",P),jt(e,"preferencePanel",k);const T=h.useRef(null);ue(e,"viewportInnerSizeChange",$=>{T.current!==$.width&&(T.current=$.width,c(cm(vr(e.current.state),$.width)))}),Re(e,"columnVisibilityChange",t.onColumnVisibilityChange);const O=h.useCallback(()=>{o.info("Columns pipe processing have changed, regenerating the columns");const $=Vr({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});c($)},[e,o,c,i]);Pa(e,"hydrateColumns",O);const z=h.useRef(!0);h.useEffect(()=>{if(z.current){z.current=!1;return}if(o.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&a.current===i)return;const $=Vr({apiRef:e,columnTypes:i,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,a.current=i,c($)},[o,e,c,t.columns,i]),h.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,o,t.columnVisibilityModel])}const rk=e=>e.columnGrouping,mm=ye(rk,e=>e.lookup),sk=["groupId","children"];function ok(e){return e.groupPath!==void 0}const gm=(e,t,n)=>{if(Lf(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{gm(i,[...t,r],n)})},pm=e=>{if(!e)return{};const t={};return e.forEach(n=>{gm(n,[],t)}),t},Ea=e=>{let t={};return e.forEach(n=>{if(Lf(n))return;const{groupId:r,children:o}=n,i=ve(n,sk);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");o||console.warn(`MUI: group groupId=${r} has no children.`);const l=S({},i,{groupId:r}),a=Ea(o);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=S({},t,a,{[r]:l})}),S({},t)},ik=(e,t)=>{var n;const r=Ea((n=t.columnGroupingModel)!=null?n:[]);return S({},e,{columnGrouping:{lookup:r,groupCollapsedModel:{}}})},lk=(e,t)=>{var n;const r=h.useCallback(a=>{var c,u;return(c=(u=ns(e)[a])==null?void 0:u.groupPath)!=null?c:[]},[e]),o=h.useCallback(()=>mm(e),[e]);qe(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:o});const l=h.useRef(!0);h.useEffect(()=>{var a,c;if(l.current){l.current=!1;return}if(!((a=t.experimentalFeatures)!=null&&a.columnGrouping))return;const u=Ea((c=t.columnGroupingModel)!=null?c:[]);e.current.setState(d=>S({},d,{columnGrouping:S({},d.columnGrouping,{lookup:u})}))},[e,t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping])},Bi=.7,Hi=1.3,xm=(e,t,n,r)=>{switch(e){case Ds.Compact:return{value:e,headerHeight:Math.floor(t*Bi),rowHeight:Math.floor(n*Bi),headerGroupingMaxDepth:r,factor:Bi};case Ds.Comfortable:return{value:e,headerHeight:Math.floor(t*Hi),rowHeight:Math.floor(n*Hi),headerGroupingMaxDepth:r,factor:Hi};default:return{value:e,headerHeight:t,rowHeight:n,headerGroupingMaxDepth:r,factor:1}}},ak=(e,t)=>{let n;if(t.columnGroupingModel==null||Object.keys(t.columnGroupingModel).length===0)n=0;else{const r=pm(t.columnGroupingModel),o=e.columns,i=o.all.filter(l=>o.columnVisibilityModel[l]!==!1);i.length===0?n=0:n=Math.max(...i.map(l=>{var a,c;return(a=(c=r[l])==null?void 0:c.length)!=null?a:0}))}return S({},e,{density:xm(t.density,t.headerHeight,t.rowHeight,n)})},ck=(e,t)=>{const n=xe(e,Mt),r=n.length>0?Math.max(...n.map(a=>{var c,u;return(c=(u=a.groupPath)==null?void 0:u.length)!=null?c:0})):0,o=pt(e,"useDensity"),i=h.useCallback((a,c=t.headerHeight,u=t.rowHeight,d=r)=>{o.debug(`Set grid density to ${a}`),e.current.setState(f=>{const m=Pr(f),g=xm(a,c,u,d);return Tn(m,g)?f:S({},f,{density:g})}),e.current.forceUpdate()},[o,e,t.headerHeight,t.rowHeight,r]);h.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,r)},[e,t.density,t.rowHeight,t.headerHeight,r]),qe(e,{setDensity:i})};function uk(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI: exportAs not supported")}const bm=(e,t)=>{if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(r=>n.includes(r))?`"${n}"`:n}return e};ln(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const dk=(e,t,n,r)=>t.map(o=>{const i=n(e,o.field);return bm(i.formattedValue,r)});function hk(e){const{columns:t,rowIds:n,getCellParams:r,delimiterCharacter:o,includeHeaders:i}=e,l=n.reduce((c,u)=>`${c}${dk(u,t,r,o).join(o)}\r
`,"").trim();return i?`${`${t.filter(c=>c.field!==Ks.field).map(c=>bm(c.headerName||c.field,o)).join(o)}\r
`}${l}`.trim():l}const vm=({apiRef:e,options:t})=>{const n=on(e);return t.fields?t.fields.map(o=>n.find(i=>i.field===o)).filter(o=>!!o):(t.allColumns?n:Mt(e)).filter(o=>!o.disableExport)},fk=({apiRef:e})=>{var t,n;const r=tw(e),o=Un(e),i=e.current.getSelectedRows(),l=r.filter(d=>{var f;return((f=o[d].position)!=null?f:"body")==="body"}),a=Hs(e),c=(a==null||(t=a.top)==null?void 0:t.map(d=>d.id))||[],u=(a==null||(n=a.bottom)==null?void 0:n.map(d=>d.id))||[];return l.unshift(...c),l.push(...u),i.size>0?l.filter(d=>i.has(d)):l},mk=e=>{const t=pt(e,"useGridCsvExport"),n=h.useCallback((l={})=>{var a,c;t.debug("Get data as CSV");const u=vm({apiRef:e,options:l}),f=((a=l.getRowsToExport)!=null?a:fk)({apiRef:e});return hk({columns:u,rowIds:f,getCellParams:e.current.getCellParams,delimiterCharacter:l.delimiter||",",includeHeaders:(c=l.includeHeaders)!=null?c:!0})},[t,e]),r=h.useCallback(l=>{t.debug("Export data as CSV");const a=n(l),c=new Blob([l!=null&&l.utf8WithBom?new Uint8Array([239,187,191]):"",a],{type:"text/csv"});uk(c,"csv",l?.fileName)},[t,n]);qe(e,{getDataAsCsv:n,exportDataAsCsv:r});const i=h.useCallback((l,a)=>{var c;return(c=a.csvOptions)!=null&&c.disableToolbarButton?l:[...l,{component:s.jsx(oP,{options:a.csvOptions}),componentName:"csvExport"}]},[]);jt(e,"exportMenu",i)},_s=e=>e.rowsMeta;function gk(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function pk(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):null}const xk=(e,t)=>{const n=pt(e,"useGridPrintExport"),r=h.useRef(null),o=h.useRef(null),i=h.useRef({});h.useEffect(()=>{r.current=ei(e.current.rootElementRef.current)},[e]);const l=h.useCallback((g,w)=>new Promise(b=>{if(!g&&!w){b();return}const C=vm({apiRef:e,options:{fields:g,allColumns:w}}).map(v=>v.field),y=on(e),x={};y.forEach(v=>{x[v.field]=C.includes(v.field)}),e.current.setColumnVisibilityModel(x),b()}),[e]),a=h.useCallback(g=>{const w=document.createElement("iframe");return w.style.position="absolute",w.style.width="0px",w.style.height="0px",w.title=g||document.title,w},[]),c=h.useCallback((g,w)=>{var b,C;const y=S({copyStyles:!0,hideToolbar:!1,hideFooter:!1},w),x=g.contentDocument;if(!x)return;const v=Us(e),p=_s(e.current.state),E=e.current.rootElementRef.current,D=E.cloneNode(!0),P=D.querySelector(`.${G.virtualScroller}`);P.style.height="auto",P.style.width="auto",P.parentElement.style.width="auto",P.parentElement.style.height="auto";const k=D.querySelector(`.${G.main}`);k.style.overflow="visible";const T=pk();T&&T>=108&&(D.style.contain="size");const O=D.querySelector(`.${G.columnHeaders}`).querySelector(`.${G.columnHeadersInner}`);O.style.width="100%";let z=((b=E.querySelector(`.${G.toolbarContainer}`))==null?void 0:b.clientHeight)||0,$=((C=E.querySelector(`.${G.footerContainer}`))==null?void 0:C.clientHeight)||0;if(y.hideToolbar){var I;(I=D.querySelector(`.${G.toolbarContainer}`))==null||I.remove(),z=0}if(y.hideFooter){var F;(F=D.querySelector(`.${G.footerContainer}`))==null||F.remove(),$=0}D.style.height=`${p.currentPageTotalHeight+v+z+$}px`;const V=document.createElement("div");V.appendChild(D),x.body.innerHTML=V.innerHTML;const H=typeof y.pageStyle=="function"?y.pageStyle():y.pageStyle;if(typeof H=="string"){const R=x.createElement("style");R.appendChild(x.createTextNode(H)),x.head.appendChild(R)}if(y.bodyClassName&&x.body.classList.add(...y.bodyClassName.split(" ")),y.copyStyles){const R=r.current.querySelectorAll("style, link[rel='stylesheet']");for(let N=0;N<R.length;N+=1){const U=R[N];if(U.tagName==="STYLE"){const K=x.createElement(U.tagName),Z=U.sheet;if(Z){let se="";for(let te=0;te<Z.cssRules.length;te+=1)typeof Z.cssRules[te].cssText=="string"&&(se+=`${Z.cssRules[te].cssText}\r
`);K.appendChild(x.createTextNode(se)),x.head.appendChild(K)}}else if(U.getAttribute("href")){const K=x.createElement(U.tagName);for(let Z=0;Z<U.attributes.length;Z+=1){const se=U.attributes[Z];se&&K.setAttribute(se.nodeName,se.nodeValue||"")}x.head.appendChild(K)}}}g.contentWindow.print()},[e,r]),u=h.useCallback(g=>{var w,b;r.current.body.removeChild(g),e.current.restoreState(o.current||{}),(w=o.current)!=null&&(b=w.columns)!=null&&b.columnVisibilityModel||e.current.setColumnVisibilityModel(i.current),e.current.unstable_enableVirtualization(),o.current=null,i.current={}},[e]),f={exportDataAsPrint:h.useCallback(async g=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(o.current=e.current.exportState(),i.current=In(e),t.pagination){const b=Of(e);e.current.setPageSize(b)}await l(g?.fields,g?.allColumns),e.current.unstable_disableVirtualization(),await gk();const w=a(g?.fileName);w.onload=()=>{c(w,g),w.contentWindow.matchMedia("print").addEventListener("change",C=>{C.matches===!1&&u(w)})},r.current.body.appendChild(w)},[t,n,e,a,c,u,l])};qe(e,f);const m=h.useCallback((g,w)=>{var b;return(b=w.printOptions)!=null&&b.disableToolbarButton?g:[...g,{component:s.jsx(iP,{options:w.printOptions}),componentName:"printExport"}]},[]);jt(e,"exportMenu",m)},bk=["rowsBeforePartialUpdates"];function vk(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const pl=(e,t,n)=>{const r=t?t(e):e.id;return vk(r,e,n),r},Po=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let i=0;i<e.length;i+=1){const l=e[i],a=pl(l,t);o.idRowsLookup[a]=l,o.idToIdLookup[a]=a,o.ids.push(a)}return o},ym=({apiRef:e,previousTree:t,rowCountProp:n,loadingProp:r})=>{const o=e.current.unstable_caches.rows,i=ve(o,bk),l=n??0,a=e.current.unstable_applyStrategyProcessor("rowTreeCreation",S({},i,{previousTree:t})),c=e.current.unstable_applyPipeProcessors("hydrateRows",a),u=c.treeDepth===1?c.ids.length:Object.values(c.tree).filter(d=>d.parent==null&&!d.isPinned).length;return S({},c,{groupingResponseBeforeRowHydration:a,loading:r,totalRowCount:Math.max(l,c.ids.length),totalTopLevelRowCount:Math.max(l,u)})},Cm=(e,t,n)=>{var r;const o=(r=e[t])==null?void 0:r.children;if(o==null)return[];const i=[];for(let l=0;l<o.length;l+=1){const a=o[l],c=e[a];(!n||!c.isAutoGenerated)&&i.push(a),i.push(...Cm(e,c.id,n))}return i};function wm(e){var t,n;const r=Hs(e),o=(r==null||(t=r.top)==null?void 0:t.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0,i=(r==null||(n=r.bottom)==null?void 0:n.reduce((l,a)=>(l+=e.current.unstable_getRowHeight(a.id),l),0))||0;return{top:o,bottom:i}}const xl=(e,t)=>{const n=S({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operatorValue==null){const r=ns(t)[n.columnField];n.operatorValue=r&&r.filterOperators[0].value}return n},yk=ln(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Ck=ln("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),wk=ln(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),Sm=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?(yk(),o=[e.items[0]]):o=e.items;const i=r&&o.some(a=>a.id==null),l=o.some(a=>a.operatorValue==null);return i&&Ck(),l&&wk(),l||i?S({},e,{items:o.map(a=>xl(a,n))}):e.items!==o?S({},e,{items:o}):e},Bu=(e,t,n)=>r=>S({},r,{filterModel:Sm(e,t,n)}),jm=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const n=t.current.getColumn(e.columnField);if(!n)return null;let r;if(n.valueParser){var o;const d=n.valueParser;r=Array.isArray(e.value)?(o=e.value)==null?void 0:o.map(f=>d(f)):d(e.value)}else r=e.value;const i=S({},e,{value:r}),l=n.filterOperators;if(!(l!=null&&l.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const a=l.find(d=>d.value===i.operatorValue);if(!a)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${i.operatorValue}'.`);const c=a.getApplyFilterFn(i,n);return typeof c!="function"?null:{fn:d=>{const f=t.current.getCellParams(d,i.columnField);return c(f)},item:i}},Sk=(e,t)=>{const{items:n}=e,r=n.map(o=>jm(o,t)).filter(o=>!!o);return r.length===0?null:(o,i)=>{const l={};return(i?r.filter(c=>i(c.item.columnField)):r).forEach(c=>{l[c.item.id]=c.fn(o)}),l}},jk=(e,t)=>{const{quickFilterValues:n=[]}=e;if(n.length===0)return null;const r=Jr(t),o={};r.forEach(l=>{const a=t.current.getColumn(l),c=a?.getApplyQuickFilterFn;c&&(o[l]=n.map(u=>c(u,a,t)))});const i=n.filter((l,a)=>Object.keys(o).some(c=>o[c][a]!=null));return i.length===0?null:(l,a)=>{const c={},u=[];Object.keys(o).forEach(f=>{(!a||a(f))&&(c[f]=t.current.getCellParams(l,f),u.push(f))});const d={};return i.forEach((f,m)=>{const g=u.some(w=>{var b,C;return o[w][m]==null?!1:(b=(C=o[w])[m])==null?void 0:b.call(C,c[w])});d[f]=g}),d}},Pk=(e,t)=>{const n=Sk(e,t),r=jk(e,t);return(o,i)=>({passingFilterItems:n&&n(o,i),passingQuickFilterValues:r&&r(o,i)})},kk=(e,t,n,r)=>{var o,i;const l=n.items.filter(f=>jm(f,r)!==null),a=e.filter(f=>f!=null),c=t.filter(f=>f!=null),u=(o=n.quickFilterLogicOperator)!=null?o:Os().quickFilterLogicOperator,d=(i=n.linkOperator)!=null?i:Os().linkOperator;if(a.length>0){const f=m=>a.some(g=>g[m.id]);if(d===Vt.And){if(!l.every(f))return!1}else if(!l.some(f))return!1}if(c.length>0&&n.quickFilterValues!=null){const f=m=>c.some(g=>g[m]);if(u===Vt.And){if(!n.quickFilterValues.every(f))return!1}else if(!n.quickFilterValues.some(f))return!1}return!0},Ek=(e,t,n)=>{var r,o,i,l;const a=(r=(o=t.filterModel)!=null?o:(i=t.initialState)==null||(l=i.filter)==null?void 0:l.filterModel)!=null?r:Os();return S({},e,{filter:{filterModel:Sm(a,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},Ik=(e,t)=>{var n,r,o;const i=pt(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Rt,changeEvent:"filterModelChange"});const l=h.useCallback(()=>{e.current.setState(k=>{const T=Rt(k,e.current.instanceId),_=t.filterMode===qr.client?Pk(T,e):null,O=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:_,filterModel:T??Os()});return S({},k,{filter:S({},k.filter,O)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),a=h.useCallback(()=>{l(),e.current.forceUpdate()},[e,l]),c=h.useCallback(k=>{const T=Rt(e),_=[...T.items],O=_.findIndex(z=>z.id===k.id);O===-1?_.push(k):_[O]=k,e.current.setFilterModel(S({},T,{items:_}),"upsertFilterItem")},[e]),u=h.useCallback(k=>{const T=Rt(e),_=[...T.items];k.forEach(O=>{const z=k.findIndex($=>$.id===O.id);z===-1?_.push(O):_[z]=O}),e.current.setFilterModel(S({},T,{items:k}),"upsertFilterItems")},[e]),d=h.useCallback(k=>{const T=Rt(e),_=T.items.filter(O=>O.id!==k.id);_.length!==T.items.length&&e.current.setFilterModel(S({},T,{items:_}),"deleteFilterItem")},[e]),f=h.useCallback(k=>{if(i.debug("Displaying filter panel"),k){const T=Rt(e),_=T.items.filter($=>{var I;if($.value!==void 0)return!0;const V=(I=e.current.getColumn($.columnField).filterOperators)==null?void 0:I.find(R=>R.value===$.operatorValue);return!(typeof V?.requiresFilterValue>"u"?!0:V?.requiresFilterValue)});let O;_.find($=>$.columnField===k)?O=_:t.disableMultipleColumnsFiltering?O=[xl({columnField:k},e)]:O=[..._,xl({columnField:k},e)],e.current.setFilterModel(S({},T,{items:O}))}e.current.showPreferences(Zn.filters)},[e,i,t.disableMultipleColumnsFiltering]),m=h.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),g=h.useCallback(k=>{const T=Rt(e);T.linkOperator!==k&&e.current.setFilterModel(S({},T,{linkOperator:k}),"changeLogicOperator")},[e]),w=h.useCallback(k=>{const T=Rt(e);Tn(T.quickFilterValues,k)||e.current.setFilterModel(S({},T,{quickFilterValues:[...k]}))},[e]),b=h.useCallback((k,T)=>{Rt(e)!==k&&(i.debug("Setting filter model"),e.current.unstable_updateControlState("filter",Bu(k,t.disableMultipleColumnsFiltering,e),T),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),C=h.useCallback(()=>{const k=On(e);return new Map(k.map(T=>[T.id,T.model]))},[e]);qe(e,{setFilterLinkOperator:g,unstable_applyFilters:a,deleteFilterItem:d,upsertFilterItem:c,upsertFilterItems:u,setFilterModel:b,showFilterPanel:f,hideFilterPanel:m,getVisibleRowModels:C,setQuickFilterValues:w});const x=h.useCallback((k,T)=>{var _,O;const z=Rt(e);return!T.exportOnlyDirtyModels||t.filterModel!=null||((_=t.initialState)==null||(O=_.filter)==null?void 0:O.filterModel)!=null||!Tn(z,Os())?S({},k,{filter:{filterModel:z}}):k},[e,t.filterModel,(n=t.initialState)==null||(r=n.filter)==null?void 0:r.filterModel]),v=h.useCallback((k,T)=>{var _;const O=(_=T.stateToRestore.filter)==null?void 0:_.filterModel;return O==null?k:(e.current.unstable_updateControlState("filter",Bu(O,t.disableMultipleColumnsFiltering,e),"restoreState"),S({},k,{callbacks:[...k.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),p=h.useCallback((k,T)=>{if(T===Zn.filters){var _;const O=t.components.FilterPanel;return s.jsx(O,S({},(_=t.componentsProps)==null?void 0:_.filterPanel))}return k},[t.components.FilterPanel,(o=t.componentsProps)==null?void 0:o.filterPanel]),E=h.useCallback(k=>{if(t.filterMode===qr.client&&k.isRowMatchingFilters){const T=mr(e),_={};for(let O=0;O<T.length;O+=1){const z=T[O];let $;if(typeof z=="string"&&z.startsWith("auto-generated-group-footer"))$=!0;else{const{passingFilterItems:I,passingQuickFilterValues:F}=k.isRowMatchingFilters(z);$=kk([I],[F],k.filterModel,e)}_[z]=$}return{filteredRowsLookup:_,visibleRowsLookup:_,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);jt(e,"exportState",x),jt(e,"restoreState",v),jt(e,"preferencePanel",p),ka(e,Ys,"filtering",E);const D=h.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const k=Rt(e),T=X0(e),_=k.items.filter(O=>O.columnField&&T[O.columnField]);_.length<k.items.length&&e.current.setFilterModel(S({},k,{items:_}))},[e,i]),P=h.useCallback(k=>{k==="filtering"&&e.current.unstable_applyFilters()},[e]);ue(e,"rowsSet",l),ue(e,"rowExpansionChange",e.current.unstable_applyFilters),ue(e,"columnsChange",D),ue(e,"activeStrategyProcessorChange",P),Qs(()=>{e.current.unstable_applyFilters()}),h.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},Mk=e=>S({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),Fk=(e,t)=>{const n=pt(e,"useGridFocus"),r=h.useRef(null),o=h.useCallback((C,y)=>{C&&e.current.getRow(C.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(C.id,C.field),y)},[e]),i=h.useCallback((C,y)=>{const x=rn(e);x?.id===C&&x?.field===y||(e.current.setState(v=>(n.debug(`Focusing on cell with id=${C} and field=${y}`),S({},v,{tabIndex:{cell:{id:C,field:y},columnHeader:null},focus:{cell:{id:C,field:y},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(C)&&(x&&o(x,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(C,y))))},[e,n,o]),l=h.useCallback((C,y={})=>{const x=rn(e);o(x,y),e.current.setState(v=>(n.debug(`Focusing on column header with colIndex=${C}`),S({},v,{tabIndex:{columnHeader:{field:C},cell:null},focus:{columnHeader:{field:C},cell:null}}))),e.current.forceUpdate()},[e,n,o]),a=h.useCallback((C,y,x)=>{let v=e.current.getColumnIndex(y),p=e.current.getRowIndexRelativeToVisibleRows(C);const E=Mt(e);x==="right"?v+=1:x==="left"?v-=1:p+=1;const D=bi(e,{pagination:t.pagination,paginationMode:t.paginationMode});v>=E.length?(p+=1,p<D.rows.length&&(v=0)):v<0&&(p-=1,p>=0&&(v=E.length-1)),p=es(p,0,D.rows.length-1);const P=D.rows[p],k=e.current.unstable_getCellColSpanInfo(P.id,v);k&&k.spannedByColSpan&&(x==="left"||x==="below"?v=k.leftVisibleCellIndex:x==="right"&&(v=k.rightVisibleCellIndex)),v=es(v,0,E.length-1);const T=E[v];e.current.setCellFocus(P.id,T.field)},[e,t.pagination,t.paginationMode]),c=h.useCallback(({id:C,field:y})=>{e.current.setCellFocus(C,y)},[e]),u=h.useCallback((C,y)=>{y.key==="Enter"||y.key==="Tab"||qs(y.key)||e.current.setCellFocus(C.id,C.field)},[e]),d=h.useCallback(({field:C},y)=>{y.target===y.currentTarget&&e.current.setColumnHeaderFocus(C,y)},[e]),f=h.useCallback(()=>{n.debug("Clearing focus"),e.current.setState(C=>S({},C,{focus:{cell:null,columnHeader:null}}))},[n,e]),m=h.useCallback(C=>{r.current=C},[]),g=h.useCallback(C=>{const y=r.current;r.current=null;const x=rn(e);if(!x){y&&e.current.setCellFocus(y.id,y.field);return}if(y?.id===x.id&&y?.field===x.field)return;const v=e.current.getCellElement(x.id,x.field);v!=null&&v.contains(C.target)||(y?e.current.setCellFocus(y.id,y.field):(e.current.setState(p=>S({},p,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),o(x,C)))},[e,o]),w=h.useCallback(C=>{if(C.cellMode==="view")return;const y=rn(e);(y?.id!==C.id||y?.field!==C.field)&&e.current.setCellFocus(C.id,C.field)},[e]),b=h.useCallback(()=>{const C=rn(e);C&&!e.current.getRow(C.id)&&e.current.setState(y=>S({},y,{focus:{cell:null,columnHeader:null}}))},[e]);qe(e,{setCellFocus:i,setColumnHeaderFocus:l,unstable_moveFocusToRelativeCell:a}),h.useEffect(()=>{const C=ei(e.current.rootElementRef.current);return C.addEventListener("click",g),()=>{C.removeEventListener("click",g)}},[e,g]),ue(e,"columnHeaderBlur",f),ue(e,"cellDoubleClick",c),ue(e,"cellMouseDown",m),ue(e,"cellKeyDown",u),ue(e,"cellModeChange",w),ue(e,"columnHeaderFocus",d),ue(e,"rowsSet",b)};function Tk(e,t){const n=Hs(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const Ak=(e,t)=>{const n=pt(e,"useGridKeyboardNavigation"),r=kr(e,t).rows,o=h.useMemo(()=>Tk(e,r),[e,r]),i=h.useCallback((f,m,g="left")=>{const w=On(e),b=e.current.unstable_getCellColSpanInfo(m,f);b&&b.spannedByColSpan&&(g==="left"?f=b.leftVisibleCellIndex:g==="right"&&(f=b.rightVisibleCellIndex));const C=w.findIndex(x=>x.id===m);n.debug(`Navigating to cell row ${C}, col ${f}`),e.current.scrollToIndexes({colIndex:f,rowIndex:C});const y=e.current.getVisibleColumns()[f].field;e.current.setCellFocus(m,y)},[e,n]),l=h.useCallback((f,m)=>{n.debug(`Navigating to header col ${f}`),e.current.scrollToIndexes({colIndex:f});const g=e.current.getVisibleColumns()[f].field;e.current.setColumnHeaderFocus(g,m)},[e,n]),a=h.useCallback(f=>o[f].id,[o]),c=h.useCallback((f,m)=>{const g=e.current.getRootDimensions();if(o.length===0||!g)return;const w=e.current.unstable_getViewportPageSize(),b=f.field?e.current.getColumnIndex(f.field):0,C=o.findIndex(D=>D.id===f.id),y=0,x=o.length-1,v=0,p=Mt(e).length-1;let E=!0;switch(m.key){case"ArrowDown":case"Enter":{C<x&&i(b,a(C+1));break}case"ArrowUp":{C>y?i(b,a(C-1)):l(b,m);break}case"ArrowRight":{b<p&&i(b+1,a(C),"right");break}case"ArrowLeft":{b>v&&i(b-1,a(C));break}case"Tab":{m.shiftKey&&b>v?i(b-1,a(C),"left"):!m.shiftKey&&b<p&&i(b+1,a(C),"right");break}case" ":{if(f.field===ja)break;const P=f.colDef;if(P&&P.type==="treeDataGroup")break;!m.shiftKey&&C<x&&i(b,a(Math.min(C+w,x)));break}case"PageDown":{C<x&&i(b,a(Math.min(C+w,x)));break}case"PageUp":{const D=Math.max(C-w,y);D!==C&&D>=y?i(b,a(D)):l(b,m);break}case"Home":{m.ctrlKey||m.metaKey||m.shiftKey?i(v,a(y)):i(v,a(C));break}case"End":{m.ctrlKey||m.metaKey||m.shiftKey?i(p,a(x)):i(p,a(C));break}default:E=!1}E&&m.preventDefault()},[e,o,i,l,a]),u=h.useCallback((f,m)=>{const g=m.currentTarget.querySelector(`.${G.columnHeaderTitleContainerContent}`);if(!!g&&g.contains(m.target)&&f.field!==Ks.field||!e.current.getRootDimensions())return;const C=e.current.unstable_getViewportPageSize(),y=f.field?e.current.getColumnIndex(f.field):0,x=0,v=o.length-1,p=0,E=Mt(e).length-1;let D=!0;switch(m.key){case"ArrowDown":{i(y,a(x));break}case"ArrowRight":{y<E&&l(y+1,m);break}case"ArrowLeft":{y>p&&l(y-1,m);break}case"PageDown":{v!==null&&i(y,a(Math.min(x+C,v)));break}case"Home":{l(p,m);break}case"End":{l(E,m);break}case"Enter":{(m.ctrlKey||m.metaKey)&&e.current.toggleColumnMenu(f.field);break}case" ":break;default:D=!1}D&&m.preventDefault()},[e,o,i,l,a]),d=h.useCallback((f,m)=>{if(!m.currentTarget.contains(m.target))return;const g=e.current.getCellParams(f.id,f.field);g.cellMode!==Oe.Edit&&qs(m.key)&&e.current.publishEvent("cellNavigationKeyDown",g,m)},[e]);ue(e,"cellNavigationKeyDown",c),ue(e,"columnHeaderKeyDown",u),ue(e,"cellKeyDown",d)},Pm=e=>e?0:100,Hu=e=>t=>S({},t,{pagination:S({},t.pagination,{pageSize:e})}),Dk=(e,t)=>{var n,r;const o=pt(e,"useGridPageSize"),i=xe(e,Gs);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:Es,changeEvent:"pageSizeChange"});const a={setPageSize:h.useCallback(f=>{f!==Es(e)&&(o.debug(`Setting page size to ${f}`),e.current.setState(Hu(f)),e.current.forceUpdate())},[e,o])};qe(e,a);const c=h.useCallback((f,m)=>{var g,w;const b=Es(e);return!m.exportOnlyDirtyModels||t.pageSize!=null||((g=t.initialState)==null||(w=g.pagination)==null?void 0:w.pageSize)!=null||b!==Pm(t.autoPageSize)?S({},f,{pagination:S({},f.pagination,{pageSize:b})}):f},[e,t.pageSize,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize,t.autoPageSize]),u=h.useCallback((f,m)=>{var g;const w=(g=m.stateToRestore.pagination)==null?void 0:g.pageSize;return w!=null&&e.current.setState(Hu(w)),f},[e]);jt(e,"exportState",c),jt(e,"restoreState",u);const d=h.useCallback(()=>{const f=e.current.getRootDimensions();if(!t.autoPageSize||!f)return;const m=wm(e),g=Math.floor((f.viewportInnerSize.height-m.top-m.bottom)/i);e.current.setPageSize(g)},[e,t.autoPageSize,i]);ue(e,"viewportInnerSizeChange",d),h.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),h.useEffect(()=>{d()},[d])},bl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,vl=e=>e.pageCount?S({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,Wu=e=>t=>S({},t,{pagination:vl(S({},t.pagination,{page:e}))});ln(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Ok=(e,t)=>{var n,r;const o=pt(e,"useGridPage"),i=xe(e,_f);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:ms,changeEvent:"pageChange"});const a={setPage:h.useCallback(m=>{o.debug(`Setting page to ${m}`),e.current.setState(Wu(m)),e.current.forceUpdate()},[e,o])};qe(e,a);const c=h.useCallback((m,g)=>{var w,b;const C=ms(e);return!g.exportOnlyDirtyModels||t.page!=null||((w=t.initialState)==null||(b=w.pagination)==null?void 0:b.page)!=null||C!==0?S({},m,{pagination:S({},m.pagination,{page:C})}):m},[e,t.page,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.page]),u=h.useCallback((m,g)=>{var w,b;const C=(w=(b=g.stateToRestore.pagination)==null?void 0:b.page)!=null?w:ms(e);return e.current.setState(Wu(C)),m},[e]);jt(e,"exportState",c),jt(e,"restoreState",u);const d=m=>{e.current.setState(g=>{const w=bl(g.pagination.rowCount,m);return S({},g,{pagination:vl(S({},g.pagination,{pageCount:w,page:g.pagination.page}))})}),e.current.forceUpdate()},f=()=>e.current.scrollToIndexes({rowIndex:ms(e)*Es(e)});ue(e,"pageSizeChange",d),ue(e,"pageChange",f),h.useEffect(()=>{},[t.rowCount,t.paginationMode]),h.useEffect(()=>{e.current.setState(m=>{const g=t.rowCount!==void 0?t.rowCount:i,w=bl(g,m.pagination.pageSize),b=t.page==null?m.pagination.page:t.page;return S({},m,{pagination:vl(S({},m.pagination,{page:b,rowCount:g,pageCount:w}))})}),e.current.forceUpdate()},[i,t.rowCount,t.page,t.paginationMode,e])},_k=(e,t)=>{var n,r,o,i,l,a,c,u;let d;return t.pageSize!=null?d=t.pageSize:((n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize)!=null?d=t.initialState.pagination.pageSize:d=Pm(t.autoPageSize),S({},e,{pagination:{pageSize:d,page:(o=(i=t.page)!=null?i:(l=t.initialState)==null||(a=l.pagination)==null?void 0:a.page)!=null?o:0,pageCount:bl((c=t.rowCount)!=null?c:0,d),rowCount:(u=t.rowCount)!=null?u:0}})},Vk=(e,t)=>{Dk(e,t),Ok(e,t)},$k=(e,t)=>{var n,r;return S({},e,{preferencePanel:(n=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?n:{open:!1}})},Lk=(e,t)=>{var n;const r=pt(e,"useGridPreferencesPanel"),o=h.useRef(),i=h.useRef(),l=h.useCallback(()=>{r.debug("Hiding Preferences Panel");const m=Yo(e.current.state);m.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:m.openedPanelValue}),e.current.setState(g=>S({},g,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),a=h.useCallback(()=>{i.current=setTimeout(()=>clearTimeout(o.current),0)},[]),c=h.useCallback(()=>{o.current=setTimeout(l,100)},[l]),u=h.useCallback(m=>{r.debug("Opening Preferences Panel"),a(),e.current.setState(g=>S({},g,{preferencePanel:S({},g.preferencePanel,{open:!0,openedPanelValue:m})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:m}),e.current.forceUpdate()},[r,a,e]);qe(e,{showPreferences:u,hidePreferences:c});const d=h.useCallback((m,g)=>{var w;const b=Yo(e.current.state);return!g.exportOnlyDirtyModels||((w=t.initialState)==null?void 0:w.preferencePanel)!=null||b.open?S({},m,{preferencePanel:b}):m},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),f=h.useCallback((m,g)=>{const w=g.stateToRestore.preferencePanel;return w!=null&&e.current.setState(b=>S({},b,{preferencePanel:w})),m},[e]);jt(e,"exportState",d),jt(e,"restoreState",f),h.useEffect(()=>()=>{clearTimeout(o.current),clearTimeout(i.current)},[])},lt=e=>e.editRows;function Gu(e){return typeof e.then=="function"}const Rk=(e,t)=>{var n;const r=pt(e,"useGridEditRows"),o=v=>(...p)=>{t.editMode===It.Cell&&v(...p)},i=h.useCallback((v,p,E)=>{e.current.getCellMode(v,p)!==E&&(r.debug(`Switching cell id: ${v} field: ${p} to mode: ${E}`),e.current.setState(D=>{const P=S({},D.editRows);return P[v]=S({},P[v]),E===Oe.Edit?P[v][p]={value:e.current.getCellValue(v,p)}:(delete P[v][p],Object.keys(P[v]).length||delete P[v]),S({},D,{editRows:P})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(v,p)))},[e,r]),l=h.useCallback((v,p)=>{const E=lt(e.current.state);return E[v]&&E[v][p]?Oe.Edit:Oe.View},[e]),a=h.useCallback((v,p={})=>{var E;const{id:D,field:P}=v;e.current.unstable_runPendingEditCellValueMutation(D,P);const k=e.current.getEditRowsModel();if(!k[D]||!k[D][P])throw new Error(`MUI: Cell at id: ${D} and field: ${P} is not in edit mode.`);const T=k[D][P],_=e.current.getColumn(P),O=e.current.getRow(D);if((E=t.experimentalFeatures)!=null&&E.preventCommitWhileValidating){const I=k[D][P];if(I.isValidating||I.error)return!1}const z=S({},v,{value:T.value});let $=!!T.error;if(!$&&typeof _.preProcessEditCellProps=="function"){const I=_.preProcessEditCellProps({id:D,row:O,props:T});if(Gu(I))return I.then(F=>(e.current.unstable_setEditCellProps({id:D,field:P,props:F}),F.error?!1:(e.current.publishEvent("cellEditCommit",z,p),!0)));e.current.unstable_setEditCellProps({id:D,field:P,props:I}),$=!!I.error}return $?!1:(e.current.publishEvent("cellEditCommit",z,p),!0)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),c=h.useCallback(v=>{const p=e.current.getColumn(v.field),E=e.current.getRow(v.id);return new Promise(D=>{let P={value:v.value};const T=e.current.getEditRowsModel()[v.id][v.field];if(typeof p.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(S({},v,{props:P})),D(!0);return}P=e.current.unstable_setEditCellProps(S({},v,{props:S({},T,{isValidating:!0})})),Promise.resolve(p.preProcessEditCellProps({id:v.id,row:E,props:S({},P,{value:e.current.unstable_parseValue(v.id,v.field,v.value)})})).then(_=>{e.current.unstable_setEditCellProps(S({},v,{props:S({},_,{isValidating:!1})})),D(!_.error)})})},[e]);qe(e,{setCellMode:i,getCellMode:l,commitCellChange:a,unstable_setCellEditingEditCellValue:c});const d=h.useCallback(async(v,p)=>{if(p.which===229)return;const{id:E,field:D,cellMode:P,isEditable:k}=v;if(!k)return;const T=P===Oe.Edit,_=p.ctrlKey||p.metaKey||p.altKey;if(!T&&oS(p)&&!_&&!(p.key===" "&&p.shiftKey)&&e.current.publishEvent("cellEditStart",v,p),!T&&hl(p.key)&&(e.current.setEditCellValue({id:E,field:D,value:""}),e.current.commitCellChange({id:E,field:D},p),e.current.publishEvent("cellEditStop",v,p)),T&&Eu(p.key)){const O={id:E,field:D};if(!await e.current.commitCellChange(O,p))return}T&&iS(p.key)&&e.current.publishEvent("cellEditStop",v,p)},[e]),f=h.useCallback((v,p)=>{v.isEditable&&e.current.publishEvent("cellEditStart",v,p)},[e]),m=async(v,p)=>{v.cellMode!==Oe.View&&(await e.current.commitCellChange(v,p),e.current.publishEvent("cellEditStop",v,p))},g=sn((v,p)=>{m(v,p)}),w=sn(()=>{const v=rn(e);if(!v)return;const p=e.current.getCellParams(v.id,v.field);m(p,{})}),b=h.useCallback((v,p)=>{v.isEditable&&(e.current.setCellMode(v.id,v.field,Oe.Edit),fl(p)&&pi(p)&&e.current.unstable_setEditCellProps({id:v.id,field:v.field,props:{value:""}}))},[e]),C=h.useCallback((v,p)=>{if(e.current.setCellMode(v.id,v.field,Oe.View),!!fl(p)){if(Eu(p.key)){e.current.publishEvent("cellNavigationKeyDown",v,p);return}(p.key==="Escape"||hl(p.key))&&e.current.setCellFocus(v.id,v.field)}},[e]),y=h.useCallback(v=>{const{id:p,field:E}=v,D=e.current.getEditRowsModel(),{value:P}=D[p][E];r.debug(`Setting cell id: ${p} field: ${E} to value: ${P?.toString()}`);const k=e.current.getRow(p);if(k){const T=e.current.getColumn(v.field);let _=S({},k,{[E]:P});T.valueSetter&&(_=T.valueSetter({row:k,value:P})),e.current.updateRows([_])}},[e,r]),x=h.useCallback(v=>{const p=e.current.getRow(v.id),E=e.current.getColumn(v.field),D=E.preProcessEditCellProps?E.preProcessEditCellProps({id:v.id,row:p,props:v.props}):v.props;Gu(D)?D.then(P=>{e.current.unstable_setEditCellProps(S({},v,{props:P}))}):e.current.unstable_setEditCellProps(S({},v,{props:D}))},[e]);ue(e,"cellKeyDown",o(d)),ue(e,"cellDoubleClick",o(f)),ue(e,"cellFocusOut",o(g)),ue(e,"columnHeaderDragStart",o(w)),ue(e,"cellEditStart",o(b)),ue(e,"cellEditStop",o(C)),ue(e,"cellEditCommit",o(y)),ue(e,"editCellPropsChange",o(x)),Re(e,"cellEditCommit",t.onCellEditCommit),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop)},Nk=(e,t)=>{var n,r;const o=h.useRef(null),i=h.useRef(null),l=xe(e,on),a=P=>(...k)=>{t.editMode===It.Row&&P(...k)},c=h.useCallback((P,k)=>{k!==e.current.getRowMode(P)&&(e.current.setState(T=>{const _=S({},T.editRows);return k===We.Edit?(_[P]={},l.forEach(O=>{const z=e.current.getCellParams(P,O.field);z.isEditable&&(_[P][O.field]={value:z.value})})):delete _[P],S({},T,{editRows:_})}),e.current.forceUpdate())},[e,l]),u=h.useCallback(P=>t.editMode===It.Cell?We.View:lt(e.current.state)[P]?We.Edit:We.View,[e,t.editMode]),d=h.useCallback((P,k={})=>{var T;if(t.editMode===It.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(P);const O=e.current.getEditRowsModel()[P];if(!O)throw new Error(`MUI: Row at id: ${P} is not being edited.`);if((T=t.experimentalFeatures)!=null&&T.preventCommitWhileValidating&&!Object.keys(O).reduce((F,V)=>F&&!O[V].isValidating&&!O[V].error,!0)||Object.values(O).some(I=>!!I.error))return!1;const $=Object.keys(O).filter(I=>typeof e.current.getColumn(I).preProcessEditCellProps=="function");if($.length>0){const I=e.current.getRow(P),F=$.map(async V=>{const H=e.current.getColumn(V),R=await Promise.resolve(H.preProcessEditCellProps({id:P,row:I,props:O[V]}));return e.current.unstable_setEditCellProps({id:P,field:V,props:R}),R.error});return Promise.all(F).then(V=>V.some(H=>!!H)?!1:(e.current.publishEvent("rowEditCommit",P,k),!0))}return e.current.publishEvent("rowEditCommit",P,k),!0},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),f=h.useCallback(P=>{const T=e.current.getEditRowsModel()[P.id],_=e.current.getRow(P.id);let O=!0;return new Promise(z=>{Object.keys(T).forEach(async $=>{const I=e.current.getColumn($);let F=$===P.field?{value:P.value}:T[$];F=e.current.unstable_setEditCellProps({id:P.id,field:$,props:S({},F,{isValidating:!0})}),I.preProcessEditCellProps&&(F=await Promise.resolve(I.preProcessEditCellProps({id:P.id,row:_,props:S({},F,{value:$===P.field?e.current.unstable_parseValue(P.id,$,P.value):F.value})}))),F.error&&(O=!1),e.current.unstable_setEditCellProps({id:P.id,field:$,props:S({},F,{isValidating:!1})})}),z(O)})},[e]);qe(e,{setRowMode:c,getRowMode:u,commitRowChange:d,unstable_setRowEditingEditCellValue:f});const g=h.useCallback(async(P,k)=>{if(k.which===229)return;const{cellMode:T,isEditable:_}=P;if(!_)return;const O=T===Oe.Edit,z=e.current.getRowParams(P.id);if(O)if(k.key==="Enter"){var $;if(!await e.current.commitRowChange(P.id)&&($=t.experimentalFeatures)!=null&&$.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",z,k)}else k.key==="Escape"&&e.current.publishEvent("rowEditStop",z,k);else k.key==="Enter"&&e.current.publishEvent("rowEditStart",z,k)},[e,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),w=h.useCallback((P,k)=>{if(!P.isEditable)return;const T=e.current.getRowParams(P.id);e.current.publishEvent("rowEditStart",T,k)},[e]),b=h.useCallback(P=>{const k=e.current.getRow(P.id),_=e.current.getEditRowsModel()[P.id];Object.keys(_).forEach(async O=>{const z=e.current.getColumn(O);if(z.preProcessEditCellProps){const $=O===P.field?P.props:_[O],I=await Promise.resolve(z.preProcessEditCellProps({id:P.id,row:k,props:$}));e.current.unstable_setEditCellProps({id:P.id,field:O,props:I})}else O===P.field&&e.current.unstable_setEditCellProps(P)})},[e]),C=h.useCallback(P=>{e.current.setRowMode(P.id,We.Edit)},[e]),y=h.useCallback((P,k)=>{e.current.setRowMode(P.id,We.View),k.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",P,k)},[e]),x=h.useCallback(P=>{const T=e.current.getEditRowsModel()[P];if(!T)throw new Error(`MUI: Row at id: ${P} is not being edited.`);const _=e.current.getRow(P);if(_){let O=S({},_);Object.keys(T).forEach(z=>{const $=e.current.getColumn(z),I=T[z].value;$.valueSetter?O=$.valueSetter({row:O,value:I}):O[z]=I}),e.current.updateRows([O])}},[e]),v=h.useCallback(P=>{i.current=P},[]),p=async(P,k)=>{P.cellMode!==Oe.View&&(i.current=null,o.current=setTimeout(async()=>{var T;if(((T=i.current)==null?void 0:T.id)!==P.id){await e.current.commitRowChange(P.id,k);const _=e.current.getRowParams(P.id);e.current.publishEvent("rowEditStop",_,k)}}))},E=sn((P,k)=>{p(P,k)}),D=sn(()=>{const P=rn(e);if(!P)return;const k=e.current.getCellParams(P.id,P.field);p(k,{})});ue(e,"cellKeyDown",a(g)),ue(e,"cellDoubleClick",a(w)),ue(e,"editCellPropsChange",a(b)),ue(e,"rowEditStart",a(C)),ue(e,"rowEditStop",a(y)),ue(e,"rowEditCommit",a(x)),ue(e,"cellFocusIn",a(v)),ue(e,"cellFocusOut",a(E)),ue(e,"columnHeaderDragStart",a(D)),Re(e,"rowEditCommit",t.onRowEditCommit),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop)},zk=e=>S({},e,{editRows:{}});function Bk(e,t){var n;const r=pt(e,"useGridEditRows");Rk(e,t),Nk(e,t);const o=h.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:lt,changeEvent:"editRowsModelChange"});const i=h.useCallback(b=>!b.rowNode.isAutoGenerated&&!b.rowNode.isPinned&&!!b.colDef.editable&&!!b.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(b)),[t.isCellEditable]),l=(b,C,y,x)=>{if(!y){x();return}if(o.current[b]||(o.current[b]={}),o.current[b][C]){const[E]=o.current[b][C];clearTimeout(E)}const v=()=>{x();const[E]=o.current[b][C];clearTimeout(E),delete o.current[b][C]},p=setTimeout(()=>{x(),delete o.current[b][C]},y);o.current[b][C]=[p,v]},a=h.useCallback((b,C)=>{if(o.current[b]){if(!C)Object.keys(o.current[b]).forEach(y=>{const[,x]=o.current[b][y];x()});else if(o.current[b][C]){const[,y]=o.current[b][C];y()}}},[]),c=h.useCallback((b,C={})=>{l(b.id,b.field,b.debounceMs,()=>{var y;if((y=t.experimentalFeatures)!=null&&y.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(b):e.current.unstable_setCellEditingEditCellValue(b);const x={id:b.id,field:b.field,props:{value:b.value}};return e.current.publishEvent("editCellPropsChange",x,C)})},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),u=h.useCallback((b,C,y)=>{const x=e.current.getColumn(C);return x.valueParser?x.valueParser(y,e.current.getCellParams(b,C)):y},[e]),d=h.useCallback(b=>{const{id:C,field:y,props:x}=b;return r.debug(`Setting cell props on id: ${C} field: ${y}`),e.current.setState(p=>{const E=S({},p.editRows);return E[C]=S({},p.editRows[C]),E[C][y]=S({},x,{value:u(C,y,x.value)}),S({},p,{editRows:E})}),e.current.forceUpdate(),lt(e.current.state)[C][y]},[e,r,u]),f=h.useCallback(b=>{lt(e.current.state)!==b&&(r.debug("Setting editRows model"),e.current.setState(y=>S({},y,{editRows:b})),e.current.forceUpdate())},[e,r]),m=h.useCallback(()=>lt(e.current.state),[e]),g=h.useCallback((b,C)=>{const y=C.detail>1;b.isEditable&&b.cellMode===Oe.View&&y&&C.preventDefault()},[]);ue(e,"cellMouseDown",g),Re(e,"editCellPropsChange",t.onEditCellPropsChange),qe(e,{isCellEditable:i,setEditRowsModel:f,getEditRowsModel:m,setEditCellValue:c,unstable_setEditCellProps:d,unstable_parseValue:u,unstable_runPendingEditCellValueMutation:a}),h.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const Hk=["id","field"],Wk=["id","field"],Gk=ln(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),Uk=(e,t)=>{const[n,r]=h.useState({}),o=h.useRef(n),i=h.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u,signature:d}=t,f=I=>(...F)=>{t.editMode===It.Cell&&I(...F)},m=h.useCallback((I,F)=>{const V=e.current.getCellParams(I,F);if(!e.current.isCellEditable(V))throw new Error(`MUI: The cell with id=${I} and field=${F} is not editable.`)},[e]),g=h.useCallback((I,F,V)=>{if(e.current.getCellMode(I,F)!==V)throw new Error(`MUI: The cell with id=${I} and field=${F} is not in ${V} mode.`)},[e]),w=h.useCallback((I,F)=>{if(!I.isEditable||I.cellMode===Oe.Edit)return;const V=S({},I,{reason:Sn.cellDoubleClick});e.current.publishEvent("cellEditStart",V,F)},[e]),b=h.useCallback((I,F)=>{if(I.cellMode===Oe.View||e.current.getCellMode(I.id,I.field)===Oe.View)return;const V=S({},I,{reason:dn.cellFocusOut});e.current.publishEvent("cellEditStop",V,F)},[e]),C=h.useCallback((I,F)=>{if(I.cellMode===Oe.Edit){if(F.which===229)return;let V;if(F.key==="Escape"?V=dn.escapeKeyDown:F.key==="Enter"?V=dn.enterKeyDown:F.key==="Tab"&&(V=F.shiftKey?dn.shiftTabKeyDown:dn.tabKeyDown,F.preventDefault()),V){const H=S({},I,{reason:V});e.current.publishEvent("cellEditStop",H,F)}}else if(I.isEditable){let V;if(F.key===" "&&F.shiftKey)return;if(pi(F)||(F.ctrlKey||F.metaKey)&&F.key==="v"?V=Sn.printableKeyDown:F.key==="Enter"?V=Sn.enterKeyDown:(F.key==="Delete"||F.key==="Backspace")&&(V=Sn.deleteKeyDown),V){const H=S({},I,{reason:V,key:F.key});e.current.publishEvent("cellEditStart",H,F)}}},[e]),y=h.useCallback(I=>{const{id:F,field:V,reason:H,key:R}=I,N={id:F,field:V};H===Sn.printableKeyDown?h.version.startsWith("18")?N.initialValue=R:N.deleteValue=!0:H===Sn.deleteKeyDown&&(N.deleteValue=!0),e.current.startCellEditMode(N)},[e]),x=h.useCallback(I=>{const{id:F,field:V,reason:H}=I;e.current.unstable_runPendingEditCellValueMutation(F,V);let R;H===dn.enterKeyDown?R="below":H===dn.tabKeyDown?R="right":H===dn.shiftTabKeyDown&&(R="left");let N=H==="escapeKeyDown";lt(e.current.state)[F][V].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(N=!0),e.current.stopCellEditMode({id:F,field:V,ignoreModifications:N,cellToFocusAfter:R})},[e,t.disableIgnoreModificationsIfProcessingProps]);ue(e,"cellDoubleClick",f(w)),ue(e,"cellFocusOut",f(b)),ue(e,"cellKeyDown",f(C)),ue(e,"cellEditStart",f(y)),ue(e,"cellEditStop",f(x)),Re(e,"cellEditStart",t.onCellEditStart),Re(e,"cellEditStop",t.onCellEditStop);const v=h.useCallback((I,F)=>{const V=lt(e.current.state);return V[I]&&V[I][F]?Oe.Edit:Oe.View},[e]),p=sn(I=>{const F=I!==t.cellModesModel;if(u&&F){const V=d===er.DataGridPro?{api:e.current}:{};u(I,V)}t.cellModesModel&&F||(r(I),o.current=I,e.current.publishEvent("cellModesModelChange",I))}),E=h.useCallback((I,F,V)=>{const H=S({},o.current);if(V!==null)H[I]=S({},H[I],{[F]:S({},V)});else{const R=H[I],N=ve(R,[F].map(Ms));H[I]=N,Object.keys(H[I]).length===0&&delete H[I]}p(H)},[p]),D=h.useCallback((I,F,V)=>{e.current.setState(H=>{const R=S({},H.editRows);return V!==null?R[I]=S({},R[I],{[F]:S({},V)}):(delete R[I][F],Object.keys(R[I]).length===0&&delete R[I]),S({},H,{editRows:R})}),e.current.forceUpdate()},[e]),P=h.useCallback(I=>{const{id:F,field:V}=I,H=ve(I,Hk);m(F,V),g(F,V,Oe.View),E(F,V,S({mode:Oe.Edit},H))},[m,g,E]),k=sn(I=>{const{id:F,field:V,deleteValue:H,initialValue:R}=I;let N=e.current.getCellValue(F,V);(H||R)&&(N=H?"":R),D(F,V,{value:N,error:!1,isProcessingProps:!1}),e.current.setCellFocus(F,V)}),T=h.useCallback(I=>{const{id:F,field:V}=I,H=ve(I,Wk);g(F,V,Oe.Edit),E(F,V,S({mode:Oe.View},H))},[g,E]),_=sn(async I=>{const{id:F,field:V,ignoreModifications:H,cellToFocusAfter:R="none"}=I;g(F,V,Oe.Edit),e.current.unstable_runPendingEditCellValueMutation(F,V);const N=()=>{D(F,V,null),E(F,V,null),R!=="none"&&e.current.unstable_moveFocusToRelativeCell(F,V,R)};if(H){N();return}const U=lt(e.current.state),{error:K,isProcessingProps:Z}=U[F][V];if(K||Z){i.current[F][V].mode=Oe.Edit,E(F,V,{mode:Oe.Edit});return}const se=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(F,V);if(l){const te=fe=>{i.current[F][V].mode=Oe.Edit,E(F,V,{mode:Oe.Edit}),a?a(fe):Gk()};try{const fe=e.current.getRow(F);Promise.resolve(l(se,fe)).then(oe=>{e.current.updateRows([oe]),N()}).catch(te)}catch(fe){te(fe)}}else e.current.updateRows([se]),N()}),O=h.useCallback(async I=>{var F,V;const{id:H,field:R,value:N,debounceMs:U,unstable_skipValueParser:K}=I;m(H,R),g(H,R,Oe.Edit);const Z=e.current.getColumn(R),se=e.current.getRow(H);let te=N;Z.valueParser&&!K&&(te=Z.valueParser(N,e.current.getCellParams(H,R)));let fe=lt(e.current.state),oe=S({},fe[H][R],{value:te,changeReason:U?"debouncedSetEditCellValue":"setEditCellValue"});if(Z.preProcessEditCellProps){const me=N!==fe[H][R].value;oe=S({},oe,{isProcessingProps:!0}),D(H,R,oe),oe=await Promise.resolve(Z.preProcessEditCellProps({id:H,row:se,props:oe,hasChanged:me}))}return e.current.getCellMode(H,R)===Oe.View?!1:(fe=lt(e.current.state),oe=S({},oe,{isProcessingProps:!1}),oe.value=Z.preProcessEditCellProps?fe[H][R].value:te,D(H,R,oe),fe=lt(e.current.state),!((F=fe[H])!=null&&(V=F[R])!=null&&V.error))},[e,m,g,D]),z=h.useCallback((I,F)=>{const V=e.current.getColumn(F),H=lt(e.current.state),{value:R}=H[I][F],N=e.current.getRow(I);return V.valueSetter?V.valueSetter({value:R,row:N}):S({},N,{[F]:R})},[e]);qe(e,{getCellMode:v,startCellEditMode:P,stopCellEditMode:T,unstable_setCellEditingEditCellValue:O,unstable_getRowWithUpdatedValuesFromCellEditing:z}),h.useEffect(()=>{c&&p(c)},[c,p]),h.useEffect(()=>{const I=da(e),F=i.current;i.current=rm(n),Object.entries(n).forEach(([V,H])=>{Object.entries(H).forEach(([R,N])=>{var U,K,Z;const se=((U=F[V])==null||(K=U[R])==null?void 0:K.mode)||Oe.View,te=(Z=I[V])!=null?Z:V;N.mode===Oe.Edit&&se===Oe.View?k(S({id:te,field:R},N)):N.mode===Oe.View&&se===Oe.Edit&&_(S({id:te,field:R},N))})})},[e,n,k,_])},qk=["id"],Kk=["id"],Qk=ln(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),Yk=(e,t)=>{const[n,r]=h.useState({}),o=h.useRef(n),i=h.useRef({}),l=h.useRef(null),a=h.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:u,rowModesModel:d,onRowModesModelChange:f,signature:m}=t,g=R=>(...N)=>{t.editMode===It.Row&&R(...N)},w=h.useCallback((R,N)=>{const U=e.current.getCellParams(R,N);if(!e.current.isCellEditable(U))throw new Error(`MUI: The cell with id=${R} and field=${N} is not editable.`)},[e]),b=h.useCallback((R,N)=>{if(e.current.getRowMode(R)!==N)throw new Error(`MUI: The row with id=${R} is not in ${N} mode.`)},[e]),C=h.useCallback((R,N)=>{if(!R.isEditable||e.current.getRowMode(R.id)===We.Edit)return;const U=e.current.getRowParams(R.id),K=S({},U,{field:R.field,reason:jn.cellDoubleClick});e.current.publishEvent("rowEditStart",K,N)},[e]),y=h.useCallback(R=>{a.current=R},[]),x=h.useCallback((R,N)=>{R.isEditable&&e.current.getRowMode(R.id)!==We.View&&(a.current=null,l.current=setTimeout(()=>{var U;if(l.current=null,((U=a.current)==null?void 0:U.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===We.View)return;const K=e.current.getRowParams(R.id),Z=S({},K,{field:R.field,reason:hn.rowFocusOut});e.current.publishEvent("rowEditStop",Z,N)}}))},[e]);h.useEffect(()=>()=>{clearTimeout(l.current)},[]);const v=h.useCallback((R,N)=>{if(R.cellMode===We.Edit){if(N.which===229)return;let U;if(N.key==="Escape")U=hn.escapeKeyDown;else if(N.key==="Enter")U=hn.enterKeyDown;else if(N.key==="Tab"){const K=Jr(e).filter(Z=>e.current.isCellEditable(e.current.getCellParams(R.id,Z)));N.shiftKey?R.field===K[0]&&(U=hn.shiftTabKeyDown):R.field===K[K.length-1]&&(U=hn.tabKeyDown),U&&N.preventDefault()}if(U){const K=e.current.getRowParams(R.id),Z=S({},K,{reason:U,field:R.field});e.current.publishEvent("rowEditStop",Z,N)}}else if(R.isEditable){let U;if(N.key===" "&&N.shiftKey)return;if(pi(N)||(N.ctrlKey||N.metaKey)&&N.key==="v"?U=jn.printableKeyDown:N.key==="Enter"?U=jn.enterKeyDown:(N.key==="Delete"||N.key==="Backspace")&&(U=jn.deleteKeyDown),U){const K=e.current.getRowParams(R.id),Z=S({},K,{field:R.field,key:N.key,reason:U});e.current.publishEvent("rowEditStart",Z,N)}}},[e]),p=h.useCallback(R=>{const{id:N,field:U,reason:K,key:Z}=R,se={id:N,fieldToFocus:U};K===jn.printableKeyDown?h.version.startsWith("18")?se.initialValue=Z:se.deleteValue=!!U:K===jn.deleteKeyDown&&(se.deleteValue=!!U),e.current.startRowEditMode(se)},[e]),E=h.useCallback(R=>{const{id:N,reason:U,field:K}=R;e.current.unstable_runPendingEditCellValueMutation(N);let Z;U===hn.enterKeyDown?Z="below":U===hn.tabKeyDown?Z="right":U===hn.shiftTabKeyDown&&(Z="left");let se=U==="escapeKeyDown";const te=lt(e.current.state);!se&&!t.disableIgnoreModificationsIfProcessingProps&&(se=Object.values(te[N]).some(fe=>fe.isProcessingProps)),e.current.stopRowEditMode({id:N,ignoreModifications:se,field:K,cellToFocusAfter:Z})},[e,t.disableIgnoreModificationsIfProcessingProps]);ue(e,"cellDoubleClick",g(C)),ue(e,"cellFocusIn",g(y)),ue(e,"cellFocusOut",g(x)),ue(e,"cellKeyDown",g(v)),ue(e,"rowEditStart",g(p)),ue(e,"rowEditStop",g(E)),Re(e,"rowEditStart",t.onRowEditStart),Re(e,"rowEditStop",t.onRowEditStop);const D=h.useCallback(R=>{if(t.editMode===It.Cell)return We.View;const N=lt(e.current.state);return N[R]&&Object.keys(N[R]).length>0?We.Edit:We.View},[e,t.editMode]),P=sn(R=>{const N=R!==t.rowModesModel;if(f&&N){const U=m===er.DataGridPro?{api:e.current}:{};f(R,U)}t.rowModesModel&&N||(r(R),o.current=R,e.current.publishEvent("rowModesModelChange",R))}),k=h.useCallback((R,N)=>{const U=S({},o.current);N!==null?U[R]=S({},N):delete U[R],P(U)},[P]),T=h.useCallback((R,N)=>{e.current.setState(U=>{const K=S({},U.editRows);return N!==null?K[R]=N:delete K[R],S({},U,{editRows:K})}),e.current.forceUpdate()},[e]),_=h.useCallback((R,N,U)=>{e.current.setState(K=>{const Z=S({},K.editRows);return U!==null?Z[R]=S({},Z[R],{[N]:S({},U)}):(delete Z[R][N],Object.keys(Z[R]).length===0&&delete Z[R]),S({},K,{editRows:Z})}),e.current.forceUpdate()},[e]),O=h.useCallback(R=>{const{id:N}=R,U=ve(R,qk);b(N,We.View),k(N,S({mode:We.Edit},U))},[b,k]),z=sn(R=>{const{id:N,fieldToFocus:U,deleteValue:K,initialValue:Z}=R,te=Jr(e).reduce((fe,oe)=>{if(!e.current.getCellParams(N,oe).isEditable)return fe;let J=e.current.getCellValue(N,oe);return U===oe&&(K||Z)&&(J=K?"":Z),fe[oe]={value:J,error:!1,isProcessingProps:!1},fe},{});T(N,te),U&&e.current.setCellFocus(N,U)}),$=h.useCallback(R=>{const{id:N}=R,U=ve(R,Kk);b(N,We.Edit),k(N,S({mode:We.View},U))},[b,k]),I=sn(R=>{const{id:N,ignoreModifications:U,field:K,cellToFocusAfter:Z="none"}=R;e.current.unstable_runPendingEditCellValueMutation(N);const se=()=>{Z!=="none"&&K&&e.current.unstable_moveFocusToRelativeCell(N,K,Z),T(N,null),k(N,null)};if(U){se();return}const te=lt(e.current.state),fe=e.current.getRow(N);if(Object.values(te[N]).some(ce=>ce.isProcessingProps)){i.current[N].mode=We.Edit;return}if(Object.values(te[N]).some(ce=>ce.error)){i.current[N].mode=We.Edit,k(N,{mode:We.Edit});return}const J=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(N);if(c){const ce=ae=>{i.current[N].mode=We.Edit,k(N,{mode:We.Edit}),u?u(ae):Qk()};try{Promise.resolve(c(J,fe)).then(ae=>{e.current.updateRows([ae]),se()}).catch(ce)}catch(ae){ce(ae)}}else e.current.updateRows([J]),se()}),F=h.useCallback(R=>{const{id:N,field:U,value:K,debounceMs:Z,unstable_skipValueParser:se}=R;w(N,U);const te=e.current.getColumn(U),fe=e.current.getRow(N);let oe=K;te.valueParser&&!se&&(oe=te.valueParser(K,e.current.getCellParams(N,U)));let me=lt(e.current.state),J=S({},me[N][U],{value:oe,changeReason:Z?"debouncedSetEditCellValue":"setEditCellValue"});return te.preProcessEditCellProps||_(N,U,J),new Promise(ce=>{const ae=[];if(te.preProcessEditCellProps){const we=J.value!==me[N][U].value;J=S({},J,{isProcessingProps:!0}),_(N,U,J);const pe=me[N],_e=ve(pe,[U].map(Ms)),Ye=Promise.resolve(te.preProcessEditCellProps({id:N,row:fe,props:J,hasChanged:we,otherFieldsProps:_e})).then(ie=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}me=lt(e.current.state),ie=S({},ie,{isProcessingProps:!1}),ie.value=te.preProcessEditCellProps?me[N][U].value:oe,_(N,U,ie)});ae.push(Ye)}Object.entries(me[N]).forEach(([we,pe])=>{if(we===U)return;const _e=e.current.getColumn(we);if(!_e.preProcessEditCellProps)return;pe=S({},pe,{isProcessingProps:!0}),_(N,we,pe),me=lt(e.current.state);const Ye=me[N],ie=ve(Ye,[we].map(Ms)),Ce=Promise.resolve(_e.preProcessEditCellProps({id:N,row:fe,props:pe,hasChanged:!1,otherFieldsProps:ie})).then(je=>{if(e.current.getRowMode(N)===We.View){ce(!1);return}je=S({},je,{isProcessingProps:!1}),_(N,we,je)});ae.push(Ce)}),Promise.all(ae).then(()=>{e.current.getRowMode(N)===We.Edit?(me=lt(e.current.state),ce(!me[N][U].error)):ce(!1)})})},[e,w,_]),V=h.useCallback(R=>{const N=lt(e.current.state),U=e.current.getRow(R);let K=S({},U);return Object.entries(N[R]).forEach(([Z,se])=>{const te=e.current.getColumn(Z);te.valueSetter?K=te.valueSetter({value:se.value,row:K}):K[Z]=se.value}),K},[e]);qe(e,{getRowMode:D,startRowEditMode:O,stopRowEditMode:$,unstable_setRowEditingEditCellValue:F,unstable_getRowWithUpdatedValuesFromRowEditing:V}),h.useEffect(()=>{d&&P(d)},[d,P]),h.useEffect(()=>{const R=da(e),N=i.current;i.current=rm(n),Object.entries(n).forEach(([U,K])=>{var Z,se;const te=((Z=N[U])==null?void 0:Z.mode)||We.View,fe=(se=R[U])!=null?se:U;K.mode===We.Edit&&te===We.View?z(S({id:fe},K)):K.mode===We.View&&te===We.Edit&&I(S({id:fe},K))})},[e,n,z,I])},Xk=e=>S({},e,{editRows:{}}),Zk=(e,t)=>{Uk(e,t),Yk(e,t);const n=h.useRef({}),{isCellEditable:r}=t,o=h.useCallback(f=>f.rowNode.isAutoGenerated||!f.colDef.editable||!f.colDef.renderEditCell?!1:r?r(f):!f.rowNode.isPinned,[r]),i=(f,m,g,w)=>{if(!g){w();return}if(n.current[f]||(n.current[f]={}),n.current[f][m]){const[y]=n.current[f][m];clearTimeout(y)}const b=()=>{const[y]=n.current[f][m];clearTimeout(y),w(),delete n.current[f][m]},C=setTimeout(()=>{w(),delete n.current[f][m]},g);n.current[f][m]=[C,b]};h.useEffect(()=>{const f=n.current;return()=>{Object.entries(f).forEach(([m,g])=>{Object.keys(g).forEach(w=>{const[b]=f[m][w];clearTimeout(b),delete f[m][w]})})}},[]);const l=h.useCallback((f,m)=>{if(n.current[f]){if(!m)Object.keys(n.current[f]).forEach(g=>{const[,w]=n.current[f][g];w()});else if(n.current[f][m]){const[,g]=n.current[f][m];g()}}},[]),a=h.useCallback(f=>{const{id:m,field:g,debounceMs:w}=f;return new Promise(b=>{i(m,g,w,async()=>{const C=t.editMode===It.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(m,g)===Oe.Edit){const y=await C(f);b(y)}})})},[e,t.editMode]),c=h.useCallback((f,m)=>t.editMode===It.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(f,m):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(f),[e,t.editMode]),u=h.useCallback((f,m)=>({changeReason:lt(e.current.state)[f][m].changeReason}),[e]);qe(e,{isCellEditable:o,setEditCellValue:a,unstable_runPendingEditCellValueMutation:l,unstable_getRowWithUpdatedValues:c,unstable_getEditCellMeta:u})},Jk=(e,t,n)=>(n.current.unstable_caches.rows=Po({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),S({},e,{rows:ym({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),eE=(e,t)=>{const n=pt(e,"useGridRows"),r=kr(e,t),o=h.useRef(Date.now()),i=h.useRef(null),l=h.useCallback(_=>{var O;return(O=Ur(e)[_])!=null?O:null},[e]),a=h.useMemo(()=>r.rows.reduce((_,{id:O},z)=>(_[O]=z,_),{}),[r.rows]),c=h.useCallback((_,O)=>{const z=()=>{i.current=null,o.current=Date.now(),e.current.setState(I=>S({},I,{rows:ym({apiRef:e,previousTree:Un(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(i.current&&(clearTimeout(i.current),i.current=null),e.current.unstable_caches.rows=_,!O){z();return}const $=t.throttleRowsMs-(Date.now()-o.current);if($>0){i.current=setTimeout(z,$);return}z()},[t.throttleRowsMs,t.rowCount,t.loading,e]),u=h.useCallback(_=>{n.debug(`Updating all rows, new length ${_.length}`);const O=Po({rows:_,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),z=e.current.unstable_caches.rows;O.rowsBeforePartialUpdates=z.rowsBeforePartialUpdates,c(O,!0)},[n,t.getRowId,t.loading,t.rowCount,c,e]),d=h.useCallback(_=>{if(t.signature===er.DataGrid&&_.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const O=new Map;_.forEach(F=>{const V=pl(F,t.getRowId,"A row was provided without id when calling updateRows():");O.has(V)?O.set(V,S({},O.get(V),F)):O.set(V,F)});const z=[],$=e.current.unstable_caches.rows,I={rowsBeforePartialUpdates:$.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:$.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:$.rowCountPropBeforePartialUpdates,idRowsLookup:S({},$.idRowsLookup),idToIdLookup:S({},$.idToIdLookup),ids:[...$.ids]};O.forEach((F,V)=>{if(F._action==="delete"){delete I.idRowsLookup[V],delete I.idToIdLookup[V],z.push(V);return}if(!e.current.getRow(V)){I.idRowsLookup[V]=F,I.idToIdLookup[V]=V,I.ids.push(V);return}I.idRowsLookup[V]=S({},e.current.getRow(V),F)}),z.length>0&&(I.ids=I.ids.filter(F=>!z.includes(F))),c(I,!0)},[t.signature,t.getRowId,c,e]),f=h.useCallback(()=>{const _=mr(e),O=Ur(e);return new Map(_.map(z=>[z,O[z]]))},[e]),m=h.useCallback(()=>mi(e),[e]),g=h.useCallback(()=>mr(e),[e]),w=h.useCallback(_=>a[_],[a]),b=h.useCallback((_,O)=>{const z=e.current.getRowNode(_);if(!z)throw new Error(`MUI: No row with id #${_} found`);const $=S({},z,{childrenExpanded:O});e.current.setState(I=>S({},I,{rows:S({},I.rows,{tree:S({},I.rows.tree,{[_]:$})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",$)},[e]),C=h.useCallback(_=>{var O;return(O=Un(e)[_])!=null?O:null},[e]),y=h.useCallback(({skipAutoGeneratedRows:_=!0,groupId:O,applySorting:z,applyFiltering:$})=>{const I=Un(e);let F;if(z){const V=I[O];if(!V)return[];const H=ma(e);F=[];const R=H.findIndex(N=>N===O)+1;for(let N=R;N<H.length&&I[H[N]].depth>V.depth;N+=1){const U=H[N],K=I[U];(!_||!K.isAutoGenerated)&&F.push(U)}}else F=Cm(I,O,_);if($){const V=Af(e);F=F.filter(H=>V[H]!==!1)}return F},[e]),x=h.useCallback((_,O)=>{const z=mr(e),$=z.findIndex(F=>F===_);if($===-1||$===O)return;n.debug(`Moving row ${_} to index ${O}`);const I=[...z];I.splice(O,0,I.splice($,1)[0]),e.current.setState(F=>S({},F,{rows:S({},F.rows,{ids:I})})),e.current.unstable_caches.rows.ids=I,e.current.publishEvent("rowsSet")},[e,n]),v=h.useCallback((_,O)=>{if(t.signature===er.DataGrid&&O.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(O.length===0)return;const $=[...mr(e)],I=Ur(e),F=da(e),V=Un(e),H=S({},I),R=S({},F),N=S({},V),U=O.map(K=>({id:pl(K,t.getRowId,"A row was provided without id when calling replaceRows()."),model:K}));U.forEach((K,Z)=>{const[se]=$.splice(_+Z,1,K.id);delete H[se],delete R[se],delete N[se]}),U.forEach(K=>{const Z={id:K.id,parent:null,depth:0,groupingKey:null,groupingField:null};H[K.id]=K.model,R[K.id]=K.id,N[K.id]=Z}),e.current.unstable_caches.rows.idRowsLookup=H,e.current.unstable_caches.rows.idToIdLookup=R,e.current.unstable_caches.rows.ids=$,e.current.setState(K=>{const Z={idRowsLookup:H,idToIdLookup:R,tree:N,ids:$};return S({},K,{rows:S({},K.rows,Z,{groupingResponseBeforeRowHydration:S({},K.rows.groupingResponseBeforeRowHydration,Z)})})}),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),p={getRow:l,getRowModels:f,getRowsCount:m,getAllRowIds:g,setRows:u,setRowIndex:x,updateRows:d,setRowChildrenExpansion:b,getRowNode:C,getRowIndexRelativeToVisibleRows:w,getRowGroupChildren:y,unstable_replaceRows:v},E=h.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let _;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?_=e.current.unstable_caches.rows:_=Po({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),c(_,!1)},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,c]),D=h.useCallback(_=>{_==="rowTreeCreation"&&E()},[E]),P=h.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==q0(e)&&E()},[e,E]);ue(e,"activeStrategyProcessorChange",D),ue(e,"strategyAvailabilityChange",P);const k=h.useCallback(()=>{e.current.setState(_=>S({},_,{rows:S({},_.rows,e.current.unstable_applyPipeProcessors("hydrateRows",_.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);Pa(e,"hydrateRows",k),qe(e,p),h.useEffect(()=>()=>{i.current!==null&&clearTimeout(i.current)},[]);const T=h.useRef(!0);h.useEffect(()=>{if(T.current){T.current=!1;return}const _=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,O=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading,z=e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(_){O||(e.current.setState($=>S({},$,{rows:S({},$.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),z||(e.current.setState($=>S({},$,{rows:S({},$.rows,{totalRowCount:Math.max(t.rowCount||0,$.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,$.rows.totalTopLevelRowCount)})})),e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),c(Po({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,n,c,e])},tE=({ids:e,idRowsLookup:t,idToIdLookup:n,previousTree:r})=>{const o={};for(let i=0;i<e.length;i+=1){const l=e[i];r&&r[l]&&r[l].depth===0&&r[l].parent==null&&!r[l].isPinned?o[l]=r[l]:o[l]={id:l,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:Ys,tree:o,treeDepth:1,idRowsLookup:t,idToIdLookup:n,ids:e}},nE=e=>{ka(e,Ys,"rowTreeCreation",tE)};ln(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function rE(e){const t=h.useCallback(f=>({field:f,colDef:e.current.getColumn(f)}),[e]),n=h.useCallback((...f)=>e.current.getCellValue(...f),[e]),r=h.useCallback(f=>{const m=e.current.getRow(f);if(!m)throw new Error(`No row with id #${f} found`);return{id:f,columns:e.current.getAllColumns(),row:m,getValue:n}},[e,n]),o=h.useCallback((f,m)=>{const g=e.current.getRow(f),w=e.current.getRowNode(f);if(!g||!w)throw new Error(`No row with id #${f} found`);const b=rn(e),C=Ko(e);return{id:f,field:m,row:g,rowNode:w,value:g[m],colDef:e.current.getColumn(m),cellMode:e.current.getCellMode(f,m),getValue:n,api:e.current,hasFocus:b!==null&&b.field===m&&b.id===f,tabIndex:C&&C.field===m&&C.id===f?0:-1}},[e,n]),i=h.useCallback((f,m)=>{const g=e.current.getColumn(m),w=e.current.getCellValue(f,m),b=e.current.getRow(f),C=e.current.getRowNode(f);if(!b||!C)throw new Error(`No row with id #${f} found`);const y=rn(e),x=Ko(e),v={id:f,field:m,row:b,rowNode:C,colDef:g,cellMode:e.current.getCellMode(f,m),getValue:n,hasFocus:y!==null&&y.field===m&&y.id===f,tabIndex:x&&x.field===m&&x.id===f?0:-1,value:w,formattedValue:w};return g&&g.valueFormatter&&(v.formattedValue=g.valueFormatter({id:f,field:v.field,value:v.value,api:e.current})),v.isEditable=g&&e.current.isCellEditable(v),v},[e,n]),l=h.useCallback((f,m)=>{const g=e.current.getColumn(m);if(!g||!g.valueGetter){const w=e.current.getRow(f);if(!w)throw new Error(`No row with id #${f} found`);return w[m]}return g.valueGetter(o(f,m))},[e,o]),a=h.useCallback(f=>e.current.rootElementRef.current?qS(e.current.rootElementRef.current,f):null,[e]),c=h.useCallback(f=>e.current.rootElementRef.current?KS(e.current.rootElementRef.current,f):null,[e]),u=h.useCallback((f,m)=>e.current.rootElementRef.current?QS(e.current.rootElementRef.current,{id:f,field:m}):null,[e]);qe(e,{getCellValue:l,getCellParams:i,getCellElement:u,getRowParams:r,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:a})}const km=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],sE=(e,t)=>{var n;return S({},e,{selection:(n=km(t.selectionModel))!=null?n:[]})},oE=(e,t)=>{const n=pt(e,"useGridSelection"),r=h.useMemo(()=>km(t.selectionModel,Qt(e.current.state)),[e,t.selectionModel]),o=h.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:r,propOnChange:t.onSelectionModelChange,stateSelector:Qt,changeEvent:"selectionChange"});const{checkboxSelection:i,disableMultipleSelection:l,disableSelectionOnClick:a,pagination:c,paginationMode:u,isRowSelectable:d}=t,f=!l||i,m=kr(e,t),g=h.useCallback(I=>{var F;let V=I;const H=(F=o.current)!=null?F:I,R=e.current.isRowSelected(I);if(R){const N=ks(e),U=N.findIndex(Z=>Z===H),K=N.findIndex(Z=>Z===V);if(U===K)return;U>K?V=N[K+1]:V=N[K-1]}o.current=I,e.current.selectRowRange({startId:H,endId:V},!R)},[e]),w=h.useCallback(I=>{Qt(e.current.state)!==I&&(n.debug("Setting selection model"),e.current.setState(V=>S({},V,{selection:I})),e.current.forceUpdate())},[e,n]),b=h.useCallback(I=>Qt(e.current.state).includes(I),[e]),C=h.useCallback(I=>{if(d&&!d(e.current.getRowParams(I)))return!1;const F=e.current.getRowNode(I);return!(F?.position==="footer"||F!=null&&F.isPinned)},[e,d]),y=h.useCallback(()=>gj(e),[e]),x=h.useCallback((I,F=!0,V=!1)=>{if(e.current.isRowSelectable(I))if(o.current=I,V)n.debug(`Setting selection for row ${I}`),e.current.setSelectionModel(F?[I]:[]);else{n.debug(`Toggling selection for row ${I}`);const R=Qt(e.current.state).filter(U=>U!==I);F&&R.push(I),(R.length<2||f)&&e.current.setSelectionModel(R)}},[e,n,f]),v=h.useCallback((I,F=!0,V=!1)=>{n.debug("Setting selection for several rows");const H=I.filter(U=>e.current.isRowSelectable(U));let R;if(V)R=F?H:[];else{const U=S({},Xo(e));H.forEach(K=>{F?U[K]=K:delete U[K]}),R=Object.values(U)}(R.length<2||f)&&e.current.setSelectionModel(R)},[e,n,f]),p=h.useCallback(({startId:I,endId:F},V=!0,H)=>{if(!e.current.getRow(I)||!e.current.getRow(F))return;n.debug(`Expanding selection from row ${I} to row ${F}`);const R=ks(e),N=R.indexOf(I),U=R.indexOf(F),[K,Z]=N>U?[U,N]:[N,U],se=R.slice(K,Z+1);e.current.selectRows(se,V,H)},[e,n]);qe(e,{selectRow:x,selectRows:v,selectRowRange:p,setSelectionModel:w,getSelectedRows:y,isRowSelected:b,isRowSelectable:C});const D=h.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const I=Qt(e.current.state),F=Ur(e),V=S({},Xo(e));let H=!1;I.forEach(R=>{F[R]||(delete V[R],H=!0)}),H&&e.current.setSelectionModel(Object.values(V))},[e,t.keepNonExistentRowsSelected]),P=h.useCallback((I,F)=>{const V=F.metaKey||F.ctrlKey,H=!i&&!V&&!fl(F),R=!f||H,N=e.current.isRowSelected(I);R?e.current.selectRow(I,H?!0:!N,!0):e.current.selectRow(I,!N,!1)},[e,f,i]),k=h.useCallback((I,F)=>{var V;if(a)return;const H=(V=F.target.closest(`.${G.cell}`))==null?void 0:V.getAttribute("data-field");H===Ks.field||H===ja||H&&e.current.getColumn(H).type===Sa||e.current.getRowNode(I.id).isPinned||(F.shiftKey&&(f||i)?g(I.id):P(I.id,F))},[a,f,i,e,g,P]),T=h.useCallback((I,F)=>{if(f&&F.shiftKey){var V;(V=window.getSelection())==null||V.removeAllRanges()}},[f]),_=h.useCallback((I,F)=>{F.nativeEvent.shiftKey?g(I.id):e.current.selectRow(I.id,I.value)},[e,g]),O=h.useCallback(I=>{const V=t.checkboxSelectionVisibleOnly&&t.pagination?Zf(e):ks(e);e.current.selectRows(V,I.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),z=h.useCallback((I,F)=>{if(e.current.getCellMode(I.id,I.field)!==Oe.Edit&&F.currentTarget.contains(F.target)){if(qs(F.key)&&F.shiftKey){const V=rn(e);if(V&&V.id!==I.id){F.preventDefault();const H=e.current.isRowSelected(V.id);if(!f){e.current.selectRow(V.id,!H,!0);return}const R=e.current.getRowIndexRelativeToVisibleRows(V.id),N=e.current.getRowIndexRelativeToVisibleRows(I.id);let U,K;R>N?H?(U=N,K=R-1):(U=N,K=R):H?(U=R+1,K=N):(U=R,K=N);const Z=m.rows.slice(U,K+1).map(se=>se.id);e.current.selectRows(Z,!H);return}}if(F.key===" "&&F.shiftKey){F.preventDefault(),P(I.id,F);return}F.key.toLowerCase()==="a"&&(F.ctrlKey||F.metaKey)&&(F.preventDefault(),v(e.current.getAllRowIds(),!0))}},[e,P,v,m.rows,f]);ue(e,"sortedRowsSet",D),ue(e,"rowClick",k),ue(e,"rowSelectionCheckboxChange",_),ue(e,"headerSelectionCheckboxChange",O),ue(e,"cellMouseDown",T),ue(e,"cellKeyDown",z),h.useEffect(()=>{r!==void 0&&e.current.setSelectionModel(r)},[e,r]);const $=r!=null;h.useEffect(()=>{if($)return;const I=Qt(e.current.state);if(C){const F=I.filter(V=>C(V));F.length<I.length&&e.current.setSelectionModel(F)}},[e,C,$]),h.useEffect(()=>{const I=Qt(e.current.state);if(!f&&I.length>1){const{rows:F}=bi(e,{pagination:c,paginationMode:u}),V=F.reduce((R,{id:N})=>(R[N]=!0,R),{}),H=I.find(R=>{let N=!0;return C&&(N=C(R)),N&&V[R]});e.current.setSelectionModel(H!==void 0?[H]:[])}},[e,f,i,l,C,c,u])},iE={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},lE=["sortingOrder"],aE=h.memo(function(t){const{sortingOrder:n}=t,r=ve(t,lE),o=be(),[i]=n,l=i==="asc"?o.components.ColumnSortedAscendingIcon:o.components.ColumnSortedDescendingIcon;return l?s.jsx(l,S({},r)):null}),cE=["error","hasError","errorInfo"],uE=h.forwardRef(function(t,n){const{error:r}=t,o=ve(t,cE),i=Fe(),l=i.current.getLocaleText("errorOverlayDefaultLabel"),a=xe(i,Gs);return s.jsx(xi,S({ref:n,sx:{width:"100%",minHeight:2*a}},o,{children:r?.message||l}))}),dE=h.forwardRef(function(t,n){const o=Fe().current.getLocaleText("noResultsOverlayLabel");return s.jsx(xi,S({ref:n},t,{children:o}))}),hE={BooleanCellTrueIcon:Gw,BooleanCellFalseIcon:zi,ColumnMenuIcon:zw,OpenFilterButtonIcon:Dw,FilterPanelDeleteIcon:zi,ColumnFilteredIcon:Ow,ColumnSelectorIcon:Vw,ColumnUnsortedIcon:aE,ColumnSortedAscendingIcon:Tw,ColumnSortedDescendingIcon:Aw,ColumnResizeIcon:$w,DensityCompactIcon:Lw,DensityStandardIcon:Rw,DensityComfortableIcon:Nw,ExportIcon:Ww,MoreActionsIcon:Uw,TreeDataCollapseIcon:ku,TreeDataExpandIcon:Pu,GroupingCriteriaCollapseIcon:ku,GroupingCriteriaExpandIcon:Pu,DetailPanelExpandIcon:Hf,DetailPanelCollapseIcon:Bw,RowReorderIcon:Hw,QuickFilterIcon:_w,QuickFilterClearIcon:zi},Uu=S({},hE,{BaseCheckbox:bg,BaseTextField:re,BaseFormControl:ze,BaseSelect:tt,BaseSwitch:$n,BaseButton:ge,BaseTooltip:xg,BasePopper:jl,Cell:xw,SkeletonCell:SS,ColumnHeaderFilterIconButton:cj,ColumnMenu:p1,ErrorOverlay:uE,Footer:gP,Header:pP,Toolbar:null,PreferencesPanel:H1,LoadingOverlay:xP,NoResultsOverlay:dE,NoRowsOverlay:bP,Pagination:yP,FilterPanel:nP,ColumnsPanel:$1,Panel:B1,Row:PP}),fE=e=>{const{classes:t}=e;return h.useMemo(()=>$e({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Le,t),[t])},mE=(e,t)=>{const n={classes:t.classes},r=fE(n),o=h.useCallback(i=>{const l=S({},Ks,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=i.lookup[Rn]!=null;return a&&!c?(i.lookup[Rn]=l,i.all=[Rn,...i.all]):!a&&c?(delete i.lookup[Rn],i.all=i.all.filter(u=>u!==Rn)):a&&c&&(i.lookup[Rn]=S({},l,i.lookup[Rn])),i},[e,r,t.checkboxSelection]);jt(e,"hydrateColumns",o)},gE=(e,t)=>{var n,r,o,i;const l=(n=(r=t.sortModel)!=null?r:(o=t.initialState)==null||(i=o.sorting)==null?void 0:i.sortModel)!=null?n:[];return S({},e,{sorting:{sortModel:Jf(l,t.disableMultipleColumnsSorting),sortedRows:[]}})},pE=(e,t)=>{var n,r;const o=pt(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Jt,changeEvent:"sortModelChange"});const i=h.useCallback((P,k)=>{const T=Jt(e),_=T.findIndex(z=>z.field===P);let O=[...T];return _>-1?k?O.splice(_,1,k):O.splice(_,1):O=[...T,k],O},[e]),l=h.useCallback((P,k)=>{var T;const O=Jt(e).find($=>$.field===P.field);if(O){var z;const $=k===void 0?Mu((z=P.sortingOrder)!=null?z:t.sortingOrder,O.sort):k;return $==null?void 0:S({},O,{sort:$})}return{field:P.field,sort:k===void 0?Mu((T=P.sortingOrder)!=null?T:t.sortingOrder):k}},[e,t.sortingOrder]),a=h.useCallback(()=>{e.current.setState(P=>{if(t.sortingMode===qr.server)return o.debug("Skipping sorting rows as sortingMode = server"),S({},P,{sorting:S({},P.sorting,{sortedRows:mr(P,e.current.instanceId)})});const k=Jt(P,e.current.instanceId),T=Ij(k,e),_=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:T});return S({},P,{sorting:S({},P.sorting,{sortedRows:_})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,o,t.sortingMode]),c=h.useCallback(P=>{Jt(e)!==P&&(o.debug("Setting sort model"),e.current.setState(Iu(P,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),u=h.useCallback((P,k,T)=>{if(!P.sortable)return;const _=l(P,k);let O;!T||t.disableMultipleColumnsSorting?O=_?[_]:[]:O=i(P.field,_),e.current.setSortModel(O)},[e,i,l,t.disableMultipleColumnsSorting]),d=h.useCallback(()=>Jt(e),[e]),f=h.useCallback(()=>ga(e).map(k=>k.model),[e]),m=h.useCallback(()=>ma(e),[e]),g=h.useCallback(P=>e.current.getSortedRowIds().indexOf(P),[e]),w=h.useCallback(P=>e.current.getSortedRowIds()[P],[e]);qe(e,{getSortModel:d,getSortedRows:f,getSortedRowIds:m,getRowIndex:g,getRowIdFromRowIndex:w,setSortModel:c,sortColumn:u,applySorting:a});const C=h.useCallback((P,k)=>{var T,_;const O=Jt(e);return!k.exportOnlyDirtyModels||t.sortModel!=null||((T=t.initialState)==null||(_=T.sorting)==null?void 0:_.sortModel)!=null||O.length>0?S({},P,{sorting:{sortModel:O}}):P},[e,t.sortModel,(n=t.initialState)==null||(r=n.sorting)==null?void 0:r.sortModel]),y=h.useCallback((P,k)=>{var T;const _=(T=k.stateToRestore.sorting)==null?void 0:T.sortModel;return _==null?P:(e.current.setState(Iu(_,t.disableMultipleColumnsSorting)),S({},P,{callbacks:[...P.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),x=h.useCallback(P=>{const k=Un(e);if(!P.sortRowList){const O=[],z=[];return mr(e).forEach($=>{k[$].isPinned||(k[$].position==="footer"?z.push($):O.push($))}),[...O,...z]}const T=[],_=[];return Object.values(k).forEach(O=>{O.isPinned||(O.position==="footer"?_.push(O.id):T.push(O))}),[...P.sortRowList(T),..._]},[e]);jt(e,"exportState",C),jt(e,"restoreState",y),ka(e,Ys,"sorting",x);const v=h.useCallback(({colDef:P},k)=>{const T=k.shiftKey||k.metaKey||k.ctrlKey;u(P,void 0,T)},[u]),p=h.useCallback(({colDef:P},k)=>{Gf(k.key)&&!k.ctrlKey&&!k.metaKey&&u(P,void 0,k.shiftKey)},[u]),E=h.useCallback(()=>{const P=Jt(e),k=ns(e);if(P.length>0){const T=P.filter(_=>k[_.field]);T.length<P.length&&e.current.setSortModel(T)}},[e]),D=h.useCallback(P=>{P==="sorting"&&e.current.applySorting()},[e]);ue(e,"columnHeaderClick",v),ue(e,"columnHeaderKeyDown",p),ue(e,"rowsSet",e.current.applySorting),ue(e,"columnsChange",E),ue(e,"activeStrategyProcessorChange",D),Qs(()=>{e.current.applySorting()}),h.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function qu(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const xE=(e,t)=>{const n=pt(e,"useGridScroll"),r=e.current.columnHeadersElementRef,o=e.current.windowRef,i=xe(e,On),l=h.useCallback(d=>{const f=mi(e),m=Mt(e);if(!(d.rowIndex==null)&&f===0||m.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let w={};if(d.colIndex!=null){const x=yr(e);let v;if(typeof d.rowIndex<"u"){var b;const p=(b=i[d.rowIndex])==null?void 0:b.id,E=e.current.unstable_getCellColSpanInfo(p,d.colIndex);E&&!E.spannedByColSpan&&(v=E.cellProps.width)}typeof v>"u"&&(v=m[d.colIndex].computedWidth),w.left=qu({clientHeight:o.current.clientWidth,scrollTop:o.current.scrollLeft,offsetHeight:v,offsetTop:x[d.colIndex]})}if(d.rowIndex!=null){var C,y;const x=_s(e.current.state),v=ms(e),p=Es(e),E=t.pagination?d.rowIndex-v*p:d.rowIndex,D=x.positions[E+1]?x.positions[E+1]-x.positions[E]:x.currentPageTotalHeight-x.positions[E],P=((C=o.current.querySelector(`.${G["pinnedRows--top"]}`))==null?void 0:C.clientHeight)||0,k=((y=o.current.querySelector(`.${G["pinnedRows--bottom"]}`))==null?void 0:y.clientHeight)||0;w.top=qu({clientHeight:o.current.clientHeight-P-k,scrollTop:o.current.scrollTop,offsetHeight:D,offsetTop:x.positions[E]})}return w=e.current.unstable_applyPipeProcessors("scrollToIndexes",w,d),typeof w.left!==void 0||typeof w.top!==void 0?(e.current.scroll(w),!0):!1},[n,e,o,t.pagination,i]),a=h.useCallback(d=>{o.current&&d.left!=null&&r.current&&(r.current.scrollLeft=d.left,o.current.scrollLeft=d.left,n.debug(`Scrolling left: ${d.left}`)),o.current&&d.top!=null&&(o.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[o,r,n]),c=h.useCallback(()=>o!=null&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);qe(e,{scroll:a,scrollToIndexes:l,getScrollPosition:c})};function bE(e,t){Re(e,"columnHeaderClick",t.onColumnHeaderClick),Re(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Re(e,"columnHeaderOver",t.onColumnHeaderOver),Re(e,"columnHeaderOut",t.onColumnHeaderOut),Re(e,"columnHeaderEnter",t.onColumnHeaderEnter),Re(e,"columnHeaderLeave",t.onColumnHeaderLeave),Re(e,"columnOrderChange",t.onColumnOrderChange),Re(e,"cellClick",t.onCellClick),Re(e,"cellDoubleClick",t.onCellDoubleClick),Re(e,"cellKeyDown",t.onCellKeyDown),Re(e,"cellFocusOut",t.onCellFocusOut),Re(e,"preferencePanelClose",t.onPreferencePanelClose),Re(e,"preferencePanelOpen",t.onPreferencePanelOpen),Re(e,"menuOpen",t.onMenuOpen),Re(e,"menuClose",t.onMenuClose),Re(e,"rowDoubleClick",t.onRowDoubleClick),Re(e,"rowClick",t.onRowClick),Re(e,"componentError",t.onError),Re(e,"stateChange",t.onStateChange)}const vE=({content:e,container:t,scrollBarSize:n})=>{const r=e.width>t.width,o=e.height>t.height;let i=!1,l=!1;return(r||o)&&(i=r,l=e.height+(i?n:0)>t.height,l&&(i=e.width+n>t.width)),{hasScrollX:i,hasScrollY:l}};function yE(e,t){const n=pt(e,"useResizeContainer"),r=h.useRef(!1),o=h.useRef(null),i=h.useRef(null),l=xe(e,_s),a=xe(e,Us),c=h.useCallback(()=>{var C;const y=(C=e.current.rootElementRef)==null?void 0:C.current,x=gi(e),v=wm(e);if(!o.current)return;let p;if(t.scrollbarSize!=null)p=t.scrollbarSize;else if(!x||!y)p=0;else{const z=ei(y).createElement("div");z.style.width="99px",z.style.height="99px",z.style.position="absolute",z.style.overflow="scroll",z.className="scrollDiv",y.appendChild(z),p=z.offsetWidth-z.clientWidth,y.removeChild(z)}let E,D,P;if(t.autoHeight)P=!1,D=Math.round(x)>o.current.width,E={width:o.current.width,height:l.currentPageTotalHeight+(D?p:0)};else{E={width:o.current.width,height:o.current.height-a};const O=vE({content:{width:Math.round(x),height:l.currentPageTotalHeight},container:{width:E.width,height:E.height-v.top-v.bottom},scrollBarSize:p});P=O.hasScrollY,D=O.hasScrollX}const k={width:E.width-(P?p:0),height:E.height-(D?p:0)},T={viewportOuterSize:E,viewportInnerSize:k,hasScrollX:D,hasScrollY:P,scrollBarSize:p},_=i.current;i.current=T,(T.viewportInnerSize.width!==_?.viewportInnerSize.width||T.viewportInnerSize.height!==_?.viewportInnerSize.height)&&e.current.publishEvent("viewportInnerSizeChange",T.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,a,l.currentPageTotalHeight]),u=h.useCallback(()=>{c(),e.current.publishEvent("debouncedResize",o.current)},[e,c]),d=h.useCallback(()=>i.current,[]),f=h.useCallback(()=>{const C=e.current.getRootDimensions();if(!C)return 0;const y=bi(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const v=e.current.unstable_getRenderContext(),p=v.lastRowIndex-v.firstRowIndex;return Math.min(p-1,y.rows.length)}const x=Math.floor(C.viewportInnerSize.height/Gs(e));return Math.min(x,y.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);qe(e,{resize:u,getRootDimensions:d,unstable_getViewportPageSize:f,unstable_updateGridDimensionsRef:c});const g=h.useMemo(()=>ld(u,60),[u]),w=h.useRef(!0),b=h.useCallback(C=>{o.current=C;const y=/jsdom/.test(window.navigator.userAgent);if(C.height===0&&!r.current&&!t.autoHeight&&!y&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),C.width===0&&!r.current&&!y&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),w.current){u(),w.current=!1;return}g()},[t.autoHeight,g,n,u]);Xt(()=>c(),[c]),Re(e,"sortedRowsSet",c),Re(e,"pageChange",c),Re(e,"pageSizeChange",c),Re(e,"columnsChange",c),ue(e,"resize",b),Re(e,"debouncedResize",t.onResize)}const CE=e=>S({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),wE=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,i=h.useRef({}),l=h.useRef(-1),a=h.useRef(!1),c=xe(e,Gs),u=xe(e,Ws),d=xe(e,rs),f=xe(e,fa),m=kr(e,t),g=xe(e,Hs),w=h.useCallback(()=>{var T,_;a.current=!1;const O=ow(e.current.state,e.current.instanceId),z=F=>{i.current[F.id]||(i.current[F.id]={sizes:{baseCenter:c},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:V,needsFirstMeasurement:H,sizes:R}=i.current[F.id];let N=c;const U=R.baseCenter;if(V)N=U;else if(n){const oe=n(S({},F,{densityFactor:O}));if(oe==="auto"){if(H){const me=o?o(S({},F,{densityFactor:O})):c;N=me??c}else N=U;a.current=!0,i.current[F.id].autoHeight=!0}else N=oe??c,i.current[F.id].needsFirstMeasurement=!1,i.current[F.id].autoHeight=!1}else i.current[F.id].needsFirstMeasurement=!1;const K=Object.entries(R).reduce((oe,[me,J])=>(/^base[A-Z]/.test(me)&&(oe[me]=J),oe),{}),Z=S({},K,{baseCenter:N});if(r){var se,te;const oe=e.current.getRowIndexRelativeToVisibleRows(F.id),me=r(S({},F,{isFirstVisible:oe===0,isLastVisible:oe===m.rows.length-1,indexRelativeToCurrentPage:oe}));Z.spacingTop=(se=me.top)!=null?se:0,Z.spacingBottom=(te=me.bottom)!=null?te:0}const fe=e.current.unstable_applyPipeProcessors("rowHeight",Z,F);return i.current[F.id].sizes=fe,fe},$=[],I=m.rows.reduce((F,V)=>{$.push(F);let H=0,R=0;const N=z(V);return Object.entries(N).forEach(([U,K])=>{/^base[A-Z]/.test(U)?H=K>H?K:H:R+=K}),F+H+R},0);g==null||(T=g.top)==null||T.forEach(F=>{z(F)}),g==null||(_=g.bottom)==null||_.forEach(F=>{z(F)}),e.current.setState(F=>S({},F,{rowsMeta:{currentPageTotalHeight:I,positions:$}})),a.current||(l.current=1/0),e.current.forceUpdate()},[e,m.rows,c,n,r,o,g]),b=h.useCallback(T=>{const _=i.current[T];return _?_.sizes.baseCenter:c},[c]),C=T=>{var _;return(_=i.current[T])==null?void 0:_.sizes},y=h.useCallback((T,_)=>{i.current[T].sizes.baseCenter=_,i.current[T].isResized=!0,i.current[T].needsFirstMeasurement=!1,w()},[w]),x=h.useMemo(()=>ld(w),[w]),v=h.useCallback((T,_,O)=>{if(!i.current[T]||!i.current[T].autoHeight)return;const z=i.current[T].sizes[`base${br(O)}`]!==_;i.current[T].needsFirstMeasurement=!1,i.current[T].sizes[`base${br(O)}`]=_,z&&x()},[x]),p=h.useCallback(T=>{var _;return((_=i.current[T])==null?void 0:_.autoHeight)||!1},[]),E=h.useCallback(()=>l.current,[]),D=h.useCallback(T=>{a.current&&T>l.current&&(l.current=T)},[]),P=h.useCallback(()=>{i.current={},w()},[w]);h.useEffect(()=>{w()},[c,u,d,f,w]),Pa(e,"rowHeight",w),qe(e,{unstable_getLastMeasuredRowIndex:E,unstable_setLastMeasuredRowIndex:D,unstable_rowHasAutoHeight:p,unstable_getRowHeight:b,unstable_getRowInternalSizes:C,unstable_setRowHeight:y,unstable_storeRowHeightMeasurement:v,resetRowHeights:P})},SE=e=>{const t=h.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=h.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);qe(e,{exportState:t,restoreState:n})},jE=e=>{const t=h.useRef({}),n=h.useCallback((c,u,d)=>{const f=t.current;f[c]||(f[c]={}),f[c][u]=d},[]),r=h.useCallback((c,u)=>{var d;return(d=t.current[c])==null?void 0:d[u]},[]),o=h.useCallback(c=>{const{columnIndex:u,rowId:d,minFirstColumnIndex:f,maxLastColumnIndex:m,columns:g}=c,w=g.length,b=g[u],C=typeof b.colSpan=="function"?b.colSpan(e.current.getCellParams(d,b.field)):b.colSpan;if(!C||C===1)return n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:1,width:b.computedWidth}}),{colSpan:1};let y=b.computedWidth;for(let x=1;x<C;x+=1){const v=u+x;if(v>=f&&v<m){const p=g[v];y+=p.computedWidth,n(d,u+x,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(u+C,w-1),leftVisibleCellIndex:u})}n(d,u,{spannedByColSpan:!1,cellProps:{colSpan:C,width:y}})}return{colSpan:C}},[e,n]),i=h.useCallback(({rowId:c,minFirstColumn:u,maxLastColumn:d,columns:f})=>{for(let m=u;m<d;m+=1){const g=o({columnIndex:m,rowId:c,minFirstColumnIndex:u,maxLastColumnIndex:d,columns:f});g.colSpan>1&&(m+=g.colSpan-1)}},[o]);qe(e,{unstable_getCellColSpanInfo:r,unstable_calculateColSpan:i});const a=h.useCallback(()=>{t.current={}},[]);ue(e,"columnOrderChange",a)},PE=(e,t)=>{var n;const r=h.useCallback(o=>{var i;if(!((i=t.experimentalFeatures)!=null&&i.columnGrouping))return o;const l=pm(t.columnGroupingModel);return o.all.forEach(a=>{var c,u;const d=(c=l[a])!=null?c:[],f=o.lookup[a];ok(f)&&Tn(d,f?.groupPath)||(o.lookup[a]=S({},o.lookup[a],{groupPath:(u=l[a])!=null?u:[]}))}),o},[t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);jt(e,"hydrateColumns",r)},kE=e=>{var t,n;const r=YP(void 0,e);return PE(r,e),mE(r,e),nE(r),Bt(sE,r,e),Bt(tk,r,e),Bt(ik,r,e),Bt(Jk,r,e),Bt((t=e.experimentalFeatures)!=null&&t.newEditingApi?Xk:zk,r,e),Bt(Mk,r,e),Bt(gE,r,e),Bt($k,r,e),Bt(Ek,r,e),Bt(ak,r,e),Bt(_k,r,e),Bt(CE,r,e),Bt(JP,r,e),Ak(r,e),oE(r,e),nk(r,e),eE(r,e),rE(r),jE(r),lk(r,e),((n=e.experimentalFeatures)!=null&&n.newEditingApi?Zk:Bk)(r,e),Fk(r,e),Lk(r,e),Ik(r,e),pE(r,e),ck(r,e),Vk(r,e),wE(r,e),xE(r,e),ek(r),mk(r),xk(r,e),ZP(r),yE(r,e),bE(r,e),SE(r),r},EE={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},IE=100,ME={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:Ds.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:It.Cell,filterMode:qr.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:qr.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:qr.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1},FE=e=>{if(e.pageSize>IE)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=vg({props:e,name:"MuiDataGrid"}),n=h.useMemo(()=>S({},iE,t.localeText),[t.localeText]),r=h.useMemo(()=>{const o=t.components;if(!o)return S({},Uu);const i={};return Object.entries(Uu).forEach(([l,a])=>{i[l]=o[l]===void 0?a:o[l]}),i},[t.components]);return h.useMemo(()=>S({},ME,t,{localeText:n,components:r},EE),[t,n,r])},TE=["className"],AE=e=>{const{classes:t}=e;return $e({root:["virtualScroller"]},Le,t)},DE=He("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),OE=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,TE),i=be(),l=AE(i);return s.jsx(DE,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),_E=["className","style"],VE=e=>{const{classes:t,overflowedContent:n}=e;return $e({root:["virtualScrollerContent",n&&"virtualScrollerContent--overflowed"]},Le,t)},$E=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),LE=h.forwardRef(function(t,n){const{className:r,style:o}=t,i=ve(t,_E),l=be(),a=S({},l,{overflowedContent:!l.autoHeight&&o?.minHeight==="auto"}),c=VE(a);return s.jsx($E,S({ref:n,className:Ge(c.root,r),ownerState:a,style:o},i))}),RE=["className"],NE=e=>{const{classes:t}=e;return $e({root:["virtualScrollerRenderZone"]},Le,t)},zE=He("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),BE=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,RE),i=be(),l=NE(i);return s.jsx(zE,S({ref:n,className:Ge(l.root,r),ownerState:i},o))}),HE=["style"];function Kr(e,t,n=0,r=t.length){if(t.length<=0)return-1;if(n>=r)return n;const o=n+Math.floor((r-n)/2),i=t[o];return e<=i?Kr(e,t,n,o):Kr(e,t,o+1,r)}function WE(e,t,n){let r=1;for(;n<t.length&&t[n]<e;)n+=r,r*=2;return Kr(e,t,Math.floor(n/2),Math.min(n,t.length))}const Wn=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:r,maxLastIndex:o})=>[es(e-n,r,o),es(t+n,r,o)],GE=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,UE=e=>{var t,n;const r=Fe(),o=be(),i=xe(r,Mt),{ref:l,disableVirtualization:a,onRenderZonePositioning:c,renderZoneMinColumnIndex:u=0,renderZoneMaxColumnIndex:d=i.length,getRowProps:f}=e,m=xe(r,yr),g=xe(r,gi),w=xe(r,Gs),b=xe(r,rn),C=xe(r,Ko),y=xe(r,_s),x=xe(r,lt),v=xe(r,Xo),p=kr(r,o),E=h.useRef(null),D=h.useRef(null),P=Cr(l,D),[k,T]=h.useState(null),_=h.useRef(k),O=h.useRef({top:0,left:0}),[z,$]=h.useState({width:null,height:null}),I=h.useRef(g),F=h.useCallback(J=>{var ce,ae;const we=r.current.unstable_getLastMeasuredRowIndex();let pe=we===1/0;(ce=p.range)!=null&&ce.lastRowIndex&&!pe&&(pe=we>=p.range.lastRowIndex);const _e=es(we-(((ae=p.range)==null?void 0:ae.firstRowIndex)||0),0,y.positions.length);return pe||y.positions[_e]>=J?Kr(J,y.positions):WE(J,y.positions,_e)},[r,(t=p.range)==null?void 0:t.firstRowIndex,(n=p.range)==null?void 0:n.lastRowIndex,y.positions]),V=h.useCallback(()=>{if(a)return{firstRowIndex:0,lastRowIndex:p.rows.length,firstColumnIndex:0,lastColumnIndex:i.length};const{top:J,left:ce}=O.current,ae=Math.min(F(J),y.positions.length-1),we=o.autoHeight?ae+p.rows.length:F(J+z.height);let pe=!1,_e=0,Ye=m.length;const[ie,Ce]=Wn({firstIndex:ae,lastIndex:we,minFirstIndex:0,maxLastIndex:p.rows.length,buffer:o.rowBuffer});for(let je=ie;je<Ce&&!pe;je+=1){const Ve=p.rows[je];pe=r.current.unstable_rowHasAutoHeight(Ve.id)}return pe||(_e=Kr(ce,m),Ye=Kr(ce+z.width,m)),{firstRowIndex:ae,lastRowIndex:we,firstColumnIndex:_e,lastColumnIndex:Ye}},[a,F,y.positions.length,o.autoHeight,o.rowBuffer,p.rows,m,i.length,r,z]);Xt(()=>{a?E.current.style.transform="translate3d(0px, 0px, 0px)":(D.current.scrollLeft=0,D.current.scrollTop=0)},[a]),Xt(()=>{$({width:D.current.clientWidth,height:D.current.clientHeight})},[y.currentPageTotalHeight]);const H=h.useCallback(J=>{$({width:J.width,height:J.height})},[]);ue(r,"resize",H);const R=h.useCallback(J=>{const[ce,ae]=Wn({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:p.rows.length,buffer:o.rowBuffer}),[we]=Wn({firstIndex:J.firstColumnIndex,lastIndex:J.lastColumnIndex,minFirstIndex:u,maxLastIndex:d,buffer:o.columnBuffer}),pe=gl({firstColumnToRender:we,apiRef:r,firstRowToRender:ce,lastRowToRender:ae,visibleRows:p.rows}),_e=_s(r.current.state).positions[ce],Ye=yr(r)[pe];E.current.style.transform=`translate3d(${Ye}px, ${_e}px, 0px)`,typeof c=="function"&&c({top:_e,left:Ye})},[r,p.rows,c,u,d,o.columnBuffer,o.rowBuffer]),N=h.useCallback(J=>{if(_.current&&GE(J,_.current)){R(J);return}T(J),R(J);const[ce,ae]=Wn({firstIndex:J.firstRowIndex,lastIndex:J.lastRowIndex,minFirstIndex:0,maxLastIndex:p.rows.length,buffer:o.rowBuffer});r.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:ce,lastRowToRender:ae}),_.current=J},[r,T,_,p.rows.length,o.rowBuffer,R]);Xt(()=>{if(z.width==null)return;const J=V();N(J);const{top:ce,left:ae}=O.current,we={top:ce,left:ae,renderContext:J};r.current.publishEvent("rowsScroll",we)},[r,V,z.width,N]);const U=J=>{const{scrollTop:ce,scrollLeft:ae}=J.currentTarget;if(O.current.top=ce,O.current.left=ae,ae<0||ce<0||!_.current)return;const we=a?_.current:V(),pe=Math.abs(we.firstRowIndex-_.current.firstRowIndex),_e=Math.abs(we.lastRowIndex-_.current.lastRowIndex),Ye=Math.abs(we.firstColumnIndex-_.current.firstColumnIndex),ie=Math.abs(we.lastColumnIndex-_.current.lastColumnIndex),Ce=pe>=o.rowThreshold||_e>=o.rowThreshold||Ye>=o.columnThreshold||ie>=o.columnThreshold||I.current!==g;r.current.publishEvent("rowsScroll",{top:ce,left:ae,renderContext:Ce?we:_.current},J),Ce&&(ad.flushSync(()=>{N(we)}),I.current=g)},K=J=>{r.current.publishEvent("virtualScrollerWheel",{},J)},Z=J=>{r.current.publishEvent("virtualScrollerTouchMove",{},J)},se=(J={renderContext:k})=>{const{renderContext:ce,minFirstColumn:ae=u,maxLastColumn:we=d,availableSpace:pe=z.width,rowIndexOffset:_e=0,position:Ye="center"}=J;if(!ce||pe==null)return null;const ie=a?0:o.rowBuffer,Ce=a?0:o.columnBuffer,[je,Ve]=Wn({firstIndex:ce.firstRowIndex,lastIndex:ce.lastRowIndex,minFirstIndex:0,maxLastIndex:p.rows.length,buffer:ie}),Ue=[];if(J.rows)J.rows.forEach(Pe=>{Ue.push(Pe),r.current.unstable_calculateColSpan({rowId:Pe.id,minFirstColumn:ae,maxLastColumn:we,columns:i})});else{if(!p.range)return null;for(let Pe=je;Pe<Ve;Pe+=1){const Te=p.rows[Pe];Ue.push(Te),r.current.unstable_calculateColSpan({rowId:Te.id,minFirstColumn:ae,maxLastColumn:we,columns:i})}}const[L,q]=Wn({firstIndex:ce.firstColumnIndex,lastIndex:ce.lastColumnIndex,minFirstIndex:ae,maxLastIndex:we,buffer:Ce}),Q=gl({firstColumnToRender:L,apiRef:r,firstRowToRender:je,lastRowToRender:Ve,visibleRows:p.rows}),ne=i.slice(Q,q),W=[];for(let Pe=0;Pe<Ue.length;Pe+=1){var ee,de;const{id:Te,model:Ne}=Ue[Pe],Zt=je+Pe===p.rows.length-1,Ke=r.current.unstable_rowHasAutoHeight(Te)?"auto":r.current.unstable_getRowHeight(Te);let it;v[Te]==null?it=!1:it=r.current.isRowSelectable(Te),W.push(s.jsx(o.components.Row,S({row:Ne,rowId:Te,rowHeight:Ke,cellFocus:b,cellTabIndex:C,editRowsState:x,renderedColumns:ne,visibleColumns:i,firstColumnToRender:Q,lastColumnToRender:q,selected:it,index:_e+((p==null||(ee=p.range)==null?void 0:ee.firstRowIndex)||0)+je+Pe,containerWidth:pe,isLastVisible:Zt,position:Ye},typeof f=="function"?f(Te,Ne):{},(de=o.componentsProps)==null?void 0:de.row),Te))}return W},te=z.width&&g>z.width,fe=h.useMemo(()=>{const J=Math.max(y.currentPageTotalHeight,1);let ce=!1;D!=null&&D.current&&J<=D?.current.clientHeight&&(ce=!0);const ae={width:te?g:"auto",height:J,minHeight:ce?"100%":"auto"};return o.autoHeight&&p.rows.length===0&&(ae.height=2*w),ae},[D,g,y.currentPageTotalHeight,p.rows.length,te,o.autoHeight,w]);h.useEffect(()=>{r.current.publishEvent("virtualScrollerContentSizeChange")},[r,fe]),o.autoHeight&&p.rows.length===0&&(fe.height=2*w);const oe={};te||(oe.overflowX="hidden"),o.autoHeight&&(oe.overflowY="hidden");const me=h.useCallback(()=>_.current,[]);return r.current.unstable_getRenderContext=me,{renderContext:k,updateRenderZonePosition:R,getRows:se,getRootProps:(J={})=>{let{style:ce={}}=J,ae=ve(J,HE);return S({ref:P,onScroll:U,onWheel:K,onTouchMove:Z,style:S({},ce,oe)},ae)},getContentProps:({style:J={}}={})=>({style:S({},J,fe)}),getRenderZoneProps:()=>({ref:E})}},qE=["className","disableVirtualization"],KE=h.forwardRef(function(t,n){const{className:r,disableVirtualization:o}=t,i=ve(t,qE),{getRootProps:l,getContentProps:a,getRenderZoneProps:c,getRows:u}=UE({ref:n,disableVirtualization:o});return s.jsx(OE,S({className:r},l(i),{children:s.jsx(LE,S({},a(),{children:s.jsx(BE,S({},c(),{children:u()}))}))}))}),QE=e=>{const{classes:t,headerAlign:n,isDragging:r,showRightBorder:o,showColumnBorder:i,groupId:l}=e;return $e({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",o&&"withBorder",i&&"columnHeader--showColumnBorder",l===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},Le,t)};function YE(e){var t,n;const{groupId:r,width:o,depth:i,maxDepth:l,fields:a,height:c,colIndex:u,isLastColumn:d,extendRowFullWidth:f}=e,m=be(),g=Fe(),w=xe(g,mm),{hasScrollX:b,hasScrollY:C}=(t=g.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},y=r?w[r]:{},{headerName:x=r??"",description:v="",headerAlign:p=void 0}=y;let E;const D=r&&((n=w[r])==null?void 0:n.renderHeaderGroup),P={groupId:r,headerName:x,description:v,depth:i,maxDepth:l,fields:a,colIndex:u,isLastColumn:d};r&&D&&(E=D(P));const T=d?!(d&&b&&!C)&&!f:m.showColumnRightBorder,_=m.showColumnRightBorder,O=S({},e,{classes:m.classes,showRightBorder:T,showColumnBorder:_,headerAlign:p,depth:i,isDragging:!1}),z=x??r,$=$t(),I=r===null?`empty-group-cell-${$}`:r,F=QE(O),V=typeof y.headerClassName=="function"?y.headerClassName(P):y.headerClassName;return s.jsx(Xf,{classes:F,columnMenuOpen:!1,colIndex:u,height:c,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:-1,isDraggable:!1,headerComponent:E,headerClassName:V,description:v,elementId:I,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:z,"aria-colspan":a.length,"data-fields":`|-${a.join("-|-")}-|`,disableHeaderSeparator:!0})}const Ku=He("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function XE(e){return!!e.target}const ZE=e=>{const{innerRef:t,minColumnIndex:n=0}=e,[r,o]=h.useState(""),[i,l]=h.useState(""),a=Fe(),c=xe(a,Mt),u=xe(a,yr),d=xe(a,zf),f=xe(a,Ko),m=xe(a,fw),g=xe(a,Vf),w=xe(a,xa),b=xe(a,Us),C=xe(a,rw),y=xe(a,Y0),x=xe(a,fm),v=be(),p=h.useRef(null),E=Cr(t,p),[D,P]=h.useState(null),k=h.useRef(D),T=h.useRef(0),_=kr(a,v);h.useEffect(()=>{a.current.columnHeadersContainerElementRef.current.scrollLeft=0},[a]);const O=h.useRef(Tf(f1,{equalityCheck:(se,te)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(fe=>se[fe]===te[fe])})),z=h.useCallback(se=>{const[te,fe]=Wn({firstIndex:se.firstRowIndex,lastIndex:se.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:v.rowBuffer}),oe=O.current({firstColumnIndex:se.firstColumnIndex,minColumnIndex:n,columnBuffer:v.columnBuffer,firstRowToRender:te,lastRowToRender:fe,apiRef:a,visibleRows:_.rows}),me=oe>0?T.current-u[oe]:T.current;p.current.style.transform=`translate3d(${-me}px, 0px, 0px)`},[u,n,v.columnBuffer,a,_.rows,v.rowBuffer]);h.useLayoutEffect(()=>{D&&z(D)},[D,z]);const $=h.useCallback(({left:se,renderContext:te=null},fe)=>{var oe,me;if(!p.current||T.current===se&&((oe=k.current)==null?void 0:oe.firstColumnIndex)===te?.firstColumnIndex&&((me=k.current)==null?void 0:me.lastColumnIndex)===te?.lastColumnIndex)return;T.current=se;let J=!1;te!==k.current||!k.current?(XE(fe)?(ad.flushSync(()=>{P(te)}),J=!0):P(te),k.current=te):J=!0,te&&J&&z(te)},[z]),I=h.useCallback(se=>l(se.field),[]),F=h.useCallback(()=>l(""),[]),V=h.useCallback(se=>o(se.field),[]),H=h.useCallback(()=>o(""),[]);ue(a,"columnResizeStart",I),ue(a,"columnResizeStop",F),ue(a,"columnHeaderDragStart",V),ue(a,"columnHeaderDragEnd",H),ue(a,"rowsScroll",$);const R=se=>{const{renderContext:te=D,minFirstColumn:fe=n,maxLastColumn:oe=c.length}=se||{};if(!te)return null;const[me,J]=Wn({firstIndex:te.firstRowIndex,lastIndex:te.lastRowIndex,minFirstIndex:0,maxLastIndex:_.rows.length,buffer:v.rowBuffer}),ce=O.current({firstColumnIndex:te.firstColumnIndex,minColumnIndex:fe,columnBuffer:v.columnBuffer,apiRef:a,firstRowToRender:me,lastRowToRender:J,visibleRows:_.rows}),ae=Math.min(te.lastColumnIndex+v.columnBuffer,oe);return{renderedColumns:c.slice(ce,ae),firstColumnToRender:ce,lastColumnToRender:ae,minFirstColumn:fe,maxLastColumn:oe}},N=(se,te={})=>{const fe=R(se);if(fe==null)return null;const{renderedColumns:oe,firstColumnToRender:me}=fe,J=[];for(let ce=0;ce<oe.length;ce+=1){const ae=oe[ce],we=me+ce,pe=we===0,_e=!(d===null&&f===null),Ye=d!==null&&d.field===ae.field||pe&&!_e?0:-1,ie=m!==null&&m.field===ae.field,Ce=x.open&&x.field===ae.field;J.push(s.jsx(lj,S({},y[ae.field],{columnMenuOpen:Ce,filterItemsCounter:C[ae.field]&&C[ae.field].length,headerHeight:g,isDragging:ae.field===r,column:ae,colIndex:we,isResizing:i===ae.field,isLastColumn:we===c.length-1,extendRowFullWidth:!v.disableExtendRowFullWidth,hasFocus:ie,tabIndex:Ye},te),ae.field))}return s.jsx(Ku,{role:"row","aria-rowindex":w+1,ownerState:v,children:J})},U=(se=[],te)=>se.slice(0,te+1),K=se=>{if(w===0)return null;const te=R(se);if(te==null||te.renderedColumns.length===0)return null;const{renderedColumns:fe,firstColumnToRender:oe,lastColumnToRender:me,maxLastColumn:J}=te,ce=[],ae=[];for(let ne=0;ne<w;ne+=1){var we,pe,_e;const W=[];let ee=0,de=oe-1;const Pe=(we=c[oe])==null||(pe=we.groupPath)==null?void 0:pe[ne],Te=U((_e=c[oe])==null?void 0:_e.groupPath,ne);for(;Pe!==null&&de>=n&&(Ye=c[de])!=null&&Ye.groupPath&&Tn(U((ie=c[de])==null?void 0:ie.groupPath,ne),Te);){var Ye,ie,Ce;const Ke=c[de];if(ee+=(Ce=Ke.computedWidth)!=null?Ce:0,W.length===0){var je;W.push({width:(je=Ke.computedWidth)!=null?je:0,fields:[Ke.field],groupId:Pe,groupParents:Te,colIndex:de})}else{var Ve;W[0].width+=(Ve=Ke.computedWidth)!=null?Ve:0,W[0].fields.push(Ke.field),W[0].colIndex=de}de-=1}const Ne=fe.reduce((Ke,it,_n)=>{var Qe;const Ft=Ke[Ke.length-1];if(it.groupPath&&it.groupPath.length>ne){var rr;if(Ft&&Ft.groupId===it.groupPath[ne]){var Er;return[...Ke.slice(0,Ke.length-1),S({},Ft,{width:Ft.width+((Er=it.computedWidth)!=null?Er:0),fields:[...Ft.fields,it.field]})]}return[...Ke,{groupId:it.groupPath[ne],groupParents:U(it.groupPath,ne),width:(rr=it.computedWidth)!=null?rr:0,fields:[it.field],colIndex:oe+_n}]}if(Ft&&Ft.groupId===null&&Tn(U(it.groupPath,ne),Ft.groupParents)){var sr;return[...Ke.slice(0,Ke.length-1),S({},Ft,{width:Ft.width+((sr=it.computedWidth)!=null?sr:0),fields:[...Ft.fields,it.field]})]}return[...Ke,{groupId:null,groupParents:U(it.groupPath,ne),width:(Qe=it.computedWidth)!=null?Qe:0,fields:[it.field],colIndex:oe+_n}]},W);de=me;const Zt=Ne[Ne.length-1].groupId;for(;Zt!==null&&de<J&&(Ue=c[de])!=null&&Ue.groupPath&&((L=c[de])==null||(q=L.groupPath)==null?void 0:q[ne])===Zt;){var Ue,L,q,Q;const Ke=c[de];Ne[Ne.length-1].width+=(Q=Ke.computedWidth)!=null?Q:0,Ne[Ne.length-1].fields.push(Ke.field),de+=1}ae.push({leftOverflow:ee,elements:[...Ne]})}return ae.forEach((ne,W)=>{ce.push(s.jsx(Ku,{style:{height:`${g}px`,transform:`translateX(-${ne.leftOverflow}px)`},role:"row","aria-rowindex":W+1,ownerState:v,children:ne.elements.map(({groupId:ee,width:de,fields:Pe,colIndex:Te},Ne)=>s.jsx(YE,{groupId:ee,width:de,fields:Pe,colIndex:Te,depth:W,isLastColumn:Te===c.length-Pe.length,extendRowFullWidth:!v.disableExtendRowFullWidth,maxDepth:ae.length,height:g},Ne))},W))}),ce},Z={minHeight:b,maxHeight:b,lineHeight:`${g}px`};return{renderContext:D,getColumnHeaders:N,getColumnGroupHeaders:K,isDragging:!!r,getRootProps:(se={})=>S({style:Z},se),getInnerProps:()=>({ref:E,role:"rowgroup"})}},JE=["className"],e2=e=>{const{classes:t}=e;return $e({root:["columnHeaders"]},Le,t)},t2=He("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>({position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:`1px solid ${e.palette.mode==="light"?Pl(en(e.palette.divider,1),.88):kl(en(e.palette.divider,1),.68)}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius})),n2=h.forwardRef(function(t,n){const{className:r}=t,o=ve(t,JE),i=be(),l=e2(i);return s.jsx(t2,S({ref:n,className:Ge(r,l.root),ownerState:i},o))}),r2=["isDragging","className"],s2=e=>{const{isDragging:t,hasScrollX:n,classes:r}=e;return $e({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},Le,r)},o2=He("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${G.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${G.columnHeaderDropZone} .${G.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${G["columnHeadersInner--scrollable"]} .${G.columnHeader}:last-child`]:{borderRight:"none"}})),i2=h.forwardRef(function(t,n){var r,o;const{isDragging:i,className:l}=t,a=ve(t,r2),c=Fe(),u=be(),d=S({},u,{isDragging:i,hasScrollX:(r=(o=c.current.getRootDimensions())==null?void 0:o.hasScrollX)!=null?r:!1}),f=s2(d);return s.jsx(o2,S({ref:n,className:Ge(l,f.root),ownerState:d},a))}),l2=["innerRef","className"],a2=h.forwardRef(function(t,n){const{innerRef:r}=t,o=ve(t,l2),{isDragging:i,getRootProps:l,getInnerProps:a,getColumnHeaders:c,getColumnGroupHeaders:u}=ZE({innerRef:r});return s.jsxs(n2,S({ref:n},l(o),{children:[s.jsx(Vu,{scrollDirection:"left"}),s.jsxs(i2,S({isDragging:i},a(),{children:[u(),c()]})),s.jsx(Vu,{scrollDirection:"right"})]}))}),Em=h.forwardRef(function(t,n){const r=FE(t),o=kE(r);return s.jsx(VP,{apiRef:o,props:r,children:s.jsx(ES,{className:r.className,style:r.style,sx:r.sx,ref:n,children:s.jsxs(uw,{children:[s.jsx(hw,{}),s.jsx(aw,{ColumnHeadersComponent:a2,VirtualScrollerComponent:KE}),s.jsx(dw,{})]})})})}),Xs=h.memo(Em);Em.propTypes={"aria-label":Y.string,"aria-labelledby":Y.string,autoHeight:Y.bool,autoPageSize:Y.bool,cellModesModel:Y.object,checkboxSelection:Y.bool,classes:Y.object,columnBuffer:Y.number,columnGroupingModel:Y.arrayOf(Y.object),columns:yi(Y.array.isRequired),columnThreshold:Y.number,columnTypes:Y.object,columnVisibilityModel:Y.object,components:Y.object,componentsProps:Y.object,density:Y.oneOf(["comfortable","compact","standard"]),disableColumnFilter:Y.bool,disableColumnMenu:Y.bool,disableColumnSelector:Y.bool,disableDensitySelector:Y.bool,disableExtendRowFullWidth:Y.bool,disableIgnoreModificationsIfProcessingProps:Y.bool,disableSelectionOnClick:Y.bool,disableVirtualization:Y.bool,editMode:Y.oneOf(["cell","row"]),editRowsModel:Y.object,error:Y.any,experimentalFeatures:Y.shape({columnGrouping:Y.bool,newEditingApi:Y.bool,preventCommitWhileValidating:Y.bool,warnIfFocusStateIsNotSynced:Y.bool}),filterMode:Y.oneOf(["client","server"]),filterModel:Y.shape({items:Y.arrayOf(Y.shape({columnField:Y.string.isRequired,id:Y.oneOfType([Y.number,Y.string]),operatorValue:Y.string,value:Y.any})).isRequired,linkOperator:Y.oneOf(["and","or"]),quickFilterLogicOperator:Y.oneOf(["and","or"]),quickFilterValues:Y.array}),getCellClassName:Y.func,getDetailPanelContent:Y.func,getEstimatedRowHeight:Y.func,getRowClassName:Y.func,getRowHeight:Y.func,getRowId:Y.func,getRowSpacing:Y.func,headerHeight:Y.number,hideFooter:Y.bool,hideFooterPagination:Y.bool,hideFooterSelectedRowCount:Y.bool,initialState:Y.object,isCellEditable:Y.func,isRowSelectable:Y.func,keepNonExistentRowsSelected:Y.bool,loading:Y.bool,localeText:Y.object,logger:Y.shape({debug:Y.func.isRequired,error:Y.func.isRequired,info:Y.func.isRequired,warn:Y.func.isRequired}),logLevel:Y.oneOf(["debug","error","info","warn",!1]),nonce:Y.string,onCellClick:Y.func,onCellDoubleClick:Y.func,onCellEditCommit:Y.func,onCellEditStart:Y.func,onCellEditStop:Y.func,onCellFocusOut:Y.func,onCellKeyDown:Y.func,onCellModesModelChange:Y.func,onColumnHeaderClick:Y.func,onColumnHeaderDoubleClick:Y.func,onColumnHeaderEnter:Y.func,onColumnHeaderLeave:Y.func,onColumnHeaderOut:Y.func,onColumnHeaderOver:Y.func,onColumnOrderChange:Y.func,onColumnVisibilityChange:Y.func,onColumnVisibilityModelChange:Y.func,onEditCellPropsChange:Y.func,onEditRowsModelChange:Y.func,onError:Y.func,onFilterModelChange:Y.func,onMenuClose:Y.func,onMenuOpen:Y.func,onPageChange:Y.func,onPageSizeChange:Y.func,onPreferencePanelClose:Y.func,onPreferencePanelOpen:Y.func,onProcessRowUpdateError:Y.func,onResize:Y.func,onRowClick:Y.func,onRowDoubleClick:Y.func,onRowEditCommit:Y.func,onRowEditStart:Y.func,onRowEditStop:Y.func,onRowModesModelChange:Y.func,onSelectionModelChange:Y.func,onSortModelChange:Y.func,onStateChange:Y.func,page:Y.number,pageSize:yi(Y.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:Y.oneOf(["client","server"]),processRowUpdate:Y.func,rowBuffer:Y.number,rowCount:Y.number,rowHeight:Y.number,rowModesModel:Y.object,rows:Y.arrayOf(Y.object).isRequired,rowSpacingType:Y.oneOf(["border","margin"]),rowsPerPageOptions:Y.arrayOf(Y.number),rowThreshold:Y.number,scrollbarSize:Y.number,selectionModel:yi(Y.oneOfType([Y.number,Y.string,Y.array])),showCellRightBorder:Y.bool,showColumnRightBorder:Y.bool,sortingMode:Y.oneOf(["client","server"]),sortingOrder:Y.arrayOf(Y.oneOf(["asc","desc"])),sortModel:Y.arrayOf(Y.shape({field:Y.string.isRequired,sort:Y.oneOf(["asc","desc"])})),sx:Y.oneOfType([Y.arrayOf(Y.oneOfType([Y.func,Y.object,Y.bool])),Y.func,Y.object])};class c2{orders=[];clients=[];devices=[];nextOrderNumber=1;constructor(){this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_orders"),n=localStorage.getItem("crm_clients"),r=localStorage.getItem("crm_devices"),o=localStorage.getItem("crm_next_order_number");t&&(this.orders=JSON.parse(t)),n&&(this.clients=JSON.parse(n)),r&&(this.devices=JSON.parse(r)),o&&(this.nextOrderNumber=parseInt(o))}saveToStorage(){localStorage.setItem("crm_orders",JSON.stringify(this.orders)),localStorage.setItem("crm_clients",JSON.stringify(this.clients)),localStorage.setItem("crm_devices",JSON.stringify(this.devices)),localStorage.setItem("crm_next_order_number",this.nextOrderNumber.toString())}async createOrder(t){const n=`#${String(this.nextOrderNumber).padStart(6,"0")}`;this.nextOrderNumber++;const r=this.clients.find(l=>l.id===t.clientId),o=this.devices.find(l=>l.id===t.deviceId),i={id:Date.now().toString(),orderNumber:n,clientId:t.clientId||"",deviceId:t.deviceId||"",technicianId:t.technicianId||"",status:t.status||"diagnosis",priority:t.priority||"medium",description:t.description||"",diagnosis:t.diagnosis||"",estimatedCost:t.estimatedCost||0,finalCost:t.finalCost||0,estimatedDays:t.estimatedDays||3,actualDays:t.actualDays||0,parts:t.parts||[],payments:t.payments||[],isPaid:t.isPaid||!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:t.completedAt,clientName:r?`${r.firstName} ${r.lastName}`:"",clientPhone:r?.phone||"",deviceBrand:o?.brand||"",deviceModel:o?.model||"",deviceSerial:o?.serialNumber||"",deviceImei:o?.imei||"",deviceColor:o?.color||"",deviceCondition:o?.condition||"good",deviceExternalCondition:o?.externalCondition||""};return this.orders.push(i),this.saveToStorage(),i}async updateOrder(t,n){const r=this.orders.findIndex(i=>i.id===t);if(r===-1)throw new Error("Заказ не найден");const o=this.orders[r];if(this.orders[r]={...o,...n,updatedAt:new Date},n.clientName||n.clientPhone){const i=this.clients.findIndex(l=>l.id===o.clientId);if(i!==-1){const l=(n.clientName||o.clientName||"").split(" ");this.clients[i]={...this.clients[i],firstName:l[0]||"",lastName:l.slice(1).join(" ")||"",phone:n.clientPhone||o.clientPhone||this.clients[i].phone,updatedAt:new Date}}}if(n.deviceBrand||n.deviceModel||n.deviceSerial||n.deviceImei||n.deviceColor||n.deviceCondition||n.deviceExternalCondition){const i=this.devices.findIndex(l=>l.id===o.deviceId);i!==-1&&(this.devices[i]={...this.devices[i],brand:n.deviceBrand||o.deviceBrand||this.devices[i].brand,model:n.deviceModel||o.deviceModel||this.devices[i].model,serialNumber:n.deviceSerial||o.deviceSerial||this.devices[i].serialNumber,imei:n.deviceImei||o.deviceImei||this.devices[i].imei,color:n.deviceColor||o.deviceColor||this.devices[i].color,condition:n.deviceCondition||o.deviceCondition||this.devices[i].condition,externalCondition:n.deviceExternalCondition||o.deviceExternalCondition||this.devices[i].externalCondition})}return this.saveToStorage(),this.orders[r]}async deleteOrder(t){const n=this.orders.findIndex(r=>r.id===t);if(n===-1)throw new Error("Заказ не найден");this.orders.splice(n,1),this.saveToStorage()}async getOrders(){return[...this.orders]}async getOrderById(t){return this.orders.find(n=>n.id===t)||null}async getOrdersByStatus(t){return this.orders.filter(n=>n.status===t)}async createClient(t){const n={id:Date.now().toString(),firstName:t.firstName||"",lastName:t.lastName||"",phone:t.phone||"",email:t.email||"",address:t.address||"",notes:t.notes||"",totalOrders:0,totalSpent:0,lastVisit:new Date,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.clients.push(n),this.saveToStorage(),n}async findClientByPhone(t){return this.clients.find(n=>n.phone===t)||null}async updateClient(t,n){const r=this.clients.findIndex(o=>o.id===t);if(r===-1)throw new Error("Клиент не найден");return this.clients[r]={...this.clients[r],...n,updatedAt:new Date},this.saveToStorage(),this.clients[r]}async createDevice(t){const n={id:Date.now().toString(),type:t.type||"other",brand:t.brand||"",model:t.model||"",serialNumber:t.serialNumber||"",imei:t.imei||"",color:t.color||"",condition:t.condition||"good",externalCondition:t.externalCondition||"",clientId:t.clientId||"",createdAt:new Date().toISOString()};return this.devices.push(n),this.saveToStorage(),n}async getOrderStats(){const t=this.orders.length,n=this.orders.filter(l=>l.status==="completed").length,r=this.orders.filter(l=>l.status==="pending").length,o=this.orders.filter(l=>l.status==="in_progress").length,i=this.orders.filter(l=>l.status==="waiting_parts").length;return{totalOrders:t,completedOrders:n,pendingOrders:r,inProgressOrders:o,waitingPartsOrders:i}}async getOverdueOrders(){const t=new Date;return this.orders.filter(n=>{if(n.status==="completed"||n.status==="cancelled")return!1;const r=new Date(n.createdAt);return r.setHours(r.getHours()+(n.estimatedDays||1)*24),r<t})}async updateOrderStatus(t,n){return this.updateOrder(t,{status:n})}async addPayment(t,n){const r=await this.getOrderById(t);if(!r)throw new Error("Заказ не найден");const o={id:Date.now().toString(),orderId:t,amount:n.amount,method:n.method,status:"completed",processedBy:n.processedBy,processedAt:new Date,notes:n.notes||""};return r.payments.push(o),r.finalCost=r.payments.reduce((i,l)=>i+l.amount,0),r.finalCost>=r.estimatedCost&&(r.isPaid=!0),this.updateOrder(t,r)}}const lr=new c2;class u2{acceptanceActs=[];workCompletionActs=[];documentStorage=[];constructor(){this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("crm_acceptance_acts"),n=localStorage.getItem("crm_work_completion_acts"),r=localStorage.getItem("crm_document_storage");t&&(this.acceptanceActs=JSON.parse(t).map(o=>({...o,acceptanceDate:new Date(o.acceptanceDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),n&&(this.workCompletionActs=JSON.parse(n).map(o=>({...o,completionDate:new Date(o.completionDate),createdAt:new Date(o.createdAt),updatedAt:new Date(o.updatedAt),printedAt:o.printedAt?new Date(o.printedAt):void 0,clientSignature:o.clientSignature?{...o.clientSignature,signedAt:new Date(o.clientSignature.signedAt)}:void 0,masterSignature:o.masterSignature?{...o.masterSignature,signedAt:new Date(o.masterSignature.signedAt)}:void 0}))),r&&(this.documentStorage=JSON.parse(r).map(o=>({...o,createdAt:new Date(o.createdAt)})))}saveToStorage(){localStorage.setItem("crm_acceptance_acts",JSON.stringify(this.acceptanceActs)),localStorage.setItem("crm_work_completion_acts",JSON.stringify(this.workCompletionActs)),localStorage.setItem("crm_document_storage",JSON.stringify(this.documentStorage))}async createAcceptanceAct(t,n,r,o,i,l,a="Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику."){const c=`АП-${Date.now()}`,u={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,problemDescription:o,preliminaryCost:i,acceptanceDate:new Date,acceptedBy:l,conditions:a,documentNumber:c,createdAt:new Date,updatedAt:new Date};return this.acceptanceActs.push(u),this.saveToStorage(),u}async createWorkCompletionAct(t,n,r,o,i,l,a,c){const u=`АВР-${Date.now()}`,d={id:Date.now().toString(),orderId:t.id,orderNumber:t.orderNumber,client:n,device:r,worksPerformed:o,partsUsed:i,totalCost:l,warrantyPeriod:a,completionDate:new Date,completedBy:c,documentNumber:u,createdAt:new Date,updatedAt:new Date};return this.workCompletionActs.push(d),this.saveToStorage(),d}async addSignature(t,n,r,o,i,l,a){const c={id:Date.now().toString(),signerName:o,signerRole:i,signatureData:r,signedAt:new Date,ipAddress:l,userAgent:a};if(n==="acceptance"){const u=this.acceptanceActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}else{const u=this.workCompletionActs.find(d=>d.id===t);u&&(i==="client"?u.clientSignature=c:u.masterSignature=c,u.updatedAt=new Date)}this.saveToStorage()}async getAcceptanceActByOrderId(t){return this.acceptanceActs.find(n=>n.orderId===t)||null}async getWorkCompletionActByOrderId(t){return this.workCompletionActs.find(n=>n.orderId===t)||null}async getAcceptanceActs(){return this.acceptanceActs}async getWorkCompletionActs(){return this.workCompletionActs}async markDocumentAsPrinted(t,n){if(n==="acceptance"){const r=this.acceptanceActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}else{const r=this.workCompletionActs.find(o=>o.id===t);r&&(r.printedAt=new Date,r.updatedAt=new Date)}this.saveToStorage()}async saveDocumentToStorage(t,n,r,o,i,l){const a={id:Date.now().toString(),orderId:t,documentType:n,documentId:r,filePath:o,fileSize:i,mimeType:l,createdAt:new Date};this.documentStorage.push(a),this.saveToStorage()}async getDocumentsByOrderId(t){return this.documentStorage.filter(n=>n.orderId===t)}}const Wi=new u2,Zs="crm_clients",ss=()=>{try{const e=localStorage.getItem(Zs);return e?JSON.parse(e):[]}catch(e){return console.error("Ошибка при получении клиентов:",e),[]}},Im=e=>{try{const t=ss(),n=t.findIndex(r=>r.id===e.id);return n>=0?t[n]=e:t.push(e),localStorage.setItem(Zs,JSON.stringify(t)),e}catch(t){throw console.error("Ошибка при сохранении клиента:",t),t}},d2=e=>{const t={id:Date.now().toString(),firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",email:e.email||"",address:e.address||"",notes:e.notes||"",totalOrders:0,totalSpent:0,lastOrderDate:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return Im(t)},h2=e=>ss().find(n=>n.phone===e)||null,f2=(e,t)=>{try{const n=ss(),r=n.findIndex(o=>o.id===e);return r>=0?(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},localStorage.setItem(Zs,JSON.stringify(n)),n[r]):null}catch(n){throw console.error("Ошибка при обновлении клиента:",n),n}},m2=e=>{try{const n=ss().filter(r=>r.id!==e);return localStorage.setItem(Zs,JSON.stringify(n)),!0}catch(t){return console.error("Ошибка при удалении клиента:",t),!1}},g2=(e,t)=>{try{const n=ss(),r=n.findIndex(o=>o.id===e);r>=0&&(n[r].totalOrders+=1,n[r].totalSpent+=t,n[r].lastOrderDate=new Date().toISOString(),n[r].updatedAt=new Date().toISOString(),localStorage.setItem(Zs,JSON.stringify(n)))}catch(n){console.error("Ошибка при обновлении статистики клиента:",n)}},ko={getClients:ss,saveClient:Im,createClient:d2,findClientByPhone:h2,updateClient:f2,deleteClient:m2,updateClientStats:g2},p2=({open:e,onClose:t,onSave:n,signerName:r,signerRole:o})=>{const i=h.useRef(null),[l,a]=h.useState(!1),[c,u]=h.useState(!1);h.useEffect(()=>{e&&(u(!1),d())},[e]);const d=()=>{const C=i.current;if(C){const y=C.getContext("2d");y&&(y.clearRect(0,0,C.width,C.height),y.fillStyle="#ffffff",y.fillRect(0,0,C.width,C.height),u(!1))}},f=C=>{a(!0);const y=i.current;if(y){const x=y.getBoundingClientRect(),v=y.getContext("2d");v&&(v.beginPath(),v.moveTo(C.clientX-x.left,C.clientY-x.top))}},m=C=>{if(!l)return;const y=i.current;if(y){const x=y.getBoundingClientRect(),v=y.getContext("2d");v&&(v.lineTo(C.clientX-x.left,C.clientY-x.top),v.stroke(),u(!0))}},g=()=>{a(!1)},w=()=>{const C=i.current;if(C&&c){const y=C.toDataURL("image/png");n(y),t()}},b=C=>{switch(C){case"client":return"Клиент";case"master":return"Мастер";case"manager":return"Менеджер";default:return"Подписант"}};return s.jsxs(vt,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"h6",children:"Электронная подпись"}),s.jsx(Be,{onClick:t,size:"small",children:s.jsx(El,{})})]})}),s.jsxs(Ct,{children:[s.jsx(B,{sx:{mb:2},children:s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Подписант: ",r," (",b(o),")"]})}),s.jsxs(Yt,{elevation:2,sx:{border:"2px dashed #ccc",borderRadius:2,overflow:"hidden",position:"relative"},children:[s.jsx("canvas",{ref:i,width:600,height:200,style:{display:"block",cursor:"crosshair",backgroundColor:"#ffffff"},onMouseDown:f,onMouseMove:m,onMouseUp:g,onMouseLeave:g}),!c&&s.jsx(B,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#999",pointerEvents:"none"},children:s.jsx(j,{variant:"body2",children:"Распишитесь здесь"})})]}),s.jsx(B,{sx:{mt:2,display:"flex",gap:1},children:s.jsx(ge,{variant:"outlined",startIcon:s.jsx(yg,{}),onClick:d,disabled:!c,children:"Очистить"})})]}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:t,children:"Отмена"}),s.jsx(ge,{variant:"contained",startIcon:s.jsx(cd,{}),onClick:w,disabled:!c,children:"Сохранить подпись"})]})]})},x2=({open:e,onClose:t,document:n,documentType:r,onSign:o})=>{const[i,l]=h.useState(!1),[a,c]=h.useState("client"),[u,d]=h.useState(!1);if(!n)return null;const f=b=>{o&&o(b,a),l(!1)},m=()=>{d(!0);try{window.print()}catch(b){console.error("Ошибка при печати:",b),ke.error("Ошибка при печати")}finally{d(!1)}},g=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(j,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ПРИЕМА-ПЕРЕДАЧИ УСТРОЙСТВА В РЕМОНТ"}),s.jsxs(j,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(j,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.acceptanceDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px"},children:"Ежедневно С 10:00 - 19:00"})]})}),s.jsx(ps,{component:Yt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(vs,{children:s.jsxs(Kt,{children:[s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заметки:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Устройство у клиента"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Внешний вид устройства:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.externalCondition||"Потертости, Царапины"})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочная стоимость:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.preliminaryCost,"+",Math.round(b.preliminaryCost*.1)]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.preliminaryCost*.3)})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Ориентировочный срок ремонта:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:new Date(Date.now()+4320*60*1e3).toLocaleDateString("ru-RU")})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.problemDescription})]})]})]})})]})}),s.jsxs(B,{sx:{mb:3},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:2,fontWeight:"bold"},children:"Условия:"}),s.jsxs(B,{sx:{fontSize:"10px",lineHeight:1.3},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"1. Подписанием настоящего акта приема-передачи устройства клиент подтверждает, что ознакомлен и согласен с правилами и условиями проведения ремонтных работ, изложенными в публичной оферте сервисного центра, являющейся неотъемлемой частью настоящего договора."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"2. Установленные узлы или расходные материалы возврату не подлежат, согласно Перечню сложнотехнических товаров, не подлежащих обмену или возврату."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"3. Клиент согласен с тем, что гарантия производителя аннулируется после ремонта."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"4. Исполнитель не несет ответственности за возможную потерю информации на внутренних накопителях устройства, связанную с заменой узлов и компонентов."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"5. Исполнитель не несет ответственности за целостность гарантийных пломб сторонних сервисных центров и производителя устройства."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"6. Клиент принимает на себя риск, связанный с возможным проявлением при ремонте скрытых дефектов, присутствующих в устройстве на момент приема от клиента, которые не могут быть проверены и зафиксированы в настоящем документе (наличие следов коррозии, попадание влаги, инородные предметы, следы механических повреждений и другие непредусмотренные производителем вмешательства в устройство и его компоненты)."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:'7. Ремонт и обслуживание проводятся в соответствии с требованиями нормативных документов, включая ГОСТ 12.2006-87 п.п. 9.1, ГОСТ Р 50377-92 п.п. 2.1.4, ГОСТ Р 50936-96, ГОСТ Р 50938-96 и согласно Федеральному закону "О защите прав потребителей".'}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"8. Устройство клиента принимается без разборки и выявления внутренних неисправностей."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"9. Клиент согласен с тем, что при ремонте устройства могут быть заменены компоненты, узлы, модули, влияющие на идентификацию IMEI номера устройства."}),s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:1},children:"10. Факт возврата устройства из ремонта фиксируется в форме БО-17, которую Исполнитель заполняет в двух экземплярах при возврате владельцу устройства."})]})]}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"С условиями ознакомлен и согласен, устройство в указанном состоянии и работоспособности передал:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",mb:1},children:"Устройство в указанном состоянии и работоспособности принял:"}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]}),w=b=>s.jsxs(B,{id:"document-content",sx:{p:3,maxWidth:800,mx:"auto",fontFamily:"Arial, sans-serif",fontSize:"14px",lineHeight:1.4,"@media print":{maxWidth:"none",margin:0,padding:"10mm",fontSize:"11px",width:"100%",height:"100vh",boxSizing:"border-box"}},children:[s.jsxs(B,{textAlign:"center",sx:{mb:3},children:[s.jsx(j,{variant:"h4",fontWeight:"bold",sx:{fontSize:"24px",mb:1},children:"АКТ ВЫПОЛНЕННЫХ РАБОТ"}),s.jsxs(j,{variant:"h6",sx:{fontSize:"16px",mb:1},children:["№",b.documentNumber]}),s.jsxs(j,{variant:"body1",sx:{fontSize:"14px"},children:["от ",b.completionDate.toLocaleDateString("ru-RU")]})]}),s.jsx(B,{sx:{display:"flex",justifyContent:"flex-end",mb:3,"@media print":{justifyContent:"flex-end"}},children:s.jsxs(B,{sx:{textAlign:"right",minWidth:"300px"},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",sx:{fontSize:"14px",mb:.5},children:"Исполнитель NK Service"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИП Неклюдов А.А."}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ИНН: 263221164126"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"ОГРНИП: 324265100105224"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px",mb:.5},children:"Тел. +7 (938) 309 18-77"}),s.jsx(j,{variant:"body2",sx:{fontSize:"12px"},children:"Пн - Сб с 10:00 - 19:00, Вс с 12:00 - 19:00"})]})}),s.jsx(ps,{component:Yt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Клиент"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Устройство"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"33%"},children:"Ремонт"})]})}),s.jsx(vs,{children:s.jsxs(Kt,{children:[s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"ФИО Клиента:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.client.firstName," ",b.client.lastName]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Номер телефона клиента:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.client.phone})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Устройство:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:[b.device.brand," ",b.device.model]})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Пароль:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Цвет:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.color||"Черный"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"IMEI:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.imei||"-"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Комплектация:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:"Отсутствует"})]}),s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"S/N:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.device.serialNumber||"-"})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Рекомендации:"}),s.jsxs(j,{variant:"body2",sx:{fontSize:"11px"},children:["Внешний вид устройства: ",b.device.externalCondition||"Потертости, Царапины"]})]})]}),s.jsxs(Me,{sx:{border:"1px solid #000",fontSize:"12px",verticalAlign:"top"},children:[s.jsxs(B,{sx:{mb:1},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Аванс:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:Math.round(b.totalCost*.3)})]}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",sx:{fontSize:"11px",fontWeight:"bold"},children:"Заявленные неисправности:"}),s.jsx(j,{variant:"body2",sx:{fontSize:"11px"},children:b.worksPerformed.map(C=>C.name).join(", ")})]})]})]})})]})}),s.jsx(B,{sx:{mb:3},children:s.jsx(j,{variant:"body2",sx:{fontSize:"10px",lineHeight:1.3},children:"Клиент согласен с тем что ипользование устройства без защитного аксессуара лишает гарантии на экран (дисплейный модуль, стекло) поскольку любое физическое воздействие кроме изложенных в инструкции по эксплуатации может служить причиной выхода из строя модуля за которые исполнитель не несет ответственность."})}),s.jsx(ps,{component:Yt,sx:{mb:3,border:"1px solid #000"},children:s.jsxs(xs,{size:"small",children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"5%"},children:"№"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"40%"},children:"Наименование работы"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Гарантия, дн."}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Цена, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Скидка, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"10%"},children:"Количество"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px",width:"15%"},children:"Сумма, Р"})]})}),s.jsxs(vs,{children:[b.worksPerformed.map((C,y)=>s.jsxs(Kt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:y+1}),s.jsx(Me,{sx:{border:"1px solid #000",fontSize:"11px"},children:C.name}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.cost}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.quantity}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.totalCost})]},C.id)),b.partsUsed.map((C,y)=>s.jsxs(Kt,{children:[s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.worksPerformed.length+y+1}),s.jsx(Me,{sx:{border:"1px solid #000",fontSize:"11px"},children:C.name}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:b.warrantyPeriod}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.unitPrice}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:"0"}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.quantity}),s.jsx(Me,{sx:{border:"1px solid #000",textAlign:"center",fontSize:"11px"},children:C.totalPrice})]},C.id)),s.jsxs(Kt,{children:[s.jsx(Me,{colSpan:6,sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"right",fontSize:"11px"},children:"Сумма, Р"}),s.jsx(Me,{sx:{border:"1px solid #000",fontWeight:"bold",textAlign:"center",fontSize:"11px"},children:b.totalCost})]})]})]})}),s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mt:4,"@media print":{marginTop:"30px"}},children:[s.jsxs(B,{sx:{flex:1,mr:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Подтверждаю, что исполнитель выполнил указанные работы, функционал согласно приложению 1 проверен. Претензий к внешнему виду и качеству работы не имею. Ознакомлен(а) с условиями гарантии, устройство принял(а) без замечаний."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись клиента"})]}),s.jsxs(B,{sx:{flex:1,ml:2},children:[s.jsx(j,{variant:"body2",sx:{fontSize:"10px",mb:2,lineHeight:1.3},children:"Выполнил указанные в акте работы, передал устройство клиенту, подтверждая гарантию на выполненные работы в соответствии с условиями гарантии."}),s.jsx(B,{sx:{height:40,borderBottom:"1px solid #000",mb:1,"@media print":{height:"50px"}}}),s.jsx(j,{variant:"caption",sx:{fontSize:"10px",textAlign:"center",display:"block"},children:"Подпись исполнителя"})]})]})]});return s.jsxs(s.Fragment,{children:[s.jsxs(vt,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{sx:{"@media print":{display:"none"}},children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(j,{variant:"h6",children:r==="acceptance"?"Акт приема-передачи":"Акт выполненных работ"}),s.jsxs(B,{children:[s.jsx(Be,{onClick:m,disabled:u,sx:{mr:1},children:s.jsx(Mo,{})}),s.jsx(Be,{onClick:t,sx:{ml:1},children:s.jsx(El,{})})]})]})}),s.jsx(Ct,{sx:{p:0},children:r==="acceptance"?g(n):w(n)}),s.jsx(wt,{sx:{"@media print":{display:"none"}},children:s.jsx(ge,{onClick:t,children:"Закрыть"})})]}),s.jsx(p2,{open:i,onClose:()=>l(!1),onSave:f,signerName:a==="client"?n.client.firstName+" "+n.client.lastName:"Мастер",signerRole:a})]})},b2=ca({orderType:Tt().required("Выберите тип заказа"),clientType:Tt().required("Выберите тип клиента"),clientName:Tt().required("ФИО клиента обязательно"),phone:Tt().required("Телефон обязателен"),manager:Tt().required("Менеджер обязателен"),deadline:Tt().required("Срок обязателен"),color:Tt().required("Цвет обязателен"),serialNumber:Tt().required("Серийный номер обязателен"),imei:Tt().required("IMEI обязателен"),reasonForContact:Tt().required("Причина обращения обязательна"),password:Tt().required("Пароль обязателен"),completeness:Tt().required("Комплектация обязательна")}),v2=({open:e,onClose:t,onSubmit:n})=>{const{control:r,handleSubmit:o,formState:{errors:i},reset:l}=gf({resolver:xf(b2),defaultValues:{orderType:"paid",clientType:"individual",manager:"Артем",deadline:"09.10.2025 14:00"}}),a=u=>{n(u),l(),t(),ke.success("Заказ успешно создан")},c=()=>{l(),t()};return s.jsxs(vt,{open:e,onClose:c,maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsxs(B,{display:"flex",alignItems:"center",gap:2,children:[s.jsx(j,{variant:"h6",children:"Заказ"}),s.jsx(rt,{name:"orderType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",children:s.jsxs($a,{...u,row:!0,children:[s.jsx(hs,{value:"paid",control:s.jsx(Js,{size:"small"}),label:"Платный"}),s.jsx(hs,{value:"warranty",control:s.jsx(Js,{size:"small"}),label:"Гарантийный"})]})})})]}),s.jsxs(B,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(Be,{size:"small",children:s.jsx(Cg,{})}),s.jsx(Be,{size:"small",children:s.jsx(wg,{})}),s.jsx(Be,{onClick:c,size:"small",children:s.jsx(El,{})})]})]})}),s.jsx(Ct,{dividers:!0,children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsxs(A,{item:!0,xs:6,children:[s.jsxs(Yt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Клиент"}),s.jsx(rt,{name:"clientType",control:r,render:({field:u})=>s.jsx(ze,{component:"fieldset",sx:{mb:2},children:s.jsxs($a,{...u,row:!0,children:[s.jsx(hs,{value:"individual",control:s.jsx(Js,{size:"small"}),label:"Физ. лицо"}),s.jsx(hs,{value:"company",control:s.jsx(Js,{size:"small"}),label:"Компания *"})]})})}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"clientName",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Клиент *",fullWidth:!0,size:"small",error:!!i.clientName,helperText:i.clientName?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"phone",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Телефон",fullWidth:!0,size:"small",error:!!i.phone,helperText:i.phone?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"email",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Почта",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"howDidYouKnow",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Откуда узнал",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"clientComment",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Комментарий о клиенте",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"discount",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Сделать скидку",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"birthday",control:r,render:({field:u})=>s.jsx(re,{...u,label:"День рождения",fullWidth:!0,size:"small",type:"date",InputLabelProps:{shrink:!0}})})})]})]}),s.jsxs(Yt,{elevation:1,sx:{p:2},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Дополнительно"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"prepayment",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Предоплата, Р",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"performer",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Исполнитель",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"manager",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Менеджер *",fullWidth:!0,size:"small",error:!!i.manager,helperText:i.manager?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"deadline",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Срок *",fullWidth:!0,size:"small",error:!!i.deadline,helperText:i.deadline?.message})})})]})]})]}),s.jsxs(A,{item:!0,xs:6,children:[s.jsxs(Yt,{elevation:1,sx:{p:2,mb:3},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"advance",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Аванс",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"color",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Цвет *",fullWidth:!0,size:"small",error:!!i.color,helperText:i.color?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"serialNumber",control:r,render:({field:u})=>s.jsx(re,{...u,label:"S/N *",fullWidth:!0,size:"small",error:!!i.serialNumber,helperText:i.serialNumber?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"imei",control:r,render:({field:u})=>s.jsx(re,{...u,label:"IMEI *",fullWidth:!0,size:"small",error:!!i.imei,helperText:i.imei?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"reasonForContact",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Причина обращения *",fullWidth:!0,size:"small",multiline:!0,rows:2,error:!!i.reasonForContact,helperText:i.reasonForContact?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"model",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Модель",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"appearance",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Внешний вид",fullWidth:!0,size:"small"})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"password",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Пароль *",fullWidth:!0,size:"small",error:!!i.password,helperText:i.password?.message})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"completeness",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Комплектация *",fullWidth:!0,size:"small",error:!!i.completeness,helperText:i.completeness?.message})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(rt,{name:"receptionistNotes",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Заметки приемщика",fullWidth:!0,size:"small",multiline:!0,rows:2})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"estimatedPrice",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Ориент. цена",fullWidth:!0,size:"small",type:"number",value:u.value||"",onChange:d=>u.onChange(d.target.value?Number(d.target.value):void 0)})})}),s.jsx(A,{item:!0,xs:6,children:s.jsx(rt,{name:"recommendations",control:r,render:({field:u})=>s.jsx(re,{...u,label:"Рекомендации",fullWidth:!0,size:"small"})})})]})]}),s.jsxs(Yt,{elevation:1,sx:{p:2},children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[s.jsx(j,{variant:"h6",children:"Товары и услуги"}),s.jsx(ge,{variant:"outlined",size:"small",children:"Добавить"})]}),s.jsx(j,{variant:"body2",color:"textSecondary",children:"Здесь будут отображаться добавленные товары и услуги"})]})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:c,children:"Отмена"}),s.jsx(ge,{onClick:o(a),variant:"contained",children:"Создать заказ"})]})]})},y2=[],C2=["Apple","Samsung","Xiaomi","Huawei","OnePlus","Google","Sony","LG","Motorola","Nokia","Realme","Oppo","Vivo","Honor","Asus","Lenovo","HP","Dell","Acer","MSI","Razer","Alienware"],w2={Apple:["iPhone 15 Pro Max","iPhone 15 Pro","iPhone 15","iPhone 14 Pro Max","iPhone 14 Pro","iPhone 14","iPhone 13 Pro Max","iPhone 13 Pro","iPhone 13","iPhone 12 Pro Max","iPhone 12 Pro","iPhone 12","iPhone 11 Pro Max","iPhone 11 Pro","iPhone 11","iPhone SE","iPad Pro","iPad Air","iPad","iPad mini","MacBook Pro","MacBook Air","iMac","Mac Studio","Mac Pro"],Samsung:["Galaxy S24 Ultra","Galaxy S24+","Galaxy S24","Galaxy S23 Ultra","Galaxy S23+","Galaxy S23","Galaxy Note 20","Galaxy A54","Galaxy A34","Galaxy A24","Galaxy Z Fold 5","Galaxy Z Flip 5","Galaxy Tab S9","Galaxy Tab A8","Galaxy Watch 6"],Xiaomi:["Mi 14 Pro","Mi 14","Mi 13 Pro","Mi 13","Redmi Note 13 Pro","Redmi Note 13","Redmi 12","POCO X6 Pro","POCO F5","Mi Pad 6","Mi Watch"],Huawei:["P60 Pro","P60","Mate 60 Pro","Mate 60","nova 11","nova 10","MatePad Pro","Watch GT 4"],OnePlus:["12 Pro","12","11 Pro","11","Nord 3","Nord CE 3","Pad Go"],Google:["Pixel 8 Pro","Pixel 8","Pixel 7 Pro","Pixel 7","Pixel 6 Pro","Pixel 6","Pixel Tablet","Pixel Watch"],Sony:["Xperia 1 V","Xperia 5 V","Xperia 10 V","WH-1000XM5","WF-1000XM5"],LG:["G8 ThinQ","V60 ThinQ","Wing","Gram","UltraGear"],Motorola:["Edge 40 Pro","Edge 40","Moto G73","Moto G53","Razr 40"],Nokia:["X30 5G","G60 5G","C31","T20","XR21"],Realme:["GT 5","GT Neo 6","11 Pro+","11 Pro","C55"],Oppo:["Find X6 Pro","Find X6","Reno 10 Pro","Reno 10","A78"],Vivo:["X90 Pro","X90","V29","V27","Y36"],Honor:["Magic 5 Pro","Magic 5","90 Pro","90","X50"],Asus:["ROG Phone 7","ZenFone 10","VivoBook","ROG Strix","TUF Gaming"],Lenovo:["Legion Y90","ThinkPad","IdeaPad","Yoga","Tab P11"],HP:["Pavilion","Envy","Spectre","EliteBook","ProBook"],Dell:["XPS 13","XPS 15","Inspiron","Latitude","Precision"],Acer:["Aspire","Swift","Nitro","Predator","ConceptD"],MSI:["Stealth","Raider","Katana","Sword","Creator"],Razer:["Blade 15","Blade 17","Blade Stealth","Book 13"],Alienware:["m15","m17","x15","x17","Aurora"]},S2=["Треснутый экран","Не включается","Не заряжается","Быстро разряжается","Не работает камера","Не работает звук","Не работает микрофон","Не работает динамик","Не работает Wi-Fi","Не работает Bluetooth","Не работает сенсорный экран","Не работает кнопка питания","Не работает кнопка громкости","Не работает кнопка Home","Не работает Face ID","Не работает Touch ID","Не работает сканер отпечатков","Перегревается","Зависает","Перезагружается","Не видит SIM-карту","Не работает GPS","Не работает датчик приближения","Не работает акселерометр","Не работает гироскоп","Проблемы с сетью","Проблемы с антенной","Проблемы с разъемом зарядки","Проблемы с разъемом наушников","Проблемы с динамиком","Проблемы с вибрацией","Проблемы с подсветкой","Проблемы с дисплеем","Проблемы с батареей","Проблемы с материнской платой","Проблемы с процессором","Проблемы с памятью","Проблемы с накопителем","Проблемы с видеокартой","Проблемы с клавиатурой","Проблемы с тачпадом","Проблемы с веб-камерой","Проблемы с портами","Проблемы с охлаждением","Проблемы с BIOS","Проблемы с операционной системой","Проблемы с программным обеспечением","Другое"],j2=["Замена экрана","Замена батареи","Замена кнопки питания","Замена кнопки громкости","Замена динамика","Замена микрофона","Замена камеры","Замена разъема зарядки","Замена разъема наушников","Замена корпуса","Замена материнской платы","Замена процессора","Замена оперативной памяти","Замена накопителя","Замена клавиатуры","Замена тачпада","Замена веб-камеры","Замена системы охлаждения","Замена вентилятора","Замена термопасты","Ремонт кнопки питания","Ремонт кнопки громкости","Ремонт динамика","Ремонт микрофона","Ремонт камеры","Ремонт разъема зарядки","Ремонт разъема наушников","Ремонт корпуса","Ремонт материнской платы","Ремонт системы охлаждения","Диагностика устройства","Диагностика батареи","Диагностика экрана","Диагностика камеры","Диагностика звука","Диагностика сети","Диагностика Bluetooth","Диагностика Wi-Fi","Диагностика GPS","Диагностика сенсоров","Диагностика системы","Прошивка устройства","Восстановление системы","Установка операционной системы","Настройка устройства","Калибровка экрана","Калибровка батареи","Калибровка сенсоров","Очистка от пыли","Очистка системы охлаждения","Очистка разъемов","Обновление программного обеспечения","Восстановление данных","Резервное копирование","Настройка безопасности","Настройка сети","Настройка Bluetooth","Настройка Wi-Fi","Настройка GPS","Настройка уведомлений","Настройка приложений","Оптимизация производительности","Удаление вирусов","Восстановление после вирусов","Ремонт после попадания воды","Ремонт после падения","Ремонт после перегрева","Ремонт после скачка напряжения","Ремонт после механических повреждений","Замена защитного стекла","Установка защитного стекла","Замена пленки","Установка пленки","Чистка устройства","Полировка корпуса","Восстановление внешнего вида","Другое"],P2=Object.values(w2).flat(),co=[{value:"diagnosis",label:"Диагностика",color:"info"},{value:"waiting_parts",label:"Ожидание запчастей",color:"warning"},{value:"waiting_client",label:"Ожидание клиента",color:"warning"},{value:"in_progress",label:"В работе",color:"primary"},{value:"completed",label:"Завершен",color:"success"},{value:"cancelled",label:"Отменен",color:"error"},{value:"pending",label:"Ожидает",color:"default"}],uo=[{value:"low",label:"Низкий",color:"success"},{value:"medium",label:"Средний",color:"warning"},{value:"high",label:"Высокий",color:"error"},{value:"urgent",label:"Срочный",color:"error"}],k2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(!1),[l,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[m,g]=h.useState(!1),[w,b]=h.useState(!1),[C,y]=h.useState(!1),[x,v]=h.useState(null),[p,E]=h.useState(null),[D,P]=h.useState("acceptance"),[k,T]=h.useState(!1),[_,O]=h.useState(!1),[z,$]=h.useState(0),[I,F]=h.useState(""),[V,H]=h.useState("all"),[R,N]=h.useState("all"),[U,K]=h.useState(0),[Z,se]=h.useState("work"),[te,fe]=h.useState(""),[oe,me]=h.useState(0),[J,ce]=h.useState(1),[ae,we]=h.useState(""),[pe,_e]=h.useState(null),[Ye,ie]=h.useState({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),[Ce,je]=h.useState("cash"),[Ve,Ue]=h.useState(0),[L,q]=h.useState(!1),[Q,ne]=h.useState(!1),[W,ee]=h.useState({clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",clientNotes:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1}),[de,Pe]=h.useState([]),[Te,Ne]=h.useState(y2),[Zt]=h.useState("employee"),Ke=()=>{O(!0),$(0),ee({clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",clientNotes:"",deviceType:"phone",deviceBrand:"",deviceModel:"",deviceSerial:"",deviceImei:"",deviceColor:"",deviceCondition:"good",deviceExternalCondition:"Сколы, трещины, возможны скрытые дефекты",description:"",diagnosis:"",priority:"medium",estimatedCost:0,estimatedDays:1,staffComments:"",offerProtection:!1,offerCleaning:!1})},it=()=>{z<3&&$(z+1)},_n=()=>{z>0&&$(z-1)},Qe=(M,X)=>{ee(De=>({...De,[M]:X}))},Ft=async()=>{try{let M=ko.findClientByPhone(W.clientPhone);M?M=ko.updateClient(M.id,{firstName:W.clientName.split(" ")[0]||"",lastName:W.clientName.split(" ").slice(1).join(" ")||"",email:W.clientEmail,address:W.clientAddress,notes:W.clientNotes})||M:M=ko.createClient({firstName:W.clientName.split(" ")[0]||"",lastName:W.clientName.split(" ").slice(1).join(" ")||"",phone:W.clientPhone,email:W.clientEmail,address:W.clientAddress,notes:W.clientNotes});const X=await lr.createDevice({type:W.deviceType,brand:W.deviceBrand,model:W.deviceModel,serialNumber:W.deviceSerial,imei:W.deviceImei,color:W.deviceColor,condition:W.deviceCondition,externalCondition:W.deviceExternalCondition,clientId:M.id,createdAt:new Date().toISOString()}),De=await lr.createOrder({clientId:M.id,deviceId:X.id,technicianId:"1",status:"diagnosis",priority:W.priority,description:W.staffComments,diagnosis:W.diagnosis,estimatedCost:W.estimatedCost,estimatedDays:W.estimatedDays,parts:[],payments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPaid:!1,clientName:W.clientName,clientPhone:W.clientPhone,deviceBrand:W.deviceBrand,deviceModel:W.deviceModel,deviceSerial:W.deviceSerial,deviceImei:W.deviceImei,deviceColor:W.deviceColor,deviceCondition:W.deviceCondition,deviceExternalCondition:W.deviceExternalCondition});Ne(Xe=>[...Xe,De]),O(!1),$(0),ke.success("Заказ успешно создан!")}catch(M){console.error("Ошибка при создании заказа:",M),ke.error("Ошибка при создании заказа")}},rr=async M=>{try{const X={id:Date.now().toString(),firstName:M.clientName.split(" ")[0]||"",lastName:M.clientName.split(" ").slice(1).join(" ")||"",phone:M.phone,email:M.email||"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},De={id:Date.now().toString(),type:"phone",brand:"Apple",model:M.model||"iPhone",serialNumber:M.serialNumber,imei:M.imei,color:M.color,condition:"fair",externalCondition:M.appearance||"Не указано",clientId:X.id,createdAt:new Date().toISOString()},Xe={id:Date.now().toString(),orderNumber:`#${String(Date.now()).slice(-6)}`,clientId:X.id,deviceId:De.id,technicianId:"1",status:"diagnosis",priority:"medium",description:M.reasonForContact,diagnosis:"Требуется диагностика",estimatedCost:M.estimatedPrice||0,finalCost:void 0,estimatedDays:1,actualDays:void 0,estimatedTime:"1 день",parts:[],payments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completedAt:void 0,isPaid:!1,clientName:M.clientName,clientPhone:M.phone,deviceBrand:De.brand,deviceModel:De.model,deviceSerial:M.serialNumber,deviceImei:M.imei,deviceColor:M.color,deviceCondition:De.condition,deviceExternalCondition:M.appearance||"Не указано"};Ne(Pt=>[Xe,...Pt]),await Nm(Xe,X,De,M),setTimeout(()=>{ke.success("Заказ успешно создан")},1e3)}catch(X){console.error("Ошибка при создании заказа:",X),ke.error("Ошибка при создании заказа")}},Er=M=>{v(M),u(!0)},sr=async M=>{try{await lr.deleteOrder(M),Ne(X=>X.filter(De=>De.id!==M)),ke.success("Заказ удален")}catch{ke.error("Ошибка при удалении заказа")}},Mm=M=>{window.open(`tel:${M}`,"_self")},Fm=M=>{const X=M.replace(/\D/g,"");window.open(`https://wa.me/${X}`,"_blank")},Tm=M=>{const X=M.replace(/\D/g,"");window.open(`https://t.me/${X}`,"_blank")},Ia=M=>{ke.success("Печать акта приема-передачи")},Ma=M=>{v(M),f(!0)},Am=async M=>{if(x)try{await lr.updateOrder(x.id,M),Ne(X=>X.map(De=>De.id===x.id?{...De,...M}:De)),ke.success("Заказ успешно обновлен"),f(!1)}catch(X){console.error("Ошибка при обновлении заказа:",X),ke.error("Ошибка при обновлении заказа")}},Fa=M=>{if(console.log("handleAddWork вызвана с заказом:",M),!M){console.error("Заказ не передан в handleAddWork"),ke.error("Заказ не найден");return}if(!M.id){console.error("У заказа нет ID:",M),ke.error("Заказ не имеет ID");return}console.log("Устанавливаем selectedOrder:",M),v(M),g(!0),fe(""),me(0),ce(1),_e(null),se("work")},Dm=()=>{b(!0)},Om=async()=>{if(!x){ke.error("Заказ не выбран");return}if(console.log("Проверка selectedOrder:",{id:x.id,orderNumber:x.orderNumber,parts:x.parts,finalCost:x.finalCost,estimatedCost:x.estimatedCost}),!te.trim()){ke.error("Введите название работы");return}if(oe<=0){ke.error("Цена должна быть больше 0");return}if(J<=0){ke.error("Количество должно быть больше 0");return}try{console.log("Добавление работы:",{selectedOrder:x.id,workType:Z,workName:te,workPrice:oe,workQuantity:J,selectedPart:pe});const M={id:Date.now().toString(),partId:pe?pe.id:"work_"+Date.now().toString(),quantity:J,unitPrice:oe,totalPrice:oe*J,isUsed:!0,workType:pe?"work_with_part":"work_only",workName:te,partInfo:pe?{...pe,partCost:pe.price*J,workCost:oe*J}:null};if(console.log("Созданный workItem:",M),pe){const De=Ta.find(Xe=>Xe.id===pe.id);if(De&&De.stock<J){ke.error(`Недостаточно запчастей на складе. Доступно: ${De.stock} шт.`);return}De&&(De.stock-=J,ke.success(`Списано со склада: ${J} шт. ${pe.name}`))}const X={...x,parts:[...x.parts||[],M],finalCost:(x.finalCost||x.estimatedCost)+M.totalPrice};await lr.updateOrder(x.id,X),Ne(De=>De.map(Xe=>Xe.id===x.id?X:Xe)),ke.success(`Работа ${pe?"с запчастью":""} добавлена к заказу`),g(!1),fe(""),me(0),ce(1),_e(null),se("work")}catch(M){console.error("Ошибка при добавлении работы:",M),console.error("Детали ошибки:",{error:M,errorMessage:M instanceof Error?M.message:"Неизвестная ошибка",errorStack:M instanceof Error?M.stack:"Нет стека",selectedOrder:x?.id,workType:Z,workName:te,workPrice:oe,workQuantity:J}),ke.error(`Ошибка при добавлении работы: ${M instanceof Error?M.message:"Неизвестная ошибка"}`)}},Ta=[{id:"1",name:"Экран iPhone 14",category:"Экраны",brand:"Apple",price:15e3,stock:5},{id:"2",name:"Батарея Samsung Galaxy S21",category:"Батареи",brand:"Samsung",price:3e3,stock:8},{id:"3",name:'Корпус MacBook Pro 13"',category:"Корпуса",brand:"Apple",price:8e3,stock:3},{id:"4",name:"Камера iPad Air",category:"Камеры",brand:"Apple",price:5e3,stock:7},{id:"5",name:"Клавиатура MacBook Air",category:"Клавиатуры",brand:"Apple",price:12e3,stock:2}],Aa=Ta.filter(M=>M.name.toLowerCase().includes(ae.toLowerCase())||M.category.toLowerCase().includes(ae.toLowerCase())||M.brand.toLowerCase().includes(ae.toLowerCase())),_m=M=>{console.log("handleDeliveryOrder вызвана с заказом:",M),v(M),Ue(M.finalCost||M.estimatedCost),y(!0),console.log("selectedOrder установлен:",M)},Vm=(M,X)=>{ie(De=>({...De,[M]:X}))},$m=()=>{ie({screenWorks:!0,touchWorks:!0,cameraWorks:!0,soundWorks:!0,chargingWorks:!0,wifiWorks:!0,bluetoothWorks:!0,buttonsWork:!0,fingerprintWorks:!0,faceIdWorks:!0}),ke.success("Все тесты отмечены как пройденные")},Lm=async M=>{if(x)try{const X=x.parts?.filter(Pt=>Pt.id!==M)||[],De=x.parts?.find(Pt=>Pt.id===M),Xe={...x,parts:X,finalCost:(x.finalCost||x.estimatedCost)-(De?.totalPrice||0)};await lr.updateOrder(x.id,Xe),Ne(Pt=>Pt.map(Ir=>Ir.id===x.id?Xe:Ir)),v(Xe),ke.success("Запчасть удалена из заказа")}catch(X){console.error("Ошибка при удалении запчасти:",X),ke.error("Ошибка при удалении запчасти")}},Rm=async()=>{if(x)try{if(!Object.values(Ye).every(Xe=>Xe)){ke.error("Не все тесты пройдены. Проверьте чек-лист тестирования.");return}let X=[];L&&X.push({id:Date.now().toString()+"_protection",partId:"screen_protection",quantity:1,unitPrice:2e3,totalPrice:2e3,isUsed:!0,workType:"service",workName:"Защита экрана"}),Q&&X.push({id:Date.now().toString()+"_cleaning",partId:"cleaning",quantity:1,unitPrice:1e3,totalPrice:1e3,isUsed:!0,workType:"service",workName:"Чистка устройства"});const De={...x,status:"completed",parts:[...x.parts||[],...X],finalCost:(x.finalCost||x.estimatedCost)+(L?2e3:0)+(Q?1e3:0),isPaid:!0,completedAt:new Date};await lr.updateOrder(x.id,De),Ne(Xe=>Xe.map(Pt=>Pt.id===x.id?De:Pt)),await zm(De),ke.success("Заказ успешно выдан клиенту!"),y(!1),ie({screenWorks:!1,touchWorks:!1,cameraWorks:!1,soundWorks:!1,chargingWorks:!1,wifiWorks:!1,bluetoothWorks:!1,buttonsWork:!1,fingerprintWorks:!1,faceIdWorks:!1}),q(!1),ne(!1)}catch(M){console.error("Ошибка при выдаче заказа:",M),ke.error("Ошибка при выдаче заказа")}},Nm=async(M,X,De,Xe)=>{try{const Pt=X||{id:M.clientId,firstName:M.clientName?.split(" ")[0]||"Неизвестно",lastName:M.clientName?.split(" ")[1]||"Неизвестно",phone:M.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Ir=De||{id:M.deviceId,type:"phone",brand:M.deviceBrand||"",model:M.deviceModel||"",serialNumber:M.deviceSerial,imei:M.deviceImei,color:M.deviceColor,condition:M.deviceCondition||"good",externalCondition:M.deviceExternalCondition,clientId:M.clientId,createdAt:new Date().toISOString()},Ze=await Wi.createAcceptanceAct(M,Pt,Ir,Xe?.reasonForContact||M.description,Xe?.estimatedPrice||M.estimatedCost,"Мастер","Устройство принимается на диагностику и ремонт. В случае отказа от ремонта взимается плата за диагностику.");E(Ze),P("acceptance"),a(!0)}catch{ke.error("Ошибка при создании акта приема-передачи")}},zm=async M=>{try{const X={id:M.clientId,firstName:M.clientName?.split(" ")[0]||"Неизвестно",lastName:M.clientName?.split(" ")[1]||"Неизвестно",phone:M.clientPhone||"",email:"",address:"",notes:"",totalOrders:0,totalSpent:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},De={id:M.deviceId,type:"phone",brand:M.deviceBrand||"",model:M.deviceModel||"",serialNumber:M.deviceSerial,imei:M.deviceImei,color:M.deviceColor,condition:M.deviceCondition||"good",externalCondition:M.deviceExternalCondition,clientId:M.clientId,createdAt:new Date().toISOString()},Xe=[],Pt=[];M.parts&&M.parts.length>0&&M.parts.forEach(Ze=>{const vi=Ze.workType,Da=Ze.workName;if(vi==="work_with_part"||vi==="work_only"){if(Xe.push({id:Ze.id,name:Da||"Работа",description:Da||"Выполненная работа",cost:Ze.unitPrice,quantity:Ze.quantity,totalCost:Ze.totalPrice}),vi==="work_with_part"&&Ze.partInfo){const os=Ze.partInfo;Pt.push({id:Ze.id+"_part",partId:os.id,name:os.name,partNumber:os.id,unitPrice:os.price,quantity:Ze.quantity,totalPrice:os.price*Ze.quantity})}}else Ze.partId==="screen_protection"||Ze.partId==="cleaning"?Xe.push({id:Ze.id,name:Ze.partId==="screen_protection"?"Защита экрана":"Чистка устройства",description:Ze.partId==="screen_protection"?"Установка защитного стекла":"Чистка устройства",cost:Ze.unitPrice,quantity:Ze.quantity,totalCost:Ze.totalPrice}):Pt.push({id:Ze.id,partId:Ze.partId,name:`Запчасть #${Ze.id}`,partNumber:Ze.partId,unitPrice:Ze.unitPrice,quantity:Ze.quantity,totalPrice:Ze.totalPrice})}),Xe.length===0&&Xe.push({id:"1",name:"Диагностика",description:M.diagnosis||"Диагностика устройства",cost:1e3,quantity:1,totalCost:1e3});const Ir=await Wi.createWorkCompletionAct(M,X,De,Xe,Pt,M.finalCost||M.estimatedCost,30,"Мастер");E(Ir),P("completion"),a(!0),ke.success("Акт выполненных работ создан")}catch{ke.error("Ошибка при создании акта выполненных работ")}},Bm=async(M,X)=>{if(p)try{await Wi.addSignature(p.id,D,M,X==="client"?p.client.firstName+" "+p.client.lastName:"Мастер",X),ke.success("Подпись добавлена")}catch{ke.error("Ошибка при добавлении подписи")}},Hm=Te.filter(M=>{const X=M.orderNumber.toLowerCase().includes(I.toLowerCase())||M.clientName?.toLowerCase().includes(I.toLowerCase())||M.deviceBrand?.toLowerCase().includes(I.toLowerCase())||M.deviceModel?.toLowerCase().includes(I.toLowerCase()),De=V==="all"||M.status===V,Xe=R==="all"||M.priority===R;return X&&De&&Xe}),Wm=[{field:"orderNumber",headerName:"Номер заказа",width:120,renderCell:M=>s.jsx(j,{variant:"body2",fontWeight:"600",children:M.value})},{field:"clientName",headerName:"Клиент",width:150},{field:"deviceInfo",headerName:"Устройство",width:200,renderCell:M=>s.jsxs(B,{children:[s.jsxs(j,{variant:"body2",fontWeight:"600",children:[M.row.deviceBrand," ",M.row.deviceModel]}),s.jsx(j,{variant:"caption",color:"textSecondary",children:M.row.deviceSerial})]})},{field:"status",headerName:"Статус",width:150,renderCell:M=>{const X=co.find(De=>De.value===M.value);return s.jsx(at,{label:X?.label||M.value,color:X?.color||"default",size:"small"})}},{field:"priority",headerName:"Приоритет",width:120,renderCell:M=>{const X=uo.find(De=>De.value===M.value);return s.jsx(at,{label:X?.label||M.value,color:X?.color||"default",size:"small",variant:"outlined"})}},{field:"estimatedCost",headerName:"Стоимость",width:120,renderCell:M=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",M.value.toLocaleString()]})},{field:"createdAt",headerName:"Дата создания",width:150,renderCell:M=>s.jsx(j,{variant:"body2",children:M.value.toLocaleDateString("ru-RU")})},{field:"actions",headerName:"Действия",width:350,sortable:!1,renderCell:M=>s.jsxs(B,{sx:{display:"flex",gap:.5},children:[s.jsx(Be,{size:"small",onClick:()=>Er(M.row),title:"Просмотр заказа - номер телефона, стоимость, связь с клиентом, WhatsApp/Telegram, печать акта",sx:{color:"#FF6B35"},children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>Ma(M.row),title:"Редактировать заказ - изменить данные и напечатать акт",sx:{color:"#607D8B"},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке добавления работы в таблице, params.row:",M.row),Fa(M.row)},title:"Добавить работу - запчасти, пленка и другие работы",sx:{color:"#4CAF50"},children:s.jsx(La,{})}),s.jsx(Be,{size:"small",onClick:()=>sr(M.row.id),title:"Удалить заказ",sx:{color:"#F44336"},children:s.jsx(Yr,{})}),s.jsx(Be,{size:"small",onClick:()=>{console.log("Клик по кнопке выдачи заказа, params.row:",M.row),_m(M.row)},title:"Выдача заказа - тестирование перед выдачей, оплата, печать акта выполненных работ",sx:{color:"#FF9800"},children:s.jsx(Gi,{})})]})}];return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Заказы"}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск заказов...",value:I,onChange:M=>F(M.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:V,onChange:M=>H(M.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),co.map(M=>s.jsx(le,{value:M.value,children:M.label},M.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет"}),s.jsxs(tt,{value:R,onChange:M=>N(M.target.value),label:"Приоритет",children:[s.jsx(le,{value:"all",children:"Все"}),uo.map(M=>s.jsx(le,{value:M.value,children:M.label},M.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ti,{}),onClick:()=>{F(""),H("all"),N("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:Ke,sx:{background:"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)",boxShadow:"0 3px 5px 2px rgba(255, 107, 53, .3)","&:hover":{background:"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)"}},children:"🚀 Создать заказ"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Xs,{rows:Hm,columns:Wm,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о заказе"}),s.jsx(Ct,{children:x&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(j,{variant:"h6",gutterBottom:!0,children:["Заказ ",x.orderNumber]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Клиент"}),s.jsx(j,{variant:"body1",children:x.clientName}),s.jsx(j,{variant:"body2",color:"textSecondary",children:x.clientPhone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Устройство"}),s.jsxs(j,{variant:"body1",children:[x.deviceBrand," ",x.deviceModel]}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Серийный номер: ",x.deviceSerial]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание проблемы"}),s.jsx(j,{variant:"body1",children:x.description})]}),x.diagnosis&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Диагноз"}),s.jsx(j,{variant:"body1",children:x.diagnosis})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Статус"}),s.jsx(at,{label:co.find(M=>M.value===x.status)?.label||x.status,color:co.find(M=>M.value===x.status)?.color||"default"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Приоритет"}),s.jsx(at,{label:uo.find(M=>M.value===x.priority)?.label||x.priority,color:uo.find(M=>M.value===x.priority)?.color||"default",variant:"outlined"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Стоимость"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",x.estimatedCost.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Срок выполнения"}),s.jsx(j,{variant:"body1",children:x.estimatedTime||`${x.estimatedDays} дней`})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата создания"}),s.jsx(j,{variant:"body1",children:x.createdAt.toLocaleDateString("ru-RU")})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"}),s.jsx(ge,{variant:"contained",onClick:()=>{if(x){const M=document.createElement("div");M.innerHTML=`
                <h2>Заказ ${x.orderNumber}</h2>
                <p>Клиент: ${x.clientName}</p>
                <p>Устройство: ${x.deviceBrand} ${x.deviceModel}</p>
                <p>Описание: ${x.description}</p>
                <p>Стоимость: ₽${x.estimatedCost.toLocaleString()}</p>
              `,document.body.appendChild(M),window.print(),document.body.removeChild(M)}},children:"Печать документов"})]})]}),s.jsxs(vt,{open:o,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Оплата заказа"}),s.jsx(Ct,{children:x&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(j,{variant:"h6",children:["Заказ ",x.orderNumber]}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Сумма к оплате: ₽",x.estimatedCost.toLocaleString()]})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Способ оплаты"}),s.jsxs(tt,{defaultValue:"cash",label:"Способ оплаты",children:[s.jsx(le,{value:"cash",children:"Наличные"}),s.jsx(le,{value:"card",children:"Карта"}),s.jsx(le,{value:"transfer",children:"Перевод"}),s.jsx(le,{value:"installment",children:"Рассрочка"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Сумма",type:"number",defaultValue:x.estimatedCost,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>i(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Оплата добавлена"),i(!1)},children:"Добавить оплату"})]})]}),s.jsxs(vt,{open:c,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Просмотр заказа"})}),s.jsx(Ct,{children:x&&s.jsxs(B,{sx:{mt:2},children:[s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsxs(j,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",x.orderNumber]}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Статус: ",s.jsx(at,{label:x.status,color:"primary",size:"small"})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Приоритет: ",s.jsx(at,{label:x.priority,color:"secondary",size:"small"})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Дата создания: ",x.createdAt.toLocaleDateString("ru-RU")]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Стоимость: ",s.jsxs("strong",{children:[x.estimatedCost," ₽"]})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Оплачено: ",s.jsx("strong",{children:x.isPaid?"Да":"Нет"})]})]})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Имя: ",s.jsx("strong",{children:x.clientName})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Телефон: ",s.jsx("strong",{children:x.clientPhone})]})]}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",gap:1,mt:1},children:[s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(ud,{}),onClick:()=>Mm(x.clientPhone||""),children:"Позвонить"}),s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(Sg,{}),onClick:()=>Fm(x.clientPhone||""),sx:{color:"#25D366"},children:"WhatsApp"}),s.jsx(ge,{variant:"outlined",size:"small",startIcon:s.jsx(jg,{}),onClick:()=>Tm(x.clientPhone||""),sx:{color:"#0088cc"},children:"Telegram"})]})})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация об устройстве"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Устройство: ",s.jsxs("strong",{children:[x.deviceBrand," ",x.deviceModel]})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Цвет: ",s.jsx("strong",{children:x.deviceColor})]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["IMEI: ",s.jsx("strong",{children:x.deviceImei})]}),s.jsxs(j,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["S/N: ",s.jsx("strong",{children:x.deviceSerial})]})]})]})]})}),s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Описание проблемы"}),s.jsx(j,{variant:"body2",children:x.description||"Описание не указано"})]})}),s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Действия"}),s.jsxs(B,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[s.jsx(ge,{variant:"contained",startIcon:s.jsx(Mo,{}),onClick:()=>Ia(),children:"Печать акта приема-передачи"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Qr,{}),onClick:()=>{u(!1),Ma(x)},children:"Редактировать заказ"})]})]})})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>u(!1),children:"Закрыть"})})]}),s.jsxs(vt,{open:d,onClose:()=>f(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Редактирование заказа"})}),s.jsx(Ct,{children:x&&s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о клиенте"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Имя клиента",defaultValue:x.clientName,disabled:!0,helperText:"Имя клиента нельзя изменить"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон клиента",defaultValue:x.clientPhone,onChange:M=>{v(X=>X?{...X,clientPhone:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация об устройстве"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Бренд устройства",defaultValue:x.deviceBrand,onChange:M=>{v(X=>X?{...X,deviceBrand:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Модель устройства",defaultValue:x.deviceModel,onChange:M=>{v(X=>X?{...X,deviceModel:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цвет устройства",defaultValue:x.deviceColor,onChange:M=>{v(X=>X?{...X,deviceColor:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"IMEI",defaultValue:x.deviceImei,onChange:M=>{v(X=>X?{...X,deviceImei:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Серийный номер",defaultValue:x.deviceSerial,onChange:M=>{v(X=>X?{...X,deviceSerial:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Внешний вид",defaultValue:x.deviceExternalCondition,onChange:M=>{v(X=>X?{...X,deviceExternalCondition:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(j,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Информация о заказе"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус заказа"}),s.jsxs(tt,{defaultValue:x.status,onChange:M=>{v(X=>X?{...X,status:M.target.value}:null)},children:[s.jsx(le,{value:"diagnosis",children:"Диагностика"}),s.jsx(le,{value:"waiting_parts",children:"Ожидание запчастей"}),s.jsx(le,{value:"waiting_client",children:"Ожидание клиента"}),s.jsx(le,{value:"in_progress",children:"В работе"}),s.jsx(le,{value:"completed",children:"Завершен"}),s.jsx(le,{value:"cancelled",children:"Отменен"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет"}),s.jsxs(tt,{defaultValue:x.priority,onChange:M=>{v(X=>X?{...X,priority:M.target.value}:null)},children:[s.jsx(le,{value:"low",children:"Низкий"}),s.jsx(le,{value:"medium",children:"Средний"}),s.jsx(le,{value:"high",children:"Высокий"}),s.jsx(le,{value:"urgent",children:"Срочный"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",defaultValue:x.estimatedCost,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},onChange:M=>{v(X=>X?{...X,estimatedCost:Number(M.target.value)}:null)}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Финальная стоимость",type:"number",defaultValue:x.finalCost||"",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},onChange:M=>{v(X=>X?{...X,finalCost:Number(M.target.value)}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание проблемы",multiline:!0,rows:3,defaultValue:x.description,onChange:M=>{v(X=>X?{...X,description:M.target.value}:null)}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Диагностика",multiline:!0,rows:2,defaultValue:x.diagnosis,onChange:M=>{v(X=>X?{...X,diagnosis:M.target.value}:null)}})})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>f(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{x&&Am(x)},children:"Сохранить изменения"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Mo,{}),onClick:()=>{x&&Ia()},children:"Печать акта"})]})]}),s.jsxs(vt,{open:m,onClose:()=>g(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Добавить работу"})}),s.jsx(Ct,{children:s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx($r,{freeSolo:!0,options:j2,value:te,onChange:(M,X)=>{fe(X||"")},onInputChange:(M,X)=>{fe(X)},renderInput:M=>s.jsx(re,{...M,label:"Название работы",placeholder:"Выберите из списка или введите своё",helperText:"Выберите популярную работу или введите название самостоятельно"}),renderOption:(M,X)=>s.jsx(B,{component:"li",...M,children:s.jsx(j,{variant:"body1",children:X})})})}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"🔧 Добавить запчасть к работе"}),s.jsx(j,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Если работа требует использования запчасти, выберите её из склада"}),s.jsx(ge,{variant:pe?"contained":"outlined",fullWidth:!0,onClick:Dm,startIcon:s.jsx(gr,{}),sx:{mb:1},children:pe?`Выбрана: ${pe.name}`:"Выбрать запчасть"}),pe&&s.jsxs(B,{sx:{mt:1},children:[s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Цена запчасти: ",pe.price," ₽ • Остаток: ",pe.stock," шт."]}),s.jsx(ge,{size:"small",onClick:()=>_e(null),sx:{mt:1},children:"Убрать запчасть"})]})]})}),pe&&s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"primary.light",color:"primary.contrastText"},children:[s.jsx(j,{variant:"subtitle1",fontWeight:"bold",children:pe.name}),s.jsxs(j,{variant:"body2",children:["Категория: ",pe.category," | Бренд: ",pe.brand]}),s.jsxs(j,{variant:"body2",children:["Цена: ",pe.price," ₽ | На складе: ",pe.stock," шт."]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цена за единицу",type:"number",value:oe,onChange:M=>me(Number(M.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Количество",type:"number",value:J,onChange:M=>ce(Number(M.target.value)),inputProps:{min:1}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{p:2,bgcolor:"grey.100"},children:s.jsxs(j,{variant:"h6",textAlign:"center",children:["Итого: ",oe*J," ₽"]})})})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>g(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:Om,disabled:!te||oe<=0||J<=0,children:"Добавить работу"})]})]}),s.jsxs(vt,{open:w,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Поиск запчастей на складе"})}),s.jsx(Ct,{children:s.jsxs(B,{sx:{mt:2},children:[s.jsx(re,{fullWidth:!0,label:"Поиск запчастей",value:ae,onChange:M=>we(M.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})},sx:{mb:3}}),s.jsxs(B,{sx:{maxHeight:400,overflow:"auto"},children:[Aa.map(M=>s.jsx(Se,{sx:{mb:2,cursor:"pointer",border:pe?.id===M.id?"2px solid #FF6B35":"1px solid #e0e0e0","&:hover":{bgcolor:"grey.50"}},onClick:()=>{_e(M),fe(M.name),me(M.price),b(!1)},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsx(j,{variant:"subtitle1",fontWeight:"bold",children:M.name}),s.jsxs(j,{variant:"body2",color:"text.secondary",children:[M.category," • ",M.brand]})]}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(j,{variant:"h6",color:"primary",children:[M.price," ₽"]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(at,{label:`${M.stock} шт.`,color:M.stock>0?"success":"error",size:"small"})})]})})},M.id)),Aa.length===0&&s.jsx(B,{sx:{textAlign:"center",py:4},children:s.jsx(j,{variant:"body1",color:"text.secondary",children:"Запчасти не найдены"})})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>b(!1),children:"Закрыть"})})]}),s.jsxs(vt,{open:C,onClose:()=>y(!1),maxWidth:"lg",fullWidth:!0,children:[s.jsx(yt,{children:s.jsx(j,{variant:"h6",children:"Выдача заказа клиенту"})}),s.jsx(Ct,{children:x&&s.jsx(B,{sx:{mt:2},children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{mb:3},children:s.jsxs(Ee,{children:[s.jsxs(j,{variant:"h6",gutterBottom:!0,color:"primary",children:["Заказ ",x.orderNumber]}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",children:["Клиент: ",s.jsx("strong",{children:x.clientName})]}),s.jsxs(j,{variant:"body2",children:["Телефон: ",s.jsx("strong",{children:x.clientPhone})]})]}),s.jsxs(A,{item:!0,xs:12,md:6,children:[s.jsxs(j,{variant:"body2",children:["Устройство: ",s.jsxs("strong",{children:[x.deviceBrand," ",x.deviceModel]})]}),s.jsxs(j,{variant:"body2",children:["Стоимость: ",s.jsxs("strong",{children:[x.finalCost||x.estimatedCost," ₽"]})]})]})]})]})})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Выполненные работы"}),s.jsx(Se,{children:s.jsxs(Ee,{children:[x.parts&&x.parts.length>0?s.jsxs(B,{children:[x.parts.map((M,X)=>s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1,borderBottom:X<x.parts.length-1?"1px solid #e0e0e0":"none"},children:[s.jsxs(B,{children:[s.jsx(j,{variant:"body1",children:M.partId==="screen_protection"?"🛡️ Защита экрана":M.partId==="cleaning"?"🧽 Чистка устройства":M.workType==="work_with_part"?`🔧 ${M.workName}`:M.workType==="work_only"?`⚙️ ${M.workName}`:`🔧 Работа #${X+1}`}),s.jsxs(j,{variant:"body2",color:"text.secondary",children:["Количество: ",M.quantity," • Цена работы: ",M.unitPrice," ₽",M.partInfo&&s.jsxs("span",{children:[s.jsx("br",{}),s.jsxs(j,{variant:"caption",color:"text.secondary",sx:{fontStyle:"italic"},children:["📦 Запчасть: ",M.partInfo.name,Zt==="employee"?s.jsxs("span",{style:{color:"#FF6B35",fontWeight:"bold"},children:[" ","(",pe?M.partInfo.price:"цена скрыта"," ₽)"]}):s.jsxs("span",{style:{color:"#9E9E9E",fontWeight:"bold"},children:[" ","(включено в стоимость работы)"]})]})]})]})]}),s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsxs(j,{variant:"h6",color:"primary",children:[M.totalPrice," ₽"]}),s.jsx(Be,{size:"small",onClick:()=>Lm(M.id),sx:{color:"error.main"},children:s.jsx(Yr,{})})]})]},M.id)),s.jsx(B,{sx:{mt:2,pt:2,borderTop:"2px solid #FF6B35"},children:s.jsxs(j,{variant:"h6",textAlign:"right",children:["Итого: ",x.parts.reduce((M,X)=>M+X.totalPrice,0)," ₽"]})})]}):s.jsx(j,{variant:"body2",color:"text.secondary",children:"Работы и запчасти не добавлены"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(La,{}),onClick:()=>{console.log("Клик по кнопке добавления работы, selectedOrder:",x),x?(y(!1),Fa(x)):ke.error("Заказ не выбран. Попробуйте еще раз.")},sx:{mt:2},children:"Добавить работу"})]})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsx(j,{variant:"h6",children:"Чек-лист тестирования"}),s.jsx(ge,{variant:"contained",color:"success",startIcon:s.jsx(Sl,{}),onClick:$m,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"Проверил все"})]}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(A,{container:!0,spacing:2,children:[{key:"screenWorks",label:"Экран работает корректно"},{key:"touchWorks",label:"Сенсорный экран реагирует"},{key:"cameraWorks",label:"Камера работает"},{key:"soundWorks",label:"Звук работает"},{key:"chargingWorks",label:"Зарядка работает"},{key:"wifiWorks",label:"Wi-Fi работает"},{key:"bluetoothWorks",label:"Bluetooth работает"},{key:"buttonsWork",label:"Кнопки работают"},{key:"fingerprintWorks",label:"Отпечаток пальца работает"},{key:"faceIdWorks",label:"Face ID работает"}].map(M=>s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(B,{sx:{display:"flex",alignItems:"center"},children:[s.jsx("input",{type:"checkbox",checked:Ye[M.key],onChange:X=>Vm(M.key,X.target.checked),style:{marginRight:8}}),s.jsx(j,{variant:"body2",children:M.label})]})},M.key))})})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Дополнительные услуги"}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:L?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Ra,{}),onClick:()=>q(!L),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:L?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:L?"white":"#FF6B35",boxShadow:L?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:L?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Защита экрана",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:Q?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Na,{}),onClick:()=>ne(!Q),sx:{height:60,fontSize:"1.1rem",fontWeight:"bold",background:Q?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:Q?"white":"#2196F3",boxShadow:Q?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:Q?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Чистка устройства",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Оплата"}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Способ оплаты"}),s.jsxs(tt,{value:Ce,onChange:M=>je(M.target.value),children:[s.jsx(le,{value:"cash",children:"Наличные"}),s.jsx(le,{value:"card",children:"Банковская карта"}),s.jsx(le,{value:"online",children:"Онлайн перевод"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Сумма к оплате",type:"number",value:Ve+(L?2e3:0)+(Q?1e3:0),onChange:M=>Ue(Number(M.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})})]})})})]})]})})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>y(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:Rm,disabled:!Object.values(Ye).every(M=>M),startIcon:s.jsx(Gi,{}),children:"Выдать заказ клиенту"})]})]}),s.jsxs(vt,{open:_,onClose:()=>O(!1),maxWidth:"md",fullWidth:!0,children:[s.jsx(yt,{children:s.jsxs(B,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs(j,{variant:"h6",children:["Создание заказа - Шаг ",z+1," из 4"]}),s.jsx(B,{sx:{display:"flex",gap:1},children:[0,1,2,3].map(M=>s.jsx(B,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:M<=z?"#FF6B35":"#e0e0e0",transition:"all 0.3s ease"}},M))})]})}),s.jsx(Ct,{children:s.jsxs(B,{sx:{mt:2},children:[z===0&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"👤 Информация о клиенте"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"ФИО клиента",value:W.clientName,onChange:M=>Qe("clientName",M.target.value),placeholder:"Например: Иванов Иван Иванович",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:W.clientPhone,onChange:M=>Qe("clientPhone",M.target.value),placeholder:"+7 (999) 123-45-67",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Email (необязательно)",value:W.clientEmail,onChange:M=>Qe("clientEmail",M.target.value),placeholder:"client@example.com",type:"email"})})]})]}),z===1&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"📱 Информация об устройстве"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип устройства"}),s.jsxs(tt,{value:W.deviceType,onChange:M=>Qe("deviceType",M.target.value),children:[s.jsx(le,{value:"phone",children:"📱 Телефон"}),s.jsx(le,{value:"tablet",children:"📱 Планшет"}),s.jsx(le,{value:"laptop",children:"💻 Ноутбук"}),s.jsx(le,{value:"desktop",children:"🖥️ Компьютер"}),s.jsx(le,{value:"other",children:"🔧 Другое"})]})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx($r,{freeSolo:!0,options:C2,value:W.deviceBrand,onChange:(M,X)=>{Qe("deviceBrand",X||""),Qe("deviceModel","")},onInputChange:(M,X)=>{Qe("deviceBrand",X),Qe("deviceModel","")},renderInput:M=>s.jsx(re,{...M,label:"Бренд",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(M,X)=>s.jsx(B,{component:"li",...M,children:s.jsx(j,{variant:"body1",children:X})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx($r,{freeSolo:!0,options:P2,value:W.deviceModel,onChange:(M,X)=>{Qe("deviceModel",X||"")},onInputChange:(M,X)=>{Qe("deviceModel",X)},renderInput:M=>s.jsx(re,{...M,label:"Модель",placeholder:"Выберите из списка или введите свою",disabled:!W.deviceBrand,required:!0}),renderOption:(M,X)=>s.jsx(B,{component:"li",...M,children:s.jsx(j,{variant:"body1",children:X})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Цвет",value:W.deviceColor,onChange:M=>Qe("deviceColor",M.target.value),placeholder:"Синий, черный, белый..."})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Серийный номер",value:W.deviceSerial,onChange:M=>Qe("deviceSerial",M.target.value),placeholder:"ABC123456"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"IMEI (для телефонов)",value:W.deviceImei,onChange:M=>Qe("deviceImei",M.target.value),placeholder:"123456789012345"})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Состояние устройства"}),s.jsxs(tt,{value:W.deviceCondition,onChange:M=>Qe("deviceCondition",M.target.value),children:[s.jsx(le,{value:"excellent",children:"✨ Отличное"}),s.jsx(le,{value:"good",children:"👍 Хорошее"}),s.jsx(le,{value:"fair",children:"⚠️ Удовлетворительное"}),s.jsx(le,{value:"poor",children:"❌ Плохое"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Внешние дефекты",value:W.deviceExternalCondition,onChange:M=>Qe("deviceExternalCondition",M.target.value),placeholder:"Сколы, потертости, трещины...",multiline:!0,rows:2})})]})]}),z===2&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"🔧 Описание проблемы"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,children:s.jsx($r,{freeSolo:!0,options:S2,value:W.diagnosis,onChange:(M,X)=>{Qe("diagnosis",X||"")},onInputChange:(M,X)=>{Qe("diagnosis",X)},renderInput:M=>s.jsx(re,{...M,label:"Предварительный диагноз",placeholder:"Выберите из списка или введите свой",required:!0}),renderOption:(M,X)=>s.jsx(B,{component:"li",...M,children:s.jsx(j,{variant:"body1",children:X})})})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[s.jsx(j,{variant:"body1",fontWeight:"bold",children:"💬 Комментарии для сотрудника"}),s.jsx(j,{variant:"caption",color:"text.secondary",children:"(только для внутреннего использования)"})]}),s.jsx(re,{fullWidth:!0,label:"Внутренние заметки",value:W.staffComments,onChange:M=>Qe("staffComments",M.target.value),placeholder:"Дополнительная информация для сотрудников, детали поломки, особые указания...",multiline:!0,rows:3})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Приоритет заказа"}),s.jsxs(tt,{value:W.priority,onChange:M=>Qe("priority",M.target.value),children:[s.jsx(le,{value:"low",children:"🟢 Низкий"}),s.jsx(le,{value:"medium",children:"🟡 Средний"}),s.jsx(le,{value:"high",children:"🟠 Высокий"}),s.jsx(le,{value:"urgent",children:"🔴 Срочный"})]})]})})]})]}),z===3&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"💰 Стоимость и сроки"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Ориентировочная стоимость",type:"number",value:W.estimatedCost,onChange:M=>Qe("estimatedCost",Number(M.target.value)),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})},helperText:"Примерная стоимость ремонта",required:!0})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,label:"Срок выполнения (дни)",type:"number",value:W.estimatedDays,onChange:M=>Qe("estimatedDays",Number(M.target.value)),inputProps:{min:1,max:30},required:!0})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,color:"primary",children:"🛡️ Дополнительные услуги"}),s.jsx(Se,{sx:{p:2},children:s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:W.offerProtection?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Ra,{}),onClick:()=>Qe("offerProtection",!W.offerProtection),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:W.offerProtection?"linear-gradient(45deg, #FF6B35 30%, #FF8A65 90%)":"transparent",borderColor:"#FF6B35",color:W.offerProtection?"white":"#FF6B35",boxShadow:W.offerProtection?"0 3px 5px 2px rgba(255, 107, 53, .3)":"none","&:hover":{background:W.offerProtection?"linear-gradient(45deg, #E64A19 30%, #FF6B35 90%)":"rgba(255, 107, 53, 0.1)",borderColor:"#E64A19"}},children:["🛡️ Предложить защиту экрана",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+2000 ₽"})]})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsxs(ge,{variant:W.offerCleaning?"contained":"outlined",fullWidth:!0,startIcon:s.jsx(Na,{}),onClick:()=>Qe("offerCleaning",!W.offerCleaning),sx:{height:60,fontSize:"1rem",fontWeight:"bold",background:W.offerCleaning?"linear-gradient(45deg, #2196F3 30%, #42A5F5 90%)":"transparent",borderColor:"#2196F3",color:W.offerCleaning?"white":"#2196F3",boxShadow:W.offerCleaning?"0 3px 5px 2px rgba(33, 150, 243, .3)":"none","&:hover":{background:W.offerCleaning?"linear-gradient(45deg, #1976D2 30%, #2196F3 90%)":"rgba(33, 150, 243, 0.1)",borderColor:"#1976D2"}},children:["🧽 Предложить чистку устройства",s.jsx(j,{variant:"body2",sx:{ml:1,opacity:.8},children:"+1000 ₽"})]})})]})})]}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(Se,{sx:{p:2,bgcolor:"grey.50"},children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"📋 Сводка заказа"}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Клиент:"})," ",W.clientName]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Телефон:"})," ",W.clientPhone]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Устройство:"})," ",W.deviceBrand," ",W.deviceModel]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Диагноз:"})," ",W.diagnosis]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Стоимость:"})," ",W.estimatedCost," ₽"]}),s.jsxs(j,{variant:"body2",children:[s.jsx("strong",{children:"Срок:"})," ",W.estimatedDays," дн."]}),W.offerProtection&&s.jsxs(j,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Защита экрана:"})," 2000 ₽"]}),W.offerCleaning&&s.jsxs(j,{variant:"body2",color:"primary",children:[s.jsx("strong",{children:"+ Чистка устройства:"})," 1000 ₽"]}),s.jsx(j,{variant:"h6",sx:{mt:1,color:"primary.main"},children:s.jsxs("strong",{children:["Итого: ",W.estimatedCost+(W.offerProtection?2e3:0)+(W.offerCleaning?1e3:0)," ₽"]})})]})})]})]})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>O(!1),children:"Отмена"}),z>0&&s.jsx(ge,{onClick:_n,children:"Назад"}),z<3?s.jsx(ge,{variant:"contained",onClick:it,disabled:z===0&&(!W.clientName||!W.clientPhone)||z===1&&(!W.deviceBrand||!W.deviceModel)||z===2&&!W.diagnosis,children:"Далее"}):s.jsx(ge,{variant:"contained",onClick:Ft,disabled:!W.estimatedCost||!W.estimatedDays,sx:{background:"linear-gradient(45deg, #4CAF50 30%, #66BB6A 90%)",boxShadow:"0 3px 5px 2px rgba(76, 175, 80, .3)","&:hover":{background:"linear-gradient(45deg, #388E3C 30%, #4CAF50 90%)"}},children:"✅ Создать заказ"})]})]}),s.jsx(x2,{open:l,onClose:()=>a(!1),document:p,documentType:D,onSign:Bm}),s.jsx(v2,{open:k,onClose:()=>T(!1),onSubmit:rr})]})},E2=()=>ko.getClients(),I2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState(E2()),m=()=>{t(!0)},g=x=>{i(x),r(!0)},w=()=>{const x=d.length,v=d.filter(D=>new Date(D.createdAt).getMonth()===new Date().getMonth()).length,p=d.reduce((D,P)=>D+P.totalSpent,0),E=d.reduce((D,P)=>D+P.totalOrders,0)/x;return{totalClients:x,newClientsThisMonth:v,totalSpent:p,averageOrderValue:E}},b=d.filter(x=>x.firstName.toLowerCase().includes(l.toLowerCase())||x.lastName.toLowerCase().includes(l.toLowerCase())||x.phone.includes(l)||x.email.toLowerCase().includes(l.toLowerCase())),C=[{field:"name",headerName:"Имя",width:200,renderCell:x=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsxs(st,{sx:{mr:2,bgcolor:"primary.main"},children:[x.row.firstName[0],x.row.lastName[0]]}),s.jsxs(j,{variant:"body2",children:[x.row.firstName," ",x.row.lastName]})]})},{field:"phone",headerName:"Телефон",width:150},{field:"email",headerName:"Email",width:200},{field:"totalOrders",headerName:"Заказов",width:100,renderCell:x=>s.jsx(at,{label:x.value,color:"primary",size:"small"})},{field:"totalSpent",headerName:"Потрачено",width:120,renderCell:x=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",x.value.toLocaleString()]})},{field:"lastVisit",headerName:"Последний визит",width:150,renderCell:x=>s.jsx(j,{variant:"body2",children:x.value.toLocaleDateString("ru-RU")})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:x=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>g(x.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Клиент отредактирован")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Клиент удален")},children:s.jsx(Yr,{})})]})}],y=w();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Клиенты"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего клиентов"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:y.totalClients})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(Il,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Новых в этом месяце"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:y.newClientsThisMonth})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(Pg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общая сумма"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",y.totalSpent.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(ud,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Средний чек"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",Math.round(y.averageOrderValue).toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(wl,{})})]})})})})})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск клиентов...",value:l,onChange:x=>a(x.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ti,{}),onClick:()=>{a(""),u("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить клиента"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Xs,{rows:b,columns:C,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить клиента"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Имя",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Фамилия",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",required:!0,InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"+7"})}})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Адрес",multiline:!0,rows:2})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Клиент добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о клиенте"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsxs(st,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:[o.firstName[0],o.lastName[0]]}),s.jsxs(B,{children:[s.jsxs(j,{variant:"h6",children:[o.firstName," ",o.lastName]}),s.jsxs(j,{color:"textSecondary",children:["Клиент с ",o.createdAt.toLocaleDateString("ru-RU")]})]})]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(j,{variant:"body1",children:o.phone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(j,{variant:"body1",children:o.email||"Не указан"})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Адрес"}),s.jsx(j,{variant:"body1",children:o.address||"Не указан"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Всего заказов"}),s.jsx(j,{variant:"body1",fontWeight:"600",children:o.totalOrders})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Потрачено"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.totalSpent.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Последний визит"}),s.jsx(j,{variant:"body1",children:o.lastVisit.toLocaleDateString("ru-RU")})]}),o.notes&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(j,{variant:"body1",children:o.notes})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Dr=[{id:"1",name:"Экран iPhone 14",partNumber:"IP14-SCR-001",category:"Экраны",brand:"Apple",model:"iPhone 14",description:"Оригинальный экран для iPhone 14",quantity:15,minQuantity:5,unitPrice:25e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 1",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-15")},{id:"2",name:"Батарея Samsung Galaxy S23",partNumber:"SGS23-BAT-002",category:"Батареи",brand:"Samsung",model:"Galaxy S23",description:"Оригинальная батарея для Samsung Galaxy S23",quantity:8,minQuantity:3,unitPrice:12e3,supplier:"Samsung Parts",supplierContact:"+7 (999) 222-33-44",location:"Склад B, полка 2",createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"3",name:'Корпус MacBook Pro 13"',partNumber:"MBP13-CASE-003",category:"Корпуса",brand:"Apple",model:'MacBook Pro 13"',description:'Оригинальный корпус для MacBook Pro 13"',quantity:3,minQuantity:2,unitPrice:45e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 3",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"4",name:"Камера iPad Air",partNumber:"IPA-CAM-004",category:"Камеры",brand:"Apple",model:"iPad Air",description:"Оригинальная камера для iPad Air",quantity:12,minQuantity:4,unitPrice:18e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 2",createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-14")},{id:"5",name:"Клавиатура MacBook Air",partNumber:"MBA-KBD-005",category:"Клавиатуры",brand:"Apple",model:"MacBook Air",description:"Оригинальная клавиатура для MacBook Air",quantity:1,minQuantity:2,unitPrice:35e3,supplier:"Apple Store",supplierContact:"+7 (999) 111-22-33",location:"Склад A, полка 4",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")}],Qu=["Экраны","Батареи","Корпуса","Камеры","Клавиатуры","Процессоры","Память","Прочее"],M2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},g=p=>{i(p),r(!0)},w=()=>{const p=Dr.length,E=Dr.filter(k=>k.quantity<=k.minQuantity).length,D=Dr.reduce((k,T)=>k+T.quantity*T.unitPrice,0),P=Dr.filter(k=>k.quantity===0).length;return{totalParts:p,lowStockParts:E,totalValue:D,outOfStockParts:P}},b=()=>Dr.filter(p=>p.quantity<=p.minQuantity),C=Dr.filter(p=>{const E=p.name.toLowerCase().includes(l.toLowerCase())||p.partNumber.toLowerCase().includes(l.toLowerCase())||p.brand.toLowerCase().includes(l.toLowerCase())||p.model.toLowerCase().includes(l.toLowerCase()),D=c==="all"||p.category===c;let P=!0;return d==="low"?P=p.quantity<=p.minQuantity:d==="out"?P=p.quantity===0:d==="normal"&&(P=p.quantity>p.minQuantity),E&&D&&P}),y=[{field:"name",headerName:"Название",width:200,renderCell:p=>s.jsxs(B,{children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:p.value}),s.jsx(j,{variant:"caption",color:"textSecondary",children:p.row.partNumber})]})},{field:"category",headerName:"Категория",width:120,renderCell:p=>s.jsx(at,{label:p.value,color:"primary",size:"small"})},{field:"brand",headerName:"Бренд",width:100},{field:"model",headerName:"Модель",width:120},{field:"quantity",headerName:"Количество",width:120,renderCell:p=>{const E=p.value<=p.row.minQuantity,D=p.value===0;return s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(j,{variant:"body2",color:D?"error.main":E?"warning.main":"success.main",fontWeight:"600",children:p.value}),E&&s.jsx(Ci,{sx:{ml:1,color:"warning.main",fontSize:16}}),D&&s.jsx(Ci,{sx:{ml:1,color:"error.main",fontSize:16}})]})}},{field:"unitPrice",headerName:"Цена",width:120,renderCell:p=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",p.value.toLocaleString()]})},{field:"supplier",headerName:"Поставщик",width:150},{field:"location",headerName:"Местоположение",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:p=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>g(p.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Запчасть отредактирована")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Запчасть удалена")},children:s.jsx(Yr,{})})]})}],x=w(),v=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Склад"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего запчастей"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.totalParts})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(Cl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Низкий остаток"}),s.jsx(j,{variant:"h5",fontWeight:"600",color:"warning.main",children:x.lowStockParts})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(Ci,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общая стоимость"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",x.totalValue.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(Sl,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Нет в наличии"}),s.jsx(j,{variant:"h5",fontWeight:"600",color:"error.main",children:x.outOfStockParts})]}),s.jsx(st,{sx:{bgcolor:"error.main"},children:s.jsx(Gi,{})})]})})})})})]}),s.jsxs(A,{container:!0,spacing:3,children:[v.length>0&&s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{sx:{bgcolor:"warning.light",color:"warning.contrastText"},children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"⚠️ Внимание! Низкий остаток запчастей"}),s.jsx(A,{container:!0,spacing:1,children:v.map(p=>s.jsx(A,{item:!0,children:s.jsx(at,{label:`${p.name} (${p.quantity}/${p.minQuantity})`,color:"warning",variant:"outlined"})},p.id))})]})})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(A,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск запчастей...",value:l,onChange:p=>a(p.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsxs(tt,{value:c,onChange:p=>u(p.target.value),label:"Категория",children:[s.jsx(le,{value:"all",children:"Все"}),Qu.map(p=>s.jsx(le,{value:p,children:p},p))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:d,onChange:p=>f(p.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"normal",children:"Норма"}),s.jsx(le,{value:"low",children:"Низкий"}),s.jsx(le,{value:"out",children:"Нет"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ti,{}),onClick:()=>{a(""),u("all"),f("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить запчасть"})})]}),s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Xs,{rows:C,columns:y,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить запчасть"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Название",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Артикул",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsx(tt,{defaultValue:"",label:"Категория",children:Qu.map(p=>s.jsx(le,{value:p,children:p},p))})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Бренд",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Модель",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Количество",type:"number",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Минимальный остаток",type:"number",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Цена за единицу",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Поставщик"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Местоположение"})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Запчасть добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о запчасти"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:o.name}),s.jsxs(j,{variant:"body2",color:"textSecondary",children:["Артикул: ",o.partNumber]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(at,{label:o.category,color:"primary",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Бренд / Модель"}),s.jsxs(j,{variant:"body1",children:[o.brand," ",o.model]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Количество"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:[o.quantity," / ",o.minQuantity]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Цена за единицу"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.unitPrice.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Поставщик"}),s.jsx(j,{variant:"body1",children:o.supplier})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Контакт поставщика"}),s.jsx(j,{variant:"body1",children:o.supplierContact})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Местоположение"}),s.jsx(j,{variant:"body1",children:o.location})]}),o.description&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(j,{variant:"body1",children:o.description})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Or=[{id:"1",name:"Иванов Алексей Александрович",email:"ivanov@service.com",phone:"+7 (999) 123-45-67",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:8e4,rating:4.8,totalOrders:156,completedOrders:142,totalEarnings:125e4,isActive:!0,hireDate:new Date("2022-03-15"),lastLogin:new Date("2024-01-15T09:30:00")},{id:"2",name:"Петрова Мария Сергеевна",email:"petrova@service.com",phone:"+7 (999) 234-56-78",role:"manager",department:"Управление",position:"Менеджер",salary:9e4,rating:4.6,totalOrders:89,completedOrders:85,totalEarnings:98e4,isActive:!0,hireDate:new Date("2021-08-20"),lastLogin:new Date("2024-01-15T08:45:00")},{id:"3",name:"Сидоров Петр Владимирович",email:"sidorov@service.com",phone:"+7 (999) 345-67-89",role:"technician",department:"Ремонт",position:"Мастер по ремонту",salary:75e3,rating:4.4,totalOrders:134,completedOrders:128,totalEarnings:11e5,isActive:!0,hireDate:new Date("2022-01-10"),lastLogin:new Date("2024-01-14T17:20:00")},{id:"4",name:"Козлова Анна Дмитриевна",email:"kozlova@service.com",phone:"+7 (999) 456-78-90",role:"cashier",department:"Касса",position:"Кассир",salary:6e4,rating:4.7,totalOrders:67,completedOrders:65,totalEarnings:45e4,isActive:!0,hireDate:new Date("2023-02-01"),lastLogin:new Date("2024-01-15T10:15:00")},{id:"5",name:"Волков Дмитрий Игоревич",email:"volkov@service.com",phone:"+7 (999) 567-89-01",role:"admin",department:"Администрация",position:"Директор",salary:12e4,rating:4.9,totalOrders:45,completedOrders:43,totalEarnings:8e5,isActive:!0,hireDate:new Date("2020-05-15"),lastLogin:new Date("2024-01-15T07:30:00")}],ho=[{value:"admin",label:"Администратор"},{value:"manager",label:"Менеджер"},{value:"technician",label:"Техник"},{value:"cashier",label:"Кассир"}],F2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},g=p=>{i(p),r(!0)},w=()=>{const p=Or.length,E=Or.filter(k=>k.isActive).length,D=Or.reduce((k,T)=>k+T.salary,0),P=Or.reduce((k,T)=>k+T.rating,0)/p;return{totalEmployees:p,activeEmployees:E,totalSalary:D,averageRating:P}},b=()=>Or.filter(p=>p.isActive).sort((p,E)=>E.rating-p.rating).slice(0,3),C=Or.filter(p=>{const E=p.name.toLowerCase().includes(l.toLowerCase())||p.email.toLowerCase().includes(l.toLowerCase())||p.position.toLowerCase().includes(l.toLowerCase()),D=c==="all"||p.role===c,P=d==="all"||d==="active"&&p.isActive||d==="inactive"&&!p.isActive;return E&&D&&P}),y=[{field:"name",headerName:"Сотрудник",width:250,renderCell:p=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main"},children:p.row.name.split(" ").map(E=>E[0]).join("")}),s.jsxs(B,{children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:p.row.name}),s.jsx(j,{variant:"caption",color:"textSecondary",children:p.row.position})]})]})},{field:"role",headerName:"Роль",width:120,renderCell:p=>{const E=ho.find(D=>D.value===p.value)?.label||p.value;return s.jsx(at,{label:E,color:p.value==="admin"?"error":p.value==="manager"?"warning":"primary",size:"small"})}},{field:"department",headerName:"Отдел",width:120},{field:"rating",headerName:"Рейтинг",width:100,renderCell:p=>s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(j,{variant:"body2",children:p.value})]})},{field:"completedOrders",headerName:"Заказов",width:100,renderCell:p=>s.jsx(at,{label:p.value,color:"success",size:"small"})},{field:"salary",headerName:"Зарплата",width:120,renderCell:p=>s.jsxs(j,{variant:"body2",fontWeight:"600",children:["₽",p.value.toLocaleString()]})},{field:"isActive",headerName:"Статус",width:100,renderCell:p=>s.jsx(at,{label:p.value?"Активен":"Неактивен",color:p.value?"success":"default",size:"small"})},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:p=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>g(p.row),children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Сотрудник отредактирован")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Сотрудник удален")},children:s.jsx(Yr,{})})]})}],x=w(),v=b();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Сотрудники"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Всего сотрудников"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.totalEmployees})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(Il,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Активных"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.activeEmployees})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(kg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Средний рейтинг"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:x.averageRating.toFixed(1)})]}),s.jsx(st,{sx:{bgcolor:"warning.main"},children:s.jsx(ds,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Фонд зарплат"}),s.jsxs(j,{variant:"h5",fontWeight:"600",children:["₽",x.totalSalary.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(Ml,{})})]})})})})})]}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",fontWeight:"600",gutterBottom:!0,children:"Топ сотрудники"}),v.map((p,E)=>s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main"},children:p.name.split(" ").map(D=>D[0]).join("")}),s.jsxs(B,{flex:1,children:[s.jsx(j,{variant:"body2",fontWeight:"600",children:p.name}),s.jsx(j,{variant:"caption",color:"textSecondary",children:p.position})]}),s.jsxs(B,{textAlign:"right",children:[s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:14,mr:.5}}),s.jsx(j,{variant:"body2",children:p.rating})]}),s.jsxs(j,{variant:"caption",color:"textSecondary",children:[p.completedOrders," заказов"]})]})]},p.id))]})})}),s.jsx(A,{item:!0,xs:12,md:8,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(A,{container:!0,spacing:2,alignItems:"center",sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск сотрудников...",value:l,onChange:p=>a(p.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Роль"}),s.jsxs(tt,{value:c,onChange:p=>u(p.target.value),label:"Роль",children:[s.jsx(le,{value:"all",children:"Все"}),ho.map(p=>s.jsx(le,{value:p.value,children:p.label},p.value))]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Статус"}),s.jsxs(tt,{value:d,onChange:p=>f(p.target.value),label:"Статус",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"active",children:"Активные"}),s.jsx(le,{value:"inactive",children:"Неактивные"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить"})})]}),s.jsx(B,{sx:{height:500,width:"100%"},children:s.jsx(Xs,{rows:C,columns:y,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})]})})})]}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить сотрудника"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"ФИО",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Роль"}),s.jsx(tt,{defaultValue:"",label:"Роль",children:ho.map(p=>s.jsx(le,{value:p.value,children:p.label},p.value))})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Должность",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Отдел",required:!0})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Зарплата",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Сотрудник добавлен"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Информация о сотруднике"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(B,{display:"flex",alignItems:"center",mb:2,children:[s.jsx(st,{sx:{mr:2,bgcolor:"primary.main",width:56,height:56},children:o.name.split(" ").map(p=>p[0]).join("")}),s.jsxs(B,{children:[s.jsx(j,{variant:"h6",children:o.name}),s.jsx(j,{color:"textSecondary",children:o.position})]})]})}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Email"}),s.jsx(j,{variant:"body1",children:o.email})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Телефон"}),s.jsx(j,{variant:"body1",children:o.phone})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Роль"}),s.jsx(at,{label:ho.find(p=>p.value===o.role)?.label||o.role,color:"primary",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Отдел"}),s.jsx(j,{variant:"body1",children:o.department})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Рейтинг"}),s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(ds,{sx:{color:"gold",fontSize:16,mr:.5}}),s.jsx(j,{variant:"body1",children:o.rating})]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Зарплата"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.salary.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Завершенных заказов"}),s.jsx(j,{variant:"body1",fontWeight:"600",children:o.completedOrders})]}),s.jsxs(A,{item:!0,xs:12,sm:6,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Общий доход"}),s.jsxs(j,{variant:"body1",fontWeight:"600",children:["₽",o.totalEarnings.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата найма"}),s.jsx(j,{variant:"body1",children:o.hireDate.toLocaleDateString("ru-RU")})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},fo=[{id:"1",type:"income",amount:15e3,description:"Оплата заказа #001247",category:"Ремонт",orderId:"#001247",processedBy:"Иванов А.А.",processedAt:new Date("2024-01-15T10:30:00"),notes:"Полная оплата"},{id:"2",type:"expense",amount:5e3,description:"Покупка запчастей",category:"Запчасти",processedBy:"Петров В.В.",processedAt:new Date("2024-01-15T14:20:00"),notes:"Экран для iPhone 14"},{id:"3",type:"income",amount:8e3,description:"Оплата заказа #001246",category:"Ремонт",orderId:"#001246",processedBy:"Сидорова М.А.",processedAt:new Date("2024-01-15T16:45:00"),notes:"Частичная оплата"},{id:"4",type:"expense",amount:2e3,description:"Коммунальные услуги",category:"Коммунальные",processedBy:"Козлов А.В.",processedAt:new Date("2024-01-15T09:00:00"),notes:"Электричество за январь"},{id:"5",type:"income",amount:12e3,description:"Оплата заказа #001245",category:"Ремонт",orderId:"#001245",processedBy:"Волкова Е.С.",processedAt:new Date("2024-01-14T15:30:00"),notes:"Полная оплата"}],Yu=["Ремонт","Запчасти","Коммунальные","Зарплата","Аренда","Прочее"],T2=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[o,i]=h.useState(null),[l,a]=h.useState(""),[c,u]=h.useState("all"),[d,f]=h.useState("all"),m=()=>{t(!0)},g=()=>{const y=fo.filter(p=>p.type==="income").reduce((p,E)=>p+E.amount,0),x=fo.filter(p=>p.type==="expense").reduce((p,E)=>p+E.amount,0),v=y-x;return{totalIncome:y,totalExpense:x,balance:v,operationsCount:fo.length}},w=fo.filter(y=>{const x=y.description.toLowerCase().includes(l.toLowerCase())||y.category.toLowerCase().includes(l.toLowerCase())||y.processedBy.toLowerCase().includes(l.toLowerCase()),v=c==="all"||y.type===c,p=d==="all"||y.category===d;return x&&v&&p}),b=[{field:"processedAt",headerName:"Дата",width:150,renderCell:y=>s.jsx(j,{variant:"body2",children:y.value.toLocaleDateString("ru-RU")})},{field:"type",headerName:"Тип",width:100,renderCell:y=>s.jsx(at,{label:y.value==="income"?"Доход":"Расход",color:y.value==="income"?"success":"error",size:"small"})},{field:"description",headerName:"Описание",width:200},{field:"category",headerName:"Категория",width:120},{field:"amount",headerName:"Сумма",width:120,renderCell:y=>s.jsxs(j,{variant:"body2",color:y.row.type==="income"?"success.main":"error.main",fontWeight:"600",children:[y.row.type==="income"?"+":"-","₽",y.value.toLocaleString()]})},{field:"processedBy",headerName:"Обработал",width:150},{field:"actions",headerName:"Действия",width:150,sortable:!1,renderCell:y=>s.jsxs(B,{children:[s.jsx(Be,{size:"small",onClick:()=>{i(y.row),r(!0)},children:s.jsx(ts,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Операция отредактирована")},children:s.jsx(Qr,{})}),s.jsx(Be,{size:"small",onClick:()=>{ke.success("Операция удалена")},children:s.jsx(Yr,{})})]})}],C=g();return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Касса"}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:4},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общий доход"}),s.jsxs(j,{variant:"h5",color:"success.main",fontWeight:"600",children:["₽",C.totalIncome.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"success.main"},children:s.jsx(Ml,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Общий расход"}),s.jsxs(j,{variant:"h5",color:"error.main",fontWeight:"600",children:["₽",C.totalExpense.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"error.main"},children:s.jsx(Eg,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Баланс"}),s.jsxs(j,{variant:"h5",color:C.balance>=0?"success.main":"error.main",fontWeight:"600",children:["₽",C.balance.toLocaleString()]})]}),s.jsx(st,{sx:{bgcolor:"primary.main"},children:s.jsx(Ig,{})})]})})})})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(nt.div,{whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx(Se,{sx:{height:"100%"},children:s.jsx(Ee,{children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[s.jsxs(B,{children:[s.jsx(j,{color:"textSecondary",gutterBottom:!0,children:"Операций"}),s.jsx(j,{variant:"h5",fontWeight:"600",children:C.operationsCount})]}),s.jsx(st,{sx:{bgcolor:"info.main"},children:s.jsx(Mg,{})})]})})})})})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:4,children:s.jsx(re,{fullWidth:!0,placeholder:"Поиск операций...",value:l,onChange:y=>a(y.target.value),InputProps:{startAdornment:s.jsx(bt,{position:"start",children:s.jsx(gr,{})})}})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип"}),s.jsxs(tt,{value:c,onChange:y=>u(y.target.value),label:"Тип",children:[s.jsx(le,{value:"all",children:"Все"}),s.jsx(le,{value:"income",children:"Доход"}),s.jsx(le,{value:"expense",children:"Расход"})]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsxs(tt,{value:d,onChange:y=>f(y.target.value),label:"Категория",children:[s.jsx(le,{value:"all",children:"Все"}),Yu.map(y=>s.jsx(le,{value:y,children:y},y))]})]})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(ti,{}),onClick:()=>{a(""),u("all"),f("all")},children:"Сбросить"})}),s.jsx(A,{item:!0,xs:12,md:2,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Vs,{}),onClick:m,children:"Добавить"})})]})})}),s.jsx(Se,{children:s.jsx(Ee,{children:s.jsx(B,{sx:{height:600,width:"100%"},children:s.jsx(Xs,{rows:w,columns:b,pageSize:10,rowsPerPageOptions:[10,25,50],disableSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0"}}})})})}),s.jsxs(vt,{open:e,onClose:()=>t(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Добавить операцию"}),s.jsx(Ct,{children:s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип операции"}),s.jsxs(tt,{defaultValue:"income",label:"Тип операции",children:[s.jsx(le,{value:"income",children:"Доход"}),s.jsx(le,{value:"expense",children:"Расход"})]})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Сумма",type:"number",InputProps:{startAdornment:s.jsx(bt,{position:"start",children:"₽"})}})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Описание",multiline:!0,rows:3})}),s.jsx(A,{item:!0,xs:12,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Категория"}),s.jsx(tt,{defaultValue:"",label:"Категория",children:Yu.map(y=>s.jsx(le,{value:y,children:y},y))})]})}),s.jsx(A,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Примечания",multiline:!0,rows:2})})]})}),s.jsxs(wt,{children:[s.jsx(ge,{onClick:()=>t(!1),children:"Отмена"}),s.jsx(ge,{variant:"contained",onClick:()=>{ke.success("Операция добавлена"),t(!1)},children:"Добавить"})]})]}),s.jsxs(vt,{open:n,onClose:()=>r(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(yt,{children:"Детали операции"}),s.jsx(Ct,{children:o&&s.jsxs(A,{container:!0,spacing:2,sx:{mt:1},children:[s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Дата и время"}),s.jsx(j,{variant:"body1",children:o.processedAt.toLocaleString("ru-RU")})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Тип операции"}),s.jsx(at,{label:o.type==="income"?"Доход":"Расход",color:o.type==="income"?"success":"error",size:"small"})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Сумма"}),s.jsxs(j,{variant:"h6",color:o.type==="income"?"success.main":"error.main",children:[o.type==="income"?"+":"-","₽",o.amount.toLocaleString()]})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Описание"}),s.jsx(j,{variant:"body1",children:o.description})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Категория"}),s.jsx(j,{variant:"body1",children:o.category})]}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Обработал"}),s.jsx(j,{variant:"body1",children:o.processedBy})]}),o.notes&&s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle2",color:"textSecondary",children:"Примечания"}),s.jsx(j,{variant:"body1",children:o.notes})]})]})}),s.jsx(wt,{children:s.jsx(ge,{onClick:()=>r(!1),children:"Закрыть"})})]})]})},Xu=[{month:"Янв",revenue:24e5,orders:45,clients:38},{month:"Фев",revenue:22e5,orders:42,clients:35},{month:"Мар",revenue:28e5,orders:48,clients:42},{month:"Апр",revenue:26e5,orders:46,clients:40},{month:"Май",revenue:32e5,orders:52,clients:45},{month:"Июн",revenue:2847500,orders:49,clients:41}],Zu=[{name:"Завершено",value:65,color:"#2e7d32"},{name:"В работе",value:20,color:"#ed6c02"},{name:"Ожидание",value:10,color:"#1976d2"},{name:"Отменено",value:5,color:"#d32f2f"}],A2=[{name:"Иван Петров",orders:45,revenue:125e3,rating:4.9},{name:"Мария Сидорова",orders:38,revenue:98e3,rating:4.8},{name:"Алексей Козлов",orders:32,revenue:87e3,rating:4.7},{name:"Елена Волкова",orders:28,revenue:76e3,rating:4.6}],D2=[{name:"Экран iPhone 14 Pro",sold:15,revenue:375e3},{name:"Аккумулятор Samsung Galaxy S23",sold:12,revenue:42e3},{name:'Корпус MacBook Pro 16"',sold:8,revenue:36e4},{name:"Камера iPad Air 5",sold:6,revenue:48e3}],O2=[{day:"Пн",revenue:45e3},{day:"Вт",revenue:52e3},{day:"Ср",revenue:48e3},{day:"Чт",revenue:61e3},{day:"Пт",revenue:58e3},{day:"Сб",revenue:42e3},{day:"Вс",revenue:38e3}],_2=()=>{const[e,t]=h.useState(0),[n,r]=h.useState("month"),[o,i]=h.useState("revenue"),l=c=>{ke.success(`Отчет экспортирован в формате ${c}`)},a=({title:c,value:u,change:d,changeType:f,icon:m,color:g})=>s.jsx(nt.div,{whileHover:{scale:1.02},children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[s.jsx(st,{sx:{bgcolor:g,width:56,height:56},children:m}),s.jsx(at,{label:d,color:f==="positive"?"success":"error",size:"small",variant:"outlined"})]}),s.jsx(j,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:u}),s.jsx(j,{variant:"body2",color:"text.secondary",children:c})]})})});return s.jsxs(B,{children:[s.jsxs(B,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(j,{variant:"h4",fontWeight:"bold",children:"Отчеты"}),s.jsxs(B,{display:"flex",gap:1,children:[s.jsx(ge,{variant:"outlined",startIcon:s.jsx(za,{}),onClick:()=>l("PDF"),children:"PDF"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(za,{}),onClick:()=>l("Excel"),children:"Excel"}),s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Mo,{}),onClick:()=>l("Print"),children:"Печать"})]})]}),s.jsx(Se,{sx:{mb:3},children:s.jsx(Ee,{children:s.jsxs(A,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Период"}),s.jsxs(tt,{value:n,onChange:c=>r(c.target.value),label:"Период",children:[s.jsx(le,{value:"week",children:"Неделя"}),s.jsx(le,{value:"month",children:"Месяц"}),s.jsx(le,{value:"quarter",children:"Квартал"}),s.jsx(le,{value:"year",children:"Год"})]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тип отчета"}),s.jsxs(tt,{value:o,onChange:c=>i(c.target.value),label:"Тип отчета",children:[s.jsx(le,{value:"revenue",children:"Доходы"}),s.jsx(le,{value:"orders",children:"Заказы"}),s.jsx(le,{value:"clients",children:"Клиенты"}),s.jsx(le,{value:"employees",children:"Сотрудники"})]})]})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"contained",startIcon:s.jsx(Ju,{}),sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)","&:hover":{background:"linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%)"}},children:"Сформировать отчет"})}),s.jsx(A,{item:!0,xs:12,md:3,children:s.jsx(ge,{fullWidth:!0,variant:"outlined",startIcon:s.jsx(wl,{}),children:"Отправить по email"})})]})})}),s.jsxs(A,{container:!0,spacing:3,sx:{mb:3},children:[s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Общий доход",value:"₽2,847,500",change:"+23%",changeType:"positive",icon:s.jsx(nd,{}),color:"#2e7d32"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Заказов",value:"1,247",change:"+12%",changeType:"positive",icon:s.jsx(Eo,{}),color:"#1976d2"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Клиентов",value:"3,421",change:"+8%",changeType:"positive",icon:s.jsx(Io,{}),color:"#f57c00"})}),s.jsx(A,{item:!0,xs:12,sm:6,md:3,children:s.jsx(a,{title:"Средний чек",value:"₽2,284",change:"+5%",changeType:"positive",icon:s.jsx(Ml,{}),color:"#9c27b0"})})]}),s.jsxs(Se,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(dd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(gn,{icon:s.jsx(Fg,{}),label:"Доходы"}),s.jsx(gn,{icon:s.jsx(Tg,{}),label:"Заказы"}),s.jsx(gn,{icon:s.jsx(Ag,{}),label:"Тренды"}),s.jsx(gn,{icon:s.jsx(Io,{}),label:"Сотрудники"}),s.jsx(gn,{icon:s.jsx(Eo,{}),label:"Детализация"})]})}),s.jsxs(Ee,{children:[e===0&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Динамика доходов по месяцам"}),s.jsx(B,{height:400,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(Hg,{data:Xu,children:[s.jsx(mo,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"month"}),s.jsx(po,{}),s.jsx(Rr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(Wg,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",fill:"#1976d2",fillOpacity:.3})]})})})]}),e===1&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Распределение заказов по статусам"}),s.jsxs(A,{container:!0,spacing:3,children:[s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(gd,{children:[s.jsx(pd,{data:Zu,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:Zu.map((c,u)=>s.jsx(xd,{fill:c.color},`cell-${u}`))}),s.jsx(Rr,{formatter:c=>[`${c}%`,"Процент"]})]})})})}),s.jsx(A,{item:!0,xs:12,md:6,children:s.jsx(B,{height:300,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(Gg,{data:Xu,children:[s.jsx(mo,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"month"}),s.jsx(po,{}),s.jsx(Rr,{formatter:c=>[c,"Заказы"]}),s.jsx(Ug,{dataKey:"orders",fill:"#1976d2"})]})})})})]})]}),e===2&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Тренды по дням недели"}),s.jsx(B,{height:400,children:s.jsx(Lr,{width:"100%",height:"100%",children:s.jsxs(fd,{data:O2,children:[s.jsx(mo,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"day"}),s.jsx(po,{}),s.jsx(Rr,{formatter:c=>[`₽${c.toLocaleString()}`,"Доход"]}),s.jsx(md,{type:"monotone",dataKey:"revenue",stroke:"#1976d2",strokeWidth:3,dot:{fill:"#1976d2",strokeWidth:2,r:6}})]})})})]}),e===3&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Топ сотрудников по эффективности"}),s.jsx(ps,{component:Yt,children:s.jsxs(xs,{children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Me,{children:"Сотрудник"}),s.jsx(Me,{align:"right",children:"Заказов"}),s.jsx(Me,{align:"right",children:"Доход"}),s.jsx(Me,{align:"right",children:"Рейтинг"})]})}),s.jsx(vs,{children:A2.map((c,u)=>s.jsxs(Kt,{children:[s.jsx(Me,{children:s.jsxs(B,{display:"flex",alignItems:"center",children:[s.jsx(j,{variant:"body1",fontWeight:"500",children:c.name}),u<3&&s.jsx(at,{label:`#${u+1}`,size:"small",color:u===0?"warning":"default",sx:{ml:1}})]})}),s.jsx(Me,{align:"right",children:c.orders}),s.jsxs(Me,{align:"right",children:["₽",c.revenue.toLocaleString()]}),s.jsx(Me,{align:"right",children:s.jsxs(B,{display:"flex",alignItems:"center",justifyContent:"flex-end",children:[s.jsx(j,{variant:"body2",sx:{mr:1},children:c.rating}),s.jsx(j,{color:"orange",children:"★"})]})})]},u))})]})})]}),e===4&&s.jsxs(B,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Топ запчастей по продажам"}),s.jsx(ps,{component:Yt,children:s.jsxs(xs,{children:[s.jsx(bs,{children:s.jsxs(Kt,{children:[s.jsx(Me,{children:"Запчасть"}),s.jsx(Me,{align:"right",children:"Продано"}),s.jsx(Me,{align:"right",children:"Доход"})]})}),s.jsx(vs,{children:D2.map((c,u)=>s.jsxs(Kt,{children:[s.jsx(Me,{children:s.jsx(j,{variant:"body1",fontWeight:"500",children:c.name})}),s.jsx(Me,{align:"right",children:c.sold}),s.jsxs(Me,{align:"right",children:["₽",c.revenue.toLocaleString()]})]},u))})]})})]})]})]})]})},V2=()=>{const[e,t]=h.useState(0),[n,r]=h.useState({profile:{name:"Администратор",email:"admin@service.com",phone:"+7 (999) 123-45-67",avatar:""},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,paymentReminders:!0,lowStockAlerts:!0},business:{companyName:"НЭК Сервис",address:"ул. Примерная, д. 1",phone:"+7 (999) 123-45-67",email:"info@service.com",workingHours:"9:00 - 18:00",timezone:"Europe/Moscow"},payment:{currency:"RUB",taxRate:20,paymentMethods:["cash","card","transfer"],installmentEnabled:!0},system:{autoBackup:!0,backupFrequency:"daily",dataRetention:365,language:"ru",theme:"light"}}),o=(c,u,d)=>{r(f=>({...f,[c]:{...f[c],[u]:d}}))},i=()=>{ke.success("Настройки сохранены")},l=()=>{ke.success("Резервная копия создана")},a=[s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Профиль пользователя"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Имя",value:n.profile.name,onChange:c=>o("profile","name",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",value:n.profile.email,onChange:c=>o("profile","email",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:n.profile.phone,onChange:c=>o("profile","phone",c.target.value)})})]})]})})})},"profile"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Уведомления"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(eo,{children:s.jsx(us,{})}),s.jsx(un,{primary:"Email уведомления",secondary:"Получать уведомления на email"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.notifications.emailNotifications,onChange:c=>o("notifications","emailNotifications",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(eo,{children:s.jsx(us,{})}),s.jsx(un,{primary:"SMS уведомления",secondary:"Получать SMS уведомления"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.notifications.smsNotifications,onChange:c=>o("notifications","smsNotifications",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(eo,{children:s.jsx(us,{})}),s.jsx(un,{primary:"Push уведомления",secondary:"Получать push уведомления в браузере"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.notifications.pushNotifications,onChange:c=>o("notifications","pushNotifications",c.target.checked)})})]})]})]})})})},"notifications"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Информация о компании"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Название компании",value:n.business.companyName,onChange:c=>o("business","companyName",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Адрес",value:n.business.address,onChange:c=>o("business","address",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Телефон",value:n.business.phone,onChange:c=>o("business","phone",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Email",type:"email",value:n.business.email,onChange:c=>o("business","email",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Рабочие часы",value:n.business.workingHours,onChange:c=>o("business","workingHours",c.target.value)})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Часовой пояс"}),s.jsxs(tt,{value:n.business.timezone,onChange:c=>o("business","timezone",c.target.value),label:"Часовой пояс",children:[s.jsx(le,{value:"Europe/Moscow",children:"Москва (UTC+3)"}),s.jsx(le,{value:"Europe/Kiev",children:"Киев (UTC+2)"}),s.jsx(le,{value:"Asia/Almaty",children:"Алматы (UTC+6)"})]})]})})]})]})})})},"business"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Настройки платежей"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Валюта"}),s.jsxs(tt,{value:n.payment.currency,onChange:c=>o("payment","currency",c.target.value),label:"Валюта",children:[s.jsx(le,{value:"RUB",children:"Рубль (₽)"}),s.jsx(le,{value:"USD",children:"Доллар ($)"}),s.jsx(le,{value:"EUR",children:"Евро (€)"})]})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"Налоговая ставка (%)",type:"number",value:n.payment.taxRate,onChange:c=>o("payment","taxRate",parseInt(c.target.value))})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Способы оплаты"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(un,{primary:"Наличные"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.payment.paymentMethods.includes("cash"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"cash"]):o("payment","paymentMethods",u.filter(d=>d!=="cash"))}})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Банковская карта"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.payment.paymentMethods.includes("card"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"card"]):o("payment","paymentMethods",u.filter(d=>d!=="card"))}})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Банковский перевод"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.payment.paymentMethods.includes("transfer"),onChange:c=>{const u=n.payment.paymentMethods;c.target.checked?o("payment","paymentMethods",[...u,"transfer"]):o("payment","paymentMethods",u.filter(d=>d!=="transfer"))}})})]})]})]})]})]})})})},"payment"),s.jsx(A,{container:!0,spacing:3,children:s.jsx(A,{item:!0,xs:12,children:s.jsx(Se,{children:s.jsxs(Ee,{children:[s.jsx(j,{variant:"h6",gutterBottom:!0,children:"Системные настройки"}),s.jsxs(A,{container:!0,spacing:2,children:[s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Язык"}),s.jsxs(tt,{value:n.system.language,onChange:c=>o("system","language",c.target.value),label:"Язык",children:[s.jsx(le,{value:"ru",children:"Русский"}),s.jsx(le,{value:"en",children:"English"}),s.jsx(le,{value:"kz",children:"Қазақша"})]})]})}),s.jsx(A,{item:!0,xs:12,sm:6,children:s.jsxs(ze,{fullWidth:!0,children:[s.jsx(et,{children:"Тема"}),s.jsxs(tt,{value:n.system.theme,onChange:c=>o("system","theme",c.target.value),label:"Тема",children:[s.jsx(le,{value:"light",children:"Светлая"}),s.jsx(le,{value:"dark",children:"Темная"}),s.jsx(le,{value:"auto",children:"Автоматически"})]})]})}),s.jsxs(A,{item:!0,xs:12,children:[s.jsx(Is,{sx:{my:2}}),s.jsx(j,{variant:"subtitle1",gutterBottom:!0,children:"Резервное копирование"}),s.jsxs(Gr,{children:[s.jsxs(cn,{children:[s.jsx(eo,{children:s.jsx(Ba,{})}),s.jsx(un,{primary:"Автоматическое резервное копирование",secondary:"Создавать резервные копии автоматически"}),s.jsx(Vn,{children:s.jsx($n,{checked:n.system.autoBackup,onChange:c=>o("system","autoBackup",c.target.checked)})})]}),s.jsxs(cn,{children:[s.jsx(un,{primary:"Частота резервного копирования",secondary:"Как часто создавать резервные копии"}),s.jsx(Vn,{children:s.jsx(ze,{size:"small",children:s.jsxs(tt,{value:n.system.backupFrequency,onChange:c=>o("system","backupFrequency",c.target.value),children:[s.jsx(le,{value:"daily",children:"Ежедневно"}),s.jsx(le,{value:"weekly",children:"Еженедельно"}),s.jsx(le,{value:"monthly",children:"Ежемесячно"})]})})})]})]})]}),s.jsx(A,{item:!0,xs:12,children:s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Ba,{}),onClick:l,children:"Создать резервную копию"})})]})]})})})},"system")];return s.jsxs(B,{sx:{p:3},children:[s.jsx(j,{variant:"h4",fontWeight:"600",gutterBottom:!0,children:"Настройки"}),s.jsxs(Se,{children:[s.jsx(B,{sx:{borderBottom:1,borderColor:"divider"},children:s.jsxs(dd,{value:e,onChange:(c,u)=>t(u),children:[s.jsx(gn,{icon:s.jsx(Il,{}),label:"Профиль"}),s.jsx(gn,{icon:s.jsx(us,{}),label:"Уведомления"}),s.jsx(gn,{icon:s.jsx(td,{}),label:"Компания"}),s.jsx(gn,{icon:s.jsx(Dg,{}),label:"Платежи"}),s.jsx(gn,{icon:s.jsx(ed,{}),label:"Система"})]})}),s.jsxs(Ee,{children:[a[e],s.jsxs(B,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[s.jsx(ge,{variant:"outlined",startIcon:s.jsx(Og,{}),onClick:()=>{ke.success("Настройки сброшены")},children:"Сбросить"}),s.jsx(ge,{variant:"contained",startIcon:s.jsx(cd,{}),onClick:i,children:"Сохранить"})]})]})]})]})},$2=()=>{const{isAuthenticated:e,isLoading:t}=Jl();return t?s.jsx(B,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"background.default",children:s.jsx(nt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:s.jsx(B,{width:40,height:40,border:"4px solid #f3f3f3",borderTop:"4px solid #1976d2",borderRadius:"50%"})})}):e?s.jsx(wC,{children:s.jsxs(zg,{children:[s.jsx(an,{path:"/",element:s.jsx(Ha,{to:"/dashboard",replace:!0})}),s.jsx(an,{path:"/dashboard",element:s.jsx(F0,{})}),s.jsx(an,{path:"/orders",element:s.jsx(k2,{})}),s.jsx(an,{path:"/clients",element:s.jsx(I2,{})}),s.jsx(an,{path:"/inventory",element:s.jsx(M2,{})}),s.jsx(an,{path:"/employees",element:s.jsx(F2,{})}),s.jsx(an,{path:"/cash-register",element:s.jsx(T2,{})}),s.jsx(an,{path:"/reports",element:s.jsx(_2,{})}),s.jsx(an,{path:"/settings",element:s.jsx(V2,{})}),s.jsx(an,{path:"*",element:s.jsx(Ha,{to:"/dashboard",replace:!0})})]})}):s.jsx(k0,{})},L2=_g({palette:{primary:{main:"#FF6B35",light:"#FF8A65",dark:"#E64A19",contrastText:"#fff"},secondary:{main:"#607D8B",light:"#90A4AE",dark:"#455A64",contrastText:"#fff"},background:{default:"#1A1A1A",paper:"#FFFFFF"},text:{primary:"#616161",secondary:"#9E9E9E"},success:{main:"#4CAF50",light:"#81C784",dark:"#388E3C"},warning:{main:"#FF9800",light:"#FFB74D",dark:"#F57C00"},error:{main:"#F44336",light:"#EF5350",dark:"#D32F2F"},grey:{50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#757575",900:"#616161"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:600,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43}},shape:{borderRadius:12},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"8px 16px",fontWeight:500,transition:"all 0.3s ease"},contained:{boxShadow:"0 2px 8px rgba(255, 107, 53, 0.3)","&:hover":{boxShadow:"0 4px 12px rgba(255, 107, 53, 0.4)",transform:"translateY(-1px)"}},outlined:{borderColor:"#FF6B35",color:"#FF6B35","&:hover":{backgroundColor:"rgba(255, 107, 53, 0.08)",borderColor:"#E64A19"}}}},MuiCard:{styleOverrides:{root:{boxShadow:"0 2px 12px rgba(0,0,0,0.08)",borderRadius:12,border:"1px solid rgba(96, 125, 139, 0.1)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 16px rgba(0,0,0,0.12)",transform:"translateY(-2px)"}}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backgroundColor:"#FF6B35"}}},MuiChip:{styleOverrides:{root:{backgroundColor:"rgba(255, 107, 53, 0.1)",color:"#E64A19",border:"1px solid rgba(255, 107, 53, 0.2)"}}},MuiTypography:{styleOverrides:{root:{color:"#616161"},h1:{color:"#616161"},h2:{color:"#616161"},h3:{color:"#616161"},h4:{color:"#616161"},h5:{color:"#616161"},h6:{color:"#616161"},body1:{color:"#757575"},body2:{color:"#9E9E9E"},caption:{color:"#9E9E9E"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#FF6B35"},"&.Mui-focused fieldset":{borderColor:"#FF6B35"}}}}}}}),R2=new gp({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),N2=Qg.createRoot(document.getElementById("root"));N2.render(s.jsx(Ae.StrictMode,{children:s.jsx(yp,{client:R2,children:s.jsx(Bg,{children:s.jsxs(Vg,{theme:L2,children:[s.jsx($g,{}),s.jsxs(CC,{children:[s.jsx($2,{}),s.jsx(ax,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})]})})})}));
